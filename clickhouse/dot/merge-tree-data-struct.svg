<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: merge_tree_data_struct Pages: 1 -->
<svg width="2464pt" height="743pt"
 viewBox="0.00 0.00 2464.00 743.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 739)">
<title>merge_tree_data_struct</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-739 2460,-739 2460,4 -4,4"/>
<!-- DataPartState -->
<g id="node1" class="node">
<title>DataPartState</title>
<polygon fill="#95e1d3" stroke="black" points="1088.5,-550.5 1088.5,-734.5 1252.5,-734.5 1252.5,-550.5 1088.5,-550.5"/>
<text text-anchor="middle" x="1170.5" y="-719.3" font-family="Times,serif" font-size="14.00">DataPartState</text>
<polyline fill="none" stroke="black" points="1088.5,-711.5 1252.5,-711.5 "/>
<text text-anchor="start" x="1096.5" y="-696.3" font-family="Times,serif" font-size="14.00">IMergeTreeDataPart::State</text>
<polyline fill="none" stroke="black" points="1088.5,-688.5 1252.5,-688.5 "/>
<text text-anchor="start" x="1096.5" y="-673.3" font-family="Times,serif" font-size="14.00">Temporary,</text>
<polyline fill="none" stroke="black" points="1088.5,-665.5 1252.5,-665.5 "/>
<text text-anchor="start" x="1096.5" y="-650.3" font-family="Times,serif" font-size="14.00">PreCommitted,</text>
<polyline fill="none" stroke="black" points="1088.5,-642.5 1252.5,-642.5 "/>
<text text-anchor="start" x="1096.5" y="-627.3" font-family="Times,serif" font-size="14.00">Committed, </text>
<polyline fill="none" stroke="black" points="1088.5,-619.5 1252.5,-619.5 "/>
<text text-anchor="start" x="1096.5" y="-604.3" font-family="Times,serif" font-size="14.00">Outdated,</text>
<polyline fill="none" stroke="black" points="1088.5,-596.5 1252.5,-596.5 "/>
<text text-anchor="start" x="1096.5" y="-581.3" font-family="Times,serif" font-size="14.00">Deleting</text>
<polyline fill="none" stroke="black" points="1088.5,-573.5 1252.5,-573.5 "/>
<text text-anchor="start" x="1096.5" y="-558.3" font-family="Times,serif" font-size="14.00">DeleteOnDestroy</text>
</g>
<!-- MergeTreePartInfo -->
<g id="node2" class="node">
<title>MergeTreePartInfo</title>
<polygon fill="#95e1d3" stroke="black" points="1102.5,-393.5 1102.5,-531.5 1238.5,-531.5 1238.5,-393.5 1102.5,-393.5"/>
<text text-anchor="middle" x="1170.5" y="-516.3" font-family="Times,serif" font-size="14.00">MergeTreePartInfo</text>
<polyline fill="none" stroke="black" points="1102.5,-508.5 1238.5,-508.5 "/>
<text text-anchor="start" x="1110.5" y="-493.3" font-family="Times,serif" font-size="14.00">String partition_id;</text>
<polyline fill="none" stroke="black" points="1102.5,-485.5 1238.5,-485.5 "/>
<text text-anchor="start" x="1110.5" y="-470.3" font-family="Times,serif" font-size="14.00">Int64 min_block = 0;</text>
<polyline fill="none" stroke="black" points="1102.5,-462.5 1238.5,-462.5 "/>
<text text-anchor="start" x="1110.5" y="-447.3" font-family="Times,serif" font-size="14.00">Int64 max_block = 0;</text>
<polyline fill="none" stroke="black" points="1102.5,-439.5 1238.5,-439.5 "/>
<text text-anchor="start" x="1110.5" y="-424.3" font-family="Times,serif" font-size="14.00">UInt32 level = 0;</text>
<polyline fill="none" stroke="black" points="1102.5,-416.5 1238.5,-416.5 "/>
<text text-anchor="start" x="1110.5" y="-401.3" font-family="Times,serif" font-size="14.00">Int64 mutation = 0;</text>
</g>
<!-- MergeTreeMoveEntry -->
<g id="node3" class="node">
<title>MergeTreeMoveEntry</title>
<polygon fill="#95e1d3" stroke="black" points="1027,-267 1027,-336 1314,-336 1314,-267 1027,-267"/>
<text text-anchor="middle" x="1170.5" y="-320.8" font-family="Times,serif" font-size="14.00">MergeTreeMoveEntry</text>
<polyline fill="none" stroke="black" points="1027,-313 1314,-313 "/>
<text text-anchor="start" x="1035" y="-297.8" font-family="Times,serif" font-size="14.00">std::shared_ptr&lt;const IMergeTreeDataPart&gt; part;</text>
<polyline fill="none" stroke="black" points="1027,-290 1314,-290 "/>
<text text-anchor="start" x="1035" y="-274.8" font-family="Times,serif" font-size="14.00">ReservationPtr reserved_space;</text>
</g>
<!-- IMergeTreeDataPart -->
<g id="node12" class="node">
<title>IMergeTreeDataPart</title>
<polygon fill="none" stroke="black" points="1350,-95 1350,-570 1612,-570 1612,-95 1350,-95"/>
<text text-anchor="middle" x="1481" y="-554.8" font-family="Times,serif" font-size="14.00">IMergeTreeDataPart</text>
<polyline fill="none" stroke="black" points="1350,-547 1612,-547 "/>
<text text-anchor="start" x="1358" y="-531.8" font-family="Times,serif" font-size="14.00">description of the data part </text>
<polyline fill="none" stroke="black" points="1350,-524 1612,-524 "/>
<text text-anchor="start" x="1358" y="-508.8" font-family="Times,serif" font-size="14.00">封装了datapart的读写接口</text>
<polyline fill="none" stroke="black" points="1350,-501 1612,-501 "/>
<text text-anchor="start" x="1358" y="-485.8" font-family="Times,serif" font-size="14.00">virtual MergeTreeReaderPtr getReader</text>
<polyline fill="none" stroke="black" points="1350,-478 1612,-478 "/>
<text text-anchor="start" x="1358" y="-462.8" font-family="Times,serif" font-size="14.00">virtual MergeTreeWriterPtr getWriter</text>
<polyline fill="none" stroke="black" points="1350,-455 1612,-455 "/>
<text text-anchor="start" x="1358" y="-439.8" font-family="Times,serif" font-size="14.00">数据成员</text>
<polyline fill="none" stroke="black" points="1350,-432 1612,-432 "/>
<text text-anchor="start" x="1358" y="-416.8" font-family="Times,serif" font-size="14.00">ColumnSize total_columns_size;</text>
<polyline fill="none" stroke="black" points="1350,-409 1612,-409 "/>
<text text-anchor="start" x="1358" y="-393.8" font-family="Times,serif" font-size="14.00">ColumnSizeByName columns_sizes;</text>
<polyline fill="none" stroke="black" points="1350,-386 1612,-386 "/>
<text text-anchor="start" x="1358" y="-370.8" font-family="Times,serif" font-size="14.00">UInt64 bytes_on_disk{0};</text>
<polyline fill="none" stroke="black" points="1350,-363 1612,-363 "/>
<text text-anchor="start" x="1358" y="-347.8" font-family="Times,serif" font-size="14.00">NamesAndTypesList columns;</text>
<text text-anchor="start" x="1358" y="-332.8" font-family="Times,serif" font-size="14.00"> const Type part_type;</text>
<polyline fill="none" stroke="black" points="1350,-325 1612,-325 "/>
<text text-anchor="start" x="1358" y="-309.8" font-family="Times,serif" font-size="14.00">NameToPosition column_name_to_position;</text>
<polyline fill="none" stroke="black" points="1350,-302 1612,-302 "/>
<text text-anchor="start" x="1358" y="-286.8" font-family="Times,serif" font-size="14.00">TTLInfos ttl_infos;</text>
<polyline fill="none" stroke="black" points="1350,-279 1612,-279 "/>
<text text-anchor="start" x="1358" y="-263.8" font-family="Times,serif" font-size="14.00">私有方法</text>
<polyline fill="none" stroke="black" points="1350,-256 1612,-256 "/>
<text text-anchor="start" x="1358" y="-240.8" font-family="Times,serif" font-size="14.00">void loadColumns(bool require);</text>
<polyline fill="none" stroke="black" points="1350,-233 1612,-233 "/>
<text text-anchor="start" x="1358" y="-217.8" font-family="Times,serif" font-size="14.00">void loadChecksums(bool require);</text>
<polyline fill="none" stroke="black" points="1350,-210 1612,-210 "/>
<text text-anchor="start" x="1358" y="-194.8" font-family="Times,serif" font-size="14.00">virtual void loadIndexGranularity();</text>
<polyline fill="none" stroke="black" points="1350,-187 1612,-187 "/>
<text text-anchor="start" x="1358" y="-171.8" font-family="Times,serif" font-size="14.00">void loadIndex();</text>
<polyline fill="none" stroke="black" points="1350,-164 1612,-164 "/>
<text text-anchor="start" x="1358" y="-148.8" font-family="Times,serif" font-size="14.00">void loadRowsCount();</text>
<polyline fill="none" stroke="black" points="1350,-141 1612,-141 "/>
<text text-anchor="start" x="1358" y="-125.8" font-family="Times,serif" font-size="14.00">void loadTTLInfos();</text>
<polyline fill="none" stroke="black" points="1350,-118 1612,-118 "/>
<text text-anchor="start" x="1358" y="-102.8" font-family="Times,serif" font-size="14.00">void loadPartitionAndMinMaxIndex();</text>
</g>
<!-- MergeTreeMoveEntry&#45;&gt;IMergeTreeDataPart -->
<g id="edge26" class="edge">
<title>MergeTreeMoveEntry&#45;&gt;IMergeTreeDataPart</title>
<path fill="none" stroke="#666666" d="M1314.01,-315.82C1322.63,-316.69 1331.31,-317.56 1339.92,-318.42"/>
<polygon fill="#666666" stroke="#666666" points="1339.7,-321.92 1350,-319.44 1340.4,-314.95 1339.7,-321.92"/>
</g>
<!-- BrokenPartCallback -->
<g id="node4" class="node">
<title>BrokenPartCallback</title>
<polygon fill="none" stroke="black" points="539,-560 539,-621 713,-621 713,-560 539,-560"/>
<text text-anchor="middle" x="626" y="-605.8" font-family="Times,serif" font-size="14.00">BrokenPartCallback</text>
<polyline fill="none" stroke="black" points="539,-598 713,-598 "/>
<text text-anchor="start" x="547" y="-582.8" font-family="Times,serif" font-size="14.00">当part数据包含corrupt data</text>
<text text-anchor="start" x="547" y="-567.8" font-family="Times,serif" font-size="14.00"> 时候的回调函数指针</text>
</g>
<!-- DataPart -->
<g id="node5" class="node">
<title>DataPart</title>
<polygon fill="none" stroke="black" points="762,-341.5 762,-387.5 991,-387.5 991,-341.5 762,-341.5"/>
<text text-anchor="middle" x="876.5" y="-372.3" font-family="Times,serif" font-size="14.00">DataPart</text>
<polyline fill="none" stroke="black" points="762,-364.5 991,-364.5 "/>
<text text-anchor="start" x="770" y="-349.3" font-family="Times,serif" font-size="14.00">using DataPart = IMergeTreeDataPart;</text>
</g>
<!-- DataPart&#45;&gt;IMergeTreeDataPart -->
<g id="edge9" class="edge">
<title>DataPart&#45;&gt;IMergeTreeDataPart</title>
<path fill="none" stroke="#666666" d="M991.06,-360.64C1079.19,-357.38 1204.41,-352.17 1314,-345.5 1322.4,-344.99 1331.03,-344.43 1339.74,-343.83"/>
<polygon fill="#666666" stroke="#666666" points="1340.26,-347.3 1349.99,-343.11 1339.77,-340.32 1340.26,-347.3"/>
</g>
<!-- DataPartStateAndInfo -->
<g id="node6" class="node">
<title>DataPartStateAndInfo</title>
<polygon fill="none" stroke="black" points="777.5,-445.5 777.5,-537.5 975.5,-537.5 975.5,-445.5 777.5,-445.5"/>
<text text-anchor="middle" x="876.5" y="-522.3" font-family="Times,serif" font-size="14.00">DataPartStateAndInfo</text>
<polyline fill="none" stroke="black" points="777.5,-514.5 975.5,-514.5 "/>
<text text-anchor="start" x="785.5" y="-499.3" font-family="Times,serif" font-size="14.00">用于index comparsion</text>
<polyline fill="none" stroke="black" points="777.5,-491.5 975.5,-491.5 "/>
<text text-anchor="start" x="785.5" y="-476.3" font-family="Times,serif" font-size="14.00">DataPartState state;</text>
<polyline fill="none" stroke="black" points="777.5,-468.5 975.5,-468.5 "/>
<text text-anchor="start" x="785.5" y="-453.3" font-family="Times,serif" font-size="14.00">const MergeTreePartInfo &amp; info;</text>
</g>
<!-- DataPartStateAndInfo&#45;&gt;DataPartState -->
<g id="edge22" class="edge">
<title>DataPartStateAndInfo&#45;&gt;DataPartState</title>
<path fill="none" stroke="#666666" d="M966.7,-537.63C1002.41,-556.1 1043.5,-577.34 1079.32,-595.86"/>
<polygon fill="#666666" stroke="#666666" points="1077.81,-599.03 1088.3,-600.51 1081.03,-592.81 1077.81,-599.03"/>
</g>
<!-- DataPartStateAndInfo&#45;&gt;MergeTreePartInfo -->
<g id="edge23" class="edge">
<title>DataPartStateAndInfo&#45;&gt;MergeTreePartInfo</title>
<path fill="none" stroke="#666666" d="M975.54,-481.76C1013.39,-478 1056.08,-473.76 1091.75,-470.22"/>
<polygon fill="#666666" stroke="#666666" points="1092.5,-473.66 1102.1,-469.19 1091.8,-466.7 1092.5,-473.66"/>
</g>
<!-- MergeTreeData -->
<g id="node7" class="node">
<title>MergeTreeData</title>
<polygon fill="none" stroke="black" points="0,-297 0,-642 490,-642 490,-297 0,-297"/>
<text text-anchor="middle" x="245" y="-626.8" font-family="Times,serif" font-size="14.00">MergeTreeData</text>
<polyline fill="none" stroke="black" points="0,-619 490,-619 "/>
<text text-anchor="start" x="8" y="-603.8" font-family="Times,serif" font-size="14.00">bool require_part_metadata;</text>
<polyline fill="none" stroke="black" points="0,-596 490,-596 "/>
<text text-anchor="start" x="8" y="-580.8" font-family="Times,serif" font-size="14.00">String relative_data_path;</text>
<polyline fill="none" stroke="black" points="0,-573 490,-573 "/>
<text text-anchor="start" x="8" y="-557.8" font-family="Times,serif" font-size="14.00">ColumnSizeByName column_sizes;</text>
<polyline fill="none" stroke="black" points="0,-550 490,-550 "/>
<text text-anchor="start" x="8" y="-534.8" font-family="Times,serif" font-size="14.00">BrokenPartCallback broken_part_callback;</text>
<polyline fill="none" stroke="black" points="0,-527 490,-527 "/>
<text text-anchor="start" x="8" y="-511.8" font-family="Times,serif" font-size="14.00">String log_name;</text>
<polyline fill="none" stroke="black" points="0,-504 490,-504 "/>
<text text-anchor="start" x="8" y="-488.8" font-family="Times,serif" font-size="14.00">Poco::Logger * log;</text>
<polyline fill="none" stroke="black" points="0,-481 490,-481 "/>
<text text-anchor="start" x="8" y="-465.8" font-family="Times,serif" font-size="14.00">MultiVersion&lt;MergeTreeSettings&gt; storage_settings;</text>
<polyline fill="none" stroke="black" points="0,-458 490,-458 "/>
<text text-anchor="start" x="8" y="-442.8" font-family="Times,serif" font-size="14.00">mutable std::mutex data_parts_mutex;</text>
<polyline fill="none" stroke="black" points="0,-435 490,-435 "/>
<text text-anchor="start" x="8" y="-419.8" font-family="Times,serif" font-size="14.00">DataPartsIndexes data_parts_indexes;</text>
<polyline fill="none" stroke="black" points="0,-412 490,-412 "/>
<text text-anchor="start" x="8" y="-396.8" font-family="Times,serif" font-size="14.00">DataPartsIndexes::index&lt;TagByInfo&gt;::type &amp; data_parts_by_info;</text>
<polyline fill="none" stroke="black" points="0,-389 490,-389 "/>
<text text-anchor="start" x="8" y="-373.8" font-family="Times,serif" font-size="14.00">DataPartsIndexes::index&lt;TagByStateAndInfo&gt;::type &amp; data_parts_by_state_and_info;</text>
<polyline fill="none" stroke="black" points="0,-366 490,-366 "/>
<text text-anchor="start" x="8" y="-350.8" font-family="Times,serif" font-size="14.00">MergeTreePartsMover parts_mover;</text>
<polyline fill="none" stroke="black" points="0,-343 490,-343 "/>
<text text-anchor="start" x="8" y="-327.8" font-family="Times,serif" font-size="14.00">std::mutex grab_old_parts_mutex;</text>
<polyline fill="none" stroke="black" points="0,-320 490,-320 "/>
<text text-anchor="start" x="8" y="-304.8" font-family="Times,serif" font-size="14.00">std::mutex clear_old_temporary_directories_mutex;</text>
</g>
<!-- MergeTreeData&#45;&gt;BrokenPartCallback -->
<g id="edge1" class="edge">
<title>MergeTreeData&#45;&gt;BrokenPartCallback</title>
<path fill="none" stroke="#666666" d="M490.04,-547.41C503.52,-551.71 516.58,-555.89 528.95,-559.83"/>
<polygon fill="#666666" stroke="#666666" points="528.11,-563.24 538.7,-562.95 530.24,-556.57 528.11,-563.24"/>
</g>
<!-- ColumnSizeByName -->
<g id="node8" class="node">
<title>ColumnSizeByName</title>
<polygon fill="none" stroke="black" points="692.5,-541.5 559.5,-541.5 559.5,-505.5 692.5,-505.5 692.5,-541.5"/>
<text text-anchor="middle" x="626" y="-519.8" font-family="Times,serif" font-size="14.00">ColumnSizeByName</text>
</g>
<!-- MergeTreeData&#45;&gt;ColumnSizeByName -->
<g id="edge2" class="edge">
<title>MergeTreeData&#45;&gt;ColumnSizeByName</title>
<path fill="none" stroke="#666666" d="M490.04,-504.27C511.13,-507.28 531.23,-510.14 549.17,-512.7"/>
<polygon fill="#666666" stroke="#666666" points="548.8,-516.18 559.2,-514.12 549.79,-509.25 548.8,-516.18"/>
</g>
<!-- MultiVersion_MergeTreeSettings -->
<g id="node9" class="node">
<title>MultiVersion_MergeTreeSettings</title>
<polygon fill="none" stroke="black" points="726,-487.5 526,-487.5 526,-451.5 726,-451.5 726,-487.5"/>
<text text-anchor="middle" x="626" y="-465.8" font-family="Times,serif" font-size="14.00">MultiVersion_MergeTreeSettings</text>
</g>
<!-- MergeTreeData&#45;&gt;MultiVersion_MergeTreeSettings -->
<g id="edge3" class="edge">
<title>MergeTreeData&#45;&gt;MultiVersion_MergeTreeSettings</title>
<path fill="none" stroke="#666666" d="M490.04,-469.5C498.82,-469.5 507.42,-469.5 515.76,-469.5"/>
<polygon fill="#666666" stroke="#666666" points="515.81,-473 525.81,-469.5 515.81,-466 515.81,-473"/>
</g>
<!-- DataPartsIndexes -->
<g id="node10" class="node">
<title>DataPartsIndexes</title>
<polygon fill="none" stroke="black" points="538,-386.5 538,-432.5 714,-432.5 714,-386.5 538,-386.5"/>
<text text-anchor="middle" x="626" y="-417.3" font-family="Times,serif" font-size="14.00">DataPartsIndexes</text>
<polyline fill="none" stroke="black" points="538,-409.5 714,-409.5 "/>
<text text-anchor="start" x="546" y="-394.3" font-family="Times,serif" font-size="14.00">boost::multi_index_container</text>
</g>
<!-- MergeTreeData&#45;&gt;DataPartsIndexes -->
<g id="edge4" class="edge">
<title>MergeTreeData&#45;&gt;DataPartsIndexes</title>
<path fill="none" stroke="#666666" d="M490.04,-430.86C503.16,-428.79 515.89,-426.77 527.96,-424.86"/>
<polygon fill="#666666" stroke="#666666" points="528.61,-428.3 537.94,-423.28 527.51,-421.39 528.61,-428.3"/>
</g>
<!-- MergeTreePartsMover -->
<g id="node11" class="node">
<title>MergeTreePartsMover</title>
<polygon fill="none" stroke="black" points="532.5,-269.5 532.5,-361.5 719.5,-361.5 719.5,-269.5 532.5,-269.5"/>
<text text-anchor="middle" x="626" y="-346.3" font-family="Times,serif" font-size="14.00">MergeTreePartsMover</text>
<polyline fill="none" stroke="black" points="532.5,-338.5 719.5,-338.5 "/>
<text text-anchor="start" x="540.5" y="-323.3" font-family="Times,serif" font-size="14.00">ActionBlocker moves_blocker;</text>
<polyline fill="none" stroke="black" points="532.5,-315.5 719.5,-315.5 "/>
<text text-anchor="start" x="540.5" y="-300.3" font-family="Times,serif" font-size="14.00">MergeTreeData * data;</text>
<polyline fill="none" stroke="black" points="532.5,-292.5 719.5,-292.5 "/>
<text text-anchor="start" x="540.5" y="-277.3" font-family="Times,serif" font-size="14.00">Poco::Logger * log;</text>
</g>
<!-- MergeTreeData&#45;&gt;MergeTreePartsMover -->
<g id="edge5" class="edge">
<title>MergeTreeData&#45;&gt;MergeTreePartsMover</title>
<path fill="none" stroke="#666666" d="M490.04,-370.34C501.25,-365.78 512.17,-361.34 522.65,-357.09"/>
<polygon fill="#666666" stroke="#666666" points="524.18,-360.24 532.13,-353.24 521.55,-353.76 524.18,-360.24"/>
</g>
<!-- DataPartsIndexes&#45;&gt;MergeTreePartInfo -->
<g id="edge6" class="edge">
<title>DataPartsIndexes&#45;&gt;MergeTreePartInfo</title>
<path fill="none" stroke="#666666" d="M714.33,-413.8C788.18,-417.9 896.71,-425.02 991,-435.5 1024.31,-439.2 1060.93,-444.52 1092.29,-449.46"/>
<polygon fill="#666666" stroke="#666666" points="1091.85,-452.94 1102.28,-451.05 1092.95,-446.02 1091.85,-452.94"/>
</g>
<!-- DataPartsIndexes&#45;&gt;DataPart -->
<g id="edge7" class="edge">
<title>DataPartsIndexes&#45;&gt;DataPart</title>
<path fill="none" stroke="#666666" d="M714.26,-393.7C726.4,-391.5 739.06,-389.21 751.71,-386.92"/>
<polygon fill="#666666" stroke="#666666" points="752.63,-390.31 761.84,-385.08 751.38,-383.42 752.63,-390.31"/>
</g>
<!-- DataPartsIndexes&#45;&gt;DataPartStateAndInfo -->
<g id="edge8" class="edge">
<title>DataPartsIndexes&#45;&gt;DataPartStateAndInfo</title>
<path fill="none" stroke="#666666" d="M696.88,-432.56C718.93,-439.84 743.83,-448.05 767.88,-455.99"/>
<polygon fill="#666666" stroke="#666666" points="766.81,-459.32 777.41,-459.13 769.01,-452.67 766.81,-459.32"/>
</g>
<!-- MergeTreeMovingParts -->
<g id="node25" class="node">
<title>MergeTreeMovingParts</title>
<polygon fill="none" stroke="black" points="950.5,-321.5 802.5,-321.5 802.5,-285.5 950.5,-285.5 950.5,-321.5"/>
<text text-anchor="middle" x="876.5" y="-299.8" font-family="Times,serif" font-size="14.00">MergeTreeMovingParts</text>
</g>
<!-- MergeTreePartsMover&#45;&gt;MergeTreeMovingParts -->
<g id="edge24" class="edge">
<title>MergeTreePartsMover&#45;&gt;MergeTreeMovingParts</title>
<path fill="none" stroke="#666666" d="M719.53,-311.03C743.33,-309.88 768.8,-308.65 792.1,-307.53"/>
<polygon fill="#666666" stroke="#666666" points="792.48,-311.01 802.3,-307.03 792.14,-304.02 792.48,-311.01"/>
</g>
<!-- MergeTreeDataPartInMemory -->
<g id="node13" class="node">
<title>MergeTreeDataPartInMemory</title>
<polygon fill="none" stroke="black" points="1894,-458.5 1710,-458.5 1710,-422.5 1894,-422.5 1894,-458.5"/>
<text text-anchor="middle" x="1802" y="-436.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartInMemory</text>
</g>
<!-- IMergeTreeDataPart&#45;&gt;MergeTreeDataPartInMemory -->
<g id="edge10" class="edge">
<title>IMergeTreeDataPart&#45;&gt;MergeTreeDataPartInMemory</title>
<path fill="none" stroke="#666666" d="M1612.44,-400.29C1624.29,-405.18 1636.26,-409.68 1648,-413.5 1664.4,-418.83 1682.16,-423.19 1699.57,-426.72"/>
<polygon fill="#666666" stroke="#666666" points="1699.28,-430.23 1709.77,-428.7 1700.62,-423.36 1699.28,-430.23"/>
</g>
<!-- MergeTreeDataPartWide -->
<g id="node14" class="node">
<title>MergeTreeDataPartWide</title>
<polygon fill="none" stroke="black" points="1879,-404.5 1725,-404.5 1725,-368.5 1879,-368.5 1879,-404.5"/>
<text text-anchor="middle" x="1802" y="-382.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartWide</text>
</g>
<!-- IMergeTreeDataPart&#45;&gt;MergeTreeDataPartWide -->
<g id="edge11" class="edge">
<title>IMergeTreeDataPart&#45;&gt;MergeTreeDataPartWide</title>
<path fill="none" stroke="#666666" d="M1612.21,-354.54C1646.72,-360.38 1683.13,-366.55 1714.66,-371.88"/>
<polygon fill="#666666" stroke="#666666" points="1714.28,-375.37 1724.72,-373.59 1715.44,-368.47 1714.28,-375.37"/>
</g>
<!-- MergeTreeDataPartCompact -->
<g id="node15" class="node">
<title>MergeTreeDataPartCompact</title>
<polygon fill="none" stroke="black" points="1889,-350.5 1715,-350.5 1715,-314.5 1889,-314.5 1889,-350.5"/>
<text text-anchor="middle" x="1802" y="-328.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartCompact</text>
</g>
<!-- IMergeTreeDataPart&#45;&gt;MergeTreeDataPartCompact -->
<g id="edge12" class="edge">
<title>IMergeTreeDataPart&#45;&gt;MergeTreeDataPartCompact</title>
<path fill="none" stroke="#666666" d="M1612.21,-332.5C1643.19,-332.5 1675.69,-332.5 1704.82,-332.5"/>
<polygon fill="#666666" stroke="#666666" points="1704.98,-336 1714.98,-332.5 1704.98,-329 1704.98,-336"/>
</g>
<!-- IMergeTreeReader -->
<g id="node16" class="node">
<title>IMergeTreeReader</title>
<polygon fill="none" stroke="black" points="1648,-203.5 1648,-295.5 1956,-295.5 1956,-203.5 1648,-203.5"/>
<text text-anchor="middle" x="1802" y="-280.3" font-family="Times,serif" font-size="14.00">IMergeTreeReader</text>
<polyline fill="none" stroke="black" points="1648,-272.5 1956,-272.5 "/>
<text text-anchor="start" x="1656" y="-257.3" font-family="Times,serif" font-size="14.00">virtual size_t readRows</text>
<polyline fill="none" stroke="black" points="1648,-249.5 1956,-249.5 "/>
<text text-anchor="start" x="1656" y="-234.3" font-family="Times,serif" font-size="14.00">virtual bool canReadIncompleteGranules() const = 0;</text>
<polyline fill="none" stroke="black" points="1648,-226.5 1956,-226.5 "/>
<text text-anchor="start" x="1656" y="-211.3" font-family="Times,serif" font-size="14.00">virtual ~IMergeTreeReader();</text>
</g>
<!-- IMergeTreeDataPart&#45;&gt;IMergeTreeReader -->
<g id="edge13" class="edge">
<title>IMergeTreeDataPart&#45;&gt;IMergeTreeReader</title>
<path fill="none" stroke="#666666" d="M1612.21,-298.62C1620.72,-296.41 1629.35,-294.16 1637.99,-291.91"/>
<polygon fill="#666666" stroke="#666666" points="1638.95,-295.28 1647.74,-289.38 1637.19,-288.51 1638.95,-295.28"/>
</g>
<!-- IMergeTreeDataPartWriter -->
<g id="node17" class="node">
<title>IMergeTreeDataPartWriter</title>
<polygon fill="none" stroke="black" points="1663.5,-0.5 1663.5,-184.5 1940.5,-184.5 1940.5,-0.5 1663.5,-0.5"/>
<text text-anchor="middle" x="1802" y="-169.3" font-family="Times,serif" font-size="14.00">IMergeTreeDataPartWriter</text>
<polyline fill="none" stroke="black" points="1663.5,-161.5 1940.5,-161.5 "/>
<text text-anchor="start" x="1671.5" y="-146.3" font-family="Times,serif" font-size="14.00">virtual void write</text>
<polyline fill="none" stroke="black" points="1663.5,-138.5 1940.5,-138.5 "/>
<text text-anchor="start" x="1671.5" y="-123.3" font-family="Times,serif" font-size="14.00">virtual void calculateAndSerializePrimaryIndex</text>
<polyline fill="none" stroke="black" points="1663.5,-115.5 1940.5,-115.5 "/>
<text text-anchor="start" x="1671.5" y="-100.3" font-family="Times,serif" font-size="14.00">virtual void calculateAndSerializeSkipIndices</text>
<polyline fill="none" stroke="black" points="1663.5,-92.5 1940.5,-92.5 "/>
<text text-anchor="start" x="1671.5" y="-77.3" font-family="Times,serif" font-size="14.00">virtual void initSkipIndices</text>
<polyline fill="none" stroke="black" points="1663.5,-69.5 1940.5,-69.5 "/>
<text text-anchor="start" x="1671.5" y="-54.3" font-family="Times,serif" font-size="14.00">virtual void initPrimaryIndex</text>
<polyline fill="none" stroke="black" points="1663.5,-46.5 1940.5,-46.5 "/>
<text text-anchor="start" x="1671.5" y="-31.3" font-family="Times,serif" font-size="14.00">virtual void finishDataSerialization</text>
<polyline fill="none" stroke="black" points="1663.5,-23.5 1940.5,-23.5 "/>
<text text-anchor="start" x="1671.5" y="-8.3" font-family="Times,serif" font-size="14.00">virtual void finishPrimaryIndexSerialization</text>
</g>
<!-- IMergeTreeDataPart&#45;&gt;IMergeTreeDataPartWriter -->
<g id="edge14" class="edge">
<title>IMergeTreeDataPart&#45;&gt;IMergeTreeDataPartWriter</title>
<path fill="none" stroke="#666666" d="M1612.28,-221.07C1624.22,-211.57 1636.24,-202.26 1648,-193.5 1650.33,-191.76 1652.69,-190.02 1655.08,-188.27"/>
<polygon fill="#666666" stroke="#666666" points="1657.23,-191.04 1663.27,-182.34 1653.12,-185.37 1657.23,-191.04"/>
</g>
<!-- MergeTreeReaderWide -->
<g id="node18" class="node">
<title>MergeTreeReaderWide</title>
<polygon fill="none" stroke="black" points="2174,-213.5 2029,-213.5 2029,-177.5 2174,-177.5 2174,-213.5"/>
<text text-anchor="middle" x="2101.5" y="-191.8" font-family="Times,serif" font-size="14.00">MergeTreeReaderWide</text>
</g>
<!-- IMergeTreeReader&#45;&gt;MergeTreeReaderWide -->
<g id="edge15" class="edge">
<title>IMergeTreeReader&#45;&gt;MergeTreeReaderWide</title>
<path fill="none" stroke="#666666" d="M1956.11,-221.71C1977.69,-217.79 1999.15,-213.9 2018.66,-210.35"/>
<polygon fill="#666666" stroke="#666666" points="2019.47,-213.77 2028.68,-208.54 2018.22,-206.88 2019.47,-213.77"/>
</g>
<!-- MergeTreeReaderInMemory -->
<g id="node19" class="node">
<title>MergeTreeReaderInMemory</title>
<polygon fill="none" stroke="black" points="2189,-321.5 2014,-321.5 2014,-285.5 2189,-285.5 2189,-321.5"/>
<text text-anchor="middle" x="2101.5" y="-299.8" font-family="Times,serif" font-size="14.00">MergeTreeReaderInMemory</text>
</g>
<!-- IMergeTreeReader&#45;&gt;MergeTreeReaderInMemory -->
<g id="edge16" class="edge">
<title>IMergeTreeReader&#45;&gt;MergeTreeReaderInMemory</title>
<path fill="none" stroke="#666666" d="M1956.11,-277.29C1972.34,-280.24 1988.51,-283.17 2003.83,-285.95"/>
<polygon fill="#666666" stroke="#666666" points="2003.3,-289.41 2013.77,-287.76 2004.55,-282.53 2003.3,-289.41"/>
</g>
<!-- MergeTreeReaderCompact -->
<g id="node20" class="node">
<title>MergeTreeReaderCompact</title>
<polygon fill="none" stroke="black" points="2184,-267.5 2019,-267.5 2019,-231.5 2184,-231.5 2184,-267.5"/>
<text text-anchor="middle" x="2101.5" y="-245.8" font-family="Times,serif" font-size="14.00">MergeTreeReaderCompact</text>
</g>
<!-- IMergeTreeReader&#45;&gt;MergeTreeReaderCompact -->
<g id="edge17" class="edge">
<title>IMergeTreeReader&#45;&gt;MergeTreeReaderCompact</title>
<path fill="none" stroke="#666666" d="M1956.11,-249.5C1974.03,-249.5 1991.87,-249.5 2008.58,-249.5"/>
<polygon fill="#666666" stroke="#666666" points="2008.83,-253 2018.83,-249.5 2008.83,-246 2008.83,-253"/>
</g>
<!-- MergeTreeDataPartWriterOnDisk -->
<g id="node21" class="node">
<title>MergeTreeDataPartWriterOnDisk</title>
<polygon fill="none" stroke="black" points="2202.5,-81.5 2000.5,-81.5 2000.5,-45.5 2202.5,-45.5 2202.5,-81.5"/>
<text text-anchor="middle" x="2101.5" y="-59.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartWriterOnDisk</text>
</g>
<!-- IMergeTreeDataPartWriter&#45;&gt;MergeTreeDataPartWriterOnDisk -->
<g id="edge18" class="edge">
<title>IMergeTreeDataPartWriter&#45;&gt;MergeTreeDataPartWriterOnDisk</title>
<path fill="none" stroke="#666666" d="M1940.86,-79.06C1957.48,-77.44 1974.28,-75.8 1990.42,-74.23"/>
<polygon fill="#666666" stroke="#666666" points="1990.77,-77.71 2000.38,-73.26 1990.09,-70.75 1990.77,-77.71"/>
</g>
<!-- MergeTreeDataPartWriterInMemory -->
<g id="node22" class="node">
<title>MergeTreeDataPartWriterInMemory</title>
<polygon fill="none" stroke="black" points="2211,-135.5 1992,-135.5 1992,-99.5 2211,-99.5 2211,-135.5"/>
<text text-anchor="middle" x="2101.5" y="-113.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartWriterInMemory</text>
</g>
<!-- IMergeTreeDataPartWriter&#45;&gt;MergeTreeDataPartWriterInMemory -->
<g id="edge19" class="edge">
<title>IMergeTreeDataPartWriter&#45;&gt;MergeTreeDataPartWriterInMemory</title>
<path fill="none" stroke="#666666" d="M1940.86,-104.09C1954.43,-105.23 1968.12,-106.38 1981.47,-107.5"/>
<polygon fill="#666666" stroke="#666666" points="1981.35,-111 1991.61,-108.35 1981.94,-104.02 1981.35,-111"/>
</g>
<!-- MergeTreeDataPartWriterWide -->
<g id="node23" class="node">
<title>MergeTreeDataPartWriterWide</title>
<polygon fill="none" stroke="black" points="2446,-108.5 2257,-108.5 2257,-72.5 2446,-72.5 2446,-108.5"/>
<text text-anchor="middle" x="2351.5" y="-86.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartWriterWide</text>
</g>
<!-- MergeTreeDataPartWriterOnDisk&#45;&gt;MergeTreeDataPartWriterWide -->
<g id="edge20" class="edge">
<title>MergeTreeDataPartWriterOnDisk&#45;&gt;MergeTreeDataPartWriterWide</title>
<path fill="none" stroke="#666666" d="M2202.66,-74.4C2217.18,-75.99 2232.16,-77.62 2246.76,-79.21"/>
<polygon fill="#666666" stroke="#666666" points="2246.47,-82.7 2256.79,-80.3 2247.23,-75.74 2246.47,-82.7"/>
</g>
<!-- MergeTreeDataPartWriterCompact -->
<g id="node24" class="node">
<title>MergeTreeDataPartWriterCompact</title>
<polygon fill="none" stroke="black" points="2456,-54.5 2247,-54.5 2247,-18.5 2456,-18.5 2456,-54.5"/>
<text text-anchor="middle" x="2351.5" y="-32.8" font-family="Times,serif" font-size="14.00">MergeTreeDataPartWriterCompact</text>
</g>
<!-- MergeTreeDataPartWriterOnDisk&#45;&gt;MergeTreeDataPartWriterCompact -->
<g id="edge21" class="edge">
<title>MergeTreeDataPartWriterOnDisk&#45;&gt;MergeTreeDataPartWriterCompact</title>
<path fill="none" stroke="#666666" d="M2202.66,-52.6C2213.89,-51.37 2225.39,-50.12 2236.77,-48.88"/>
<polygon fill="#666666" stroke="#666666" points="2237.17,-52.36 2246.73,-47.8 2236.41,-45.4 2237.17,-52.36"/>
</g>
<!-- MergeTreeMovingParts&#45;&gt;MergeTreeMoveEntry -->
<g id="edge25" class="edge">
<title>MergeTreeMovingParts&#45;&gt;MergeTreeMoveEntry</title>
<path fill="none" stroke="#666666" d="M950.81,-303C971.04,-302.86 993.78,-302.7 1016.74,-302.55"/>
<polygon fill="#666666" stroke="#666666" points="1016.96,-306.04 1026.94,-302.48 1016.91,-299.05 1016.96,-306.04"/>
</g>
</g>
</svg>
