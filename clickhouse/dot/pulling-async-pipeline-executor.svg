<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.0 (20200408.0750)
 -->
<!-- Title: pulling_async_pipeline_executor Pages: 1 -->
<svg width="1132pt" height="536pt"
 viewBox="0.00 0.00 1132.00 535.66" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 531.66)">
<title>pulling_async_pipeline_executor</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-531.66 1128,-531.66 1128,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_PipelineExecutor</title>
<polygon fill="none" stroke="black" points="740,-133.66 740,-271.66 892,-271.66 892,-133.66 740,-133.66"/>
<text text-anchor="middle" x="816" y="-251.66" font-family="Times,serif" font-size="20.00">PipelineExecutor</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_InputPort</title>
<polygon fill="none" stroke="black" points="771,-23.66 771,-105.66 862,-105.66 862,-23.66 771,-23.66"/>
<text text-anchor="middle" x="816.5" y="-85.66" font-family="Times,serif" font-size="20.00">InputPort</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_LazyOutputFormat</title>
<polygon fill="none" stroke="black" points="354,-75.66 354,-169.66 696,-169.66 696,-75.66 354,-75.66"/>
<text text-anchor="middle" x="525" y="-149.66" font-family="Times,serif" font-size="20.00">LazyOutputFormat</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_QueryPipeline</title>
<polygon fill="none" stroke="black" points="551,-177.66 551,-271.66 705,-271.66 705,-177.66 551,-177.66"/>
<text text-anchor="middle" x="628" y="-251.66" font-family="Times,serif" font-size="20.00">QueryPipeline</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_PullingAsyncPipelineExecutor</title>
<polygon fill="none" stroke="black" points="8,-279.66 8,-519.66 1116,-519.66 1116,-279.66 8,-279.66"/>
<text text-anchor="middle" x="562" y="-499.66" font-family="Times,serif" font-size="20.00">PullingAsyncPipelineExecutor</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_finish_event</title>
<polygon fill="none" stroke="black" points="750,-387.66 750,-481.66 1108,-481.66 1108,-387.66 750,-387.66"/>
<text text-anchor="middle" x="929" y="-461.66" font-family="Times,serif" font-size="20.00">finish_event</text>
</g>
<!-- pipelineExecutor_execute -->
<g id="node1" class="node">
<title>pipelineExecutor_execute</title>
<polygon fill="none" stroke="black" points="787,-196.66 787,-232.66 845,-232.66 845,-196.66 787,-196.66"/>
<text text-anchor="middle" x="816" y="-210.96" font-family="Times,serif" font-size="14.00">execute</text>
</g>
<!-- PipelineExecutor -->
<g id="node2" class="node">
<title>PipelineExecutor</title>
<polygon fill="none" stroke="black" points="871,-177.66 761,-177.66 761,-141.66 871,-141.66 871,-177.66"/>
<text text-anchor="middle" x="816" y="-155.96" font-family="Times,serif" font-size="14.00">PipelineExecutor</text>
</g>
<!-- getHeader -->
<g id="node3" class="node">
<title>getHeader</title>
<polygon fill="none" stroke="black" points="852,-67.66 780,-67.66 780,-31.66 852,-31.66 852,-67.66"/>
<text text-anchor="middle" x="816" y="-45.96" font-family="Times,serif" font-size="14.00">getHeader</text>
</g>
<!-- lazy_format -->
<g id="node4" class="node">
<title>lazy_format</title>
<polygon fill="none" stroke="black" points="445,-131.66 362,-131.66 362,-95.66 445,-95.66 445,-131.66"/>
<text text-anchor="middle" x="403.5" y="-109.96" font-family="Times,serif" font-size="14.00">lazy_format</text>
</g>
<!-- lazy_format_getPort -->
<g id="node5" class="node">
<title>lazy_format_getPort</title>
<polygon fill="none" stroke="black" points="568,-84.66 568,-130.66 688,-130.66 688,-84.66 568,-84.66"/>
<text text-anchor="middle" x="628" y="-115.46" font-family="Times,serif" font-size="14.00">getPort</text>
<polyline fill="none" stroke="black" points="568,-107.66 688,-107.66 "/>
<text text-anchor="middle" x="628" y="-92.46" font-family="Times,serif" font-size="14.00">IProcessor::getPort</text>
</g>
<!-- lazy_format&#45;&gt;lazy_format_getPort -->
<g id="edge1" class="edge">
<title>lazy_format&#45;&gt;lazy_format_getPort</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M445.05,-112.56C476.44,-111.72 520.66,-110.52 557.65,-109.53"/>
<polygon fill="#666666" stroke="#666666" points="557.97,-113.02 567.87,-109.25 557.78,-106.02 557.97,-113.02"/>
</g>
<!-- lazy_format_getPort&#45;&gt;getHeader -->
<g id="edge2" class="edge">
<title>lazy_format_getPort&#45;&gt;getHeader</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M688.11,-89.23C714.66,-80.95 745.48,-71.33 770.1,-63.66"/>
<polygon fill="#666666" stroke="#666666" points="771.39,-66.92 779.89,-60.6 769.31,-60.24 771.39,-66.92"/>
</g>
<!-- pipeline_execute -->
<g id="node6" class="node">
<title>pipeline_execute</title>
<polygon fill="none" stroke="black" points="559,-186.66 559,-232.66 697,-232.66 697,-186.66 559,-186.66"/>
<text text-anchor="middle" x="628" y="-217.46" font-family="Times,serif" font-size="14.00">execute</text>
<polyline fill="none" stroke="black" points="559,-209.66 697,-209.66 "/>
<text text-anchor="middle" x="628" y="-194.46" font-family="Times,serif" font-size="14.00">创建PipelineExecutor</text>
</g>
<!-- pipeline_execute&#45;&gt;PipelineExecutor -->
<g id="edge3" class="edge">
<title>pipeline_execute&#45;&gt;PipelineExecutor</title>
<path fill="none" stroke="#666666" d="M697.2,-191.32C714.71,-186.62 733.48,-181.57 750.78,-176.92"/>
<polygon fill="#666666" stroke="#666666" points="752.03,-180.21 760.78,-174.23 750.21,-173.45 752.03,-180.21"/>
</g>
<!-- pull_chunk -->
<g id="node7" class="node">
<title>pull_chunk</title>
<polygon fill="none" stroke="black" points="284,-288.16 284,-349.16 523,-349.16 523,-288.16 284,-288.16"/>
<text text-anchor="middle" x="403.5" y="-333.96" font-family="Times,serif" font-size="14.00">pull</text>
<polyline fill="none" stroke="black" points="284,-326.16 523,-326.16 "/>
<text text-anchor="start" x="292" y="-310.96" font-family="Times,serif" font-size="14.00">bool pull_chunk</text>
<text text-anchor="start" x="292" y="-295.96" font-family="Times,serif" font-size="14.00"> (Chunk&amp; chunk, uint64_t milliseconds)</text>
</g>
<!-- pull_chunk&#45;&gt;pipeline_execute -->
<g id="edge4" class="edge">
<title>pull_chunk&#45;&gt;pipeline_execute</title>
<path fill="none" stroke="#b83b5e" d="M466.77,-288.15C499.42,-272.16 539.1,-252.72 570.8,-237.19"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="572.5,-240.25 579.94,-232.71 569.42,-233.97 572.5,-240.25"/>
</g>
<!-- threadFunction -->
<g id="node8" class="node">
<title>threadFunction</title>
<polygon fill="none" stroke="black" points="570,-295.66 570,-341.66 686,-341.66 686,-295.66 570,-295.66"/>
<text text-anchor="middle" x="628" y="-326.46" font-family="Times,serif" font-size="14.00">threadFunction</text>
<polyline fill="none" stroke="black" points="570,-318.66 686,-318.66 "/>
<text text-anchor="middle" x="628" y="-303.46" font-family="Times,serif" font-size="14.00">在线程池中执行</text>
</g>
<!-- pull_chunk&#45;&gt;threadFunction -->
<g id="edge5" class="edge">
<title>pull_chunk&#45;&gt;threadFunction</title>
<path fill="none" stroke="#b83b5e" d="M523.24,-318.66C535.82,-318.66 548.26,-318.66 559.93,-318.66"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="559.97,-322.16 569.97,-318.66 559.97,-315.16 559.97,-322.16"/>
</g>
<!-- finish_event_tryWait -->
<g id="node9" class="node">
<title>finish_event_tryWait</title>
<polygon fill="none" stroke="black" points="935,-396.66 935,-442.66 1100,-442.66 1100,-396.66 935,-396.66"/>
<text text-anchor="middle" x="1017.5" y="-427.46" font-family="Times,serif" font-size="14.00">tryWait</text>
<polyline fill="none" stroke="black" points="935,-419.66 1100,-419.66 "/>
<text text-anchor="start" x="943" y="-404.46" font-family="Times,serif" font-size="14.00">等待finish event执行完成</text>
</g>
<!-- pull_chunk&#45;&gt;finish_event_tryWait -->
<g id="edge6" class="edge">
<title>pull_chunk&#45;&gt;finish_event_tryWait</title>
<path fill="none" stroke="#b83b5e" d="M494.98,-349.26C504.48,-352.68 513.96,-356.18 523,-359.66 604.99,-391.14 626.29,-397.69 705,-436.66 717.84,-443.02 719.15,-448.98 733,-452.66 799.55,-470.33 877.38,-459.09 934.64,-445.12"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="935.52,-448.51 944.37,-442.68 933.82,-441.72 935.52,-448.51"/>
</g>
<!-- getChunk -->
<g id="node10" class="node">
<title>getChunk</title>
<polygon fill="none" stroke="black" points="662.5,-481.66 593.5,-481.66 593.5,-445.66 662.5,-445.66 662.5,-481.66"/>
<text text-anchor="middle" x="628" y="-459.96" font-family="Times,serif" font-size="14.00">getChunk</text>
</g>
<!-- pull_chunk&#45;&gt;getChunk -->
<g id="edge7" class="edge">
<title>pull_chunk&#45;&gt;getChunk</title>
<path fill="none" stroke="#b83b5e" d="M510.25,-349.34C514.79,-352.45 519.08,-355.88 523,-359.66 547.73,-383.47 527.06,-407.05 551,-431.66 559.98,-440.89 572.03,-447.58 583.89,-452.38"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="582.7,-455.68 593.29,-455.84 585.12,-449.11 582.7,-455.68"/>
</g>
<!-- threadFunction&#45;&gt;pipelineExecutor_execute -->
<g id="edge8" class="edge">
<title>threadFunction&#45;&gt;pipelineExecutor_execute</title>
<path fill="none" stroke="#3f72af" d="M670.28,-295.58C702.52,-277.55 746.93,-252.72 778.02,-235.34"/>
<polygon fill="#3f72af" stroke="#3f72af" points="779.79,-238.35 786.81,-230.42 776.37,-232.24 779.79,-238.35"/>
</g>
<!-- setThreadName -->
<g id="node11" class="node">
<title>setThreadName</title>
<polygon fill="none" stroke="black" points="867.5,-323.66 764.5,-323.66 764.5,-287.66 867.5,-287.66 867.5,-323.66"/>
<text text-anchor="middle" x="816" y="-301.96" font-family="Times,serif" font-size="14.00">setThreadName</text>
</g>
<!-- threadFunction&#45;&gt;setThreadName -->
<g id="edge9" class="edge">
<title>threadFunction&#45;&gt;setThreadName</title>
<path fill="none" stroke="#3f72af" d="M686.07,-314.67C707.64,-313.16 732.26,-311.44 754.17,-309.91"/>
<polygon fill="#3f72af" stroke="#3f72af" points="754.61,-313.39 764.35,-309.2 754.13,-306.4 754.61,-313.39"/>
</g>
<!-- detachQueryIfNotDetached -->
<g id="node12" class="node">
<title>detachQueryIfNotDetached</title>
<polygon fill="none" stroke="black" points="899,-377.66 733,-377.66 733,-341.66 899,-341.66 899,-377.66"/>
<text text-anchor="middle" x="816" y="-355.96" font-family="Times,serif" font-size="14.00">detachQueryIfNotDetached</text>
</g>
<!-- threadFunction&#45;&gt;detachQueryIfNotDetached -->
<g id="edge10" class="edge">
<title>threadFunction&#45;&gt;detachQueryIfNotDetached</title>
<path fill="none" stroke="#3f72af" d="M686.07,-331.24C697.78,-333.82 710.39,-336.6 722.98,-339.37"/>
<polygon fill="#3f72af" stroke="#3f72af" points="722.53,-342.86 733.05,-341.59 724.04,-336.02 722.53,-342.86"/>
</g>
<!-- finish_event_set -->
<g id="node13" class="node">
<title>finish_event_set</title>
<polygon fill="none" stroke="black" points="758,-396.66 758,-442.66 874,-442.66 874,-396.66 758,-396.66"/>
<text text-anchor="middle" x="816" y="-427.46" font-family="Times,serif" font-size="14.00">set</text>
<polyline fill="none" stroke="black" points="758,-419.66 874,-419.66 "/>
<text text-anchor="middle" x="816" y="-404.46" font-family="Times,serif" font-size="14.00">设置已完成执行</text>
</g>
<!-- threadFunction&#45;&gt;finish_event_set -->
<g id="edge11" class="edge">
<title>threadFunction&#45;&gt;finish_event_set</title>
<path fill="none" stroke="#3f72af" d="M656.66,-341.84C676.81,-357.84 705.32,-378.65 733,-392.66 737.85,-395.11 742.97,-397.41 748.18,-399.55"/>
<polygon fill="#3f72af" stroke="#3f72af" points="747.05,-402.86 757.64,-403.23 749.59,-396.34 747.05,-402.86"/>
</g>
<!-- finish_event_set&#45;&gt;finish_event_tryWait -->
<g id="edge12" class="edge">
<title>finish_event_set&#45;&gt;finish_event_tryWait</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M874.17,-419.66C889.95,-419.66 907.49,-419.66 924.71,-419.66"/>
<polygon fill="#666666" stroke="#666666" points="924.79,-423.16 934.79,-419.66 924.79,-416.16 924.79,-423.16"/>
</g>
<!-- pull_block -->
<g id="node14" class="node">
<title>pull_block</title>
<polygon fill="none" stroke="black" points="16,-288.16 16,-349.16 248,-349.16 248,-288.16 16,-288.16"/>
<text text-anchor="middle" x="132" y="-333.96" font-family="Times,serif" font-size="14.00">pull</text>
<polyline fill="none" stroke="black" points="16,-326.16 248,-326.16 "/>
<text text-anchor="start" x="24" y="-310.96" font-family="Times,serif" font-size="14.00">bool pull_block</text>
<text text-anchor="start" x="24" y="-295.96" font-family="Times,serif" font-size="14.00"> (Block&amp; block, uint64_t milliseconds)</text>
</g>
<!-- pull_block&#45;&gt;getHeader -->
<g id="edge13" class="edge">
<title>pull_block&#45;&gt;getHeader</title>
<path fill="none" stroke="#17b978" d="M139.96,-287.93C154.91,-230.08 196.09,-106.2 284,-54.66 441.65,37.78 673.55,-9.94 770.17,-36.19"/>
<polygon fill="#17b978" stroke="#17b978" points="769.34,-39.59 779.91,-38.88 771.21,-32.84 769.34,-39.59"/>
</g>
<!-- pull_block&#45;&gt;lazy_format -->
<g id="edge14" class="edge">
<title>pull_block&#45;&gt;lazy_format</title>
<path fill="none" stroke="#17b978" d="M173.35,-287.97C227.2,-247 321.5,-175.27 370.65,-137.88"/>
<polygon fill="#17b978" stroke="#17b978" points="372.87,-140.59 378.71,-131.75 368.63,-135.02 372.87,-140.59"/>
</g>
<!-- pull_block&#45;&gt;lazy_format_getPort -->
<g id="edge15" class="edge">
<title>pull_block&#45;&gt;lazy_format_getPort</title>
<path fill="none" stroke="#17b978" d="M142.35,-287.78C160.14,-235.22 204.37,-129.84 284,-86.66 369.4,-40.34 484.94,-61.45 557.72,-82.94"/>
<polygon fill="#17b978" stroke="#17b978" points="557.11,-86.41 567.7,-85.97 559.15,-79.71 557.11,-86.41"/>
</g>
<!-- pull_block&#45;&gt;pull_chunk -->
<g id="edge16" class="edge">
<title>pull_block&#45;&gt;pull_chunk</title>
<path fill="none" stroke="#17b978" d="M248.07,-318.66C256.61,-318.66 265.25,-318.66 273.86,-318.66"/>
<polygon fill="#17b978" stroke="#17b978" points="273.94,-322.16 283.94,-318.66 273.94,-315.16 273.94,-322.16"/>
</g>
<!-- getChunkInfo -->
<g id="node15" class="node">
<title>getChunkInfo</title>
<polygon fill="none" stroke="black" points="336,-368.66 336,-414.66 471,-414.66 471,-368.66 336,-368.66"/>
<text text-anchor="middle" x="403.5" y="-399.46" font-family="Times,serif" font-size="14.00">getChunkInfo</text>
<polyline fill="none" stroke="black" points="336,-391.66 471,-391.66 "/>
<text text-anchor="middle" x="403.5" y="-376.46" font-family="Times,serif" font-size="14.00">Chunk::getChunkInfo</text>
</g>
<!-- pull_block&#45;&gt;getChunkInfo -->
<g id="edge17" class="edge">
<title>pull_block&#45;&gt;getChunkInfo</title>
<path fill="none" stroke="#17b978" d="M245.73,-349.19C272.85,-356.54 301.2,-364.22 326.21,-370.99"/>
<polygon fill="#17b978" stroke="#17b978" points="325.42,-374.4 335.98,-373.64 327.25,-367.65 325.42,-374.4"/>
</g>
</g>
</svg>
