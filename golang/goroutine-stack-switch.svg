<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: goroutine_stack_switch Pages: 1 -->
<svg width="823pt" height="210pt"
 viewBox="0.00 0.00 823.00 210.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 206)">
<title>goroutine_stack_switch</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-206 819,-206 819,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_groutine_switch</title>
<polygon fill="none" stroke="#000000" points="8,-8 8,-194 807,-194 807,-8 8,-8"/>
<text text-anchor="middle" x="407.5" y="-174" font-family="Times,serif" font-size="20.00" fill="#000000">groutine_switch</text>
</g>
<!-- g -->
<g id="node1" class="node">
<title>g</title>
<polygon fill="none" stroke="#000000" points="16,-74.5 16,-143.5 99,-143.5 99,-74.5 16,-74.5"/>
<text text-anchor="middle" x="57.5" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#000000">g</text>
<polyline fill="none" stroke="#000000" points="16,-120.5 99,-120.5 "/>
<text text-anchor="start" x="24" y="-105.3" font-family="Times,serif" font-size="14.00" fill="#000000">stack stack</text>
<polyline fill="none" stroke="#000000" points="16,-97.5 99,-97.5 "/>
<text text-anchor="start" x="24" y="-82.3" font-family="Times,serif" font-size="14.00" fill="#000000">sched gobuf</text>
</g>
<!-- gobuf -->
<g id="node2" class="node">
<title>gobuf</title>
<polygon fill="none" stroke="#000000" points="135,-17 135,-155 205,-155 205,-17 135,-17"/>
<text text-anchor="middle" x="170" y="-139.8" font-family="Times,serif" font-size="14.00" fill="#000000">gobuf</text>
<polyline fill="none" stroke="#000000" points="135,-132 205,-132 "/>
<text text-anchor="start" x="143" y="-116.8" font-family="Times,serif" font-size="14.00" fill="#000000">sp uintptr</text>
<polyline fill="none" stroke="#000000" points="135,-109 205,-109 "/>
<text text-anchor="start" x="143" y="-93.8" font-family="Times,serif" font-size="14.00" fill="#000000">pc uintptr</text>
<polyline fill="none" stroke="#000000" points="135,-86 205,-86 "/>
<text text-anchor="start" x="143" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">g guintptr</text>
<polyline fill="none" stroke="#000000" points="135,-63 205,-63 "/>
<text text-anchor="start" x="143" y="-47.8" font-family="Times,serif" font-size="14.00" fill="#000000">lr uintptr</text>
<polyline fill="none" stroke="#000000" points="135,-40 205,-40 "/>
<text text-anchor="start" x="143" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#000000">bp uintptr</text>
</g>
<!-- g&#45;&gt;gobuf -->
<g id="edge1" class="edge">
<title>g:sched&#45;&gt;gobuf</title>
<path fill="none" stroke="#000000" d="M99,-86C107.3251,-86 116.1993,-86 124.7535,-86"/>
<polygon fill="#000000" stroke="#000000" points="124.9705,-89.5001 134.9705,-86 124.9704,-82.5001 124.9705,-89.5001"/>
</g>
<!-- gogo -->
<g id="node3" class="node">
<title>gogo</title>
<polygon fill="none" stroke="#000000" points="241,-63 241,-109 445,-109 445,-63 241,-63"/>
<text text-anchor="middle" x="343" y="-93.8" font-family="Times,serif" font-size="14.00" fill="#000000">gogo</text>
<polyline fill="none" stroke="#000000" points="241,-86 445,-86 "/>
<text text-anchor="start" x="249" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">restore state from Gobuf; longjmp</text>
</g>
<!-- gobuf&#45;&gt;gogo -->
<g id="edge2" class="edge">
<title>gobuf&#45;&gt;gogo</title>
<path fill="none" stroke="#000000" d="M205.0091,-86C212.8399,-86 221.5558,-86 230.6947,-86"/>
<polygon fill="#000000" stroke="#000000" points="230.7557,-89.5001 240.7557,-86 230.7556,-82.5001 230.7557,-89.5001"/>
</g>
<!-- cpu_registers -->
<g id="node4" class="node">
<title>cpu_registers</title>
<polygon fill="none" stroke="#000000" points="481,-40 481,-132 570,-132 570,-40 481,-40"/>
<text text-anchor="middle" x="525.5" y="-116.8" font-family="Times,serif" font-size="14.00" fill="#000000">cpu_registers</text>
<polyline fill="none" stroke="#000000" points="481,-109 570,-109 "/>
<text text-anchor="start" x="489" y="-93.8" font-family="Times,serif" font-size="14.00" fill="#000000">sp </text>
<polyline fill="none" stroke="#000000" points="481,-86 570,-86 "/>
<text text-anchor="start" x="489" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">pc </text>
<polyline fill="none" stroke="#000000" points="481,-63 570,-63 "/>
<text text-anchor="start" x="489" y="-47.8" font-family="Times,serif" font-size="14.00" fill="#000000">bp </text>
</g>
<!-- gogo&#45;&gt;cpu_registers -->
<g id="edge3" class="edge">
<title>gogo&#45;&gt;cpu_registers</title>
<path fill="none" stroke="#000000" d="M445.1873,-86C453.8922,-86 462.4624,-86 470.5749,-86"/>
<polygon fill="#000000" stroke="#000000" points="470.5816,-89.5001 480.5815,-86 470.5815,-82.5001 470.5816,-89.5001"/>
</g>
<!-- gosave -->
<g id="node5" class="node">
<title>gosave</title>
<polygon fill="none" stroke="#000000" points="622,-22.5 622,-83.5 783,-83.5 783,-22.5 622,-22.5"/>
<text text-anchor="middle" x="702.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">gosave</text>
<polyline fill="none" stroke="#000000" points="622,-60.5 783,-60.5 "/>
<text text-anchor="start" x="630" y="-45.3" font-family="Times,serif" font-size="14.00" fill="#000000">func gosave(buf*gobuf)</text>
<text text-anchor="start" x="630" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000"> save sate in gobuf;setJmp</text>
</g>
<!-- cpu_registers&#45;&gt;gosave -->
<g id="edge4" class="edge">
<title>cpu_registers&#45;&gt;gosave</title>
<path fill="none" stroke="#000000" d="M570.1646,-77.6727C582.8956,-75.2991 597.2458,-72.6237 611.6784,-69.9328"/>
<polygon fill="#000000" stroke="#000000" points="612.4754,-73.3447 621.6644,-68.071 611.1923,-66.4632 612.4754,-73.3447"/>
</g>
<!-- mcall -->
<g id="node6" class="node">
<title>mcall</title>
<polygon fill="none" stroke="#000000" points="606,-106 606,-152 799,-152 799,-106 606,-106"/>
<text text-anchor="middle" x="702.5" y="-136.8" font-family="Times,serif" font-size="14.00" fill="#000000">mcall</text>
<polyline fill="none" stroke="#000000" points="606,-129 799,-129 "/>
<text text-anchor="start" x="614" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">switch to m&#45;&gt;g0 stack call fn(g)</text>
</g>
<!-- cpu_registers&#45;&gt;mcall -->
<g id="edge6" class="edge">
<title>cpu_registers&#45;&gt;mcall</title>
<path fill="none" stroke="#000000" d="M570.1646,-96.8507C578.844,-98.9593 588.2759,-101.2506 597.9734,-103.6065"/>
<polygon fill="#000000" stroke="#000000" points="597.1978,-107.0199 607.7415,-105.9796 598.8504,-100.2177 597.1978,-107.0199"/>
</g>
<!-- gosave&#45;&gt;gobuf -->
<g id="edge5" class="edge">
<title>gosave&#45;&gt;gobuf</title>
<path fill="none" stroke="#000000" d="M621.8323,-37.4354C604.7812,-34.7561 586.8487,-32.3892 570,-31 423.9167,-18.9548 382.6718,-16.3895 241,-54 232.265,-56.3189 223.2509,-59.6086 214.699,-63.2039"/>
<polygon fill="#000000" stroke="#000000" points="213.0173,-60.1202 205.2797,-67.3576 215.8417,-66.5251 213.0173,-60.1202"/>
</g>
<!-- mcall&#45;&gt;gobuf -->
<g id="edge7" class="edge">
<title>mcall&#45;&gt;gobuf</title>
<path fill="none" stroke="#000000" d="M605.9717,-139.579C593.8736,-140.5781 581.6586,-141.4294 570,-142 423.5961,-149.1649 382.4504,-157.4347 241,-119 232.1377,-116.592 223.008,-113.1564 214.3692,-109.4035"/>
<polygon fill="#000000" stroke="#000000" points="215.7753,-106.1981 205.2238,-105.2402 212.875,-112.569 215.7753,-106.1981"/>
</g>
</g>
</svg>
