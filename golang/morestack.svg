<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: morestack Pages: 1 -->
<svg width="939pt" height="807pt"
 viewBox="0.00 0.00 939.00 807.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 803)">
<title>morestack</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-803 935,-803 935,4 -4,4"/>
<g id="clust3" class="cluster">
<title>cluster_preempt</title>
<polygon fill="none" stroke="#000000" points="417,-59 417,-195 911.5,-195 911.5,-59 417,-59"/>
<text text-anchor="middle" x="664.25" y="-175" font-family="Times,serif" font-size="20.00" fill="#000000">preempt</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_ajust</title>
<polygon fill="none" stroke="#000000" points="621,-547 621,-791 923,-791 923,-547 621,-547"/>
<text text-anchor="middle" x="772" y="-771" font-family="Times,serif" font-size="20.00" fill="#000000">adjust pointer to stacks</text>
</g>
<!-- morestack_noctxt -->
<g id="node1" class="node">
<title>morestack_noctxt</title>
<polygon fill="none" stroke="#000000" points="113,-117 0,-117 0,-81 113,-81 113,-117"/>
<text text-anchor="middle" x="56.5" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#000000">morestack_noctxt</text>
</g>
<!-- morestack -->
<g id="node2" class="node">
<title>morestack</title>
<polygon fill="none" stroke="#000000" points="222,-117 149,-117 149,-81 222,-81 222,-117"/>
<text text-anchor="middle" x="185.5" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#000000">morestack</text>
</g>
<!-- morestack_noctxt&#45;&gt;morestack -->
<g id="edge1" class="edge">
<title>morestack_noctxt&#45;&gt;morestack</title>
<path fill="none" stroke="#000000" d="M113.0813,-99C121.5539,-99 130.2117,-99 138.4577,-99"/>
<polygon fill="#000000" stroke="#000000" points="138.6377,-102.5001 148.6377,-99 138.6376,-95.5001 138.6377,-102.5001"/>
</g>
<!-- newstack -->
<g id="node3" class="node">
<title>newstack</title>
<polygon fill="none" stroke="#000000" points="357,-198 290,-198 290,-162 357,-162 357,-198"/>
<text text-anchor="middle" x="323.5" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#000000">newstack</text>
</g>
<!-- morestack&#45;&gt;newstack -->
<g id="edge2" class="edge">
<title>morestack&#45;&gt;newstack</title>
<path fill="none" stroke="#000000" d="M206.7368,-117.0381C220.6969,-128.3217 239.7032,-142.6309 258,-153 265.0751,-157.0096 272.8647,-160.749 280.5278,-164.0905"/>
<polygon fill="#000000" stroke="#000000" points="279.1803,-167.3206 289.7558,-167.9602 281.8874,-160.8653 279.1803,-167.3206"/>
</g>
<!-- abort -->
<g id="node4" class="node">
<title>abort</title>
<polygon fill="none" stroke="#000000" points="350.5,-144 296.5,-144 296.5,-108 350.5,-108 350.5,-144"/>
<text text-anchor="middle" x="323.5" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#000000">abort</text>
</g>
<!-- morestack&#45;&gt;abort -->
<g id="edge3" class="edge">
<title>morestack&#45;&gt;abort</title>
<path fill="none" stroke="#000000" d="M222.1192,-106.1646C241.9744,-110.0493 266.4559,-114.8392 286.387,-118.7388"/>
<polygon fill="#000000" stroke="#000000" points="285.8603,-122.202 296.3463,-120.6873 287.2044,-115.3323 285.8603,-122.202"/>
</g>
<!-- badmorestackg0 -->
<g id="node5" class="node">
<title>badmorestackg0</title>
<polygon fill="none" stroke="#000000" points="376.5,-90 270.5,-90 270.5,-54 376.5,-54 376.5,-90"/>
<text text-anchor="middle" x="323.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#000000">badmorestackg0</text>
</g>
<!-- morestack&#45;&gt;badmorestackg0 -->
<g id="edge4" class="edge">
<title>morestack&#45;&gt;badmorestackg0</title>
<path fill="none" stroke="#000000" d="M222.1192,-91.8354C233.8908,-89.5322 247.2886,-86.9109 260.4001,-84.3456"/>
<polygon fill="#000000" stroke="#000000" points="261.1973,-87.7561 270.3391,-82.401 259.8531,-80.8864 261.1973,-87.7561"/>
</g>
<!-- badmorestackgsignal -->
<g id="node6" class="node">
<title>badmorestackgsignal</title>
<polygon fill="none" stroke="#000000" points="389,-36 258,-36 258,0 389,0 389,-36"/>
<text text-anchor="middle" x="323.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">badmorestackgsignal</text>
</g>
<!-- morestack&#45;&gt;badmorestackgsignal -->
<g id="edge5" class="edge">
<title>morestack&#45;&gt;badmorestackgsignal</title>
<path fill="none" stroke="#000000" d="M206.7368,-80.9619C220.6969,-69.6783 239.7032,-55.3691 258,-45 260.6953,-43.4725 263.4942,-41.9843 266.3504,-40.5423"/>
<polygon fill="#000000" stroke="#000000" points="268.1058,-43.5822 275.6101,-36.1031 265.0797,-37.2701 268.1058,-43.5822"/>
</g>
<!-- copystack -->
<g id="node7" class="node">
<title>copystack</title>
<polygon fill="none" stroke="#000000" points="507,-485 436,-485 436,-449 507,-449 507,-485"/>
<text text-anchor="middle" x="471.5" y="-463.3" font-family="Times,serif" font-size="14.00" fill="#000000">copystack</text>
</g>
<!-- newstack&#45;&gt;copystack -->
<g id="edge6" class="edge">
<title>newstack&#45;&gt;copystack</title>
<path fill="none" stroke="#000000" d="M332.9832,-198.3897C358.3054,-247.4942 427.6082,-381.8856 457.4867,-439.8256"/>
<polygon fill="#000000" stroke="#000000" points="454.4017,-441.4797 462.0958,-448.7634 460.6232,-438.2714 454.4017,-441.4797"/>
</g>
<!-- getg -->
<g id="node8" class="node">
<title>getg</title>
<polygon fill="none" stroke="#000000" points="498.5,-239 444.5,-239 444.5,-203 498.5,-203 498.5,-239"/>
<text text-anchor="middle" x="471.5" y="-217.3" font-family="Times,serif" font-size="14.00" fill="#000000">getg</text>
</g>
<!-- newstack&#45;&gt;getg -->
<g id="edge7" class="edge">
<title>newstack&#45;&gt;getg</title>
<path fill="none" stroke="#000000" d="M357.0835,-189.3035C380.2172,-195.7122 410.9527,-204.2268 434.7423,-210.8171"/>
<polygon fill="#000000" stroke="#000000" points="433.8987,-214.2152 444.4702,-213.512 435.7676,-207.4693 433.8987,-214.2152"/>
</g>
<!-- gogo -->
<g id="node9" class="node">
<title>gogo</title>
<polygon fill="none" stroke="#000000" points="498.5,-157 444.5,-157 444.5,-121 498.5,-121 498.5,-157"/>
<text text-anchor="middle" x="471.5" y="-135.3" font-family="Times,serif" font-size="14.00" fill="#000000">gogo</text>
</g>
<!-- newstack&#45;&gt;gogo -->
<g id="edge8" class="edge">
<title>newstack&#45;&gt;gogo</title>
<path fill="none" stroke="#000000" d="M357.0835,-170.6965C380.2172,-164.2878 410.9527,-155.7732 434.7423,-149.1829"/>
<polygon fill="#000000" stroke="#000000" points="435.7676,-152.5307 444.4702,-146.488 433.8987,-145.7848 435.7676,-152.5307"/>
</g>
<!-- gopreempt_m -->
<g id="node10" class="node">
<title>gopreempt_m</title>
<polygon fill="none" stroke="#000000" points="518,-103 425,-103 425,-67 518,-67 518,-103"/>
<text text-anchor="middle" x="471.5" y="-81.3" font-family="Times,serif" font-size="14.00" fill="#000000">gopreempt_m</text>
</g>
<!-- newstack&#45;&gt;gopreempt_m -->
<g id="edge9" class="edge">
<title>newstack&#45;&gt;gopreempt_m</title>
<path fill="none" stroke="#000000" d="M357.1901,-170.3874C368.0845,-166.2103 379.7328,-160.5141 389,-153 406.1399,-139.1026 400.3495,-126.4802 417,-112 418.2873,-110.8805 419.6292,-109.7948 421.0136,-108.743"/>
<polygon fill="#000000" stroke="#000000" points="423.0231,-111.6091 429.3245,-103.0919 419.0871,-105.8205 423.0231,-111.6091"/>
</g>
<!-- swapOutOldstack -->
<g id="node13" class="node">
<title>swapOutOldstack</title>
<polygon fill="none" stroke="#000000" points="554,-398 554,-536 792,-536 792,-398 554,-398"/>
<text text-anchor="middle" x="673" y="-520.8" font-family="Times,serif" font-size="14.00" fill="#000000">swapOutOldstack</text>
<polyline fill="none" stroke="#000000" points="554,-513 792,-513 "/>
<text text-anchor="start" x="562" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000">gp.stack = new</text>
<polyline fill="none" stroke="#000000" points="554,-490 792,-490 "/>
<text text-anchor="start" x="562" y="-474.8" font-family="Times,serif" font-size="14.00" fill="#000000">gp.stackguard0 = new.lo + _StackGuard</text>
<polyline fill="none" stroke="#000000" points="554,-467 792,-467 "/>
<text text-anchor="start" x="562" y="-451.8" font-family="Times,serif" font-size="14.00" fill="#000000">gp.sched.sp = new.hi &#45; used</text>
<polyline fill="none" stroke="#000000" points="554,-444 792,-444 "/>
<text text-anchor="start" x="562" y="-428.8" font-family="Times,serif" font-size="14.00" fill="#000000">gp.stktopsp += adjinfo.delta</text>
<polyline fill="none" stroke="#000000" points="554,-421 792,-421 "/>
<text text-anchor="middle" x="673" y="-405.8" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- copystack&#45;&gt;swapOutOldstack -->
<g id="edge12" class="edge">
<title>copystack&#45;&gt;swapOutOldstack</title>
<path fill="none" stroke="#000000" d="M507.0603,-467C517.8642,-467 530.4208,-467 543.6985,-467"/>
<polygon fill="#000000" stroke="#000000" points="543.9756,-470.5001 553.9755,-467 543.9755,-463.5001 543.9756,-470.5001"/>
</g>
<!-- stackalloc -->
<g id="node14" class="node">
<title>stackalloc</title>
<polygon fill="none" stroke="#000000" points="610.5,-333 610.5,-379 735.5,-379 735.5,-333 610.5,-333"/>
<text text-anchor="middle" x="673" y="-363.8" font-family="Times,serif" font-size="14.00" fill="#000000">stackalloc</text>
<polyline fill="none" stroke="#000000" points="610.5,-356 735.5,-356 "/>
<text text-anchor="start" x="618.5" y="-340.8" font-family="Times,serif" font-size="14.00" fill="#000000">分配新栈2*oldsize</text>
</g>
<!-- copystack&#45;&gt;stackalloc -->
<g id="edge13" class="edge">
<title>copystack&#45;&gt;stackalloc</title>
<path fill="none" stroke="#000000" d="M486.0174,-448.8612C501.1759,-431.097 526.5366,-404.5043 554,-389 568.224,-380.9699 584.5215,-374.7967 600.3985,-370.0862"/>
<polygon fill="#000000" stroke="#000000" points="601.5222,-373.4063 610.2076,-367.3388 599.6342,-366.6657 601.5222,-373.4063"/>
</g>
<!-- stackfree -->
<g id="node15" class="node">
<title>stackfree</title>
<polygon fill="none" stroke="#000000" points="636,-268 636,-314 710,-314 710,-268 636,-268"/>
<text text-anchor="middle" x="673" y="-298.8" font-family="Times,serif" font-size="14.00" fill="#000000">stackfree</text>
<polyline fill="none" stroke="#000000" points="636,-291 710,-291 "/>
<text text-anchor="start" x="644" y="-275.8" font-family="Times,serif" font-size="14.00" fill="#000000">释放旧栈</text>
</g>
<!-- copystack&#45;&gt;stackfree -->
<g id="edge14" class="edge">
<title>copystack&#45;&gt;stackfree</title>
<path fill="none" stroke="#000000" d="M477.0143,-448.5873C487.1371,-417.9945 511.6261,-356.8198 554,-324 574.5233,-308.1041 602.2536,-299.8627 625.7823,-295.591"/>
<polygon fill="#000000" stroke="#000000" points="626.6061,-299.003 635.9147,-293.9434 625.4826,-292.0938 626.6061,-299.003"/>
</g>
<!-- memmove -->
<g id="node16" class="node">
<title>memmove</title>
<polygon fill="none" stroke="#000000" points="598,-203 598,-249 748,-249 748,-203 598,-203"/>
<text text-anchor="middle" x="673" y="-233.8" font-family="Times,serif" font-size="14.00" fill="#000000">memmove</text>
<polyline fill="none" stroke="#000000" points="598,-226 748,-226 "/>
<text text-anchor="start" x="606" y="-210.8" font-family="Times,serif" font-size="14.00" fill="#000000">将旧栈内容cpy到新栈</text>
</g>
<!-- copystack&#45;&gt;memmove -->
<g id="edge15" class="edge">
<title>copystack&#45;&gt;memmove</title>
<path fill="none" stroke="#000000" d="M473.3186,-448.9485C478.3582,-408.6682 496.1993,-310.9202 554,-259 563.7865,-250.2091 575.7181,-243.7365 588.2043,-238.9759"/>
<polygon fill="#000000" stroke="#000000" points="589.5191,-242.2249 597.8342,-235.6591 587.2395,-235.6064 589.5191,-242.2249"/>
</g>
<!-- gentraceback -->
<g id="node17" class="node">
<title>gentraceback</title>
<polygon fill="none" stroke="#000000" points="717,-753 629,-753 629,-717 717,-717 717,-753"/>
<text text-anchor="middle" x="673" y="-731.3" font-family="Times,serif" font-size="14.00" fill="#000000">gentraceback</text>
</g>
<!-- copystack&#45;&gt;gentraceback -->
<g id="edge16" class="edge">
<title>copystack&#45;&gt;gentraceback</title>
<path fill="none" stroke="#000000" d="M475.3454,-485.2636C486.3903,-536.0268 519.6256,-677.1109 554,-708 571.5591,-723.7787 596.3792,-730.9367 618.8121,-733.9893"/>
<polygon fill="#000000" stroke="#000000" points="618.5894,-737.4861 628.9165,-735.1192 619.3674,-730.5295 618.5894,-737.4861"/>
</g>
<!-- adjustdefers -->
<g id="node18" class="node">
<title>adjustdefers</title>
<polygon fill="none" stroke="#000000" points="714,-699 632,-699 632,-663 714,-663 714,-699"/>
<text text-anchor="middle" x="673" y="-677.3" font-family="Times,serif" font-size="14.00" fill="#000000">adjustdefers</text>
</g>
<!-- copystack&#45;&gt;adjustdefers -->
<g id="edge17" class="edge">
<title>copystack&#45;&gt;adjustdefers</title>
<path fill="none" stroke="#000000" d="M474.0298,-485.136C480.2784,-522.7722 500.0515,-609.546 554,-654 572.7858,-669.4796 598.6812,-676.5029 621.5196,-679.5424"/>
<polygon fill="#000000" stroke="#000000" points="621.4372,-683.0545 631.7613,-680.6746 622.2065,-676.0969 621.4372,-683.0545"/>
</g>
<!-- adjustctxt -->
<g id="node19" class="node">
<title>adjustctxt</title>
<polygon fill="none" stroke="#000000" points="707.5,-645 638.5,-645 638.5,-609 707.5,-609 707.5,-645"/>
<text text-anchor="middle" x="673" y="-623.3" font-family="Times,serif" font-size="14.00" fill="#000000">adjustctxt</text>
</g>
<!-- copystack&#45;&gt;adjustctxt -->
<g id="edge18" class="edge">
<title>copystack&#45;&gt;adjustctxt</title>
<path fill="none" stroke="#000000" d="M477.5725,-485.2826C488.212,-514.357 513.0691,-570.8193 554,-600 575.4876,-615.319 604.2393,-622.1227 628.0983,-625.0709"/>
<polygon fill="#000000" stroke="#000000" points="628.0196,-628.5817 638.3296,-626.1415 628.7482,-621.6197 628.0196,-628.5817"/>
</g>
<!-- adjustsudogs -->
<g id="node20" class="node">
<title>adjustsudogs</title>
<polygon fill="none" stroke="#000000" points="716,-591 630,-591 630,-555 716,-555 716,-591"/>
<text text-anchor="middle" x="673" y="-569.3" font-family="Times,serif" font-size="14.00" fill="#000000">adjustsudogs</text>
</g>
<!-- copystack&#45;&gt;adjustsudogs -->
<g id="edge19" class="edge">
<title>copystack&#45;&gt;adjustsudogs</title>
<path fill="none" stroke="#000000" d="M485.5344,-485.3156C500.4998,-503.5302 525.881,-530.8779 554,-546 574.1337,-556.8277 598.438,-563.3246 619.8194,-567.2178"/>
<polygon fill="#000000" stroke="#000000" points="619.2889,-570.6776 629.7298,-568.8785 620.4458,-563.7739 619.2889,-570.6776"/>
</g>
<!-- goschedImpl -->
<g id="node11" class="node">
<title>goschedImpl</title>
<polygon fill="none" stroke="#000000" points="716.5,-103 629.5,-103 629.5,-67 716.5,-67 716.5,-103"/>
<text text-anchor="middle" x="673" y="-81.3" font-family="Times,serif" font-size="14.00" fill="#000000">goschedImpl</text>
</g>
<!-- gopreempt_m&#45;&gt;goschedImpl -->
<g id="edge10" class="edge">
<title>gopreempt_m&#45;&gt;goschedImpl</title>
<path fill="none" stroke="#000000" d="M518.2346,-85C548.3169,-85 587.5208,-85 618.9437,-85"/>
<polygon fill="#000000" stroke="#000000" points="619.2775,-88.5001 629.2775,-85 619.2775,-81.5001 619.2775,-88.5001"/>
</g>
<!-- schedule -->
<g id="node12" class="node">
<title>schedule</title>
<polygon fill="none" stroke="#000000" points="903.5,-103 839.5,-103 839.5,-67 903.5,-67 903.5,-103"/>
<text text-anchor="middle" x="871.5" y="-81.3" font-family="Times,serif" font-size="14.00" fill="#000000">schedule</text>
</g>
<!-- goschedImpl&#45;&gt;schedule -->
<g id="edge11" class="edge">
<title>goschedImpl&#45;&gt;schedule</title>
<path fill="none" stroke="#000000" d="M716.5617,-85C750.03,-85 795.9897,-85 829.1512,-85"/>
<polygon fill="#000000" stroke="#000000" points="829.4361,-88.5001 839.4361,-85 829.4361,-81.5001 829.4361,-88.5001"/>
</g>
<!-- adjustpointer -->
<g id="node21" class="node">
<title>adjustpointer</title>
<polygon fill="none" stroke="#000000" points="915,-645 828,-645 828,-609 915,-609 915,-645"/>
<text text-anchor="middle" x="871.5" y="-623.3" font-family="Times,serif" font-size="14.00" fill="#000000">adjustpointer</text>
</g>
<!-- adjustdefers&#45;&gt;adjustpointer -->
<g id="edge20" class="edge">
<title>adjustdefers&#45;&gt;adjustpointer</title>
<path fill="none" stroke="#000000" d="M714.0216,-672.7962C737.083,-667.909 766.312,-661.255 792,-654 800.4593,-651.6109 809.3447,-648.8491 817.9861,-646.0228"/>
<polygon fill="#000000" stroke="#000000" points="819.2208,-649.3007 827.603,-642.8208 817.0094,-642.6591 819.2208,-649.3007"/>
</g>
<!-- adjustctxt&#45;&gt;adjustpointer -->
<g id="edge21" class="edge">
<title>adjustctxt&#45;&gt;adjustpointer</title>
<path fill="none" stroke="#000000" d="M707.5761,-627C738.0065,-627 782.8038,-627 817.881,-627"/>
<polygon fill="#000000" stroke="#000000" points="817.9614,-630.5001 827.9613,-627 817.9613,-623.5001 817.9614,-630.5001"/>
</g>
<!-- adjustsudogs&#45;&gt;adjustpointer -->
<g id="edge22" class="edge">
<title>adjustsudogs&#45;&gt;adjustpointer</title>
<path fill="none" stroke="#000000" d="M716.2363,-581.6745C738.9352,-586.5141 767.1275,-592.9754 792,-600 800.4593,-602.3891 809.3447,-605.1509 817.9861,-607.9772"/>
<polygon fill="#000000" stroke="#000000" points="817.0094,-611.3409 827.603,-611.1792 819.2208,-604.6993 817.0094,-611.3409"/>
</g>
</g>
</svg>
