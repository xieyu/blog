<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: partionLogCreate Pages: 1 -->
<svg width="1670pt" height="299pt"
 viewBox="0.00 0.00 1669.77 299.48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 295.4844)">
<title>partionLogCreate</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-295.4844 1665.7656,-295.4844 1665.7656,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="1283.6064,-95.4844 1283.6064,-283.4844 1653.7656,-283.4844 1653.7656,-95.4844 1283.6064,-95.4844"/>
<text text-anchor="middle" x="1468.686" y="-263.4844" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Partition</title>
<polygon fill="none" stroke="#000000" points="797.9775,-68.4844 797.9775,-256.4844 1263.6064,-256.4844 1263.6064,-68.4844 797.9775,-68.4844"/>
<text text-anchor="middle" x="1030.792" y="-236.4844" font-family="Times,serif" font-size="20.00" fill="#000000">Partition</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ReplicaManager</title>
<polygon fill="none" stroke="#000000" points="459.9492,-14.4844 459.9492,-202.4844 777.9775,-202.4844 777.9775,-14.4844 459.9492,-14.4844"/>
<text text-anchor="middle" x="618.9634" y="-182.4844" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_KafkaApi</title>
<polygon fill="none" stroke="#000000" points="8,-68.4844 8,-210.4844 439.9492,-210.4844 439.9492,-68.4844 8,-68.4844"/>
<text text-anchor="middle" x="223.9746" y="-190.4844" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi: kafkaServer对外接口</text>
</g>
<!-- logCreationOrDeletionLock -->
<g id="node1" class="node">
<title>logCreationOrDeletionLock</title>
<polygon fill="#95e1d3" stroke="#000000" points="1645.6866,-139.4844 1476.0029,-139.4844 1472.0029,-135.4844 1472.0029,-103.4844 1641.6866,-103.4844 1645.6866,-107.4844 1645.6866,-139.4844"/>
<polyline fill="none" stroke="#000000" points="1641.6866,-135.4844 1472.0029,-135.4844 "/>
<polyline fill="none" stroke="#000000" points="1641.6866,-135.4844 1641.6866,-103.4844 "/>
<polyline fill="none" stroke="#000000" points="1641.6866,-135.4844 1645.6866,-139.4844 "/>
<text text-anchor="middle" x="1558.8447" y="-117.2844" font-family="Times,serif" font-size="14.00" fill="#000000">logCreationOrDeletionLock</text>
</g>
<!-- getOrCreateLog -->
<g id="node2" class="node">
<title>getOrCreateLog</title>
<polygon fill="none" stroke="#000000" points="1417.2241,-193.4844 1310.3061,-193.4844 1310.3061,-157.4844 1417.2241,-157.4844 1417.2241,-193.4844"/>
<text text-anchor="middle" x="1363.7651" y="-171.2844" font-family="Times,serif" font-size="14.00" fill="#000000">getOrCreateLog</text>
</g>
<!-- getOrCreateLog&#45;&gt;logCreationOrDeletionLock -->
<g id="edge1" class="edge">
<title>getOrCreateLog&#45;&gt;logCreationOrDeletionLock</title>
<path fill="none" stroke="#000000" d="M1417.3295,-160.6573C1437.8649,-154.9729 1461.6893,-148.378 1483.8672,-142.239"/>
<polygon fill="#000000" stroke="#000000" points="1484.885,-145.5889 1493.5889,-139.5479 1483.0175,-138.8426 1484.885,-145.5889"/>
</g>
<!-- preferredLogDirs -->
<g id="node3" class="node">
<title>preferredLogDirs</title>
<polygon fill="none" stroke="#000000" points="1615.7969,-193.4844 1501.8926,-193.4844 1501.8926,-157.4844 1615.7969,-157.4844 1615.7969,-193.4844"/>
<text text-anchor="middle" x="1558.8447" y="-171.2844" font-family="Times,serif" font-size="14.00" fill="#000000">preferredLogDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;preferredLogDirs -->
<g id="edge2" class="edge">
<title>getOrCreateLog&#45;&gt;preferredLogDirs</title>
<path fill="none" stroke="#000000" d="M1417.3295,-175.4844C1440.227,-175.4844 1467.2137,-175.4844 1491.4474,-175.4844"/>
<polygon fill="#000000" stroke="#000000" points="1491.6449,-178.9845 1501.6449,-175.4844 1491.6448,-171.9845 1491.6449,-178.9845"/>
</g>
<!-- logDirs -->
<g id="node4" class="node">
<title>logDirs</title>
<polygon fill="none" stroke="#000000" points="1587.8447,-247.4844 1529.8447,-247.4844 1529.8447,-211.4844 1587.8447,-211.4844 1587.8447,-247.4844"/>
<text text-anchor="middle" x="1558.8447" y="-225.2844" font-family="Times,serif" font-size="14.00" fill="#000000">logDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;logDirs -->
<g id="edge3" class="edge">
<title>getOrCreateLog&#45;&gt;logDirs</title>
<path fill="none" stroke="#000000" d="M1417.3295,-190.3116C1449.7181,-199.2771 1490.2885,-210.5074 1519.6763,-218.6422"/>
<polygon fill="#000000" stroke="#000000" points="1519.0017,-222.087 1529.573,-221.3817 1520.8691,-215.3407 1519.0017,-222.087"/>
</g>
<!-- finishedInitializingLog -->
<g id="node5" class="node">
<title>finishedInitializingLog</title>
<polygon fill="none" stroke="#000000" points="1436.0829,-139.4844 1291.4474,-139.4844 1291.4474,-103.4844 1436.0829,-103.4844 1436.0829,-139.4844"/>
<text text-anchor="middle" x="1363.7651" y="-117.2844" font-family="Times,serif" font-size="14.00" fill="#000000">finishedInitializingLog</text>
</g>
<!-- log -->
<g id="node6" class="node">
<title>log</title>
<polygon fill="#95e1d3" stroke="#000000" points="1246.627,-112.4844 1196.627,-112.4844 1192.627,-108.4844 1192.627,-76.4844 1242.627,-76.4844 1246.627,-80.4844 1246.627,-112.4844"/>
<polyline fill="none" stroke="#000000" points="1242.627,-108.4844 1192.627,-108.4844 "/>
<polyline fill="none" stroke="#000000" points="1242.627,-108.4844 1242.627,-76.4844 "/>
<polyline fill="none" stroke="#000000" points="1242.627,-108.4844 1246.627,-112.4844 "/>
<text text-anchor="middle" x="1219.627" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">log</text>
</g>
<!-- maybeCreateFutureReplica -->
<g id="node7" class="node">
<title>maybeCreateFutureReplica</title>
<polygon fill="none" stroke="#000000" points="975.2164,-220.4844 805.8979,-220.4844 805.8979,-184.4844 975.2164,-184.4844 975.2164,-220.4844"/>
<text text-anchor="middle" x="890.5571" y="-198.2844" font-family="Times,serif" font-size="14.00" fill="#000000">maybeCreateFutureReplica</text>
</g>
<!-- createLogIfNotExists -->
<g id="node10" class="node">
<title>createLogIfNotExists</title>
<polygon fill="#f38181" stroke="#000000" points="1147.4037,-112.4844 1011.3805,-112.4844 1011.3805,-76.4844 1147.4037,-76.4844 1147.4037,-112.4844"/>
<text text-anchor="middle" x="1079.3921" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">createLogIfNotExists</text>
</g>
<!-- maybeCreateFutureReplica&#45;&gt;createLogIfNotExists -->
<g id="edge4" class="edge">
<title>maybeCreateFutureReplica&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M955.2609,-184.4566C962.1133,-181.777 968.8632,-178.7885 975.1367,-175.4844 1003.9612,-160.3033 1032.9157,-137.0109 1052.9707,-119.2937"/>
<polygon fill="#000000" stroke="#000000" points="1055.3626,-121.8499 1060.4656,-112.565 1050.6862,-116.6411 1055.3626,-121.8499"/>
</g>
<!-- makeLeader -->
<g id="node8" class="node">
<title>makeLeader</title>
<polygon fill="none" stroke="#000000" points="933.2302,-166.4844 847.8841,-166.4844 847.8841,-130.4844 933.2302,-130.4844 933.2302,-166.4844"/>
<text text-anchor="middle" x="890.5571" y="-144.2844" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeader</text>
</g>
<!-- makeLeader&#45;&gt;createLogIfNotExists -->
<g id="edge5" class="edge">
<title>makeLeader&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M933.4067,-136.231C955.0213,-130.05 981.837,-122.3817 1006.5651,-115.3103"/>
<polygon fill="#000000" stroke="#000000" points="1007.6328,-118.6454 1016.2851,-112.5307 1005.7082,-111.9151 1007.6328,-118.6454"/>
</g>
<!-- makeFollower -->
<g id="node9" class="node">
<title>makeFollower</title>
<polygon fill="none" stroke="#000000" points="938.9264,-112.4844 842.1879,-112.4844 842.1879,-76.4844 938.9264,-76.4844 938.9264,-112.4844"/>
<text text-anchor="middle" x="890.5571" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollower</text>
</g>
<!-- makeFollower&#45;&gt;createLogIfNotExists -->
<g id="edge6" class="edge">
<title>makeFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M939.1868,-94.4844C958.0629,-94.4844 980.1606,-94.4844 1001.1577,-94.4844"/>
<polygon fill="#000000" stroke="#000000" points="1001.358,-97.9845 1011.358,-94.4844 1001.358,-90.9845 1001.358,-97.9845"/>
</g>
<!-- createLogIfNotExists&#45;&gt;log -->
<g id="edge7" class="edge">
<title>createLogIfNotExists&#45;&gt;log</title>
<path fill="none" stroke="#000000" d="M1147.4556,-94.4844C1159.3888,-94.4844 1171.4014,-94.4844 1182.1092,-94.4844"/>
<polygon fill="#000000" stroke="#000000" points="1182.3309,-97.9845 1192.3309,-94.4844 1182.3309,-90.9845 1182.3309,-97.9845"/>
</g>
<!-- createLog -->
<g id="node11" class="node">
<title>createLog</title>
<polygon fill="none" stroke="#000000" points="1255.5859,-166.4844 1183.668,-166.4844 1183.668,-130.4844 1255.5859,-130.4844 1255.5859,-166.4844"/>
<text text-anchor="middle" x="1219.627" y="-144.2844" font-family="Times,serif" font-size="14.00" fill="#000000">createLog</text>
</g>
<!-- createLogIfNotExists&#45;&gt;createLog -->
<g id="edge8" class="edge">
<title>createLogIfNotExists&#45;&gt;createLog</title>
<path fill="none" stroke="#000000" d="M1126.4784,-112.6159C1141.752,-118.4973 1158.6659,-125.0102 1173.8432,-130.8546"/>
<polygon fill="#000000" stroke="#000000" points="1172.9417,-134.2579 1183.5315,-134.5852 1175.4572,-127.7255 1172.9417,-134.2579"/>
</g>
<!-- createLog&#45;&gt;getOrCreateLog -->
<g id="edge9" class="edge">
<title>createLog&#45;&gt;getOrCreateLog</title>
<path fill="none" stroke="#000000" d="M1255.6273,-155.228C1269.1707,-157.765 1285.0038,-160.7308 1300.311,-163.5982"/>
<polygon fill="#000000" stroke="#000000" points="1299.7911,-167.0616 1310.2646,-165.4627 1301.08,-160.1813 1299.7911,-167.0616"/>
</g>
<!-- createLog&#45;&gt;finishedInitializingLog -->
<g id="edge10" class="edge">
<title>createLog&#45;&gt;finishedInitializingLog</title>
<path fill="none" stroke="#000000" d="M1255.6273,-141.7408C1263.6491,-140.2382 1272.4742,-138.5851 1281.5175,-136.8911"/>
<polygon fill="#000000" stroke="#000000" points="1282.2038,-140.3235 1291.3884,-135.0421 1280.9149,-133.4431 1282.2038,-140.3235"/>
</g>
<!-- allPartitions -->
<g id="node12" class="node">
<title>allPartitions</title>
<polygon fill="#95e1d3" stroke="#000000" points="760.4816,-58.4844 681.1561,-58.4844 677.1561,-54.4844 677.1561,-22.4844 756.4816,-22.4844 760.4816,-26.4844 760.4816,-58.4844"/>
<polyline fill="none" stroke="#000000" points="756.4816,-54.4844 677.1561,-54.4844 "/>
<polyline fill="none" stroke="#000000" points="756.4816,-54.4844 756.4816,-22.4844 "/>
<polyline fill="none" stroke="#000000" points="756.4816,-54.4844 760.4816,-58.4844 "/>
<text text-anchor="middle" x="718.8188" y="-36.2844" font-family="Times,serif" font-size="14.00" fill="#000000">allPartitions</text>
</g>
<!-- becomeLeaderOrFollower -->
<g id="node13" class="node">
<title>becomeLeaderOrFollower</title>
<polygon fill="none" stroke="#000000" points="631.5159,-112.4844 468.0935,-112.4844 468.0935,-76.4844 631.5159,-76.4844 631.5159,-112.4844"/>
<text text-anchor="middle" x="549.8047" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">becomeLeaderOrFollower</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;createLogIfNotExists -->
<g id="edge11" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M568.2763,-76.3796C589.9742,-56.5032 628.0631,-25.7797 667.6602,-13.4844 798.5998,27.1735 959.5406,-35.7258 1035.6039,-71.8942"/>
<polygon fill="#000000" stroke="#000000" points="1034.3618,-75.1811 1044.8888,-76.3781 1037.4059,-68.8776 1034.3618,-75.1811"/>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;allPartitions -->
<g id="edge12" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M606.5541,-76.353C626.1535,-70.091 647.9938,-63.113 667.1631,-56.9884"/>
<polygon fill="#000000" stroke="#000000" points="668.4575,-60.2492 676.918,-53.8718 666.3271,-53.5813 668.4575,-60.2492"/>
</g>
<!-- makeFollowers -->
<g id="node14" class="node">
<title>makeFollowers</title>
<polygon fill="none" stroke="#000000" points="770.1367,-112.4844 667.501,-112.4844 667.501,-76.4844 770.1367,-76.4844 770.1367,-112.4844"/>
<text text-anchor="middle" x="718.8188" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollowers</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeFollowers -->
<g id="edge13" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeFollowers</title>
<path fill="none" stroke="#000000" d="M631.8363,-94.4844C640.352,-94.4844 648.9013,-94.4844 657.1379,-94.4844"/>
<polygon fill="#000000" stroke="#000000" points="657.3776,-97.9845 667.3775,-94.4844 657.3775,-90.9845 657.3776,-97.9845"/>
</g>
<!-- makeLeaders -->
<g id="node15" class="node">
<title>makeLeaders</title>
<polygon fill="none" stroke="#000000" points="763.9407,-166.4844 673.697,-166.4844 673.697,-130.4844 763.9407,-130.4844 763.9407,-166.4844"/>
<text text-anchor="middle" x="718.8188" y="-144.2844" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeaders</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeLeaders -->
<g id="edge16" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeLeaders</title>
<path fill="none" stroke="#000000" d="M606.5541,-112.6159C625.0882,-118.5375 645.6261,-125.0993 664.0142,-130.9744"/>
<polygon fill="#000000" stroke="#000000" points="663.1053,-134.3582 673.6962,-134.0677 665.2358,-127.6903 663.1053,-134.3582"/>
</g>
<!-- makeFollowers&#45;&gt;makeFollower -->
<g id="edge14" class="edge">
<title>makeFollowers&#45;&gt;makeFollower</title>
<path fill="none" stroke="#000000" d="M770.346,-94.4844C789.6973,-94.4844 811.8345,-94.4844 831.7944,-94.4844"/>
<polygon fill="#000000" stroke="#000000" points="832.0074,-97.9845 842.0074,-94.4844 832.0074,-90.9845 832.0074,-97.9845"/>
</g>
<!-- makeFollowers&#45;&gt;createLogIfNotExists -->
<g id="edge15" class="edge">
<title>makeFollowers&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M763.3685,-76.4416C774.4902,-72.7345 786.5179,-69.385 797.9775,-67.4844 875.6539,-54.6016 897.0305,-57.5346 975.1367,-67.4844 986.7287,-68.9611 998.8746,-71.3261 1010.6131,-74.0576"/>
<polygon fill="#000000" stroke="#000000" points="1009.8126,-77.4649 1020.3565,-76.4268 1011.4666,-70.6631 1009.8126,-77.4649"/>
</g>
<!-- makeLeaders&#45;&gt;makeLeader -->
<g id="edge17" class="edge">
<title>makeLeaders&#45;&gt;makeLeader</title>
<path fill="none" stroke="#000000" d="M763.9411,-148.4844C786.5359,-148.4844 814.0307,-148.4844 837.6185,-148.4844"/>
<polygon fill="#000000" stroke="#000000" points="837.805,-151.9845 847.8049,-148.4844 837.8049,-144.9845 837.805,-151.9845"/>
</g>
<!-- alterReplicaLogDirs -->
<g id="node16" class="node">
<title>alterReplicaLogDirs</title>
<polygon fill="none" stroke="#000000" points="615.0951,-166.4844 484.5143,-166.4844 484.5143,-130.4844 615.0951,-130.4844 615.0951,-166.4844"/>
<text text-anchor="middle" x="549.8047" y="-144.2844" font-family="Times,serif" font-size="14.00" fill="#000000">alterReplicaLogDirs</text>
</g>
<!-- alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica -->
<g id="edge18" class="edge">
<title>alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica</title>
<path fill="none" stroke="#000000" d="M615.0135,-164.7043C632.0747,-168.5956 650.4973,-172.4874 667.6602,-175.4844 709.5198,-182.7939 756.1471,-188.7741 795.8914,-193.2317"/>
<polygon fill="#000000" stroke="#000000" points="795.5163,-196.7115 805.8404,-194.3321 796.2858,-189.7539 795.5163,-196.7115"/>
</g>
<!-- handle -->
<g id="node17" class="node">
<title>handle</title>
<polygon fill="none" stroke="#000000" points="16,-96.6845 16,-146.2844 179.3418,-146.2844 179.3418,-96.6845 16,-96.6845"/>
<text text-anchor="middle" x="97.6709" y="-131.0844" font-family="Times,serif" font-size="14.00" fill="#000000">handle</text>
<polyline fill="none" stroke="#000000" points="16,-124.2844 179.3418,-124.2844 "/>
<text text-anchor="start" x="24" y="-109.0844" font-family="Times,serif" font-size="14.00" fill="#000000">KafkaServer api处理入口</text>
</g>
<!-- handleLeaderAndIsrRequest -->
<g id="node18" class="node">
<title>handleLeaderAndIsrRequest</title>
<polygon fill="none" stroke="#000000" points="411.8048,-112.4844 235.4863,-112.4844 235.4863,-76.4844 411.8048,-76.4844 411.8048,-112.4844"/>
<text text-anchor="middle" x="323.6455" y="-90.2844" font-family="Times,serif" font-size="14.00" fill="#000000">handleLeaderAndIsrRequest</text>
</g>
<!-- handle&#45;&gt;handleLeaderAndIsrRequest -->
<g id="edge19" class="edge">
<title>handle&#45;&gt;handleLeaderAndIsrRequest</title>
<path fill="none" stroke="#000000" d="M179.5724,-111.6986C194.4926,-109.9159 210.1971,-108.0395 225.5297,-106.2075"/>
<polygon fill="#000000" stroke="#000000" points="226.0256,-109.6733 235.5397,-105.0115 225.1951,-102.7227 226.0256,-109.6733"/>
</g>
<!-- handleAlterReplicaLogDirsRequest -->
<g id="node19" class="node">
<title>handleAlterReplicaLogDirsRequest</title>
<polygon fill="none" stroke="#000000" points="431.7533,-166.4844 215.5377,-166.4844 215.5377,-130.4844 431.7533,-130.4844 431.7533,-166.4844"/>
<text text-anchor="middle" x="323.6455" y="-144.2844" font-family="Times,serif" font-size="14.00" fill="#000000">handleAlterReplicaLogDirsRequest</text>
</g>
<!-- handle&#45;&gt;handleAlterReplicaLogDirsRequest -->
<g id="edge20" class="edge">
<title>handle&#45;&gt;handleAlterReplicaLogDirsRequest</title>
<path fill="none" stroke="#000000" d="M179.5724,-131.2702C187.9246,-132.2682 196.5225,-133.2955 205.1633,-134.3279"/>
<polygon fill="#000000" stroke="#000000" points="204.9699,-137.8296 215.3146,-135.5408 205.8004,-130.879 204.9699,-137.8296"/>
</g>
<!-- handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower -->
<g id="edge21" class="edge">
<title>handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower</title>
<path fill="none" stroke="#000000" d="M411.7321,-94.4844C426.7471,-94.4844 442.381,-94.4844 457.5016,-94.4844"/>
<polygon fill="#000000" stroke="#000000" points="457.8738,-97.9845 467.8738,-94.4844 457.8737,-90.9845 457.8738,-97.9845"/>
</g>
<!-- handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs -->
<g id="edge22" class="edge">
<title>handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs</title>
<path fill="none" stroke="#000000" d="M431.7572,-148.4844C446.1465,-148.4844 460.6433,-148.4844 474.3131,-148.4844"/>
<polygon fill="#000000" stroke="#000000" points="474.5899,-151.9845 484.5898,-148.4844 474.5898,-144.9845 474.5899,-151.9845"/>
</g>
</g>
</svg>
