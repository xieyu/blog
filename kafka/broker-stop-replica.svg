<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: brokerStopReplica Pages: 1 -->
<svg width="939pt" height="285pt"
 viewBox="0.00 0.00 938.88 285.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 281)">
<title>brokerStopReplica</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-281 934.8838,-281 934.8838,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_BorkerServer</title>
<path fill="none" stroke="#000000" d="M208.6484,-8C208.6484,-8 912.8838,-8 912.8838,-8 918.8838,-8 924.8838,-14 924.8838,-20 924.8838,-20 924.8838,-257 924.8838,-257 924.8838,-263 918.8838,-269 912.8838,-269 912.8838,-269 208.6484,-269 208.6484,-269 202.6484,-269 196.6484,-263 196.6484,-257 196.6484,-257 196.6484,-20 196.6484,-20 196.6484,-14 202.6484,-8 208.6484,-8"/>
<text text-anchor="middle" x="560.7661" y="-249" font-family="Times,serif" font-size="20.00" fill="#000000">BorkerServer</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_LogManager</title>
<path fill="none" stroke="#000000" d="M809.8838,-139C809.8838,-139 904.8838,-139 904.8838,-139 910.8838,-139 916.8838,-145 916.8838,-151 916.8838,-151 916.8838,-221 916.8838,-221 916.8838,-227 910.8838,-233 904.8838,-233 904.8838,-233 809.8838,-233 809.8838,-233 803.8838,-233 797.8838,-227 797.8838,-221 797.8838,-221 797.8838,-151 797.8838,-151 797.8838,-145 803.8838,-139 809.8838,-139"/>
<text text-anchor="middle" x="857.3838" y="-213" font-family="Times,serif" font-size="20.00" fill="#000000">LogManager</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ReplicaManager</title>
<path fill="none" stroke="#000000" d="M419.5039,-16C419.5039,-16 757.8838,-16 757.8838,-16 763.8838,-16 769.8838,-22 769.8838,-28 769.8838,-28 769.8838,-221 769.8838,-221 769.8838,-227 763.8838,-233 757.8838,-233 757.8838,-233 419.5039,-233 419.5039,-233 413.5039,-233 407.5039,-227 407.5039,-221 407.5039,-221 407.5039,-28 407.5039,-28 407.5039,-22 413.5039,-16 419.5039,-16"/>
<text text-anchor="middle" x="588.6938" y="-213" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_KafkaApi</title>
<path fill="none" stroke="#000000" d="M216.6484,-92C216.6484,-92 375.5039,-92 375.5039,-92 381.5039,-92 387.5039,-98 387.5039,-104 387.5039,-104 387.5039,-160 387.5039,-160 387.5039,-166 381.5039,-172 375.5039,-172 375.5039,-172 216.6484,-172 216.6484,-172 210.6484,-172 204.6484,-166 204.6484,-160 204.6484,-160 204.6484,-104 204.6484,-104 204.6484,-98 210.6484,-92 216.6484,-92"/>
<text text-anchor="middle" x="296.0762" y="-152" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_Controller</title>
<path fill="none" stroke="#000000" d="M20,-92C20,-92 172.6484,-92 172.6484,-92 178.6484,-92 184.6484,-98 184.6484,-104 184.6484,-104 184.6484,-160 184.6484,-160 184.6484,-166 178.6484,-172 172.6484,-172 172.6484,-172 20,-172 20,-172 14,-172 8,-166 8,-160 8,-160 8,-104 8,-104 8,-98 14,-92 20,-92"/>
<text text-anchor="middle" x="96.3242" y="-152" font-family="Times,serif" font-size="20.00" fill="#000000">Controller</text>
</g>
<!-- asyncDelete -->
<g id="node1" class="node">
<title>asyncDelete</title>
<polygon fill="none" stroke="#000000" points="806.8838,-147.2 806.8838,-196.8 906.8838,-196.8 906.8838,-147.2 806.8838,-147.2"/>
<text text-anchor="middle" x="856.8838" y="-181.6" font-family="Times,serif" font-size="14.00" fill="#000000">asyncDelete</text>
<polyline fill="none" stroke="#000000" points="806.8838,-174.8 906.8838,-174.8 "/>
<text text-anchor="middle" x="856.8838" y="-159.6" font-family="Times,serif" font-size="14.00" fill="#000000">异步删除日志</text>
</g>
<!-- stopReplicas -->
<g id="node2" class="node">
<title>stopReplicas</title>
<polygon fill="none" stroke="#000000" points="502.8225,-136 415.7303,-136 415.7303,-100 502.8225,-100 502.8225,-136"/>
<text text-anchor="middle" x="459.2764" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">stopReplicas</text>
</g>
<!-- fetcher_removeFetcherForPartitions -->
<g id="node3" class="node">
<title>fetcher_removeFetcherForPartitions</title>
<polygon fill="none" stroke="#000000" points="541.0005,-24.2 541.0005,-73.8 759.9321,-73.8 759.9321,-24.2 541.0005,-24.2"/>
<text text-anchor="middle" x="650.4663" y="-58.6" font-family="Times,serif" font-size="14.00" fill="#000000">fetcher_removeFetcherForPartitions</text>
<polyline fill="none" stroke="#000000" points="541.0005,-51.8 759.9321,-51.8 "/>
<text text-anchor="start" x="549.0005" y="-36.6" font-family="Times,serif" font-size="14.00" fill="#000000">去掉partion follower的fetch线程</text>
</g>
<!-- stopReplicas&#45;&gt;fetcher_removeFetcherForPartitions -->
<g id="edge1" class="edge">
<title>stopReplicas&#45;&gt;fetcher_removeFetcherForPartitions</title>
<path fill="none" stroke="#000000" d="M499.5484,-99.9227C512.0984,-94.5367 526.0554,-88.7966 539.0488,-84 545.3108,-81.6884 551.8048,-79.3925 558.3676,-77.1465"/>
<polygon fill="#000000" stroke="#000000" points="559.6548,-80.4062 568.0131,-73.8955 557.419,-73.7728 559.6548,-80.4062"/>
</g>
<!-- alterlog_removeFetcherForPartitions -->
<g id="node4" class="node">
<title>alterlog_removeFetcherForPartitions</title>
<polygon fill="none" stroke="#000000" points="539.0488,-93.2 539.0488,-142.8 761.8838,-142.8 761.8838,-93.2 539.0488,-93.2"/>
<text text-anchor="middle" x="650.4663" y="-127.6" font-family="Times,serif" font-size="14.00" fill="#000000">alterlog_removeFetcherForPartitions</text>
<polyline fill="none" stroke="#000000" points="539.0488,-120.8 761.8838,-120.8 "/>
<text text-anchor="start" x="547.0488" y="-105.6" font-family="Times,serif" font-size="14.00" fill="#000000">去掉更换日志的fetcher线程</text>
</g>
<!-- stopReplicas&#45;&gt;alterlog_removeFetcherForPartitions -->
<g id="edge2" class="edge">
<title>stopReplicas&#45;&gt;alterlog_removeFetcherForPartitions</title>
<path fill="none" stroke="#000000" d="M503.1392,-118C511.0691,-118 519.6787,-118 528.6205,-118"/>
<polygon fill="#000000" stroke="#000000" points="528.8387,-121.5001 538.8386,-118 528.8386,-114.5001 528.8387,-121.5001"/>
</g>
<!-- stopReplica -->
<g id="node5" class="node">
<title>stopReplica</title>
<polygon fill="none" stroke="#000000" points="691.563,-197 609.3696,-197 609.3696,-161 691.563,-161 691.563,-197"/>
<text text-anchor="middle" x="650.4663" y="-174.8" font-family="Times,serif" font-size="14.00" fill="#000000">stopReplica</text>
</g>
<!-- stopReplicas&#45;&gt;stopReplica -->
<g id="edge3" class="edge">
<title>stopReplicas&#45;&gt;stopReplica</title>
<path fill="none" stroke="#000000" d="M498.1384,-136.085C510.989,-141.6535 525.4742,-147.4967 539.0488,-152 558.4244,-158.4278 580.1591,-164.0391 599.2524,-168.4563"/>
<polygon fill="#000000" stroke="#000000" points="598.7362,-171.9279 609.262,-170.72 600.2804,-165.1003 598.7362,-171.9279"/>
</g>
<!-- stopReplica&#45;&gt;asyncDelete -->
<g id="edge4" class="edge">
<title>stopReplica&#45;&gt;asyncDelete</title>
<path fill="none" stroke="#000000" d="M691.7419,-177.6003C721.7027,-176.5842 762.7132,-175.1935 796.3699,-174.0521"/>
<polygon fill="#000000" stroke="#000000" points="796.683,-177.5436 806.5586,-173.7066 796.4457,-170.5477 796.683,-177.5436"/>
</g>
<!-- handleStopReplicaRequest -->
<g id="node6" class="node">
<title>handleStopReplicaRequest</title>
<polygon fill="none" stroke="#000000" points="379.4317,-136 212.7206,-136 212.7206,-100 379.4317,-100 379.4317,-136"/>
<text text-anchor="middle" x="296.0762" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleStopReplicaRequest</text>
</g>
<!-- handleStopReplicaRequest&#45;&gt;stopReplicas -->
<g id="edge5" class="edge">
<title>handleStopReplicaRequest&#45;&gt;stopReplicas</title>
<path fill="none" stroke="#000000" d="M379.5886,-118C388.301,-118 396.9842,-118 405.2408,-118"/>
<polygon fill="#000000" stroke="#000000" points="405.4411,-121.5001 415.4411,-118 405.4411,-114.5001 405.4411,-121.5001"/>
</g>
<!-- sendStopReplicaRequests -->
<g id="node7" class="node">
<title>sendStopReplicaRequests</title>
<polygon fill="none" stroke="#000000" points="176.473,-136 16.1754,-136 16.1754,-100 176.473,-100 176.473,-136"/>
<text text-anchor="middle" x="96.3242" y="-113.8" font-family="Times,serif" font-size="14.00" fill="#000000">sendStopReplicaRequests</text>
</g>
<!-- sendStopReplicaRequests&#45;&gt;handleStopReplicaRequest -->
<g id="edge6" class="edge">
<title>sendStopReplicaRequests&#45;&gt;handleStopReplicaRequest</title>
<path fill="none" stroke="#000000" d="M176.7075,-118C185.2008,-118 193.8897,-118 202.5155,-118"/>
<polygon fill="#000000" stroke="#000000" points="202.597,-121.5001 212.597,-118 202.5969,-114.5001 202.597,-121.5001"/>
</g>
</g>
</svg>
