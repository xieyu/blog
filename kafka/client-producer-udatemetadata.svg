<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: producer_update_metadata Pages: 1 -->
<svg width="2424pt" height="1615pt"
 viewBox="0.00 0.00 2424.07 1615.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1611)">
<title>producer_update_metadata</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1611 2420.0742,-1611 2420.0742,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Cluster</title>
<path fill="none" stroke="#000000" d="M556.1499,-8C556.1499,-8 663.6948,-8 663.6948,-8 669.6948,-8 675.6948,-14 675.6948,-20 675.6948,-20 675.6948,-76 675.6948,-76 675.6948,-82 669.6948,-88 663.6948,-88 663.6948,-88 556.1499,-88 556.1499,-88 550.1499,-88 544.1499,-82 544.1499,-76 544.1499,-76 544.1499,-20 544.1499,-20 544.1499,-14 550.1499,-8 556.1499,-8"/>
<text text-anchor="middle" x="609.9224" y="-68" font-family="Times,serif" font-size="20.00" fill="#000000">Cluster</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_MetaDataCache</title>
<path fill="none" stroke="#000000" d="M347.7607,-96C347.7607,-96 2396.0742,-96 2396.0742,-96 2402.0742,-96 2408.0742,-102 2408.0742,-108 2408.0742,-108 2408.0742,-262 2408.0742,-262 2408.0742,-268 2402.0742,-274 2396.0742,-274 2396.0742,-274 347.7607,-274 347.7607,-274 341.7607,-274 335.7607,-268 335.7607,-262 335.7607,-262 335.7607,-108 335.7607,-108 335.7607,-102 341.7607,-96 347.7607,-96"/>
<text text-anchor="middle" x="1371.9175" y="-254" font-family="Times,serif" font-size="20.00" fill="#000000">MetaDataCache</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_NetworkClient</title>
<path fill="none" stroke="#000000" d="M586.9224,-1315C586.9224,-1315 1799.3701,-1315 1799.3701,-1315 1805.3701,-1315 1811.3701,-1321 1811.3701,-1327 1811.3701,-1327 1811.3701,-1587 1811.3701,-1587 1811.3701,-1593 1805.3701,-1599 1799.3701,-1599 1799.3701,-1599 586.9224,-1599 586.9224,-1599 580.9224,-1599 574.9224,-1593 574.9224,-1587 574.9224,-1587 574.9224,-1327 574.9224,-1327 574.9224,-1321 580.9224,-1315 586.9224,-1315"/>
<text text-anchor="middle" x="1193.1462" y="-1579" font-family="Times,serif" font-size="20.00" fill="#000000">NetworkClient</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_DefaultMetaDatUpdater</title>
<path fill="none" stroke="#000000" d="M773.2925,-1323C773.2925,-1323 1791.3701,-1323 1791.3701,-1323 1797.3701,-1323 1803.3701,-1329 1803.3701,-1335 1803.3701,-1335 1803.3701,-1493 1803.3701,-1493 1803.3701,-1499 1797.3701,-1505 1791.3701,-1505 1791.3701,-1505 773.2925,-1505 773.2925,-1505 767.2925,-1505 761.2925,-1499 761.2925,-1493 761.2925,-1493 761.2925,-1335 761.2925,-1335 761.2925,-1329 767.2925,-1323 773.2925,-1323"/>
<text text-anchor="middle" x="1282.3313" y="-1485" font-family="Times,serif" font-size="20.00" fill="#000000">DefaultMetaDatUpdater</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ProducerMetadata</title>
<path fill="none" stroke="#000000" d="M144.8623,-282C144.8623,-282 2386.2461,-282 2386.2461,-282 2392.2461,-282 2398.2461,-288 2398.2461,-294 2398.2461,-294 2398.2461,-1119 2398.2461,-1119 2398.2461,-1125 2392.2461,-1131 2386.2461,-1131 2386.2461,-1131 144.8623,-1131 144.8623,-1131 138.8623,-1131 132.8623,-1125 132.8623,-1119 132.8623,-1119 132.8623,-294 132.8623,-294 132.8623,-288 138.8623,-282 144.8623,-282"/>
<text text-anchor="middle" x="1265.5542" y="-1111" font-family="Times,serif" font-size="20.00" fill="#000000">ProducerMetadata</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_MetaData</title>
<path fill="none" stroke="#000000" d="M152.8623,-354C152.8623,-354 2378.2461,-354 2378.2461,-354 2384.2461,-354 2390.2461,-360 2390.2461,-366 2390.2461,-366 2390.2461,-897 2390.2461,-897 2390.2461,-903 2384.2461,-909 2378.2461,-909 2378.2461,-909 152.8623,-909 152.8623,-909 146.8623,-909 140.8623,-903 140.8623,-897 140.8623,-897 140.8623,-366 140.8623,-366 140.8623,-360 146.8623,-354 152.8623,-354"/>
<text text-anchor="middle" x="1265.5542" y="-889" font-family="Times,serif" font-size="20.00" fill="#000000">MetaData</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_KafkaProducer</title>
<path fill="none" stroke="#000000" d="M20,-1139C20,-1139 653.9673,-1139 653.9673,-1139 659.9673,-1139 665.9673,-1145 665.9673,-1151 665.9673,-1151 665.9673,-1295 665.9673,-1295 665.9673,-1301 659.9673,-1307 653.9673,-1307 653.9673,-1307 20,-1307 20,-1307 14,-1307 8,-1301 8,-1295 8,-1295 8,-1151 8,-1151 8,-1145 14,-1139 20,-1139"/>
<text text-anchor="middle" x="336.9836" y="-1287" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaProducer</text>
</g>
<!-- Cluster_bootstrap -->
<g id="node1" class="node">
<title>Cluster_bootstrap</title>
<polygon fill="none" stroke="#000000" points="667.4682,-52 552.3765,-52 552.3765,-16 667.4682,-16 667.4682,-52"/>
<text text-anchor="middle" x="609.9224" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cluster_bootstrap</text>
</g>
<!-- clusterInstance -->
<g id="node4" class="node">
<title>clusterInstance</title>
<polygon fill="none" stroke="#000000" points="866.124,-151 766.206,-151 766.206,-115 866.124,-115 866.124,-151"/>
<text text-anchor="middle" x="816.165" y="-128.8" font-family="Times,serif" font-size="14.00" fill="#000000">clusterInstance</text>
</g>
<!-- Cluster_bootstrap&#45;&gt;clusterInstance -->
<g id="edge12" class="edge">
<title>Cluster_bootstrap&#45;&gt;clusterInstance</title>
<path fill="none" stroke="#000000" d="M647.7504,-52.1581C682.056,-68.6254 732.739,-92.9541 769.5385,-110.6185"/>
<polygon fill="#000000" stroke="#000000" points="768.047,-113.7848 778.5768,-114.957 771.0762,-107.4742 768.047,-113.7848"/>
</g>
<!-- MetadataCache -->
<g id="node2" class="node">
<title>MetadataCache</title>
<polygon fill="none" stroke="#000000" points="2202.457,-105 2202.457,-237 2400.0742,-237 2400.0742,-105 2202.457,-105"/>
<text text-anchor="middle" x="2301.2656" y="-221.8" font-family="Times,serif" font-size="14.00" fill="#000000">MetadataCache</text>
<polyline fill="none" stroke="#000000" points="2202.457,-215 2400.0742,-215 "/>
<text text-anchor="start" x="2210.457" y="-199.8" font-family="Times,serif" font-size="14.00" fill="#000000">String clusterId</text>
<polyline fill="none" stroke="#000000" points="2202.457,-193 2400.0742,-193 "/>
<text text-anchor="start" x="2210.457" y="-177.8" font-family="Times,serif" font-size="14.00" fill="#000000">List&lt;Node&gt; nodes</text>
<polyline fill="none" stroke="#000000" points="2202.457,-171 2400.0742,-171 "/>
<text text-anchor="start" x="2210.457" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">Set&lt;String&gt; unauthorizedTopics</text>
<polyline fill="none" stroke="#000000" points="2202.457,-149 2400.0742,-149 "/>
<text text-anchor="start" x="2210.457" y="-133.8" font-family="Times,serif" font-size="14.00" fill="#000000">Set&lt;String&gt; invalidTopics;</text>
<polyline fill="none" stroke="#000000" points="2202.457,-127 2400.0742,-127 "/>
<text text-anchor="start" x="2210.457" y="-111.8" font-family="Times,serif" font-size="14.00" fill="#000000">Set&lt;String&gt; internalTopics;</text>
</g>
<!-- cache_cluster -->
<g id="node3" class="node">
<title>cache_cluster</title>
<polygon fill="none" stroke="#000000" points="656.0954,-227 563.7493,-227 563.7493,-191 656.0954,-191 656.0954,-227"/>
<text text-anchor="middle" x="609.9224" y="-204.8" font-family="Times,serif" font-size="14.00" fill="#000000">cache_cluster</text>
</g>
<!-- cache_cluster&#45;&gt;clusterInstance -->
<g id="edge1" class="edge">
<title>cache_cluster&#45;&gt;clusterInstance</title>
<path fill="none" stroke="#000000" d="M656.2072,-191.9441C686.1284,-180.9182 725.3335,-166.4712 757.4412,-154.6396"/>
<polygon fill="#000000" stroke="#000000" points="758.9867,-157.8002 767.1597,-151.0584 756.5663,-151.232 758.9867,-157.8002"/>
</g>
<!-- computeClusterView -->
<g id="node5" class="node">
<title>computeClusterView</title>
<polygon fill="none" stroke="#000000" points="677.0611,-151 542.7836,-151 542.7836,-115 677.0611,-115 677.0611,-151"/>
<text text-anchor="middle" x="609.9224" y="-128.8" font-family="Times,serif" font-size="14.00" fill="#000000">computeClusterView</text>
</g>
<!-- computeClusterView&#45;&gt;clusterInstance -->
<g id="edge2" class="edge">
<title>computeClusterView&#45;&gt;clusterInstance</title>
<path fill="none" stroke="#000000" d="M677.1685,-133C702.4712,-133 731.0658,-133 755.7122,-133"/>
<polygon fill="#000000" stroke="#000000" points="756.0122,-136.5001 766.0122,-133 756.0121,-129.5001 756.0122,-136.5001"/>
</g>
<!-- cache_bootstrap -->
<g id="node6" class="node">
<title>cache_bootstrap</title>
<polygon fill="none" stroke="#000000" points="450.6992,-189 343.7812,-189 343.7812,-153 450.6992,-153 450.6992,-189"/>
<text text-anchor="middle" x="397.2402" y="-166.8" font-family="Times,serif" font-size="14.00" fill="#000000">cache_bootstrap</text>
</g>
<!-- cache_bootstrap&#45;&gt;Cluster_bootstrap -->
<g id="edge3" class="edge">
<title>cache_bootstrap&#45;&gt;Cluster_bootstrap</title>
<path fill="none" stroke="#000000" d="M425.4828,-152.8075C463.5654,-128.2764 531.4297,-84.5613 573.3665,-57.5476"/>
<polygon fill="#000000" stroke="#000000" points="575.3903,-60.4073 581.9018,-52.0496 571.5995,-54.5225 575.3903,-60.4073"/>
</g>
<!-- leastLoadedNode -->
<g id="node7" class="node">
<title>leastLoadedNode</title>
<polygon fill="none" stroke="#000000" points="964.9395,-1331.2 964.9395,-1380.8 1106.1533,-1380.8 1106.1533,-1331.2 964.9395,-1331.2"/>
<text text-anchor="middle" x="1035.5464" y="-1365.6" font-family="Times,serif" font-size="14.00" fill="#000000">leastLoadedNode</text>
<polyline fill="none" stroke="#000000" points="964.9395,-1358.8 1106.1533,-1358.8 "/>
<text text-anchor="start" x="972.9395" y="-1343.6" font-family="Times,serif" font-size="14.00" fill="#000000">找到可以连接的node</text>
</g>
<!-- maybeUpdate2 -->
<g id="node8" class="node">
<title>maybeUpdate2</title>
<polygon fill="none" stroke="#000000" points="932.4756,-1400.2 932.4756,-1449.8 1138.6172,-1449.8 1138.6172,-1400.2 932.4756,-1400.2"/>
<text text-anchor="middle" x="1035.5464" y="-1434.6" font-family="Times,serif" font-size="14.00" fill="#000000">maybeUpdate</text>
<polyline fill="none" stroke="#000000" points="932.4756,-1427.8 1138.6172,-1427.8 "/>
<text text-anchor="middle" x="1035.5464" y="-1412.6" font-family="Times,serif" font-size="14.00" fill="#000000">构建reuest并 向该node发送请求</text>
</g>
<!-- canSendRequest -->
<g id="node9" class="node">
<title>canSendRequest</title>
<polygon fill="none" stroke="#000000" points="1222.0483,-1331.4001 1222.0483,-1400.5999 1330.5796,-1400.5999 1330.5796,-1331.4001 1222.0483,-1331.4001"/>
<text text-anchor="middle" x="1276.314" y="-1385.3999" font-family="Times,serif" font-size="14.00" fill="#000000">canSendRequest</text>
<polyline fill="none" stroke="#000000" points="1222.0483,-1378.5999 1330.5796,-1378.5999 "/>
<text text-anchor="start" x="1230.0483" y="-1363.3999" font-family="Times,serif" font-size="14.00" fill="#000000">检查node是否</text>
<text text-anchor="start" x="1230.0483" y="-1343.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 可以发送请求</text>
</g>
<!-- maybeUpdate2&#45;&gt;canSendRequest -->
<g id="edge6" class="edge">
<title>maybeUpdate2&#45;&gt;canSendRequest</title>
<path fill="none" stroke="#000000" d="M1136.9557,-1400.1497C1162.3682,-1393.9224 1188.9379,-1387.4115 1211.9804,-1381.7649"/>
<polygon fill="#000000" stroke="#000000" points="1213.0836,-1385.0982 1221.9632,-1379.3186 1211.4175,-1378.2994 1213.0836,-1385.0982"/>
</g>
<!-- sendInternalMetadataRequest -->
<g id="node11" class="node">
<title>sendInternalMetadataRequest</title>
<polygon fill="none" stroke="#000000" points="1185.124,-1419.2 1185.124,-1468.8 1367.5039,-1468.8 1367.5039,-1419.2 1185.124,-1419.2"/>
<text text-anchor="middle" x="1276.314" y="-1453.6" font-family="Times,serif" font-size="14.00" fill="#000000">sendInternalMetadataRequest</text>
<polyline fill="none" stroke="#000000" points="1185.124,-1446.8 1367.5039,-1446.8 "/>
<text text-anchor="start" x="1193.124" y="-1431.6" font-family="Times,serif" font-size="14.00" fill="#000000">发送获取metadata请求</text>
</g>
<!-- maybeUpdate2&#45;&gt;sendInternalMetadataRequest -->
<g id="edge7" class="edge">
<title>maybeUpdate2&#45;&gt;sendInternalMetadataRequest</title>
<path fill="none" stroke="#000000" d="M1138.7013,-1433.1404C1150.5473,-1434.0752 1162.6205,-1435.028 1174.4494,-1435.9614"/>
<polygon fill="#000000" stroke="#000000" points="1174.5253,-1439.4782 1184.7697,-1436.7758 1175.076,-1432.4999 1174.5253,-1439.4782"/>
</g>
<!-- newMetadataRequestAndVersion -->
<g id="node20" class="node">
<title>newMetadataRequestAndVersion</title>
<polygon fill="none" stroke="#000000" points="1378.2079,-635 1174.42,-635 1174.42,-599 1378.2079,-599 1378.2079,-635"/>
<text text-anchor="middle" x="1276.314" y="-612.8" font-family="Times,serif" font-size="14.00" fill="#000000">newMetadataRequestAndVersion</text>
</g>
<!-- maybeUpdate2&#45;&gt;newMetadataRequestAndVersion -->
<g id="edge14" class="edge">
<title>maybeUpdate2&#45;&gt;newMetadataRequestAndVersion</title>
<path fill="none" stroke="#000000" d="M1134.7016,-1399.9468C1136.0622,-1398.6927 1137.3696,-1397.3781 1138.6172,-1396 1190.56,-1338.6242 1257.7879,-778.3189 1273.1111,-645.2473"/>
<polygon fill="#000000" stroke="#000000" points="1276.6174,-645.3915 1274.2789,-635.058 1269.663,-644.5944 1276.6174,-645.3915"/>
</g>
<!-- maybeUpdate -->
<g id="node10" class="node">
<title>maybeUpdate</title>
<polygon fill="none" stroke="#000000" points="862.9105,-1374 769.4196,-1374 769.4196,-1338 862.9105,-1338 862.9105,-1374"/>
<text text-anchor="middle" x="816.165" y="-1351.8" font-family="Times,serif" font-size="14.00" fill="#000000">maybeUpdate</text>
</g>
<!-- maybeUpdate&#45;&gt;leastLoadedNode -->
<g id="edge4" class="edge">
<title>maybeUpdate&#45;&gt;leastLoadedNode</title>
<path fill="none" stroke="#000000" d="M862.9588,-1356C889.5276,-1356 923.5323,-1356 954.3223,-1356"/>
<polygon fill="#000000" stroke="#000000" points="954.6255,-1359.5001 964.6255,-1356 954.6254,-1352.5001 954.6255,-1359.5001"/>
</g>
<!-- maybeUpdate&#45;&gt;maybeUpdate2 -->
<g id="edge5" class="edge">
<title>maybeUpdate&#45;&gt;maybeUpdate2</title>
<path fill="none" stroke="#000000" d="M862.9362,-1372.7652C884.0825,-1380.1692 909.4435,-1388.8058 932.4756,-1396 933.7232,-1396.3897 934.98,-1396.7799 936.2446,-1397.1702"/>
<polygon fill="#000000" stroke="#000000" points="935.4821,-1400.5966 946.0679,-1400.1602 937.5205,-1393.8999 935.4821,-1400.5966"/>
</g>
<!-- doSend -->
<g id="node13" class="node">
<title>doSend</title>
<polygon fill="none" stroke="#000000" points="1467.2627,-1513.2 1467.2627,-1562.8 1539.2627,-1562.8 1539.2627,-1513.2 1467.2627,-1513.2"/>
<text text-anchor="middle" x="1503.2627" y="-1547.6" font-family="Times,serif" font-size="14.00" fill="#000000">doSend</text>
<polyline fill="none" stroke="#000000" points="1467.2627,-1540.8 1539.2627,-1540.8 "/>
<text text-anchor="start" x="1475.2627" y="-1525.6" font-family="Times,serif" font-size="14.00" fill="#000000">发送请求</text>
</g>
<!-- sendInternalMetadataRequest&#45;&gt;doSend -->
<g id="edge8" class="edge">
<title>sendInternalMetadataRequest&#45;&gt;doSend</title>
<path fill="none" stroke="#000000" d="M1336.2389,-1468.8204C1374.2913,-1484.5813 1422.7679,-1504.6598 1457.6825,-1519.1211"/>
<polygon fill="#000000" stroke="#000000" points="1456.5724,-1522.4496 1467.1506,-1523.0427 1459.2511,-1515.9824 1456.5724,-1522.4496"/>
</g>
<!-- handleSuccessfulResponse -->
<g id="node12" class="node">
<title>handleSuccessfulResponse</title>
<polygon fill="none" stroke="#000000" points="1628.5146,-1365.4001 1628.5146,-1434.5999 1795.3701,-1434.5999 1795.3701,-1365.4001 1628.5146,-1365.4001"/>
<text text-anchor="middle" x="1711.9424" y="-1419.3999" font-family="Times,serif" font-size="14.00" fill="#000000">handleSuccessfulResponse</text>
<polyline fill="none" stroke="#000000" points="1628.5146,-1412.5999 1795.3701,-1412.5999 "/>
<text text-anchor="start" x="1636.5146" y="-1397.3999" font-family="Times,serif" font-size="14.00" fill="#000000">收到服务端响应</text>
<text text-anchor="start" x="1636.5146" y="-1377.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 采用异步方式来处理</text>
</g>
<!-- metadata_update -->
<g id="node15" class="node">
<title>metadata_update</title>
<polygon fill="none" stroke="#000000" points="1831.3701,-776.2 1831.3701,-825.8 1953.8945,-825.8 1953.8945,-776.2 1831.3701,-776.2"/>
<text text-anchor="middle" x="1892.6323" y="-810.6" font-family="Times,serif" font-size="14.00" fill="#000000">update</text>
<polyline fill="none" stroke="#000000" points="1831.3701,-803.8 1953.8945,-803.8 "/>
<text text-anchor="middle" x="1892.6323" y="-788.6" font-family="Times,serif" font-size="14.00" fill="#000000">更新metadata数据</text>
</g>
<!-- handleSuccessfulResponse&#45;&gt;metadata_update -->
<g id="edge11" class="edge">
<title>handleSuccessfulResponse&#45;&gt;metadata_update</title>
<path fill="none" stroke="#000000" d="M1722.438,-1365.2061C1754.3649,-1259.3664 1850.0815,-942.0589 1882.0816,-835.9764"/>
<polygon fill="#000000" stroke="#000000" points="1885.5245,-836.6818 1885.0617,-826.0971 1878.8228,-834.6602 1885.5245,-836.6818"/>
</g>
<!-- doSend&#45;&gt;handleSuccessfulResponse -->
<g id="edge9" class="edge">
<title>doSend&#45;&gt;handleSuccessfulResponse</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1539.6119,-1513.9622C1570.3143,-1493.6588 1614.928,-1464.1557 1651.0694,-1440.2554"/>
<polygon fill="#000000" stroke="#000000" points="1653.1762,-1443.0583 1659.5867,-1434.6229 1649.315,-1437.2195 1653.1762,-1443.0583"/>
</g>
<!-- poll -->
<g id="node14" class="node">
<title>poll</title>
<polygon fill="none" stroke="#000000" points="636.9224,-1366 582.9224,-1366 582.9224,-1330 636.9224,-1330 636.9224,-1366"/>
<text text-anchor="middle" x="609.9224" y="-1343.8" font-family="Times,serif" font-size="14.00" fill="#000000">poll</text>
</g>
<!-- poll&#45;&gt;maybeUpdate -->
<g id="edge10" class="edge">
<title>poll&#45;&gt;maybeUpdate</title>
<path fill="none" stroke="#000000" d="M637.3098,-1349.0623C668.2553,-1350.2627 719.4799,-1352.2497 759.1965,-1353.7902"/>
<polygon fill="#000000" stroke="#000000" points="759.1576,-1357.2913 769.2858,-1354.1816 759.429,-1350.2965 759.1576,-1357.2913"/>
</g>
<!-- handleMetadataResponse -->
<g id="node22" class="node">
<title>handleMetadataResponse</title>
<polygon fill="none" stroke="#000000" points="1989.8945,-601.8002 1989.8945,-710.1998 2166.457,-710.1998 2166.457,-601.8002 1989.8945,-601.8002"/>
<text text-anchor="middle" x="2078.1758" y="-694.9998" font-family="Times,serif" font-size="14.00" fill="#000000">handleMetadataResponse</text>
<polyline fill="none" stroke="#000000" points="1989.8945,-688.1998 2166.457,-688.1998 "/>
<text text-anchor="start" x="1997.8945" y="-672.9998" font-family="Times,serif" font-size="14.00" fill="#000000">使用服务器数据</text>
<text text-anchor="start" x="1997.8945" y="-653.3999" font-family="Times,serif" font-size="14.00" fill="#000000"> 更新元数据</text>
<text text-anchor="start" x="1997.8945" y="-633.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 更新parition信息</text>
<text text-anchor="start" x="1997.8945" y="-614.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> 新创建一个MetadataCache</text>
</g>
<!-- metadata_update&#45;&gt;handleMetadataResponse -->
<g id="edge17" class="edge">
<title>metadata_update&#45;&gt;handleMetadataResponse</title>
<path fill="none" stroke="#000000" d="M1947.5574,-776.0629C1949.729,-774.7438 1951.8502,-773.3882 1953.8945,-772 1976.9531,-756.3418 1999.9116,-736.4507 2019.7061,-717.5804"/>
<polygon fill="#000000" stroke="#000000" points="2022.3698,-719.8738 2027.1313,-710.4092 2017.5068,-714.8387 2022.3698,-719.8738"/>
</g>
<!-- maybeSetMetadataError -->
<g id="node23" class="node">
<title>maybeSetMetadataError</title>
<polygon fill="none" stroke="#000000" points="2154.504,-765 2001.8476,-765 2001.8476,-729 2154.504,-729 2154.504,-765"/>
<text text-anchor="middle" x="2078.1758" y="-742.8" font-family="Times,serif" font-size="14.00" fill="#000000">maybeSetMetadataError</text>
</g>
<!-- metadata_update&#45;&gt;maybeSetMetadataError -->
<g id="edge18" class="edge">
<title>metadata_update&#45;&gt;maybeSetMetadataError</title>
<path fill="none" stroke="#000000" d="M1953.9004,-783.1687C1970.5774,-778.3151 1988.7957,-773.0129 2006.016,-768.0012"/>
<polygon fill="#000000" stroke="#000000" points="2007.397,-771.2445 2016.0206,-765.0895 2005.4409,-764.5234 2007.397,-771.2445"/>
</g>
<!-- lastSeenLeaderEpochs -->
<g id="node24" class="node">
<title>lastSeenLeaderEpochs</title>
<polygon fill="none" stroke="#000000" points="2149.4007,-819 2006.9509,-819 2006.9509,-783 2149.4007,-783 2149.4007,-819"/>
<text text-anchor="middle" x="2078.1758" y="-796.8" font-family="Times,serif" font-size="14.00" fill="#000000">lastSeenLeaderEpochs</text>
</g>
<!-- metadata_update&#45;&gt;lastSeenLeaderEpochs -->
<g id="edge19" class="edge">
<title>metadata_update&#45;&gt;lastSeenLeaderEpochs</title>
<path fill="none" stroke="#000000" d="M1953.9004,-801C1967.4908,-801 1982.1046,-801 1996.3678,-801"/>
<polygon fill="#000000" stroke="#000000" points="1996.6721,-804.5001 2006.6721,-801 1996.672,-797.5001 1996.6721,-804.5001"/>
</g>
<!-- clusterResourceListeners -->
<g id="node25" class="node">
<title>clusterResourceListeners</title>
<polygon fill="none" stroke="#000000" points="2156.4006,-873 1999.9509,-873 1999.9509,-837 2156.4006,-837 2156.4006,-873"/>
<text text-anchor="middle" x="2078.1758" y="-850.8" font-family="Times,serif" font-size="14.00" fill="#000000">clusterResourceListeners</text>
</g>
<!-- metadata_update&#45;&gt;clusterResourceListeners -->
<g id="edge20" class="edge">
<title>metadata_update&#45;&gt;clusterResourceListeners</title>
<path fill="none" stroke="#000000" d="M1953.9024,-821.9176C1965.7935,-825.7617 1978.1955,-829.6227 1989.8945,-833 1991.3172,-833.4107 1992.7542,-833.8208 1994.2023,-834.2299"/>
<polygon fill="#000000" stroke="#000000" points="1993.3209,-837.6175 2003.892,-836.9084 1995.186,-830.8705 1993.3209,-837.6175"/>
</g>
<!-- Metadata -->
<g id="node16" class="node">
<title>Metadata</title>
<polygon fill="#95e1d3" stroke="#000000" points="1999.7998,-363 1999.7998,-583 2156.5518,-583 2156.5518,-363 1999.7998,-363"/>
<text text-anchor="middle" x="2078.1758" y="-567.8" font-family="Times,serif" font-size="14.00" fill="#000000">Metadata</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-561 2156.5518,-561 "/>
<text text-anchor="start" x="2007.7998" y="-545.8" font-family="Times,serif" font-size="14.00" fill="#000000">log</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-539 2156.5518,-539 "/>
<text text-anchor="start" x="2007.7998" y="-523.8" font-family="Times,serif" font-size="14.00" fill="#000000">refreshBackoffMs</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-517 2156.5518,-517 "/>
<text text-anchor="start" x="2007.7998" y="-501.8" font-family="Times,serif" font-size="14.00" fill="#000000">metadataExpireMs</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-495 2156.5518,-495 "/>
<text text-anchor="start" x="2007.7998" y="-479.8" font-family="Times,serif" font-size="14.00" fill="#000000">lastSuccessfulRefreshMs</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-473 2156.5518,-473 "/>
<text text-anchor="start" x="2007.7998" y="-457.8" font-family="Times,serif" font-size="14.00" fill="#000000">requestVersion</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-451 2156.5518,-451 "/>
<text text-anchor="start" x="2007.7998" y="-435.8" font-family="Times,serif" font-size="14.00" fill="#000000">updateVersion</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-429 2156.5518,-429 "/>
<text text-anchor="start" x="2007.7998" y="-413.8" font-family="Times,serif" font-size="14.00" fill="#000000">clusterResourceListeners</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-407 2156.5518,-407 "/>
<text text-anchor="start" x="2007.7998" y="-391.8" font-family="Times,serif" font-size="14.00" fill="#000000">MetadataCache</text>
<polyline fill="none" stroke="#000000" points="1999.7998,-385 2156.5518,-385 "/>
<text text-anchor="middle" x="2078.1758" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- Metadata&#45;&gt;MetadataCache -->
<g id="edge24" class="edge">
<title>Metadata:cache&#45;&gt;MetadataCache</title>
<path fill="none" stroke="#000000" d="M2156.1758,-396C2174.3764,-396 2224.6204,-311.7698 2260.883,-246.3813"/>
<polygon fill="#000000" stroke="#000000" points="2264.1327,-247.7365 2265.9022,-237.2905 2258.0047,-244.3531 2264.1327,-247.7365"/>
</g>
<!-- metadata_fetch -->
<g id="node17" class="node">
<title>metadata_fetch</title>
<polygon fill="none" stroke="#000000" points="356.5815,-592.2 356.5815,-641.8 437.8989,-641.8 437.8989,-592.2 356.5815,-592.2"/>
<text text-anchor="middle" x="397.2402" y="-626.6" font-family="Times,serif" font-size="14.00" fill="#000000">fetch</text>
<polyline fill="none" stroke="#000000" points="356.5815,-619.8 437.8989,-619.8 "/>
<text text-anchor="middle" x="397.2402" y="-604.6" font-family="Times,serif" font-size="14.00" fill="#000000">获取cluster</text>
</g>
<!-- metadata_fetch&#45;&gt;cache_cluster -->
<g id="edge13" class="edge">
<title>metadata_fetch&#45;&gt;cache_cluster</title>
<path fill="none" stroke="#000000" d="M407.3168,-592.1538C427.0157,-544.3019 472.8404,-436.4423 519.9902,-350 542.4465,-308.8298 572.366,-263.4818 591.3917,-235.6169"/>
<polygon fill="#000000" stroke="#000000" points="594.3879,-237.4367 597.1629,-227.2117 588.6172,-233.4744 594.3879,-237.4367"/>
</g>
<!-- needUpdate -->
<g id="node18" class="node">
<title>needUpdate</title>
<polygon fill="#95e1d3" stroke="#000000" points="1076.902,-866 998.1908,-866 994.1908,-862 994.1908,-830 1072.902,-830 1076.902,-834 1076.902,-866"/>
<polyline fill="none" stroke="#000000" points="1072.902,-862 994.1908,-862 "/>
<polyline fill="none" stroke="#000000" points="1072.902,-862 1072.902,-830 "/>
<polyline fill="none" stroke="#000000" points="1072.902,-862 1076.902,-866 "/>
<text text-anchor="middle" x="1035.5464" y="-843.8" font-family="Times,serif" font-size="14.00" fill="#000000">needUpdate</text>
</g>
<!-- requestUpdate -->
<g id="node19" class="node">
<title>requestUpdate</title>
<polygon fill="none" stroke="#000000" points="735.8545,-823.2 735.8545,-872.8 896.4756,-872.8 896.4756,-823.2 735.8545,-823.2"/>
<text text-anchor="middle" x="816.165" y="-857.6" font-family="Times,serif" font-size="14.00" fill="#000000">requestUpdate</text>
<polyline fill="none" stroke="#000000" points="735.8545,-850.8 896.4756,-850.8 "/>
<text text-anchor="middle" x="816.165" y="-835.6" font-family="Times,serif" font-size="14.00" fill="#000000">将needUpdate标记为true</text>
</g>
<!-- requestUpdate&#45;&gt;needUpdate -->
<g id="edge16" class="edge">
<title>requestUpdate&#45;&gt;needUpdate</title>
<path fill="none" stroke="#000000" d="M896.6088,-848C925.7573,-848 957.8782,-848 983.8865,-848"/>
<polygon fill="#000000" stroke="#000000" points="983.8994,-851.5001 993.8994,-848 983.8994,-844.5001 983.8994,-851.5001"/>
</g>
<!-- newMetadataRequestBuilder -->
<g id="node35" class="node">
<title>newMetadataRequestBuilder</title>
<polygon fill="none" stroke="#000000" points="1592.2673,-346 1414.2581,-346 1414.2581,-310 1592.2673,-310 1592.2673,-346"/>
<text text-anchor="middle" x="1503.2627" y="-323.8" font-family="Times,serif" font-size="14.00" fill="#000000">newMetadataRequestBuilder</text>
</g>
<!-- newMetadataRequestAndVersion&#45;&gt;newMetadataRequestBuilder -->
<g id="edge31" class="edge">
<title>newMetadataRequestAndVersion&#45;&gt;newMetadataRequestBuilder</title>
<path fill="none" stroke="#000000" d="M1372.7403,-598.8211C1374.5551,-597.6228 1376.3152,-596.3505 1378.0107,-595 1455.732,-533.0947 1487.595,-411.6133 1498.4636,-356.4538"/>
<polygon fill="#000000" stroke="#000000" points="1501.9564,-356.8181 1500.3648,-346.3435 1495.0769,-355.5244 1501.9564,-356.8181"/>
</g>
<!-- requestUpdateForNewTopics -->
<g id="node21" class="node">
<title>requestUpdateForNewTopics</title>
<polygon fill="none" stroke="#000000" points="699.7867,-869 520.0581,-869 520.0581,-833 699.7867,-833 699.7867,-869"/>
<text text-anchor="middle" x="609.9224" y="-846.8" font-family="Times,serif" font-size="14.00" fill="#000000">requestUpdateForNewTopics</text>
</g>
<!-- requestUpdateForNewTopics&#45;&gt;requestUpdate -->
<g id="edge15" class="edge">
<title>requestUpdateForNewTopics&#45;&gt;requestUpdate</title>
<path fill="none" stroke="#000000" d="M700.0834,-849.6885C708.4829,-849.5663 716.999,-849.4425 725.404,-849.3202"/>
<polygon fill="#000000" stroke="#000000" points="725.6377,-852.8173 735.5857,-849.1721 725.5359,-845.818 725.6377,-852.8173"/>
</g>
<!-- handleMetadataResponse&#45;&gt;MetadataCache -->
<g id="edge26" class="edge">
<title>handleMetadataResponse&#45;&gt;MetadataCache</title>
<path fill="none" stroke="#000000" d="M2163.337,-601.581C2164.4308,-600.0857 2165.4728,-598.5587 2166.457,-597 2225.6852,-503.196 2167.0805,-455.1459 2202.457,-350 2214.5626,-314.0199 2233.7979,-276.8626 2252.0932,-245.7908"/>
<polygon fill="#000000" stroke="#000000" points="2255.1041,-247.5755 2257.2218,-237.1944 2249.0926,-243.989 2255.1041,-247.5755"/>
</g>
<!-- updatePartitionInfo -->
<g id="node30" class="node">
<title>updatePartitionInfo</title>
<polygon fill="none" stroke="#000000" points="2363.628,-620 2238.9032,-620 2238.9032,-584 2363.628,-584 2363.628,-620"/>
<text text-anchor="middle" x="2301.2656" y="-597.8" font-family="Times,serif" font-size="14.00" fill="#000000">updatePartitionInfo</text>
</g>
<!-- handleMetadataResponse&#45;&gt;updatePartitionInfo -->
<g id="edge27" class="edge">
<title>handleMetadataResponse&#45;&gt;updatePartitionInfo</title>
<path fill="none" stroke="#000000" d="M2166.6672,-634.5802C2187.2728,-629.5925 2208.9759,-624.3392 2228.7951,-619.5418"/>
<polygon fill="#000000" stroke="#000000" points="2229.7689,-622.9073 2238.6648,-617.1528 2228.122,-616.1038 2229.7689,-622.9073"/>
</g>
<!-- internalTopics -->
<g id="node31" class="node">
<title>internalTopics</title>
<polygon fill="none" stroke="#000000" points="2349.1505,-674 2253.3808,-674 2253.3808,-638 2349.1505,-638 2349.1505,-674"/>
<text text-anchor="middle" x="2301.2656" y="-651.8" font-family="Times,serif" font-size="14.00" fill="#000000">internalTopics</text>
</g>
<!-- handleMetadataResponse&#45;&gt;internalTopics -->
<g id="edge28" class="edge">
<title>handleMetadataResponse&#45;&gt;internalTopics</title>
<path fill="none" stroke="#000000" d="M2166.6672,-656C2192.4178,-656 2219.8823,-656 2243.2423,-656"/>
<polygon fill="#000000" stroke="#000000" points="2243.3244,-659.5001 2253.3243,-656 2243.3243,-652.5001 2243.3244,-659.5001"/>
</g>
<!-- clearRecoverableErrors -->
<g id="node26" class="node">
<title>clearRecoverableErrors</title>
<polygon fill="none" stroke="#000000" points="2375.4044,-728 2227.1269,-728 2227.1269,-692 2375.4044,-692 2375.4044,-728"/>
<text text-anchor="middle" x="2301.2656" y="-705.8" font-family="Times,serif" font-size="14.00" fill="#000000">clearRecoverableErrors</text>
</g>
<!-- maybeSetMetadataError&#45;&gt;clearRecoverableErrors -->
<g id="edge21" class="edge">
<title>maybeSetMetadataError&#45;&gt;clearRecoverableErrors</title>
<path fill="none" stroke="#000000" d="M2154.6385,-734.3185C2174.8001,-730.9746 2196.6641,-727.3484 2217.2024,-723.9421"/>
<polygon fill="#000000" stroke="#000000" points="2217.8726,-727.3788 2227.1652,-722.2897 2216.7272,-720.4732 2217.8726,-727.3788"/>
</g>
<!-- checkInvalidTopics -->
<g id="node27" class="node">
<title>checkInvalidTopics</title>
<polygon fill="none" stroke="#000000" points="2364.1892,-782 2238.3421,-782 2238.3421,-746 2364.1892,-746 2364.1892,-782"/>
<text text-anchor="middle" x="2301.2656" y="-759.8" font-family="Times,serif" font-size="14.00" fill="#000000">checkInvalidTopics</text>
</g>
<!-- maybeSetMetadataError&#45;&gt;checkInvalidTopics -->
<g id="edge22" class="edge">
<title>maybeSetMetadataError&#45;&gt;checkInvalidTopics</title>
<path fill="none" stroke="#000000" d="M2154.6385,-752.8267C2178.3712,-754.6351 2204.4628,-756.6234 2227.9745,-758.415"/>
<polygon fill="#000000" stroke="#000000" points="2227.9899,-761.9263 2238.2269,-759.1963 2228.5218,-754.9465 2227.9899,-761.9263"/>
</g>
<!-- checkUnauthorizedTopics -->
<g id="node28" class="node">
<title>checkUnauthorizedTopics</title>
<polygon fill="none" stroke="#000000" points="2382.2266,-836 2220.3047,-836 2220.3047,-800 2382.2266,-800 2382.2266,-836"/>
<text text-anchor="middle" x="2301.2656" y="-813.8" font-family="Times,serif" font-size="14.00" fill="#000000">checkUnauthorizedTopics</text>
</g>
<!-- maybeSetMetadataError&#45;&gt;checkUnauthorizedTopics -->
<g id="edge23" class="edge">
<title>maybeSetMetadataError&#45;&gt;checkUnauthorizedTopics</title>
<path fill="none" stroke="#000000" d="M2126.5928,-765.0727C2149.4667,-773.3709 2177.2286,-783.099 2202.457,-791 2209.0132,-793.0533 2215.8408,-795.1017 2222.7086,-797.1"/>
<polygon fill="#000000" stroke="#000000" points="2222.1952,-800.5938 2232.7726,-799.9866 2224.1252,-793.8651 2222.1952,-800.5938"/>
</g>
<!-- metadata_bootstrap -->
<g id="node29" class="node">
<title>metadata_bootstrap</title>
<polygon fill="none" stroke="#000000" points="274.3047,-635 149.0478,-635 149.0478,-599 274.3047,-599 274.3047,-635"/>
<text text-anchor="middle" x="211.6763" y="-612.8" font-family="Times,serif" font-size="14.00" fill="#000000">metadata_bootstrap</text>
</g>
<!-- metadata_bootstrap&#45;&gt;cache_bootstrap -->
<g id="edge25" class="edge">
<title>metadata_bootstrap&#45;&gt;cache_bootstrap</title>
<path fill="none" stroke="#000000" d="M217.6779,-598.9548C232.2602,-555.5484 271.2492,-442.0761 310.4902,-350 333.8804,-295.1169 365.2077,-232.7908 383.1077,-198.0613"/>
<polygon fill="#000000" stroke="#000000" points="386.2954,-199.5166 387.7826,-189.0267 380.0784,-196.2996 386.2954,-199.5166"/>
</g>
<!-- topics -->
<g id="node32" class="node">
<title>topics</title>
<polygon fill="#95e1d3" stroke="#000000" points="1738.9424,-335 1688.9424,-335 1684.9424,-331 1684.9424,-299 1734.9424,-299 1738.9424,-303 1738.9424,-335"/>
<polyline fill="none" stroke="#000000" points="1734.9424,-331 1684.9424,-331 "/>
<polyline fill="none" stroke="#000000" points="1734.9424,-331 1734.9424,-299 "/>
<polyline fill="none" stroke="#000000" points="1734.9424,-331 1738.9424,-335 "/>
<text text-anchor="middle" x="1711.9424" y="-312.8" font-family="Times,serif" font-size="14.00" fill="#000000">topics</text>
</g>
<!-- metadata_awaitUpdate -->
<g id="node33" class="node">
<title>metadata_awaitUpdate</title>
<polygon fill="none" stroke="#000000" points="310.4902,-1025.4001 310.4902,-1094.5999 483.9902,-1094.5999 483.9902,-1025.4001 310.4902,-1025.4001"/>
<text text-anchor="middle" x="397.2402" y="-1079.3999" font-family="Times,serif" font-size="14.00" fill="#000000">awaitUpdate</text>
<polyline fill="none" stroke="#000000" points="310.4902,-1072.5999 483.9902,-1072.5999 "/>
<text text-anchor="start" x="318.4902" y="-1057.3999" font-family="Times,serif" font-size="14.00" fill="#000000">等待metadata更新，直到</text>
<text text-anchor="start" x="318.4902" y="-1037.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 当前版本高于之前的版本</text>
</g>
<!-- updateVersion -->
<g id="node41" class="node">
<title>updateVersion</title>
<polygon fill="none" stroke="#000000" points="658.0122,-1183 561.8325,-1183 561.8325,-1147 658.0122,-1147 658.0122,-1183"/>
<text text-anchor="middle" x="609.9224" y="-1160.8" font-family="Times,serif" font-size="14.00" fill="#000000">updateVersion</text>
</g>
<!-- metadata_awaitUpdate&#45;&gt;updateVersion -->
<g id="edge41" class="edge">
<title>metadata_awaitUpdate&#45;&gt;updateVersion</title>
<path fill="none" stroke="#000000" d="M448.0615,-1094.6254C469.6269,-1108.3631 495.4197,-1123.5758 519.9902,-1135 530.0457,-1139.6754 541.0375,-1143.9677 551.7763,-1147.7549"/>
<polygon fill="#000000" stroke="#000000" points="550.9387,-1151.1672 561.5332,-1151.0873 553.2012,-1144.543 550.9387,-1151.1672"/>
</g>
<!-- metadata_add -->
<g id="node34" class="node">
<title>metadata_add</title>
<polygon fill="none" stroke="#000000" points="330.5229,-917.6001 330.5229,-1006.3999 463.9575,-1006.3999 463.9575,-917.6001 330.5229,-917.6001"/>
<text text-anchor="middle" x="397.2402" y="-991.1999" font-family="Times,serif" font-size="14.00" fill="#000000">add</text>
<polyline fill="none" stroke="#000000" points="330.5229,-984.3999 463.9575,-984.3999 "/>
<text text-anchor="start" x="338.5229" y="-969.1999" font-family="Times,serif" font-size="14.00" fill="#000000">将topic加入topics中</text>
<text text-anchor="start" x="338.5229" y="-949.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 后面buildRequest</text>
<text text-anchor="start" x="338.5229" y="-930" font-family="Times,serif" font-size="14.00" fill="#000000"> 时候会用到</text>
</g>
<!-- metadata_add&#45;&gt;requestUpdateForNewTopics -->
<g id="edge29" class="edge">
<title>metadata_add&#45;&gt;requestUpdateForNewTopics</title>
<path fill="none" stroke="#000000" d="M464.0646,-927.2286C471.0067,-922.7505 477.7837,-917.9788 483.9902,-913 500.4605,-899.7878 499.9093,-888.2959 518.6786,-874.6238"/>
<polygon fill="#000000" stroke="#000000" points="520.7766,-877.4348 527.2595,-869.0548 516.9658,-871.563 520.7766,-877.4348"/>
</g>
<!-- metadata_add&#45;&gt;topics -->
<g id="edge30" class="edge">
<title>metadata_add&#45;&gt;topics</title>
<path fill="none" stroke="#000000" d="M464.0949,-972.9772C598.9734,-991.9188 910.2572,-1019.2248 1138.6172,-913 1422.3696,-781.0087 1638.558,-441.7122 1696.5293,-343.8137"/>
<polygon fill="#000000" stroke="#000000" points="1699.5958,-345.5036 1701.6425,-335.1083 1693.56,-341.9584 1699.5958,-345.5036"/>
</g>
<!-- newMetadataRequestBuilder&#45;&gt;topics -->
<g id="edge32" class="edge">
<title>newMetadataRequestBuilder&#45;&gt;topics</title>
<path fill="none" stroke="#000000" d="M1592.367,-323.3031C1621.0568,-321.7908 1651.3173,-320.1957 1674.2187,-318.9885"/>
<polygon fill="#000000" stroke="#000000" points="1674.7085,-322.4676 1684.5103,-318.446 1674.3399,-315.4773 1674.7085,-322.4676"/>
</g>
<!-- sender_waitup -->
<g id="node36" class="node">
<title>sender_waitup</title>
<polygon fill="none" stroke="#000000" points="312.4487,-1147.4001 312.4487,-1216.5999 482.0317,-1216.5999 482.0317,-1147.4001 312.4487,-1147.4001"/>
<text text-anchor="middle" x="397.2402" y="-1201.3999" font-family="Times,serif" font-size="14.00" fill="#000000">sender_waitup</text>
<polyline fill="none" stroke="#000000" points="312.4487,-1194.5999 482.0317,-1194.5999 "/>
<text text-anchor="start" x="320.4487" y="-1179.3999" font-family="Times,serif" font-size="14.00" fill="#000000">唤醒sender线程</text>
<text text-anchor="start" x="320.4487" y="-1159.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 准备发送updateMeta请求</text>
</g>
<!-- sender_waitup&#45;&gt;poll -->
<g id="edge40" class="edge">
<title>sender_waitup&#45;&gt;poll</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M473.8299,-1216.6338C477.4589,-1219.5476 480.8789,-1222.667 483.9902,-1226 511.9858,-1255.9902 490.8311,-1282.1399 519.9902,-1311 534.4683,-1325.3296 555.2762,-1334.3708 573.2311,-1339.9254"/>
<polygon fill="#000000" stroke="#000000" points="572.278,-1343.2931 582.8542,-1342.6641 574.1942,-1336.5604 572.278,-1343.2931"/>
</g>
<!-- new_Producer -->
<g id="node37" class="node">
<title>new_Producer</title>
<polygon fill="none" stroke="#000000" points="112.7936,-1183 16.0687,-1183 16.0687,-1147 112.7936,-1147 112.7936,-1183"/>
<text text-anchor="middle" x="64.4312" y="-1160.8" font-family="Times,serif" font-size="14.00" fill="#000000">new_Producer</text>
</g>
<!-- new_Producer&#45;&gt;metadata_bootstrap -->
<g id="edge33" class="edge">
<title>new_Producer&#45;&gt;metadata_bootstrap</title>
<path fill="none" stroke="#000000" d="M69.3303,-1146.7671C90.9722,-1066.2227 178.0858,-742.013 204.2251,-644.7308"/>
<polygon fill="#000000" stroke="#000000" points="207.6186,-645.589 206.8335,-635.0233 200.8584,-643.7726 207.6186,-645.589"/>
</g>
<!-- send -->
<g id="node38" class="node">
<title>send</title>
<polygon fill="none" stroke="#000000" points="91.4312,-1237 37.4312,-1237 37.4312,-1201 91.4312,-1201 91.4312,-1237"/>
<text text-anchor="middle" x="64.4312" y="-1214.8" font-family="Times,serif" font-size="14.00" fill="#000000">send</text>
</g>
<!-- waitOnMetadata -->
<g id="node39" class="node">
<title>waitOnMetadata</title>
<polygon fill="none" stroke="#000000" points="266.4735,-1191 156.879,-1191 156.879,-1155 266.4735,-1155 266.4735,-1191"/>
<text text-anchor="middle" x="211.6763" y="-1168.8" font-family="Times,serif" font-size="14.00" fill="#000000">waitOnMetadata</text>
</g>
<!-- send&#45;&gt;waitOnMetadata -->
<g id="edge34" class="edge">
<title>send&#45;&gt;waitOnMetadata</title>
<path fill="none" stroke="#000000" d="M91.4382,-1210.5629C107.0636,-1205.6814 127.4481,-1199.3133 146.9816,-1193.2109"/>
<polygon fill="#000000" stroke="#000000" points="148.2808,-1196.4719 156.7822,-1190.1491 146.1934,-1189.7904 148.2808,-1196.4719"/>
</g>
<!-- waitOnMetadata&#45;&gt;metadata_fetch -->
<g id="edge35" class="edge">
<title>waitOnMetadata&#45;&gt;metadata_fetch</title>
<path fill="none" stroke="#000000" d="M216.7442,-1154.8568C228.3686,-1112.7007 257.2716,-1004.7375 274.4902,-913 285.5347,-854.1573 272.3297,-692.1326 310.4902,-646 319.6124,-634.9721 333.0635,-628.1147 346.6648,-623.8581"/>
<polygon fill="#000000" stroke="#000000" points="347.7919,-627.1793 356.5354,-621.1959 345.969,-620.4208 347.7919,-627.1793"/>
</g>
<!-- waitOnMetadata&#45;&gt;metadata_awaitUpdate -->
<g id="edge36" class="edge">
<title>waitOnMetadata&#45;&gt;metadata_awaitUpdate</title>
<path fill="none" stroke="#000000" d="M241.4903,-1154.8446C265.7447,-1140.0748 300.8688,-1118.6858 331.6251,-1099.9566"/>
<polygon fill="#000000" stroke="#000000" points="333.4508,-1102.9428 340.1714,-1094.7523 329.81,-1096.9641 333.4508,-1102.9428"/>
</g>
<!-- waitOnMetadata&#45;&gt;metadata_add -->
<g id="edge37" class="edge">
<title>waitOnMetadata&#45;&gt;metadata_add</title>
<path fill="none" stroke="#000000" d="M219.8035,-1154.6925C234.398,-1123.3594 267.5704,-1058.7073 310.4902,-1016 314.1685,-1012.3399 318.1388,-1008.8113 322.2863,-1005.4318"/>
<polygon fill="#000000" stroke="#000000" points="324.6788,-1008.0061 330.4504,-999.1213 320.3979,-1002.4677 324.6788,-1008.0061"/>
</g>
<!-- waitOnMetadata&#45;&gt;sender_waitup -->
<g id="edge38" class="edge">
<title>waitOnMetadata&#45;&gt;sender_waitup</title>
<path fill="none" stroke="#000000" d="M266.3479,-1175.6516C277.6234,-1176.1985 289.8077,-1176.7894 302.0479,-1177.3831"/>
<polygon fill="#000000" stroke="#000000" points="302.1664,-1180.8929 312.3242,-1177.8815 302.5055,-1173.9011 302.1664,-1180.8929"/>
</g>
<!-- partitionCountForTopic -->
<g id="node40" class="node">
<title>partitionCountForTopic</title>
<polygon fill="none" stroke="#000000" points="471.5285,-1271 322.952,-1271 322.952,-1235 471.5285,-1235 471.5285,-1271"/>
<text text-anchor="middle" x="397.2402" y="-1248.8" font-family="Times,serif" font-size="14.00" fill="#000000">partitionCountForTopic</text>
</g>
<!-- waitOnMetadata&#45;&gt;partitionCountForTopic -->
<g id="edge39" class="edge">
<title>waitOnMetadata&#45;&gt;partitionCountForTopic</title>
<path fill="none" stroke="#000000" d="M241.6536,-1191.0146C260.8745,-1202.0742 286.613,-1215.9885 310.4902,-1226 314.9815,-1227.8831 319.6512,-1229.7047 324.391,-1231.4523"/>
<polygon fill="#000000" stroke="#000000" points="323.5892,-1234.8817 334.1839,-1234.9314 325.9326,-1228.2856 323.5892,-1234.8817"/>
</g>
</g>
</svg>
