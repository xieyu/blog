<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: getPartition Pages: 1 -->
<svg width="2202pt" height="2025pt"
 viewBox="0.00 0.00 2202.00 2025.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2021)">
<title>getPartition</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2021 2198,-2021 2198,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Broker</title>
<polygon fill="none" stroke="#000000" points="8,-233 8,-1699 965,-1699 965,-233 8,-233"/>
<text text-anchor="middle" x="486.5" y="-1679" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaBroker</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_ReplicaManager</title>
<polygon fill="none" stroke="#000000" points="16,-241 16,-1661 491,-1661 491,-241 16,-241"/>
<text text-anchor="middle" x="253.5" y="-1641" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_KafkaApi</title>
<polygon fill="#6db8ff" stroke="#6db8ff" points="499,-502 499,-657 957,-657 957,-502 499,-502"/>
<text text-anchor="middle" x="728" y="-637" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_KafkaController</title>
<polygon fill="none" stroke="#000000" points="973,-8 973,-2009 2186,-2009 2186,-8 973,-8"/>
<text text-anchor="middle" x="1579.5" y="-1989" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaController</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_ControllerChannelManager</title>
<polygon fill="#6db8ff" stroke="#6db8ff" points="1221,-690 1221,-1177 1456,-1177 1456,-690 1221,-690"/>
<text text-anchor="middle" x="1338.5" y="-1157" font-family="Times,serif" font-size="20.00" fill="#000000">ControllerChannelManager</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_ParitionStateMachine</title>
<polygon fill="#ffb38b" stroke="#ffb38b" points="981,-935 981,-1278 1213,-1278 1213,-935 981,-935"/>
<text text-anchor="middle" x="1097" y="-1258" font-family="Times,serif" font-size="20.00" fill="#000000">ParitionStateMachine</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_PartitionReassignment</title>
<polygon fill="none" stroke="#000000" points="1049,-16 1049,-483 1676,-483 1676,-16 1049,-16"/>
<text text-anchor="middle" x="1362.5" y="-463" font-family="Times,serif" font-size="20.00" fill="#000000">PartitionReassignment</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_topic</title>
<polygon fill="#fff9c4" stroke="#fff9c4" points="2028,-1405 2028,-1560 2178,-1560 2178,-1405 2028,-1405"/>
<text text-anchor="middle" x="2103" y="-1540" font-family="Times,serif" font-size="20.00" fill="#000000">zk topic</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_partition</title>
<polygon fill="#fff9c4" stroke="#fff9c4" points="1766,-328 1766,-1560 2020,-1560 2020,-328 1766,-328"/>
<text text-anchor="middle" x="1893" y="-1540" font-family="Times,serif" font-size="20.00" fill="#000000">zk partition</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_controller</title>
<polygon fill="#fff9c4" stroke="#fff9c4" points="993,-1579 993,-1908 1387,-1908 1387,-1579 993,-1579"/>
<text text-anchor="middle" x="1190" y="-1888" font-family="Times,serif" font-size="20.00" fill="#000000">zk controller</text>
</g>
<g id="clust15" class="cluster">
<title>cluster_zkBrokerChange</title>
<polygon fill="#fff9c4" stroke="#fff9c4" points="1602,-1351 1602,-1661 1758,-1661 1758,-1351 1602,-1351"/>
<text text-anchor="middle" x="1680" y="-1641" font-family="Times,serif" font-size="20.00" fill="#000000">zk Broker</text>
</g>
<!-- allPartitions -->
<g id="node1" class="node">
<title>allPartitions</title>
<polygon fill="#95e1d3" stroke="#000000" points="289,-285 211,-285 207,-281 207,-249 285,-249 289,-253 289,-285"/>
<polyline fill="none" stroke="#000000" points="285,-281 207,-281 "/>
<polyline fill="none" stroke="#000000" points="285,-281 285,-249 "/>
<polyline fill="none" stroke="#000000" points="285,-281 289,-285 "/>
<text text-anchor="middle" x="248" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000">allPartitions</text>
</g>
<!-- replicaFetcherManager_electLeaders -->
<g id="node2" class="node">
<title>replicaFetcherManager_electLeaders</title>
<polygon fill="none" stroke="#000000" points="482.5,-1623 397.5,-1623 397.5,-1587 482.5,-1587 482.5,-1623"/>
<text text-anchor="middle" x="440" y="-1601.3" font-family="Times,serif" font-size="14.00" fill="#000000">electLeaders</text>
</g>
<!-- electLeaders -->
<g id="node43" class="node">
<title>electLeaders</title>
<polygon fill="none" stroke="#000000" points="1196.5,-1522 1111.5,-1522 1111.5,-1486 1196.5,-1486 1196.5,-1522"/>
<text text-anchor="middle" x="1154" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">electLeaders</text>
</g>
<!-- replicaFetcherManager_electLeaders&#45;&gt;electLeaders -->
<g id="edge66" class="edge">
<title>replicaFetcherManager_electLeaders&#45;&gt;electLeaders</title>
<path fill="none" stroke="#000000" d="M482.7761,-1603.0531C625.8312,-1596.4205 1080.1583,-1574.3251 1108,-1560 1120.712,-1553.4594 1131.2017,-1541.6929 1138.9375,-1530.6279"/>
<polygon fill="#000000" stroke="#000000" points="1142.0198,-1532.3082 1144.5409,-1522.0176 1136.1528,-1528.49 1142.0198,-1532.3082"/>
</g>
<!-- getPartition -->
<g id="node3" class="node">
<title>getPartition</title>
<polygon fill="none" stroke="#000000" points="483,-372 403,-372 403,-336 483,-336 483,-372"/>
<text text-anchor="middle" x="443" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">getPartition</text>
</g>
<!-- getPartition&#45;&gt;allPartitions -->
<g id="edge1" class="edge">
<title>getPartition&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M409.9988,-335.9598C404.69,-333.2113 399.2234,-330.4706 394,-328 362.6532,-313.1735 326.722,-298.1373 298.3491,-286.703"/>
<polygon fill="#000000" stroke="#000000" points="299.6185,-283.4412 289.0342,-282.9689 297.0138,-289.9386 299.6185,-283.4412"/>
</g>
<!-- createPartition -->
<g id="node4" class="node">
<title>createPartition</title>
<polygon fill="none" stroke="#000000" points="384.5,-372 289.5,-372 289.5,-336 384.5,-336 384.5,-372"/>
<text text-anchor="middle" x="337" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">createPartition</text>
</g>
<!-- createPartition&#45;&gt;allPartitions -->
<g id="edge2" class="edge">
<title>createPartition&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M318.5591,-335.9735C305.5519,-323.2586 287.9582,-306.0603 273.5934,-292.0183"/>
<polygon fill="#000000" stroke="#000000" points="276.0148,-289.4908 266.4172,-285.0034 271.1216,-294.4965 276.0148,-289.4908"/>
<text text-anchor="middle" x="306" y="-306.8" font-family="Times,serif" font-size="14.00" fill="#000000">put</text>
</g>
<!-- markPartitionOffline -->
<g id="node5" class="node">
<title>markPartitionOffline</title>
<polygon fill="none" stroke="#000000" points="271.5,-372 140.5,-372 140.5,-336 271.5,-336 271.5,-372"/>
<text text-anchor="middle" x="206" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">markPartitionOffline</text>
</g>
<!-- markPartitionOffline&#45;&gt;allPartitions -->
<g id="edge3" class="edge">
<title>markPartitionOffline&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M214.7024,-335.9735C220.5028,-323.9585 228.2358,-307.9401 234.7895,-294.3646"/>
<polygon fill="#000000" stroke="#000000" points="238.1131,-295.5305 239.3087,-285.0034 231.8092,-292.4872 238.1131,-295.5305"/>
<text text-anchor="middle" x="238" y="-306.8" font-family="Times,serif" font-size="14.00" fill="#000000">put</text>
</g>
<!-- becomeLeaderOrFollower -->
<g id="node6" class="node">
<title>becomeLeaderOrFollower</title>
<polygon fill="none" stroke="#000000" points="286,-445 126,-445 126,-409 286,-409 286,-445"/>
<text text-anchor="middle" x="206" y="-423.3" font-family="Times,serif" font-size="14.00" fill="#000000">becomeLeaderOrFollower</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;allPartitions -->
<g id="edge4" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M130.9444,-408.9595C96.8395,-399.0949 61.8942,-386.0399 52,-372 40.7351,-356.015 40.4074,-343.749 52,-328 69.2806,-304.5238 144.5157,-286.1414 196.5782,-275.9295"/>
<polygon fill="#000000" stroke="#000000" points="197.4956,-279.3175 206.6577,-273.997 196.1775,-272.4427 197.4956,-279.3175"/>
<text text-anchor="middle" x="92" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">putIfNotExists</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;markPartitionOffline -->
<g id="edge5" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;markPartitionOffline</title>
<path fill="none" stroke="#000000" d="M206,-408.9551C206,-400.8828 206,-391.1764 206,-382.1817"/>
<polygon fill="#000000" stroke="#000000" points="209.5001,-382.0903 206,-372.0904 202.5001,-382.0904 209.5001,-382.0903"/>
</g>
<!-- handle -->
<g id="node7" class="node">
<title>handle</title>
<polygon fill="none" stroke="#000000" points="850,-619 796,-619 796,-583 850,-583 850,-619"/>
<text text-anchor="middle" x="823" y="-597.3" font-family="Times,serif" font-size="14.00" fill="#000000">handle</text>
</g>
<!-- handleLeaderAndIsrRequest -->
<g id="node8" class="node">
<title>handleLeaderAndIsrRequest</title>
<polygon fill="none" stroke="#000000" points="678.5,-546 507.5,-546 507.5,-510 678.5,-510 678.5,-546"/>
<text text-anchor="middle" x="593" y="-524.3" font-family="Times,serif" font-size="14.00" fill="#000000">handleLeaderAndIsrRequest</text>
</g>
<!-- handle&#45;&gt;handleLeaderAndIsrRequest -->
<g id="edge6" class="edge">
<title>handle&#45;&gt;handleLeaderAndIsrRequest</title>
<path fill="none" stroke="#000000" d="M795.8113,-584.7056C794.5364,-584.1027 793.2622,-583.5305 792,-583 758.6163,-568.9698 720.5895,-557.4476 686.7834,-548.6391"/>
<polygon fill="#000000" stroke="#000000" points="687.4596,-545.1994 676.904,-546.11 685.7236,-551.9807 687.4596,-545.1994"/>
</g>
<!-- handleAlterPartitionReassignmentsRequest -->
<g id="node9" class="node">
<title>handleAlterPartitionReassignmentsRequest</title>
<polygon fill="none" stroke="#000000" points="949,-546 697,-546 697,-510 949,-510 949,-546"/>
<text text-anchor="middle" x="823" y="-524.3" font-family="Times,serif" font-size="14.00" fill="#000000">handleAlterPartitionReassignmentsRequest</text>
</g>
<!-- handle&#45;&gt;handleAlterPartitionReassignmentsRequest -->
<g id="edge8" class="edge">
<title>handle&#45;&gt;handleAlterPartitionReassignmentsRequest</title>
<path fill="none" stroke="#000000" d="M823,-582.9551C823,-574.8828 823,-565.1764 823,-556.1817"/>
<polygon fill="#000000" stroke="#000000" points="826.5001,-556.0903 823,-546.0904 819.5001,-556.0904 826.5001,-556.0903"/>
</g>
<!-- handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower -->
<g id="edge7" class="edge">
<title>handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower</title>
<path fill="none" stroke="#000000" d="M532.2846,-509.9319C522.8326,-507.2149 513.1649,-504.491 504,-502 432.3127,-482.5152 350.4435,-462.0373 290.6791,-447.4116"/>
<polygon fill="#000000" stroke="#000000" points="291.4539,-443.9981 280.9089,-445.0246 289.7925,-450.798 291.4539,-443.9981"/>
</g>
<!-- alterPartitionReassignmentsRequest -->
<g id="node34" class="node">
<title>alterPartitionReassignmentsRequest</title>
<polygon fill="none" stroke="#000000" points="1310,-445 1098,-445 1098,-409 1310,-409 1310,-445"/>
<text text-anchor="middle" x="1204" y="-423.3" font-family="Times,serif" font-size="14.00" fill="#000000">alterPartitionReassignmentsRequest</text>
</g>
<!-- handleAlterPartitionReassignmentsRequest&#45;&gt;alterPartitionReassignmentsRequest -->
<g id="edge35" class="edge">
<title>handleAlterPartitionReassignmentsRequest&#45;&gt;alterPartitionReassignmentsRequest</title>
<path fill="none" stroke="#000000" d="M920.7106,-509.9189C946.3094,-504.6625 973.7961,-498.554 999,-492 1047.7382,-479.3262 1102.0254,-461.9638 1142.4851,-448.3715"/>
<polygon fill="#000000" stroke="#000000" points="1143.8455,-451.6063 1152.2002,-445.091 1141.606,-444.9742 1143.8455,-451.6063"/>
</g>
<!-- BlockingQueue -->
<g id="node10" class="node">
<title>BlockingQueue</title>
<polygon fill="#95e1d3" stroke="#000000" points="1375.5,-833 1278.5,-833 1274.5,-829 1274.5,-797 1371.5,-797 1375.5,-801 1375.5,-833"/>
<polyline fill="none" stroke="#000000" points="1371.5,-829 1274.5,-829 "/>
<polyline fill="none" stroke="#000000" points="1371.5,-829 1371.5,-797 "/>
<polyline fill="none" stroke="#000000" points="1371.5,-829 1375.5,-833 "/>
<text text-anchor="middle" x="1325" y="-811.3" font-family="Times,serif" font-size="14.00" fill="#000000">BlockingQueue</text>
</g>
<!-- RequestSendThread_doWork -->
<g id="node11" class="node">
<title>RequestSendThread_doWork</title>
<polygon fill="#f38181" stroke="#000000" points="1229,-698.5 1229,-759.5 1429,-759.5 1429,-698.5 1229,-698.5"/>
<text text-anchor="middle" x="1329" y="-744.3" font-family="Times,serif" font-size="14.00" fill="#000000">RequestSendThread_doWork</text>
<polyline fill="none" stroke="#000000" points="1229,-736.5 1429,-736.5 "/>
<text text-anchor="start" x="1237" y="-721.3" font-family="Times,serif" font-size="14.00" fill="#000000">每个broker对应一个thread用于</text>
<text text-anchor="start" x="1237" y="-706.3" font-family="Times,serif" font-size="14.00" fill="#000000"> controller向broker发送消息</text>
</g>
<!-- BlockingQueue&#45;&gt;RequestSendThread_doWork -->
<g id="edge12" class="edge">
<title>BlockingQueue&#45;&gt;RequestSendThread_doWork</title>
<path fill="none" stroke="#000000" d="M1325.8483,-796.7616C1326.2154,-788.8681 1326.6611,-779.2858 1327.1003,-769.8426"/>
<polygon fill="#000000" stroke="#000000" points="1330.6019,-769.8887 1327.5704,-759.7368 1323.6095,-769.5634 1330.6019,-769.8887"/>
</g>
<!-- RequestSendThread_doWork&#45;&gt;handle -->
<g id="edge13" class="edge">
<title>RequestSendThread_doWork&#45;&gt;handle</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1251.0347,-698.4169C1242.3101,-695.3973 1233.5042,-692.5222 1225,-690 1092.7299,-650.7701 931.4013,-620.1045 860.0158,-607.3884"/>
<polygon fill="#000000" stroke="#000000" points="860.607,-603.9387 850.1503,-605.6436 859.3879,-610.8317 860.607,-603.9387"/>
<text text-anchor="middle" x="1241" y="-668.8" font-family="Times,serif" font-size="14.00" fill="#000000">LEADER_AND_ISR</text>
</g>
<!-- sendRequestsToBrokers -->
<g id="node12" class="node">
<title>sendRequestsToBrokers</title>
<polygon fill="none" stroke="#000000" points="1380,-1139 1232,-1139 1232,-1103 1380,-1103 1380,-1139"/>
<text text-anchor="middle" x="1306" y="-1117.3" font-family="Times,serif" font-size="14.00" fill="#000000">sendRequestsToBrokers</text>
</g>
<!-- sendLeaderAndIsrRequest -->
<g id="node13" class="node">
<title>sendLeaderAndIsrRequest</title>
<polygon fill="none" stroke="#000000" points="1399,-1052 1239,-1052 1239,-1016 1399,-1016 1399,-1052"/>
<text text-anchor="middle" x="1319" y="-1030.3" font-family="Times,serif" font-size="14.00" fill="#000000">sendLeaderAndIsrRequest</text>
</g>
<!-- sendRequestsToBrokers&#45;&gt;sendLeaderAndIsrRequest -->
<g id="edge9" class="edge">
<title>sendRequestsToBrokers&#45;&gt;sendLeaderAndIsrRequest</title>
<path fill="none" stroke="#000000" d="M1308.6936,-1102.9735C1310.4541,-1091.1918 1312.7898,-1075.5607 1314.7925,-1062.1581"/>
<polygon fill="#000000" stroke="#000000" points="1318.2935,-1062.4108 1316.3098,-1052.0034 1311.3703,-1061.3763 1318.2935,-1062.4108"/>
</g>
<!-- sendRequest -->
<g id="node14" class="node">
<title>sendRequest</title>
<polygon fill="none" stroke="#000000" points="1361.5,-906 1276.5,-906 1276.5,-870 1361.5,-870 1361.5,-906"/>
<text text-anchor="middle" x="1319" y="-884.3" font-family="Times,serif" font-size="14.00" fill="#000000">sendRequest</text>
</g>
<!-- sendLeaderAndIsrRequest&#45;&gt;sendRequest -->
<g id="edge10" class="edge">
<title>sendLeaderAndIsrRequest&#45;&gt;sendRequest</title>
<path fill="none" stroke="#000000" d="M1319,-1015.8042C1319,-990.8868 1319,-945.8938 1319,-916.4877"/>
<polygon fill="#000000" stroke="#000000" points="1322.5001,-916.4251 1319,-906.4251 1315.5001,-916.4251 1322.5001,-916.4251"/>
</g>
<!-- processLeaderAndIsrResponseReceived -->
<g id="node32" class="node">
<title>processLeaderAndIsrResponseReceived</title>
<polygon fill="none" stroke="#000000" points="1738,-979 1504,-979 1504,-943 1738,-943 1738,-979"/>
<text text-anchor="middle" x="1621" y="-957.3" font-family="Times,serif" font-size="14.00" fill="#000000">processLeaderAndIsrResponseReceived</text>
</g>
<!-- sendLeaderAndIsrRequest&#45;&gt;processLeaderAndIsrResponseReceived -->
<g id="edge33" class="edge">
<title>sendLeaderAndIsrRequest&#45;&gt;processLeaderAndIsrResponseReceived</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1399.4458,-1016.6056C1400.6379,-1016.3988 1401.8232,-1016.1968 1403,-1016 1468.7905,-1005.0005 1488.3993,-1018.1081 1552,-998 1562.8159,-994.5804 1573.9126,-989.4584 1583.9577,-984.1073"/>
<polygon fill="#000000" stroke="#000000" points="1585.8049,-987.085 1592.8488,-979.1708 1582.407,-980.965 1585.8049,-987.085"/>
</g>
<!-- sendRequest&#45;&gt;BlockingQueue -->
<g id="edge11" class="edge">
<title>sendRequest&#45;&gt;BlockingQueue</title>
<path fill="none" stroke="#000000" d="M1320.4831,-869.9551C1321.1466,-861.8828 1321.9444,-852.1764 1322.6837,-843.1817"/>
<polygon fill="#000000" stroke="#000000" points="1326.1821,-843.3435 1323.5131,-833.0904 1319.2056,-842.77 1326.1821,-843.3435"/>
</g>
<!-- handleStateChanges -->
<g id="node15" class="node">
<title>handleStateChanges</title>
<polygon fill="none" stroke="#000000" points="1205,-1240 1079,-1240 1079,-1204 1205,-1204 1205,-1240"/>
<text text-anchor="middle" x="1142" y="-1218.3" font-family="Times,serif" font-size="14.00" fill="#000000">handleStateChanges</text>
</g>
<!-- handleStateChanges&#45;&gt;sendRequestsToBrokers -->
<g id="edge14" class="edge">
<title>handleStateChanges&#45;&gt;sendRequestsToBrokers</title>
<path fill="none" stroke="#000000" d="M1184.7654,-1203.896C1196.134,-1198.5771 1208.2382,-1192.4436 1219,-1186 1238.9739,-1174.0407 1259.9197,-1158.4963 1276.253,-1145.6074"/>
<polygon fill="#000000" stroke="#000000" points="1278.7165,-1148.1191 1284.3443,-1139.1425 1274.347,-1142.6503 1278.7165,-1148.1191"/>
</g>
<!-- doHandleStateChanges -->
<g id="node16" class="node">
<title>doHandleStateChanges</title>
<polygon fill="none" stroke="#000000" points="1196.5,-1139 1053.5,-1139 1053.5,-1103 1196.5,-1103 1196.5,-1139"/>
<text text-anchor="middle" x="1125" y="-1117.3" font-family="Times,serif" font-size="14.00" fill="#000000">doHandleStateChanges</text>
</g>
<!-- handleStateChanges&#45;&gt;doHandleStateChanges -->
<g id="edge15" class="edge">
<title>handleStateChanges&#45;&gt;doHandleStateChanges</title>
<path fill="none" stroke="#000000" d="M1138.2992,-1203.7116C1137.1912,-1198.0434 1136.0046,-1191.7709 1135,-1186 1132.9012,-1173.9432 1130.8068,-1160.5876 1129.0811,-1149.1345"/>
<polygon fill="#000000" stroke="#000000" points="1132.5431,-1148.6195 1127.6104,-1139.243 1125.6192,-1149.6491 1132.5431,-1148.6195"/>
</g>
<!-- initializeLeaderAndIsrForPartitions -->
<g id="node17" class="node">
<title>initializeLeaderAndIsrForPartitions</title>
<polygon fill="none" stroke="#000000" points="1203.5,-1052 994.5,-1052 994.5,-1016 1203.5,-1016 1203.5,-1052"/>
<text text-anchor="middle" x="1099" y="-1030.3" font-family="Times,serif" font-size="14.00" fill="#000000">initializeLeaderAndIsrForPartitions</text>
</g>
<!-- doHandleStateChanges&#45;&gt;initializeLeaderAndIsrForPartitions -->
<g id="edge16" class="edge">
<title>doHandleStateChanges&#45;&gt;initializeLeaderAndIsrForPartitions</title>
<path fill="none" stroke="#000000" d="M1114.5271,-1102.7756C1111.7098,-1097.2176 1108.9162,-1090.9899 1107,-1085 1104.6984,-1077.8055 1103.0452,-1069.8204 1101.8629,-1062.3451"/>
<polygon fill="#000000" stroke="#000000" points="1105.3057,-1061.6876 1100.4866,-1052.2523 1098.3699,-1062.6335 1105.3057,-1061.6876"/>
<text text-anchor="middle" x="1149" y="-1073.8" font-family="Times,serif" font-size="14.00" fill="#000000">OnlinePartition</text>
</g>
<!-- addLeaderAndIsrRequestForBrokers -->
<g id="node18" class="node">
<title>addLeaderAndIsrRequestForBrokers</title>
<polygon fill="none" stroke="#000000" points="1205,-979 989,-979 989,-943 1205,-943 1205,-979"/>
<text text-anchor="middle" x="1097" y="-957.3" font-family="Times,serif" font-size="14.00" fill="#000000">addLeaderAndIsrRequestForBrokers</text>
</g>
<!-- initializeLeaderAndIsrForPartitions&#45;&gt;addLeaderAndIsrRequestForBrokers -->
<g id="edge17" class="edge">
<title>initializeLeaderAndIsrForPartitions&#45;&gt;addLeaderAndIsrRequestForBrokers</title>
<path fill="none" stroke="#000000" d="M1098.5056,-1015.9551C1098.2845,-1007.8828 1098.0185,-998.1764 1097.7721,-989.1817"/>
<polygon fill="#000000" stroke="#000000" points="1101.2683,-988.9907 1097.4956,-979.0904 1094.2709,-989.1825 1101.2683,-988.9907"/>
</g>
<!-- addLeaderAndIsrRequestForBrokers&#45;&gt;sendRequest -->
<g id="edge18" class="edge">
<title>addLeaderAndIsrRequestForBrokers&#45;&gt;sendRequest</title>
<path fill="none" stroke="#000000" d="M1150.1121,-942.9125C1168.6833,-936.7321 1189.71,-929.8957 1209,-924 1234.167,-916.3081 1243.0494,-915.4919 1266.9191,-907.9352"/>
<polygon fill="#000000" stroke="#000000" points="1268.0311,-911.2541 1276.4493,-904.821 1265.8567,-904.6003 1268.0311,-911.2541"/>
</g>
<!-- onNewPartitionCreation -->
<g id="node19" class="node">
<title>onNewPartitionCreation</title>
<polygon fill="none" stroke="#000000" points="2176.5,-1341 2027.5,-1341 2027.5,-1305 2176.5,-1305 2176.5,-1341"/>
<text text-anchor="middle" x="2102" y="-1319.3" font-family="Times,serif" font-size="14.00" fill="#000000">onNewPartitionCreation</text>
</g>
<!-- onNewPartitionCreation&#45;&gt;handleStateChanges -->
<g id="edge20" class="edge">
<title>onNewPartitionCreation&#45;&gt;handleStateChanges</title>
<path fill="none" stroke="#000000" d="M2027.4692,-1315.1587C1847.9108,-1296.2677 1393.0888,-1248.4166 1215.0521,-1229.6857"/>
<polygon fill="#000000" stroke="#000000" points="1215.3119,-1226.1938 1205.0006,-1228.6282 1214.5795,-1233.1554 1215.3119,-1226.1938"/>
</g>
<!-- onReplicasBecomeOffline -->
<g id="node20" class="node">
<title>onReplicasBecomeOffline</title>
<polygon fill="none" stroke="#000000" points="1737.5,-1341 1576.5,-1341 1576.5,-1305 1737.5,-1305 1737.5,-1341"/>
<text text-anchor="middle" x="1657" y="-1319.3" font-family="Times,serif" font-size="14.00" fill="#000000">onReplicasBecomeOffline</text>
</g>
<!-- onReplicasBecomeOffline&#45;&gt;handleStateChanges -->
<g id="edge19" class="edge">
<title>onReplicasBecomeOffline&#45;&gt;handleStateChanges</title>
<path fill="none" stroke="#000000" d="M1576.118,-1305.4606C1575.0731,-1305.302 1574.0334,-1305.1483 1573,-1305 1532.8559,-1299.2377 1246.585,-1293.2356 1209,-1278 1192.404,-1271.2726 1176.8584,-1258.8304 1164.9274,-1247.3797"/>
<polygon fill="#000000" stroke="#000000" points="1167.1745,-1244.6764 1157.6343,-1240.0681 1162.2185,-1249.6199 1167.1745,-1244.6764"/>
</g>
<!-- onReplicaElection -->
<g id="node21" class="node">
<title>onReplicaElection</title>
<polygon fill="none" stroke="#000000" points="1245,-1341 1129,-1341 1129,-1305 1245,-1305 1245,-1341"/>
<text text-anchor="middle" x="1187" y="-1319.3" font-family="Times,serif" font-size="14.00" fill="#000000">onReplicaElection</text>
</g>
<!-- onReplicaElection&#45;&gt;handleStateChanges -->
<g id="edge21" class="edge">
<title>onReplicaElection&#45;&gt;handleStateChanges</title>
<path fill="none" stroke="#000000" d="M1178.9549,-1304.9432C1172.0865,-1289.5275 1162.1017,-1267.1172 1154.2419,-1249.4762"/>
<polygon fill="#000000" stroke="#000000" points="1157.394,-1247.9509 1150.1272,-1240.241 1151,-1250.7998 1157.394,-1247.9509"/>
</g>
<!-- processAutoPreferredReplicaLeaderElection -->
<g id="node22" class="node">
<title>processAutoPreferredReplicaLeaderElection</title>
<polygon fill="none" stroke="#000000" points="1594,-1522 1336,-1522 1336,-1486 1594,-1486 1594,-1522"/>
<text text-anchor="middle" x="1465" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">processAutoPreferredReplicaLeaderElection</text>
</g>
<!-- checkAndTriggerAutoLeaderRebalance -->
<g id="node23" class="node">
<title>checkAndTriggerAutoLeaderRebalance</title>
<polygon fill="none" stroke="#000000" points="1213.5,-1449 980.5,-1449 980.5,-1413 1213.5,-1413 1213.5,-1449"/>
<text text-anchor="middle" x="1097" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkAndTriggerAutoLeaderRebalance</text>
</g>
<!-- processAutoPreferredReplicaLeaderElection&#45;&gt;checkAndTriggerAutoLeaderRebalance -->
<g id="edge22" class="edge">
<title>processAutoPreferredReplicaLeaderElection&#45;&gt;checkAndTriggerAutoLeaderRebalance</title>
<path fill="none" stroke="#000000" d="M1374.0337,-1485.9551C1320.6348,-1475.3623 1253.0495,-1461.9555 1198.0023,-1451.0358"/>
<polygon fill="#000000" stroke="#000000" points="1198.3658,-1447.5398 1187.8759,-1449.027 1197.0037,-1454.406 1198.3658,-1447.5398"/>
</g>
<!-- scheduleAutoLeaderRebalanceTask -->
<g id="node44" class="node">
<title>scheduleAutoLeaderRebalanceTask</title>
<polygon fill="none" stroke="#000000" points="1558.5,-1341 1347.5,-1341 1347.5,-1305 1558.5,-1305 1558.5,-1341"/>
<text text-anchor="middle" x="1453" y="-1319.3" font-family="Times,serif" font-size="14.00" fill="#000000">scheduleAutoLeaderRebalanceTask</text>
</g>
<!-- processAutoPreferredReplicaLeaderElection&#45;&gt;scheduleAutoLeaderRebalanceTask -->
<g id="edge53" class="edge">
<title>processAutoPreferredReplicaLeaderElection&#45;&gt;scheduleAutoLeaderRebalanceTask</title>
<path fill="none" stroke="#000000" d="M1533.9367,-1485.9308C1549.1321,-1480.7521 1562.1457,-1474.6776 1567,-1468 1582.2881,-1446.9697 1583.2165,-1371.323 1567,-1351 1565.4505,-1349.0581 1563.2096,-1347.2405 1560.4182,-1345.5404"/>
<polygon fill="#000000" stroke="#000000" points="1561.7342,-1342.2883 1551.2114,-1341.0546 1558.6682,-1348.5811 1561.7342,-1342.2883"/>
</g>
<!-- checkAndTriggerAutoLeaderRebalance&#45;&gt;onReplicaElection -->
<g id="edge23" class="edge">
<title>checkAndTriggerAutoLeaderRebalance&#45;&gt;onReplicaElection</title>
<path fill="none" stroke="#000000" d="M1119.0458,-1412.8057C1125.1379,-1407.3489 1131.5634,-1401.1676 1137,-1395 1149.3825,-1380.9525 1161.413,-1363.775 1170.5691,-1349.7218"/>
<polygon fill="#000000" stroke="#000000" points="1173.7064,-1351.3124 1176.1458,-1341.0022 1167.8093,-1347.5409 1173.7064,-1351.3124"/>
</g>
<!-- elect -->
<g id="node24" class="node">
<title>elect</title>
<polygon fill="none" stroke="#000000" points="1318,-1522 1264,-1522 1264,-1486 1318,-1486 1318,-1522"/>
<text text-anchor="middle" x="1291" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">elect</text>
</g>
<!-- onControllerFailover -->
<g id="node25" class="node">
<title>onControllerFailover</title>
<polygon fill="none" stroke="#000000" points="1561.5,-1449 1430.5,-1449 1430.5,-1413 1561.5,-1413 1561.5,-1449"/>
<text text-anchor="middle" x="1496" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">onControllerFailover</text>
</g>
<!-- elect&#45;&gt;onControllerFailover -->
<g id="edge24" class="edge">
<title>elect&#45;&gt;onControllerFailover</title>
<path fill="none" stroke="#000000" d="M1318.2224,-1494.3062C1348.0428,-1483.6872 1396.8083,-1466.3219 1435.7292,-1452.4623"/>
<polygon fill="#000000" stroke="#000000" points="1437.1483,-1455.6723 1445.3947,-1449.0204 1434.8,-1449.0779 1437.1483,-1455.6723"/>
</g>
<!-- onControllerFailover&#45;&gt;onReplicaElection -->
<g id="edge25" class="edge">
<title>onControllerFailover&#45;&gt;onReplicaElection</title>
<path fill="none" stroke="#000000" d="M1448.1258,-1412.9332C1441.044,-1410.2686 1433.8331,-1407.5597 1427,-1405 1362.602,-1380.8758 1347.2435,-1372.7341 1282,-1351 1273.3145,-1348.1067 1264.1326,-1345.2057 1255.0365,-1342.4254"/>
<polygon fill="#000000" stroke="#000000" points="1255.8123,-1339.0036 1245.2274,-1339.462 1253.7878,-1345.7045 1255.8123,-1339.0036"/>
</g>
<!-- initializePartitionReassignments -->
<g id="node33" class="node">
<title>initializePartitionReassignments</title>
<polygon fill="none" stroke="#000000" points="1561,-445 1369,-445 1369,-409 1561,-409 1561,-445"/>
<text text-anchor="middle" x="1465" y="-423.3" font-family="Times,serif" font-size="14.00" fill="#000000">initializePartitionReassignments</text>
</g>
<!-- onControllerFailover&#45;&gt;initializePartitionReassignments -->
<g id="edge34" class="edge">
<title>onControllerFailover&#45;&gt;initializePartitionReassignments</title>
<path fill="none" stroke="#000000" d="M1454.3632,-1412.945C1412.3457,-1393.7709 1351.8763,-1363.2233 1339,-1341 1330.9787,-1327.1559 1333.0854,-1319.8667 1339,-1305 1346.2347,-1286.8153 1452.3111,-1194.9974 1460,-1177 1477.3955,-1136.2822 1465,-1121.778 1465,-1077.5 1465,-1077.5 1465,-1077.5 1465,-528 1465,-503.4754 1465,-475.601 1465,-455.3575"/>
<polygon fill="#000000" stroke="#000000" points="1468.5001,-455.2459 1465,-445.2459 1461.5001,-455.2459 1468.5001,-455.2459"/>
</g>
<!-- onControllerFailover&#45;&gt;scheduleAutoLeaderRebalanceTask -->
<g id="edge51" class="edge">
<title>onControllerFailover&#45;&gt;scheduleAutoLeaderRebalanceTask</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1490.9634,-1412.8264C1486.1439,-1396.3585 1478.2527,-1371.5908 1469,-1351 1468.8623,-1350.6936 1468.7223,-1350.3862 1468.5801,-1350.0779"/>
<polygon fill="#000000" stroke="#000000" points="1471.6729,-1348.4382 1464.0216,-1341.1096 1465.4327,-1351.61 1471.6729,-1348.4382"/>
</g>
<!-- processReplicaLeaderElection -->
<g id="node26" class="node">
<title>processReplicaLeaderElection</title>
<polygon fill="none" stroke="#000000" points="1412.5,-1449 1231.5,-1449 1231.5,-1413 1412.5,-1413 1412.5,-1449"/>
<text text-anchor="middle" x="1322" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">processReplicaLeaderElection</text>
</g>
<!-- processReplicaLeaderElection&#45;&gt;onReplicaElection -->
<g id="edge26" class="edge">
<title>processReplicaLeaderElection&#45;&gt;onReplicaElection</title>
<path fill="none" stroke="#000000" d="M1308.4135,-1412.898C1294.506,-1395.322 1271.5102,-1368.7635 1247,-1351 1244.6876,-1349.3241 1242.259,-1347.7098 1239.7584,-1346.1609"/>
<polygon fill="#000000" stroke="#000000" points="1241.458,-1343.1009 1231.0439,-1341.1523 1237.9698,-1349.1699 1241.458,-1343.1009"/>
</g>
<!-- processStartup -->
<g id="node27" class="node">
<title>processStartup</title>
<polygon fill="none" stroke="#000000" points="1491,-1816 1395,-1816 1395,-1780 1491,-1780 1491,-1816"/>
<text text-anchor="middle" x="1443" y="-1794.3" font-family="Times,serif" font-size="14.00" fill="#000000">processStartup</text>
</g>
<!-- processStartup&#45;&gt;elect -->
<g id="edge27" class="edge">
<title>processStartup&#45;&gt;elect</title>
<path fill="none" stroke="#000000" d="M1446.0711,-1779.9041C1452.0989,-1738.309 1461.1679,-1634.3757 1415,-1568 1394.5823,-1538.6455 1356.4891,-1521.8654 1327.8892,-1512.9179"/>
<polygon fill="#000000" stroke="#000000" points="1328.7948,-1509.536 1318.2136,-1510.0719 1326.8195,-1516.2516 1328.7948,-1509.536"/>
</g>
<!-- processRegisterBrokerAndReelect -->
<g id="node28" class="node">
<title>processRegisterBrokerAndReelect</title>
<polygon fill="none" stroke="#000000" points="1379.5,-1762 1176.5,-1762 1176.5,-1726 1379.5,-1726 1379.5,-1762"/>
<text text-anchor="middle" x="1278" y="-1740.3" font-family="Times,serif" font-size="14.00" fill="#000000">processRegisterBrokerAndReelect</text>
</g>
<!-- processReelect -->
<g id="node29" class="node">
<title>processReelect</title>
<polygon fill="none" stroke="#000000" points="1327,-1623 1229,-1623 1229,-1587 1327,-1587 1327,-1623"/>
<text text-anchor="middle" x="1278" y="-1601.3" font-family="Times,serif" font-size="14.00" fill="#000000">processReelect</text>
</g>
<!-- processRegisterBrokerAndReelect&#45;&gt;processReelect -->
<g id="edge28" class="edge">
<title>processRegisterBrokerAndReelect&#45;&gt;processReelect</title>
<path fill="none" stroke="#000000" d="M1278,-1725.8282C1278,-1702.3107 1278,-1661.0772 1278,-1633.4058"/>
<polygon fill="#000000" stroke="#000000" points="1281.5001,-1633.1762 1278,-1623.1763 1274.5001,-1633.1763 1281.5001,-1633.1762"/>
</g>
<!-- processReelect&#45;&gt;elect -->
<g id="edge29" class="edge">
<title>processReelect&#45;&gt;elect</title>
<path fill="none" stroke="#000000" d="M1280.3241,-1586.9432C1282.2716,-1571.813 1285.0863,-1549.9448 1287.3367,-1532.461"/>
<polygon fill="#000000" stroke="#000000" points="1290.8468,-1532.606 1288.6522,-1522.241 1283.9041,-1531.7123 1290.8468,-1532.606"/>
</g>
<!-- processTopicChange -->
<g id="node30" class="node">
<title>processTopicChange</title>
<polygon fill="none" stroke="#000000" points="2167,-1449 2037,-1449 2037,-1413 2167,-1413 2167,-1449"/>
<text text-anchor="middle" x="2102" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">processTopicChange</text>
</g>
<!-- processTopicChange&#45;&gt;onNewPartitionCreation -->
<g id="edge30" class="edge">
<title>processTopicChange&#45;&gt;onNewPartitionCreation</title>
<path fill="none" stroke="#000000" d="M2102,-1412.6793C2102,-1395.821 2102,-1370.5651 2102,-1351.147"/>
<polygon fill="#000000" stroke="#000000" points="2105.5001,-1351.0501 2102,-1341.0502 2098.5001,-1351.0502 2105.5001,-1351.0501"/>
</g>
<!-- processPartitionModifications -->
<g id="node31" class="node">
<title>processPartitionModifications</title>
<polygon fill="none" stroke="#000000" points="2011,-1449 1831,-1449 1831,-1413 2011,-1413 2011,-1449"/>
<text text-anchor="middle" x="1921" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">processPartitionModifications</text>
</g>
<!-- processPartitionModifications&#45;&gt;onNewPartitionCreation -->
<g id="edge31" class="edge">
<title>processPartitionModifications&#45;&gt;onNewPartitionCreation</title>
<path fill="none" stroke="#000000" d="M1963.7913,-1412.9082C1975.4246,-1407.5455 1987.8769,-1401.387 1999,-1395 2023.9986,-1380.6456 2050.6294,-1361.9293 2070.5486,-1347.1772"/>
<polygon fill="#000000" stroke="#000000" points="2072.7357,-1349.9122 2078.6502,-1341.1219 2068.5449,-1344.3053 2072.7357,-1349.9122"/>
</g>
<!-- processLeaderAndIsrResponseReceived&#45;&gt;onReplicasBecomeOffline -->
<g id="edge32" class="edge">
<title>processLeaderAndIsrResponseReceived&#45;&gt;onReplicasBecomeOffline</title>
<path fill="none" stroke="#000000" d="M1630.9471,-979.256C1633.6094,-984.8148 1636.2346,-991.0351 1638,-997 1642.7093,-1012.9117 1643,-1017.4061 1643,-1034 1643,-1222 1643,-1222 1643,-1222 1643,-1246.7591 1647.1788,-1274.6117 1650.9704,-1294.7873"/>
<polygon fill="#000000" stroke="#000000" points="1647.5871,-1295.7221 1652.9506,-1304.859 1654.4556,-1294.3716 1647.5871,-1295.7221"/>
</g>
<!-- processZkPartitionReassignment -->
<g id="node37" class="node">
<title>processZkPartitionReassignment</title>
<polygon fill="none" stroke="#000000" points="1251.5,-372 1056.5,-372 1056.5,-336 1251.5,-336 1251.5,-372"/>
<text text-anchor="middle" x="1154" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">processZkPartitionReassignment</text>
</g>
<!-- initializePartitionReassignments&#45;&gt;processZkPartitionReassignment -->
<g id="edge38" class="edge">
<title>initializePartitionReassignments&#45;&gt;processZkPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1388.1236,-408.9551C1343.4638,-398.4722 1287.0625,-385.2333 1240.809,-374.3764"/>
<polygon fill="#000000" stroke="#000000" points="1241.3353,-370.9049 1230.8,-372.027 1239.7356,-377.7196 1241.3353,-370.9049"/>
</g>
<!-- maybeResumeReassignments -->
<g id="node38" class="node">
<title>maybeResumeReassignments</title>
<polygon fill="none" stroke="#000000" points="1667.5,-372 1488.5,-372 1488.5,-336 1667.5,-336 1667.5,-372"/>
<text text-anchor="middle" x="1578" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">maybeResumeReassignments</text>
</g>
<!-- initializePartitionReassignments&#45;&gt;maybeResumeReassignments -->
<g id="edge39" class="edge">
<title>initializePartitionReassignments&#45;&gt;maybeResumeReassignments</title>
<path fill="none" stroke="#000000" d="M1492.9326,-408.9551C1507.601,-399.479 1525.7556,-387.7508 1541.5214,-377.5658"/>
<polygon fill="#000000" stroke="#000000" points="1543.4966,-380.4566 1549.9971,-372.0904 1539.6982,-374.5769 1543.4966,-380.4566"/>
</g>
<!-- processApiPartitionReassignment -->
<g id="node35" class="node">
<title>processApiPartitionReassignment</title>
<polygon fill="none" stroke="#000000" points="1470,-372 1270,-372 1270,-336 1470,-336 1470,-372"/>
<text text-anchor="middle" x="1370" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">processApiPartitionReassignment</text>
</g>
<!-- alterPartitionReassignmentsRequest&#45;&gt;processApiPartitionReassignment -->
<g id="edge36" class="edge">
<title>alterPartitionReassignmentsRequest&#45;&gt;processApiPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1245.0337,-408.9551C1267.5797,-399.0403 1295.732,-386.66 1319.6053,-376.1615"/>
<polygon fill="#000000" stroke="#000000" points="1321.118,-379.3198 1328.863,-372.0904 1318.3001,-372.9121 1321.118,-379.3198"/>
</g>
<!-- maybeTriggerPartitionReassignment -->
<g id="node36" class="node">
<title>maybeTriggerPartitionReassignment</title>
<polygon fill="none" stroke="#000000" points="1393.5,-285 1176.5,-285 1176.5,-249 1393.5,-249 1393.5,-285"/>
<text text-anchor="middle" x="1285" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000">maybeTriggerPartitionReassignment</text>
</g>
<!-- processApiPartitionReassignment&#45;&gt;maybeTriggerPartitionReassignment -->
<g id="edge37" class="edge">
<title>processApiPartitionReassignment&#45;&gt;maybeTriggerPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1352.3879,-335.9735C1340.0792,-323.3752 1323.4703,-306.3755 1309.8215,-292.4055"/>
<polygon fill="#000000" stroke="#000000" points="1312.0814,-289.7103 1302.5895,-285.0034 1307.0744,-294.6021 1312.0814,-289.7103"/>
</g>
<!-- maybeRemoveFromZkReassignment -->
<g id="node41" class="node">
<title>maybeRemoveFromZkReassignment</title>
<polygon fill="none" stroke="#000000" points="1277.5,-60 1056.5,-60 1056.5,-24 1277.5,-24 1277.5,-60"/>
<text text-anchor="middle" x="1167" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#000000">maybeRemoveFromZkReassignment</text>
</g>
<!-- processApiPartitionReassignment&#45;&gt;maybeRemoveFromZkReassignment -->
<g id="edge41" class="edge">
<title>processApiPartitionReassignment&#45;&gt;maybeRemoveFromZkReassignment</title>
<path fill="none" stroke="#000000" d="M1301.3419,-335.9561C1251.4128,-321.8461 1189.0363,-301.8623 1168,-285 1160.6845,-279.1361 1157,-276.3756 1157,-267 1157,-267 1157,-267 1157,-115 1157,-100.1623 1159.0529,-83.7839 1161.2985,-70.307"/>
<polygon fill="#000000" stroke="#000000" points="1164.7898,-70.6657 1163.1051,-60.2057 1157.8991,-69.4333 1164.7898,-70.6657"/>
</g>
<!-- onPartitionReassignment -->
<g id="node39" class="node">
<title>onPartitionReassignment</title>
<polygon fill="none" stroke="#000000" points="1489.5,-206 1336.5,-206 1336.5,-170 1489.5,-170 1489.5,-206"/>
<text text-anchor="middle" x="1413" y="-184.3" font-family="Times,serif" font-size="14.00" fill="#000000">onPartitionReassignment</text>
</g>
<!-- maybeTriggerPartitionReassignment&#45;&gt;onPartitionReassignment -->
<g id="edge46" class="edge">
<title>maybeTriggerPartitionReassignment&#45;&gt;onPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1314.3658,-248.8758C1332.4154,-237.7358 1355.7245,-223.3497 1375.1511,-211.3598"/>
<polygon fill="#000000" stroke="#000000" points="1377.0994,-214.2704 1383.7709,-206.0399 1373.4229,-208.3136 1377.0994,-214.2704"/>
</g>
<!-- processZkPartitionReassignment&#45;&gt;maybeTriggerPartitionReassignment -->
<g id="edge45" class="edge">
<title>processZkPartitionReassignment&#45;&gt;maybeTriggerPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1181.1433,-335.9735C1200.9036,-322.8503 1227.8551,-304.9512 1249.3505,-290.6756"/>
<polygon fill="#000000" stroke="#000000" points="1251.4975,-293.4513 1257.8915,-285.0034 1247.6249,-287.6201 1251.4975,-293.4513"/>
</g>
<!-- processZkPartitionReassignment&#45;&gt;maybeRemoveFromZkReassignment -->
<g id="edge42" class="edge">
<title>processZkPartitionReassignment&#45;&gt;maybeRemoveFromZkReassignment</title>
<path fill="none" stroke="#000000" d="M1141.4152,-335.8706C1134.3939,-318.4097 1128,-291.162 1128,-267 1128,-267 1128,-267 1128,-115 1128,-98.8572 1134.3537,-82.1119 1142.0902,-68.7374"/>
<polygon fill="#000000" stroke="#000000" points="1145.1923,-70.3817 1147.6061,-60.0655 1139.2859,-66.6248 1145.1923,-70.3817"/>
</g>
<!-- maybeResumeReassignments&#45;&gt;onPartitionReassignment -->
<g id="edge40" class="edge">
<title>maybeResumeReassignments&#45;&gt;onPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1522.5118,-335.9392C1483.2662,-321.9923 1435.4924,-302.2293 1423,-285 1408.7829,-265.392 1407.3329,-237.4063 1408.8205,-216.53"/>
<polygon fill="#000000" stroke="#000000" points="1412.3268,-216.6358 1409.8142,-206.3432 1405.3598,-215.9561 1412.3268,-216.6358"/>
</g>
<!-- removePartitionFromReassigningPartitions -->
<g id="node40" class="node">
<title>removePartitionFromReassigningPartitions</title>
<polygon fill="none" stroke="#000000" points="1539,-133 1287,-133 1287,-97 1539,-97 1539,-133"/>
<text text-anchor="middle" x="1413" y="-111.3" font-family="Times,serif" font-size="14.00" fill="#000000">removePartitionFromReassigningPartitions</text>
</g>
<!-- onPartitionReassignment&#45;&gt;removePartitionFromReassigningPartitions -->
<g id="edge47" class="edge">
<title>onPartitionReassignment&#45;&gt;removePartitionFromReassigningPartitions</title>
<path fill="none" stroke="#000000" d="M1413,-169.9551C1413,-161.8828 1413,-152.1764 1413,-143.1817"/>
<polygon fill="#000000" stroke="#000000" points="1416.5001,-143.0903 1413,-133.0904 1409.5001,-143.0904 1416.5001,-143.0903"/>
</g>
<!-- removePartitionFromReassigningPartitions&#45;&gt;processReplicaLeaderElection -->
<g id="edge49" class="edge">
<title>removePartitionFromReassigningPartitions&#45;&gt;processReplicaLeaderElection</title>
<path fill="none" stroke="#000000" d="M1539.1731,-126.294C1611.0849,-136.3556 1687,-154.8321 1687,-188 1687,-851.5 1687,-851.5 1687,-851.5 1687,-858.8459 1685.6994,-907.2998 1678,-925 1654.6294,-978.7265 1412.4932,-1308.436 1341.4754,-1404.6609"/>
<polygon fill="#000000" stroke="#000000" points="1338.461,-1402.8512 1335.3363,-1412.9748 1344.0921,-1407.0093 1338.461,-1402.8512"/>
</g>
<!-- removePartitionFromReassigningPartitions&#45;&gt;maybeRemoveFromZkReassignment -->
<g id="edge43" class="edge">
<title>removePartitionFromReassigningPartitions&#45;&gt;maybeRemoveFromZkReassignment</title>
<path fill="none" stroke="#000000" d="M1352.191,-96.9551C1317.5968,-86.6893 1274.0958,-73.7804 1237.9488,-63.0539"/>
<polygon fill="#000000" stroke="#000000" points="1238.5446,-59.5799 1227.962,-60.0904 1236.5531,-66.2907 1238.5446,-59.5799"/>
</g>
<!-- maybeRemoveFromZkReassignment&#45;&gt;processZkPartitionReassignment -->
<g id="edge44" class="edge">
<title>maybeRemoveFromZkReassignment&#45;&gt;processZkPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1162.3353,-60.0655C1155.6245,-74.3511 1146,-95.132 1146,-115 1146,-267 1146,-267 1146,-267 1146,-286.8204 1150.3026,-308.7172 1153.4327,-325.5848"/>
<polygon fill="#000000" stroke="#000000" points="1150.0651,-326.6387 1155.2633,-335.8706 1156.9568,-325.4121 1150.0651,-326.6387"/>
</g>
<!-- processPartitionReassignmentIsrChange -->
<g id="node42" class="node">
<title>processPartitionReassignmentIsrChange</title>
<polygon fill="none" stroke="#000000" points="1668,-285 1432,-285 1432,-249 1668,-249 1668,-285"/>
<text text-anchor="middle" x="1550" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000">processPartitionReassignmentIsrChange</text>
</g>
<!-- processPartitionReassignmentIsrChange&#45;&gt;onPartitionReassignment -->
<g id="edge48" class="edge">
<title>processPartitionReassignmentIsrChange&#45;&gt;onPartitionReassignment</title>
<path fill="none" stroke="#000000" d="M1518.5694,-248.8758C1499.0766,-237.6354 1473.8527,-223.0903 1452.9492,-211.0364"/>
<polygon fill="#000000" stroke="#000000" points="1454.6956,-208.0033 1444.2843,-206.0399 1451.1988,-214.0673 1454.6956,-208.0033"/>
</g>
<!-- electLeaders&#45;&gt;processReplicaLeaderElection -->
<g id="edge50" class="edge">
<title>electLeaders&#45;&gt;processReplicaLeaderElection</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1195.5281,-1485.9551C1218.3457,-1476.0403 1246.8372,-1463.66 1270.9981,-1453.1615"/>
<polygon fill="#000000" stroke="#000000" points="1272.5907,-1456.2857 1280.3674,-1449.0904 1269.801,-1449.8656 1272.5907,-1456.2857"/>
</g>
<!-- scheduleAutoLeaderRebalanceTask&#45;&gt;processAutoPreferredReplicaLeaderElection -->
<g id="edge52" class="edge">
<title>scheduleAutoLeaderRebalanceTask&#45;&gt;processAutoPreferredReplicaLeaderElection</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1558.5567,-1337.4667C1570.9098,-1341.1033 1580.6631,-1345.5649 1585,-1351 1601.2165,-1371.323 1600.2881,-1446.9697 1585,-1468 1581.1697,-1473.269 1572.2592,-1478.1626 1560.9199,-1482.5368"/>
<polygon fill="#000000" stroke="#000000" points="1559.6096,-1479.2879 1551.3559,-1485.9308 1561.9507,-1485.8848 1559.6096,-1479.2879"/>
</g>
<!-- startup -->
<g id="node45" class="node">
<title>startup</title>
<polygon fill="none" stroke="#000000" points="1415,-1971 1361,-1971 1361,-1935 1415,-1935 1415,-1971"/>
<text text-anchor="middle" x="1388" y="-1949.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
</g>
<!-- startup&#45;&gt;processStartup -->
<g id="edge54" class="edge">
<title>startup&#45;&gt;processStartup</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1394.4168,-1934.9162C1403.9287,-1908.1101 1421.8506,-1857.6029 1433.0667,-1825.9938"/>
<polygon fill="#000000" stroke="#000000" points="1436.4079,-1827.0438 1436.4535,-1816.4491 1429.8109,-1824.7029 1436.4079,-1827.0438"/>
</g>
<!-- startup_afterInitializeingSession -->
<g id="node46" class="node">
<title>startup_afterInitializeingSession</title>
<polygon fill="none" stroke="#000000" points="1376.5,-1870 1185.5,-1870 1185.5,-1834 1376.5,-1834 1376.5,-1870"/>
<text text-anchor="middle" x="1281" y="-1848.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup_afterInitializeingSession</text>
</g>
<!-- startup&#45;&gt;startup_afterInitializeingSession -->
<g id="edge55" class="edge">
<title>startup&#45;&gt;startup_afterInitializeingSession</title>
<path fill="none" stroke="#000000" d="M1368.8705,-1934.9432C1351.8586,-1918.8852 1326.806,-1895.2375 1307.7995,-1877.2967"/>
<polygon fill="#000000" stroke="#000000" points="1309.9991,-1874.56 1300.3246,-1870.241 1305.1942,-1879.6505 1309.9991,-1874.56"/>
</g>
<!-- startup_afterInitializeingSession&#45;&gt;processRegisterBrokerAndReelect -->
<g id="edge59" class="edge">
<title>startup_afterInitializeingSession&#45;&gt;processRegisterBrokerAndReelect</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1280.4911,-1833.6793C1280.0228,-1816.821 1279.3213,-1791.5651 1278.7819,-1772.147"/>
<polygon fill="#000000" stroke="#000000" points="1282.2778,-1771.9491 1278.5014,-1762.0502 1275.2805,-1772.1435 1282.2778,-1771.9491"/>
</g>
<!-- TopicChangeHandler -->
<g id="node47" class="node">
<title>TopicChangeHandler</title>
<polygon fill="none" stroke="#000000" points="2169.5,-1522 2036.5,-1522 2036.5,-1486 2169.5,-1486 2169.5,-1522"/>
<text text-anchor="middle" x="2103" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">TopicChangeHandler</text>
</g>
<!-- TopicChangeHandler&#45;&gt;processTopicChange -->
<g id="edge56" class="edge">
<title>TopicChangeHandler&#45;&gt;processTopicChange</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2102.7528,-1485.9551C2102.6422,-1477.8828 2102.5093,-1468.1764 2102.3861,-1459.1817"/>
<polygon fill="#000000" stroke="#000000" points="2105.8846,-1459.0414 2102.2478,-1449.0904 2098.8852,-1459.1374 2105.8846,-1459.0414"/>
</g>
<!-- PartitionModificationsHandler -->
<g id="node48" class="node">
<title>PartitionModificationsHandler</title>
<polygon fill="none" stroke="#000000" points="2011.5,-1522 1828.5,-1522 1828.5,-1486 2011.5,-1486 2011.5,-1522"/>
<text text-anchor="middle" x="1920" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">PartitionModificationsHandler</text>
</g>
<!-- PartitionModificationsHandler&#45;&gt;processPartitionModifications -->
<g id="edge57" class="edge">
<title>PartitionModificationsHandler&#45;&gt;processPartitionModifications</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1920.2472,-1485.9551C1920.3578,-1477.8828 1920.4907,-1468.1764 1920.6139,-1459.1817"/>
<polygon fill="#000000" stroke="#000000" points="1924.1148,-1459.1374 1920.7522,-1449.0904 1917.1154,-1459.0414 1924.1148,-1459.1374"/>
</g>
<!-- PartitionReassignmentIsrChangeHandler -->
<g id="node49" class="node">
<title>PartitionReassignmentIsrChangeHandler</title>
<polygon fill="none" stroke="#000000" points="2012.5,-372 1773.5,-372 1773.5,-336 2012.5,-336 2012.5,-372"/>
<text text-anchor="middle" x="1893" y="-350.3" font-family="Times,serif" font-size="14.00" fill="#000000">PartitionReassignmentIsrChangeHandler</text>
</g>
<!-- PartitionReassignmentIsrChangeHandler&#45;&gt;processPartitionReassignmentIsrChange -->
<g id="edge58" class="edge">
<title>PartitionReassignmentIsrChangeHandler&#45;&gt;processPartitionReassignmentIsrChange</title>
<path fill="none" stroke="#000000" d="M1821.9302,-335.9735C1766.2822,-321.8588 1688.8526,-302.2192 1630.8435,-287.5055"/>
<polygon fill="#000000" stroke="#000000" points="1631.5324,-284.0695 1620.9788,-285.0034 1629.8113,-290.8546 1631.5324,-284.0695"/>
</g>
<!-- ControllerChangeHandler -->
<g id="node50" class="node">
<title>ControllerChangeHandler</title>
<polygon fill="none" stroke="#000000" points="1158.5,-1762 1001.5,-1762 1001.5,-1726 1158.5,-1726 1158.5,-1762"/>
<text text-anchor="middle" x="1080" y="-1740.3" font-family="Times,serif" font-size="14.00" fill="#000000">ControllerChangeHandler</text>
</g>
<!-- ControllerChangeHandler&#45;&gt;processReelect -->
<g id="edge60" class="edge">
<title>ControllerChangeHandler&#45;&gt;processReelect</title>
<path fill="none" stroke="#000000" d="M1105.885,-1725.8282C1141.1635,-1701.062 1204.4288,-1656.6485 1243.6458,-1629.1173"/>
<polygon fill="#000000" stroke="#000000" points="1245.9351,-1631.7866 1252.1086,-1623.1763 1241.913,-1626.0574 1245.9351,-1631.7866"/>
</g>
<!-- BrokerChangeHandler -->
<g id="node51" class="node">
<title>BrokerChangeHandler</title>
<polygon fill="none" stroke="#000000" points="1749.5,-1623 1610.5,-1623 1610.5,-1587 1749.5,-1587 1749.5,-1623"/>
<text text-anchor="middle" x="1680" y="-1601.3" font-family="Times,serif" font-size="14.00" fill="#000000">BrokerChangeHandler</text>
</g>
<!-- processBrokerChange -->
<g id="node52" class="node">
<title>processBrokerChange</title>
<polygon fill="none" stroke="#000000" points="1748,-1522 1612,-1522 1612,-1486 1748,-1486 1748,-1522"/>
<text text-anchor="middle" x="1680" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">processBrokerChange</text>
</g>
<!-- BrokerChangeHandler&#45;&gt;processBrokerChange -->
<g id="edge61" class="edge">
<title>BrokerChangeHandler&#45;&gt;processBrokerChange</title>
<path fill="none" stroke="#000000" d="M1680,-1586.9432C1680,-1571.813 1680,-1549.9448 1680,-1532.461"/>
<polygon fill="#000000" stroke="#000000" points="1683.5001,-1532.2409 1680,-1522.241 1676.5001,-1532.241 1683.5001,-1532.2409"/>
</g>
<!-- onBrokerFailure -->
<g id="node53" class="node">
<title>onBrokerFailure</title>
<polygon fill="none" stroke="#000000" points="1750,-1449 1644,-1449 1644,-1413 1750,-1413 1750,-1449"/>
<text text-anchor="middle" x="1697" y="-1427.3" font-family="Times,serif" font-size="14.00" fill="#000000">onBrokerFailure</text>
</g>
<!-- processBrokerChange&#45;&gt;onBrokerFailure -->
<g id="edge62" class="edge">
<title>processBrokerChange&#45;&gt;onBrokerFailure</title>
<path fill="none" stroke="#000000" d="M1684.2022,-1485.9551C1686.1025,-1477.7951 1688.3917,-1467.9652 1690.5054,-1458.8887"/>
<polygon fill="#000000" stroke="#000000" points="1693.9278,-1459.6236 1692.7872,-1449.0904 1687.1102,-1458.0359 1693.9278,-1459.6236"/>
</g>
<!-- onBrokerStartup -->
<g id="node54" class="node">
<title>onBrokerStartup</title>
<polygon fill="none" stroke="#000000" points="1716.5,-1395 1609.5,-1395 1609.5,-1359 1716.5,-1359 1716.5,-1395"/>
<text text-anchor="middle" x="1663" y="-1373.3" font-family="Times,serif" font-size="14.00" fill="#000000">onBrokerStartup</text>
</g>
<!-- processBrokerChange&#45;&gt;onBrokerStartup -->
<g id="edge63" class="edge">
<title>processBrokerChange&#45;&gt;onBrokerStartup</title>
<path fill="none" stroke="#000000" d="M1677.5643,-1485.804C1674.7492,-1464.7735 1670.0824,-1429.9094 1666.7914,-1405.3236"/>
<polygon fill="#000000" stroke="#000000" points="1670.2271,-1404.6095 1665.4312,-1395.1622 1663.2889,-1405.5382 1670.2271,-1404.6095"/>
</g>
<!-- onBrokerFailure&#45;&gt;onReplicasBecomeOffline -->
<g id="edge64" class="edge">
<title>onBrokerFailure&#45;&gt;onReplicasBecomeOffline</title>
<path fill="none" stroke="#000000" d="M1709.0767,-1412.8669C1718.8161,-1395.7522 1729.0739,-1369.9584 1717,-1351 1716.3979,-1350.0547 1715.7547,-1349.1407 1715.0743,-1348.2571"/>
<polygon fill="#000000" stroke="#000000" points="1717.5555,-1345.7884 1708.0557,-1341.0975 1712.5568,-1350.6887 1717.5555,-1345.7884"/>
</g>
<!-- onBrokerStartup&#45;&gt;maybeResumeReassignments -->
<g id="edge65" class="edge">
<title>onBrokerStartup&#45;&gt;maybeResumeReassignments</title>
<path fill="none" stroke="#000000" d="M1701.7523,-1358.9264C1708.1341,-1356.1532 1714.7163,-1353.4136 1721,-1351 1734.5142,-1345.8091 1742.9521,-1352.3011 1752,-1341 1767.2023,-1322.012 1757,-1310.8239 1757,-1286.5 1757,-1286.5 1757,-1286.5 1757,-997.5 1757,-969.6335 1763.7954,-960.247 1752,-935 1729.5844,-887.0215 1667,-904.4565 1667,-851.5 1667,-851.5 1667,-851.5 1667,-427 1667,-405.4468 1651.2034,-389.0974 1632.9203,-377.3925"/>
<polygon fill="#000000" stroke="#000000" points="1634.1954,-374.0813 1623.8035,-372.0172 1630.64,-380.1112 1634.1954,-374.0813"/>
</g>
</g>
</svg>
