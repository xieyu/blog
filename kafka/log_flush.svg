<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: log_flush Pages: 1 -->
<svg width="1424pt" height="646pt"
 viewBox="0.00 0.00 1424.00 646.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 642)">
<title>log_flush</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-642 1420,-642 1420,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_channel</title>
<polygon fill="none" stroke="#000000" points="1198,-8 1198,-90 1416,-90 1416,-8 1198,-8"/>
<text text-anchor="middle" x="1307" y="-70" font-family="Times,serif" font-size="20.00" fill="#000000">nio.channels.FileChannel</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_segment</title>
<polygon fill="none" stroke="#000000" points="789.5,-98 789.5,-342 1358,-342 1358,-98 789.5,-98"/>
<text text-anchor="middle" x="1073.75" y="-322" font-family="Times,serif" font-size="20.00" fill="#000000">segment</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_log</title>
<polygon fill="none" stroke="#000000" points="600,-350 600,-486 1146.5,-486 1146.5,-350 600,-350"/>
<text text-anchor="middle" x="873.25" y="-466" font-family="Times,serif" font-size="20.00" fill="#000000">log</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="139,-494 139,-630 684,-630 684,-494 139,-494"/>
<text text-anchor="middle" x="411.5" y="-610" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_KafkaServer</title>
<polygon fill="none" stroke="#000000" points="0,-499 0,-581 118,-581 118,-499 0,-499"/>
<text text-anchor="middle" x="59" y="-561" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaServer</text>
</g>
<!-- channel_force -->
<g id="node1" class="node">
<title>channel_force</title>
<polygon fill="none" stroke="#000000" points="1334,-52 1280,-52 1280,-16 1334,-16 1334,-52"/>
<text text-anchor="middle" x="1307" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">force</text>
</g>
<!-- segment_flush -->
<g id="node2" class="node">
<title>segment_flush</title>
<polygon fill="none" stroke="#000000" points="851.5,-250 797.5,-250 797.5,-214 851.5,-214 851.5,-250"/>
<text text-anchor="middle" x="824.5" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#000000">flush</text>
</g>
<!-- offsetIndex_flush -->
<g id="node3" class="node">
<title>offsetIndex_flush</title>
<polygon fill="none" stroke="#000000" points="1160.5,-196 1048.5,-196 1048.5,-160 1160.5,-160 1160.5,-196"/>
<text text-anchor="middle" x="1104.5" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#000000">offsetIndex_flush</text>
</g>
<!-- segment_flush&#45;&gt;offsetIndex_flush -->
<g id="edge1" class="edge">
<title>segment_flush&#45;&gt;offsetIndex_flush</title>
<path fill="none" stroke="#000000" d="M851.602,-226.7732C894.351,-218.5287 978.6845,-202.2644 1038.1843,-190.7894"/>
<polygon fill="#000000" stroke="#000000" points="1039.0923,-194.1789 1048.2486,-188.8485 1037.7667,-187.3056 1039.0923,-194.1789"/>
</g>
<!-- timeIndex_flush -->
<g id="node4" class="node">
<title>timeIndex_flush</title>
<polygon fill="none" stroke="#000000" points="1157.5,-250 1051.5,-250 1051.5,-214 1157.5,-214 1157.5,-250"/>
<text text-anchor="middle" x="1104.5" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#000000">timeIndex_flush</text>
</g>
<!-- segment_flush&#45;&gt;timeIndex_flush -->
<g id="edge2" class="edge">
<title>segment_flush&#45;&gt;timeIndex_flush</title>
<path fill="none" stroke="#000000" d="M851.602,-232C895.1295,-232 981.7697,-232 1041.4096,-232"/>
<polygon fill="#000000" stroke="#000000" points="1041.4757,-235.5001 1051.4757,-232 1041.4756,-228.5001 1041.4757,-235.5001"/>
</g>
<!-- txnIndex_flush -->
<g id="node5" class="node">
<title>txnIndex_flush</title>
<polygon fill="none" stroke="#000000" points="1153.5,-304 1055.5,-304 1055.5,-268 1153.5,-268 1153.5,-304"/>
<text text-anchor="middle" x="1104.5" y="-282.3" font-family="Times,serif" font-size="14.00" fill="#000000">txnIndex_flush</text>
</g>
<!-- segment_flush&#45;&gt;txnIndex_flush -->
<g id="edge3" class="edge">
<title>segment_flush&#45;&gt;txnIndex_flush</title>
<path fill="none" stroke="#000000" d="M851.602,-237.2268C896.1025,-245.8091 985.6648,-263.0818 1045.368,-274.596"/>
<polygon fill="#000000" stroke="#000000" points="1044.9336,-278.0766 1055.4155,-276.5337 1046.2592,-271.2033 1044.9336,-278.0766"/>
</g>
<!-- fileRecords_flush -->
<g id="node7" class="node">
<title>fileRecords_flush</title>
<polygon fill="none" stroke="#000000" points="1161,-142 1048,-142 1048,-106 1161,-106 1161,-142"/>
<text text-anchor="middle" x="1104.5" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#000000">fileRecords_flush</text>
</g>
<!-- segment_flush&#45;&gt;fileRecords_flush -->
<g id="edge7" class="edge">
<title>segment_flush&#45;&gt;fileRecords_flush</title>
<path fill="none" stroke="#000000" d="M851.602,-221.5464C896.7795,-204.1208 988.4002,-168.7813 1048.0718,-145.7652"/>
<polygon fill="#000000" stroke="#000000" points="1049.6565,-148.9053 1057.727,-142.041 1047.1374,-142.3743 1049.6565,-148.9053"/>
</g>
<!-- mmap_force -->
<g id="node6" class="node">
<title>mmap_force</title>
<polygon fill="none" stroke="#000000" points="1350,-250 1264,-250 1264,-214 1350,-214 1350,-250"/>
<text text-anchor="middle" x="1307" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#000000">mmap_force</text>
</g>
<!-- offsetIndex_flush&#45;&gt;mmap_force -->
<g id="edge4" class="edge">
<title>offsetIndex_flush&#45;&gt;mmap_force</title>
<path fill="none" stroke="#000000" d="M1160.6386,-192.9703C1189.8509,-200.7602 1225.3607,-210.2295 1254.0874,-217.89"/>
<polygon fill="#000000" stroke="#000000" points="1253.3799,-221.3236 1263.9441,-220.5184 1255.1836,-214.5599 1253.3799,-221.3236"/>
</g>
<!-- timeIndex_flush&#45;&gt;mmap_force -->
<g id="edge5" class="edge">
<title>timeIndex_flush&#45;&gt;mmap_force</title>
<path fill="none" stroke="#000000" d="M1157.7045,-232C1187.2646,-232 1223.9374,-232 1253.5386,-232"/>
<polygon fill="#000000" stroke="#000000" points="1253.6907,-235.5001 1263.6907,-232 1253.6906,-228.5001 1253.6907,-235.5001"/>
</g>
<!-- txnIndex_flush&#45;&gt;mmap_force -->
<g id="edge6" class="edge">
<title>txnIndex_flush&#45;&gt;mmap_force</title>
<path fill="none" stroke="#000000" d="M1153.5196,-272.9281C1183.9384,-264.8164 1223.0184,-254.3951 1254.1307,-246.0985"/>
<polygon fill="#000000" stroke="#000000" points="1255.1706,-249.4436 1263.9311,-243.4851 1253.3669,-242.6799 1255.1706,-249.4436"/>
</g>
<!-- fileRecords_flush&#45;&gt;channel_force -->
<g id="edge8" class="edge">
<title>fileRecords_flush&#45;&gt;channel_force</title>
<path fill="none" stroke="#000000" d="M1145.4789,-105.7872C1182.1349,-89.4956 1235.3617,-65.8393 1270.5608,-50.1952"/>
<polygon fill="#000000" stroke="#000000" points="1272.2654,-53.2678 1279.982,-46.008 1269.4223,-46.8711 1272.2654,-53.2678"/>
</g>
<!-- log_flush -->
<g id="node8" class="node">
<title>log_flush</title>
<polygon fill="none" stroke="#000000" points="662,-421 608,-421 608,-385 662,-385 662,-421"/>
<text text-anchor="middle" x="635" y="-399.3" font-family="Times,serif" font-size="14.00" fill="#000000">flush</text>
</g>
<!-- log_flush&#45;&gt;segment_flush -->
<g id="edge9" class="edge">
<title>log_flush&#45;&gt;segment_flush</title>
<path fill="none" stroke="#000000" d="M655.2798,-384.7C689.3312,-353.9729 758.0479,-291.9647 796.6167,-257.1611"/>
<polygon fill="#000000" stroke="#000000" points="799.2866,-259.4663 804.366,-250.1684 794.597,-254.2694 799.2866,-259.4663"/>
</g>
<!-- logSegments -->
<g id="node9" class="node">
<title>logSegments</title>
<polygon fill="none" stroke="#000000" points="868,-394 781,-394 781,-358 868,-358 868,-394"/>
<text text-anchor="middle" x="824.5" y="-372.3" font-family="Times,serif" font-size="14.00" fill="#000000">logSegments</text>
</g>
<!-- log_flush&#45;&gt;logSegments -->
<g id="edge10" class="edge">
<title>log_flush&#45;&gt;logSegments</title>
<path fill="none" stroke="#000000" d="M662.1507,-399.1316C690.374,-395.1103 735.2943,-388.71 770.7366,-383.6602"/>
<polygon fill="#000000" stroke="#000000" points="771.5238,-387.0835 780.9301,-382.2078 770.5364,-380.1535 771.5238,-387.0835"/>
</g>
<!-- checkIfMemoryMappedBufferClosed -->
<g id="node10" class="node">
<title>checkIfMemoryMappedBufferClosed</title>
<polygon fill="none" stroke="#000000" points="936,-448 713,-448 713,-412 936,-412 936,-448"/>
<text text-anchor="middle" x="824.5" y="-426.3" font-family="Times,serif" font-size="14.00" fill="#000000">checkIfMemoryMappedBufferClosed</text>
</g>
<!-- log_flush&#45;&gt;checkIfMemoryMappedBufferClosed -->
<g id="edge11" class="edge">
<title>log_flush&#45;&gt;checkIfMemoryMappedBufferClosed</title>
<path fill="none" stroke="#000000" d="M662.1507,-406.8684C673.5681,-408.4952 687.718,-410.5113 702.8675,-412.6698"/>
<polygon fill="#000000" stroke="#000000" points="702.5548,-416.1605 712.9486,-414.1061 703.5423,-409.2305 702.5548,-416.1605"/>
</g>
<!-- segments -->
<g id="node11" class="node">
<title>segments</title>
<polygon fill="#95e1d3" stroke="#000000" points="1138.5,-394 1074.5,-394 1070.5,-390 1070.5,-358 1134.5,-358 1138.5,-362 1138.5,-394"/>
<polyline fill="none" stroke="#000000" points="1134.5,-390 1070.5,-390 "/>
<polyline fill="none" stroke="#000000" points="1134.5,-390 1134.5,-358 "/>
<polyline fill="none" stroke="#000000" points="1134.5,-390 1138.5,-394 "/>
<text text-anchor="middle" x="1104.5" y="-372.3" font-family="Times,serif" font-size="14.00" fill="#000000">segments</text>
</g>
<!-- logSegments&#45;&gt;segments -->
<g id="edge12" class="edge">
<title>logSegments&#45;&gt;segments</title>
<path fill="none" stroke="#000000" d="M868.25,-376C920.593,-376 1007.7269,-376 1060.278,-376"/>
<polygon fill="#000000" stroke="#000000" points="1060.3066,-379.5001 1070.3066,-376 1060.3065,-372.5001 1060.3066,-379.5001"/>
<text text-anchor="middle" x="992" y="-379.8" font-family="Times,serif" font-size="14.00" fill="#000000">recoveryPoint</text>
</g>
<!-- logManager_startup -->
<g id="node12" class="node">
<title>logManager_startup</title>
<polygon fill="none" stroke="#000000" points="201,-543 147,-543 147,-507 201,-507 201,-543"/>
<text text-anchor="middle" x="174" y="-521.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
</g>
<!-- scheduler_schedule -->
<g id="node13" class="node">
<title>scheduler_schedule</title>
<polygon fill="none" stroke="#000000" points="238,-502 238,-548 369,-548 369,-502 238,-502"/>
<text text-anchor="middle" x="303.5" y="-532.8" font-family="Times,serif" font-size="14.00" fill="#000000">scheduler.schedule</text>
<polyline fill="none" stroke="#000000" points="238,-525 369,-525 "/>
<text text-anchor="start" x="246" y="-509.8" font-family="Times,serif" font-size="14.00" fill="#000000">后台启动定时任务</text>
</g>
<!-- logManager_startup&#45;&gt;scheduler_schedule -->
<g id="edge13" class="edge">
<title>logManager_startup&#45;&gt;scheduler_schedule</title>
<path fill="none" stroke="#000000" d="M201.1474,-525C209.1841,-525 218.4036,-525 227.9451,-525"/>
<polygon fill="#000000" stroke="#000000" points="227.969,-528.5001 237.969,-525 227.969,-521.5001 227.969,-528.5001"/>
</g>
<!-- flushDirtyLogs -->
<g id="node14" class="node">
<title>flushDirtyLogs</title>
<polygon fill="none" stroke="#000000" points="406,-502 406,-548 557,-548 557,-502 406,-502"/>
<text text-anchor="middle" x="481.5" y="-532.8" font-family="Times,serif" font-size="14.00" fill="#000000">flushDirtyLogs</text>
<polyline fill="none" stroke="#000000" points="406,-525 557,-525 "/>
<text text-anchor="start" x="414" y="-509.8" font-family="Times,serif" font-size="14.00" fill="#000000">刷新unwriten log到disk</text>
</g>
<!-- scheduler_schedule&#45;&gt;flushDirtyLogs -->
<g id="edge14" class="edge">
<title>scheduler_schedule&#45;&gt;flushDirtyLogs</title>
<path fill="none" stroke="#000000" d="M369.0223,-525C377.7371,-525 386.7753,-525 395.7689,-525"/>
<polygon fill="#000000" stroke="#000000" points="395.8845,-528.5001 405.8844,-525 395.8844,-521.5001 395.8845,-528.5001"/>
</g>
<!-- flushDirtyLogs&#45;&gt;log_flush -->
<g id="edge15" class="edge">
<title>flushDirtyLogs&#45;&gt;log_flush</title>
<path fill="none" stroke="#000000" d="M510.7335,-501.7656C537.3783,-480.5886 576.6195,-449.4001 603.8484,-427.759"/>
<polygon fill="#000000" stroke="#000000" points="606.235,-430.333 611.8858,-421.3709 601.8795,-424.853 606.235,-430.333"/>
</g>
<!-- currentLogs -->
<g id="node15" class="node">
<title>currentLogs</title>
<polygon fill="#95e1d3" stroke="#000000" points="676,-538 598,-538 594,-534 594,-502 672,-502 676,-506 676,-538"/>
<polyline fill="none" stroke="#000000" points="672,-534 594,-534 "/>
<polyline fill="none" stroke="#000000" points="672,-534 672,-502 "/>
<polyline fill="none" stroke="#000000" points="672,-534 676,-538 "/>
<text text-anchor="middle" x="635" y="-516.3" font-family="Times,serif" font-size="14.00" fill="#000000">currentLogs</text>
</g>
<!-- flushDirtyLogs&#45;&gt;currentLogs -->
<g id="edge16" class="edge">
<title>flushDirtyLogs&#45;&gt;currentLogs</title>
<path fill="none" stroke="#000000" d="M557.3506,-522.5293C566.2646,-522.2389 575.1947,-521.9481 583.66,-521.6723"/>
<polygon fill="#000000" stroke="#000000" points="583.8421,-525.1683 593.7229,-521.3445 583.6142,-518.172 583.8421,-525.1683"/>
</g>
<!-- futureLogs -->
<g id="node16" class="node">
<title>futureLogs</title>
<polygon fill="#95e1d3" stroke="#000000" points="673,-592 601,-592 597,-588 597,-556 669,-556 673,-560 673,-592"/>
<polyline fill="none" stroke="#000000" points="669,-588 597,-588 "/>
<polyline fill="none" stroke="#000000" points="669,-588 669,-556 "/>
<polyline fill="none" stroke="#000000" points="669,-588 673,-592 "/>
<text text-anchor="middle" x="635" y="-570.3" font-family="Times,serif" font-size="14.00" fill="#000000">futureLogs</text>
</g>
<!-- flushDirtyLogs&#45;&gt;futureLogs -->
<g id="edge17" class="edge">
<title>flushDirtyLogs&#45;&gt;futureLogs</title>
<path fill="none" stroke="#000000" d="M553.7552,-548.0652C565.186,-551.7141 576.7501,-555.4056 587.4288,-558.8144"/>
<polygon fill="#000000" stroke="#000000" points="586.3668,-562.1493 596.9576,-561.8562 588.4956,-555.4809 586.3668,-562.1493"/>
</g>
<!-- startup -->
<g id="node17" class="node">
<title>startup</title>
<polygon fill="none" stroke="#000000" points="86,-543 32,-543 32,-507 86,-507 86,-543"/>
<text text-anchor="middle" x="59" y="-521.3" font-family="Times,serif" font-size="14.00" fill="#000000">startup</text>
</g>
<!-- startup&#45;&gt;logManager_startup -->
<g id="edge18" class="edge">
<title>startup&#45;&gt;logManager_startup</title>
<path fill="none" stroke="#000000" d="M86.2534,-525C101.2913,-525 120.1877,-525 136.5897,-525"/>
<polygon fill="#000000" stroke="#000000" points="136.9423,-528.5001 146.9422,-525 136.9422,-521.5001 136.9423,-528.5001"/>
</g>
</g>
</svg>
