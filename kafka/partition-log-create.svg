<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: partionLogCreate Pages: 1 -->
<svg width="1640pt" height="301pt"
 viewBox="0.00 0.00 1640.00 301.39" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 297.3893)">
<title>partionLogCreate</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-297.3893 1636,-297.3893 1636,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_logManager</title>
<polygon fill="none" stroke="#000000" points="1262,-95.3893 1262,-285.3893 1624,-285.3893 1624,-95.3893 1262,-95.3893"/>
<text text-anchor="middle" x="1443" y="-265.3893" font-family="Times,serif" font-size="20.00" fill="#000000">logManager</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Partition</title>
<polygon fill="none" stroke="#000000" points="785,-68.3893 785,-258.3893 1242,-258.3893 1242,-68.3893 785,-68.3893"/>
<text text-anchor="middle" x="1013.5" y="-238.3893" font-family="Times,serif" font-size="20.00" fill="#000000">Partition</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ReplicaManager</title>
<polygon fill="none" stroke="#000000" points="452,-14.3893 452,-204.3893 765,-204.3893 765,-14.3893 452,-14.3893"/>
<text text-anchor="middle" x="608.5" y="-184.3893" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManager</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_KafkaApi</title>
<polygon fill="none" stroke="#000000" points="8,-68.3893 8,-204.3893 432,-204.3893 432,-68.3893 8,-68.3893"/>
<text text-anchor="middle" x="220" y="-184.3893" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi: kafkaServer对外接口</text>
</g>
<!-- logCreationOrDeletionLock -->
<g id="node1" class="node">
<title>logCreationOrDeletionLock</title>
<polygon fill="#95e1d3" stroke="#000000" points="1616,-139.3893 1451,-139.3893 1447,-135.3893 1447,-103.3893 1612,-103.3893 1616,-107.3893 1616,-139.3893"/>
<polyline fill="none" stroke="#000000" points="1612,-135.3893 1447,-135.3893 "/>
<polyline fill="none" stroke="#000000" points="1612,-135.3893 1612,-103.3893 "/>
<polyline fill="none" stroke="#000000" points="1612,-135.3893 1616,-139.3893 "/>
<text text-anchor="middle" x="1531.5" y="-117.6893" font-family="Times,serif" font-size="14.00" fill="#000000">logCreationOrDeletionLock</text>
</g>
<!-- getOrCreateLog -->
<g id="node2" class="node">
<title>getOrCreateLog</title>
<polygon fill="none" stroke="#000000" points="1392.5,-193.3893 1288.5,-193.3893 1288.5,-157.3893 1392.5,-157.3893 1392.5,-193.3893"/>
<text text-anchor="middle" x="1340.5" y="-171.6893" font-family="Times,serif" font-size="14.00" fill="#000000">getOrCreateLog</text>
</g>
<!-- getOrCreateLog&#45;&gt;logCreationOrDeletionLock -->
<g id="edge1" class="edge">
<title>getOrCreateLog&#45;&gt;logCreationOrDeletionLock</title>
<path fill="none" stroke="#000000" d="M1392.6916,-160.6336C1412.806,-154.9468 1436.1724,-148.3406 1457.9327,-142.1885"/>
<polygon fill="#000000" stroke="#000000" points="1459.1296,-145.4874 1467.8002,-139.3987 1457.2252,-138.7514 1459.1296,-145.4874"/>
</g>
<!-- preferredLogDirs -->
<g id="node3" class="node">
<title>preferredLogDirs</title>
<polygon fill="none" stroke="#000000" points="1587,-193.3893 1476,-193.3893 1476,-157.3893 1587,-157.3893 1587,-193.3893"/>
<text text-anchor="middle" x="1531.5" y="-171.6893" font-family="Times,serif" font-size="14.00" fill="#000000">preferredLogDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;preferredLogDirs -->
<g id="edge2" class="edge">
<title>getOrCreateLog&#45;&gt;preferredLogDirs</title>
<path fill="none" stroke="#000000" d="M1392.6916,-175.3893C1415.2101,-175.3893 1441.8043,-175.3893 1465.6579,-175.3893"/>
<polygon fill="#000000" stroke="#000000" points="1465.6933,-178.8894 1475.6932,-175.3893 1465.6932,-171.8894 1465.6933,-178.8894"/>
</g>
<!-- logDirs -->
<g id="node4" class="node">
<title>logDirs</title>
<polygon fill="none" stroke="#000000" points="1560,-247.3893 1503,-247.3893 1503,-211.3893 1560,-211.3893 1560,-247.3893"/>
<text text-anchor="middle" x="1531.5" y="-225.6893" font-family="Times,serif" font-size="14.00" fill="#000000">logDirs</text>
</g>
<!-- getOrCreateLog&#45;&gt;logDirs -->
<g id="edge3" class="edge">
<title>getOrCreateLog&#45;&gt;logDirs</title>
<path fill="none" stroke="#000000" d="M1392.6916,-190.1451C1424.4074,-199.1118 1464.2082,-210.3644 1493.0499,-218.5186"/>
<polygon fill="#000000" stroke="#000000" points="1492.1882,-221.9122 1502.7633,-221.2648 1494.0927,-215.1762 1492.1882,-221.9122"/>
</g>
<!-- finishedInitializingLog -->
<g id="node5" class="node">
<title>finishedInitializingLog</title>
<polygon fill="none" stroke="#000000" points="1411,-139.3893 1270,-139.3893 1270,-103.3893 1411,-103.3893 1411,-139.3893"/>
<text text-anchor="middle" x="1340.5" y="-117.6893" font-family="Times,serif" font-size="14.00" fill="#000000">finishedInitializingLog</text>
</g>
<!-- log -->
<g id="node6" class="node">
<title>log</title>
<polygon fill="#95e1d3" stroke="#000000" points="1225.5,-112.3893 1175.5,-112.3893 1171.5,-108.3893 1171.5,-76.3893 1221.5,-76.3893 1225.5,-80.3893 1225.5,-112.3893"/>
<polyline fill="none" stroke="#000000" points="1221.5,-108.3893 1171.5,-108.3893 "/>
<polyline fill="none" stroke="#000000" points="1221.5,-108.3893 1221.5,-76.3893 "/>
<polyline fill="none" stroke="#000000" points="1221.5,-108.3893 1225.5,-112.3893 "/>
<text text-anchor="middle" x="1198.5" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">log</text>
</g>
<!-- maybeCreateFutureReplica -->
<g id="node7" class="node">
<title>maybeCreateFutureReplica</title>
<polygon fill="none" stroke="#000000" points="958,-220.3893 793,-220.3893 793,-184.3893 958,-184.3893 958,-220.3893"/>
<text text-anchor="middle" x="875.5" y="-198.6893" font-family="Times,serif" font-size="14.00" fill="#000000">maybeCreateFutureReplica</text>
</g>
<!-- createLogIfNotExists -->
<g id="node10" class="node">
<title>createLogIfNotExists</title>
<polygon fill="#f38181" stroke="#000000" points="1127,-112.3893 994,-112.3893 994,-76.3893 1127,-76.3893 1127,-112.3893"/>
<text text-anchor="middle" x="1060.5" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">createLogIfNotExists</text>
</g>
<!-- maybeCreateFutureReplica&#45;&gt;createLogIfNotExists -->
<g id="edge4" class="edge">
<title>maybeCreateFutureReplica&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M938.6348,-184.3088C945.3146,-181.6391 951.8916,-178.6674 958,-175.3893 986.2796,-160.2135 1014.6132,-137.0664 1034.3007,-119.397"/>
<polygon fill="#000000" stroke="#000000" points="1036.896,-121.767 1041.9231,-112.4408 1032.1773,-116.5965 1036.896,-121.767"/>
</g>
<!-- makeLeader -->
<g id="node8" class="node">
<title>makeLeader</title>
<polygon fill="none" stroke="#000000" points="917.5,-166.3893 833.5,-166.3893 833.5,-130.3893 917.5,-130.3893 917.5,-166.3893"/>
<text text-anchor="middle" x="875.5" y="-144.6893" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeader</text>
</g>
<!-- makeLeader&#45;&gt;createLogIfNotExists -->
<g id="edge5" class="edge">
<title>makeLeader&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M917.9427,-136.0007C938.9447,-129.8704 964.8733,-122.302 988.8344,-115.3079"/>
<polygon fill="#000000" stroke="#000000" points="989.9896,-118.6169 998.6083,-112.455 988.0282,-111.8973 989.9896,-118.6169"/>
</g>
<!-- makeFollower -->
<g id="node9" class="node">
<title>makeFollower</title>
<polygon fill="none" stroke="#000000" points="923,-112.3893 828,-112.3893 828,-76.3893 923,-76.3893 923,-112.3893"/>
<text text-anchor="middle" x="875.5" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollower</text>
</g>
<!-- makeFollower&#45;&gt;createLogIfNotExists -->
<g id="edge6" class="edge">
<title>makeFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M923.1421,-94.3893C941.5508,-94.3893 963.087,-94.3893 983.5739,-94.3893"/>
<polygon fill="#000000" stroke="#000000" points="983.8476,-97.8894 993.8476,-94.3893 983.8476,-90.8894 983.8476,-97.8894"/>
</g>
<!-- createLogIfNotExists&#45;&gt;log -->
<g id="edge7" class="edge">
<title>createLogIfNotExists&#45;&gt;log</title>
<path fill="none" stroke="#000000" d="M1127.0747,-94.3893C1138.8607,-94.3893 1150.7412,-94.3893 1161.3384,-94.3893"/>
<polygon fill="#000000" stroke="#000000" points="1161.4569,-97.8894 1171.4568,-94.3893 1161.4568,-90.8894 1161.4569,-97.8894"/>
</g>
<!-- createLog -->
<g id="node11" class="node">
<title>createLog</title>
<polygon fill="none" stroke="#000000" points="1234,-166.3893 1163,-166.3893 1163,-130.3893 1234,-130.3893 1234,-166.3893"/>
<text text-anchor="middle" x="1198.5" y="-144.6893" font-family="Times,serif" font-size="14.00" fill="#000000">createLog</text>
</g>
<!-- createLogIfNotExists&#45;&gt;createLog -->
<g id="edge8" class="edge">
<title>createLogIfNotExists&#45;&gt;createLog</title>
<path fill="none" stroke="#000000" d="M1106.8359,-112.5208C1121.8662,-118.4022 1138.5104,-124.9152 1153.4459,-130.7595"/>
<polygon fill="#000000" stroke="#000000" points="1152.3919,-134.1054 1162.9798,-134.4901 1154.9428,-127.5867 1152.3919,-134.1054"/>
</g>
<!-- createLog&#45;&gt;getOrCreateLog -->
<g id="edge9" class="edge">
<title>createLog&#45;&gt;getOrCreateLog</title>
<path fill="none" stroke="#000000" d="M1234.3326,-155.2026C1247.617,-157.7285 1263.0988,-160.6722 1278.0654,-163.518"/>
<polygon fill="#000000" stroke="#000000" points="1277.8334,-167.0365 1288.3112,-165.4661 1279.141,-160.1597 1277.8334,-167.0365"/>
</g>
<!-- createLog&#45;&gt;finishedInitializingLog -->
<g id="edge10" class="edge">
<title>createLog&#45;&gt;finishedInitializingLog</title>
<path fill="none" stroke="#000000" d="M1234.3326,-141.5761C1242.2123,-140.0779 1250.8652,-138.4326 1259.7251,-136.748"/>
<polygon fill="#000000" stroke="#000000" points="1260.6158,-140.1414 1269.786,-134.835 1259.3082,-133.2646 1260.6158,-140.1414"/>
</g>
<!-- allPartitions -->
<g id="node12" class="node">
<title>allPartitions</title>
<polygon fill="#95e1d3" stroke="#000000" points="747.5,-58.3893 669.5,-58.3893 665.5,-54.3893 665.5,-22.3893 743.5,-22.3893 747.5,-26.3893 747.5,-58.3893"/>
<polyline fill="none" stroke="#000000" points="743.5,-54.3893 665.5,-54.3893 "/>
<polyline fill="none" stroke="#000000" points="743.5,-54.3893 743.5,-22.3893 "/>
<polyline fill="none" stroke="#000000" points="743.5,-54.3893 747.5,-58.3893 "/>
<text text-anchor="middle" x="706.5" y="-36.6893" font-family="Times,serif" font-size="14.00" fill="#000000">allPartitions</text>
</g>
<!-- becomeLeaderOrFollower -->
<g id="node13" class="node">
<title>becomeLeaderOrFollower</title>
<polygon fill="none" stroke="#000000" points="620,-112.3893 460,-112.3893 460,-76.3893 620,-76.3893 620,-112.3893"/>
<text text-anchor="middle" x="540" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">becomeLeaderOrFollower</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;createLogIfNotExists -->
<g id="edge11" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M558.1244,-76.2897C579.4289,-56.418 616.8707,-25.6989 656,-13.3893 784.5769,27.0591 942.7204,-35.7417 1017.4677,-71.8432"/>
<polygon fill="#000000" stroke="#000000" points="1016.0725,-75.0572 1026.592,-76.3187 1019.1552,-68.7725 1016.0725,-75.0572"/>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;allPartitions -->
<g id="edge12" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;allPartitions</title>
<path fill="none" stroke="#000000" d="M595.9053,-76.2579C615.2936,-69.9698 636.9079,-62.9598 655.8486,-56.8168"/>
<polygon fill="#000000" stroke="#000000" points="657.0513,-60.1063 665.4837,-53.6919 654.8917,-53.4478 657.0513,-60.1063"/>
</g>
<!-- makeFollowers -->
<g id="node14" class="node">
<title>makeFollowers</title>
<polygon fill="none" stroke="#000000" points="757,-112.3893 656,-112.3893 656,-76.3893 757,-76.3893 757,-112.3893"/>
<text text-anchor="middle" x="706.5" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">makeFollowers</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeFollowers -->
<g id="edge13" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeFollowers</title>
<path fill="none" stroke="#000000" d="M620.3238,-94.3893C628.8605,-94.3893 637.4383,-94.3893 645.6976,-94.3893"/>
<polygon fill="#000000" stroke="#000000" points="645.9619,-97.8894 655.9619,-94.3893 645.9618,-90.8894 645.9619,-97.8894"/>
</g>
<!-- makeLeaders -->
<g id="node15" class="node">
<title>makeLeaders</title>
<polygon fill="none" stroke="#000000" points="751,-166.3893 662,-166.3893 662,-130.3893 751,-130.3893 751,-166.3893"/>
<text text-anchor="middle" x="706.5" y="-144.6893" font-family="Times,serif" font-size="14.00" fill="#000000">makeLeaders</text>
</g>
<!-- becomeLeaderOrFollower&#45;&gt;makeLeaders -->
<g id="edge16" class="edge">
<title>becomeLeaderOrFollower&#45;&gt;makeLeaders</title>
<path fill="none" stroke="#000000" d="M595.9053,-112.5208C613.9997,-118.3893 634.033,-124.8865 652.0224,-130.721"/>
<polygon fill="#000000" stroke="#000000" points="651.189,-134.1301 661.781,-133.8859 653.3485,-127.4715 651.189,-134.1301"/>
</g>
<!-- makeFollowers&#45;&gt;makeFollower -->
<g id="edge14" class="edge">
<title>makeFollowers&#45;&gt;makeFollower</title>
<path fill="none" stroke="#000000" d="M757.2056,-94.3893C776.2483,-94.3893 798.0325,-94.3893 817.6742,-94.3893"/>
<polygon fill="#000000" stroke="#000000" points="817.7244,-97.8894 827.7244,-94.3893 817.7243,-90.8894 817.7244,-97.8894"/>
</g>
<!-- makeFollowers&#45;&gt;createLogIfNotExists -->
<g id="edge15" class="edge">
<title>makeFollowers&#45;&gt;createLogIfNotExists</title>
<path fill="none" stroke="#000000" d="M750.6683,-76.3471C761.6977,-72.64 773.6281,-69.2904 785,-67.3893 860.8366,-54.7119 881.7478,-57.5148 958,-67.3893 969.292,-68.8517 981.1134,-71.1844 992.5486,-73.8813"/>
<polygon fill="#000000" stroke="#000000" points="991.9278,-77.3331 1002.4753,-76.3324 993.6059,-70.5372 991.9278,-77.3331"/>
</g>
<!-- makeLeaders&#45;&gt;makeLeader -->
<g id="edge17" class="edge">
<title>makeLeaders&#45;&gt;makeLeader</title>
<path fill="none" stroke="#000000" d="M751.3452,-148.3893C773.3932,-148.3893 800.0993,-148.3893 823.0854,-148.3893"/>
<polygon fill="#000000" stroke="#000000" points="823.3547,-151.8894 833.3547,-148.3893 823.3547,-144.8894 823.3547,-151.8894"/>
</g>
<!-- alterReplicaLogDirs -->
<g id="node16" class="node">
<title>alterReplicaLogDirs</title>
<polygon fill="none" stroke="#000000" points="603.5,-166.3893 476.5,-166.3893 476.5,-130.3893 603.5,-130.3893 603.5,-166.3893"/>
<text text-anchor="middle" x="540" y="-144.6893" font-family="Times,serif" font-size="14.00" fill="#000000">alterReplicaLogDirs</text>
</g>
<!-- alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica -->
<g id="edge18" class="edge">
<title>alterReplicaLogDirs&#45;&gt;maybeCreateFutureReplica</title>
<path fill="none" stroke="#000000" d="M603.568,-164.4683C620.53,-168.4064 638.8981,-172.3561 656,-175.3893 697.3852,-182.7296 743.5136,-188.7294 782.7611,-193.1929"/>
<polygon fill="#000000" stroke="#000000" points="782.5186,-196.6875 792.8463,-194.3235 783.2985,-189.7311 782.5186,-196.6875"/>
</g>
<!-- handle -->
<g id="node17" class="node">
<title>handle</title>
<polygon fill="none" stroke="#000000" points="16,-97.3893 16,-143.3893 178,-143.3893 178,-97.3893 16,-97.3893"/>
<text text-anchor="middle" x="97" y="-128.1893" font-family="Times,serif" font-size="14.00" fill="#000000">handle</text>
<polyline fill="none" stroke="#000000" points="16,-120.3893 178,-120.3893 "/>
<text text-anchor="start" x="24" y="-105.1893" font-family="Times,serif" font-size="14.00" fill="#000000">KafkaServer api处理入口</text>
</g>
<!-- handleLeaderAndIsrRequest -->
<g id="node18" class="node">
<title>handleLeaderAndIsrRequest</title>
<polygon fill="none" stroke="#000000" points="404.5,-112.3893 233.5,-112.3893 233.5,-76.3893 404.5,-76.3893 404.5,-112.3893"/>
<text text-anchor="middle" x="319" y="-90.6893" font-family="Times,serif" font-size="14.00" fill="#000000">handleLeaderAndIsrRequest</text>
</g>
<!-- handle&#45;&gt;handleLeaderAndIsrRequest -->
<g id="edge19" class="edge">
<title>handle&#45;&gt;handleLeaderAndIsrRequest</title>
<path fill="none" stroke="#000000" d="M178.0894,-110.8924C192.6819,-109.1834 208.0197,-107.387 222.9871,-105.6341"/>
<polygon fill="#000000" stroke="#000000" points="223.7514,-109.0686 233.2763,-104.4291 222.937,-102.1161 223.7514,-109.0686"/>
</g>
<!-- handleAlterReplicaLogDirsRequest -->
<g id="node19" class="node">
<title>handleAlterReplicaLogDirsRequest</title>
<polygon fill="none" stroke="#000000" points="424,-166.3893 214,-166.3893 214,-130.3893 424,-130.3893 424,-166.3893"/>
<text text-anchor="middle" x="319" y="-144.6893" font-family="Times,serif" font-size="14.00" fill="#000000">handleAlterReplicaLogDirsRequest</text>
</g>
<!-- handle&#45;&gt;handleAlterReplicaLogDirsRequest -->
<g id="edge20" class="edge">
<title>handle&#45;&gt;handleAlterReplicaLogDirsRequest</title>
<path fill="none" stroke="#000000" d="M178.0894,-130.6168C186.4579,-131.6723 195.0714,-132.7587 203.7196,-133.8495"/>
<polygon fill="#000000" stroke="#000000" points="203.5158,-137.3514 213.8752,-135.1304 204.3918,-130.4064 203.5158,-137.3514"/>
</g>
<!-- handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower -->
<g id="edge21" class="edge">
<title>handleLeaderAndIsrRequest&#45;&gt;becomeLeaderOrFollower</title>
<path fill="none" stroke="#000000" d="M404.7607,-94.3893C419.4493,-94.3893 434.7528,-94.3893 449.559,-94.3893"/>
<polygon fill="#000000" stroke="#000000" points="449.7165,-97.8894 459.7164,-94.3893 449.7164,-90.8894 449.7165,-97.8894"/>
</g>
<!-- handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs -->
<g id="edge22" class="edge">
<title>handleAlterReplicaLogDirsRequest&#45;&gt;alterReplicaLogDirs</title>
<path fill="none" stroke="#000000" d="M424.322,-148.3893C438.4966,-148.3893 452.7852,-148.3893 466.2518,-148.3893"/>
<polygon fill="#000000" stroke="#000000" points="466.3742,-151.8894 476.3741,-148.3893 466.3741,-144.8894 466.3742,-151.8894"/>
</g>
</g>
</svg>
