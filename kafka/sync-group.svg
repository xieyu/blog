<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: sync_group Pages: 1 -->
<svg width="1807pt" height="983pt"
 viewBox="0.00 0.00 1807.06 983.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 979.1971)">
<title>sync_group</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-979.1971 1803.0605,-979.1971 1803.0605,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Consumer</title>
<path fill="none" stroke="#000000" d="M20,-347C20,-347 280.3623,-347 280.3623,-347 286.3623,-347 292.3623,-353 292.3623,-359 292.3623,-359 292.3623,-517 292.3623,-517 292.3623,-523 286.3623,-529 280.3623,-529 280.3623,-529 20,-529 20,-529 14,-529 8,-523 8,-517 8,-517 8,-359 8,-359 8,-353 14,-347 20,-347"/>
<text text-anchor="middle" x="150.1812" y="-509" font-family="Times,serif" font-size="20.00" fill="#000000">Consumer</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_GroupCoordinator</title>
<path fill="none" stroke="#000000" d="M335.5186,-383C335.5186,-383 1589.0293,-383 1589.0293,-383 1595.0293,-383 1601.0293,-389 1601.0293,-395 1601.0293,-395 1601.0293,-946 1601.0293,-946 1601.0293,-952 1595.0293,-958 1589.0293,-958 1589.0293,-958 335.5186,-958 335.5186,-958 329.5186,-958 323.5186,-952 323.5186,-946 323.5186,-946 323.5186,-395 323.5186,-395 323.5186,-389 329.5186,-383 335.5186,-383"/>
<text text-anchor="middle" x="962.2739" y="-938" font-family="Times,serif" font-size="20.00" fill="#000000">GroupCoordinator</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_MemeberMetaData</title>
<path fill="none" stroke="#000000" d="M1633.0293,-274C1633.0293,-274 1780.0605,-274 1780.0605,-274 1786.0605,-274 1792.0605,-280 1792.0605,-286 1792.0605,-286 1792.0605,-352 1792.0605,-352 1792.0605,-358 1786.0605,-364 1780.0605,-364 1780.0605,-364 1633.0293,-364 1633.0293,-364 1627.0293,-364 1621.0293,-358 1621.0293,-352 1621.0293,-352 1621.0293,-286 1621.0293,-286 1621.0293,-280 1627.0293,-274 1633.0293,-274"/>
<text text-anchor="middle" x="1706.5449" y="-344" font-family="Times,serif" font-size="20.00" fill="#000000">MemeberMetaData</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_group</title>
<path fill="none" stroke="#000000" d="M1320.7544,-285C1320.7544,-285 1581.8481,-285 1581.8481,-285 1587.8481,-285 1593.8481,-291 1593.8481,-297 1593.8481,-297 1593.8481,-363 1593.8481,-363 1593.8481,-369 1587.8481,-375 1581.8481,-375 1581.8481,-375 1320.7544,-375 1320.7544,-375 1314.7544,-375 1308.7544,-369 1308.7544,-363 1308.7544,-363 1308.7544,-297 1308.7544,-297 1308.7544,-291 1314.7544,-285 1320.7544,-285"/>
<text text-anchor="middle" x="1451.3013" y="-355" font-family="Times,serif" font-size="20.00" fill="#000000">GroupMetadata</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_ReplicaManaer</title>
<path fill="none" stroke="#000000" d="M1395.0098,-8C1395.0098,-8 1508.5928,-8 1508.5928,-8 1514.5928,-8 1520.5928,-14 1520.5928,-20 1520.5928,-20 1520.5928,-110 1520.5928,-110 1520.5928,-116 1514.5928,-122 1508.5928,-122 1508.5928,-122 1395.0098,-122 1395.0098,-122 1389.0098,-122 1383.0098,-116 1383.0098,-110 1383.0098,-110 1383.0098,-20 1383.0098,-20 1383.0098,-14 1389.0098,-8 1395.0098,-8"/>
<text text-anchor="middle" x="1451.8013" y="-102" font-family="Times,serif" font-size="20.00" fill="#000000">ReplicaManaer</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_GroupManager</title>
<path fill="none" stroke="#000000" d="M799.2666,-25C799.2666,-25 1269.5732,-25 1269.5732,-25 1275.5732,-25 1281.5732,-31 1281.5732,-37 1281.5732,-37 1281.5732,-363 1281.5732,-363 1281.5732,-369 1275.5732,-375 1269.5732,-375 1269.5732,-375 799.2666,-375 799.2666,-375 793.2666,-375 787.2666,-369 787.2666,-363 787.2666,-363 787.2666,-37 787.2666,-37 787.2666,-31 793.2666,-25 799.2666,-25"/>
<text text-anchor="middle" x="1034.4199" y="-355" font-family="Times,serif" font-size="20.00" fill="#000000">GroupManager</text>
</g>
<!-- Request -->
<g id="node1" class="node">
<title>Request</title>
<polygon fill="none" stroke="#000000" points="16,-355.2 16,-492.8 284.3623,-492.8 284.3623,-355.2 16,-355.2"/>
<text text-anchor="middle" x="150.1812" y="-477.6" font-family="Times,serif" font-size="14.00" fill="#000000">Request</text>
<polyline fill="none" stroke="#000000" points="16,-470.8 284.3623,-470.8 "/>
<text text-anchor="start" x="24" y="-455.6" font-family="Times,serif" font-size="14.00" fill="#000000">leader 请求中包含了assignment</text>
<polyline fill="none" stroke="#000000" points="16,-443.2 284.3623,-443.2 "/>
<text text-anchor="start" x="24" y="-428" font-family="Times,serif" font-size="14.00" fill="#000000">groupAssignment Map[String, Array[Bytes]]</text>
<polyline fill="none" stroke="#000000" points="16,-421.2 284.3623,-421.2 "/>
<text text-anchor="start" x="24" y="-406" font-family="Times,serif" font-size="14.00" fill="#000000">memberId string</text>
<polyline fill="none" stroke="#000000" points="16,-399.2 284.3623,-399.2 "/>
<text text-anchor="start" x="24" y="-384" font-family="Times,serif" font-size="14.00" fill="#000000">groupId string</text>
<polyline fill="none" stroke="#000000" points="16,-377.2 284.3623,-377.2 "/>
<text text-anchor="middle" x="150.1812" y="-362" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- handleSyncGroup -->
<g id="node18" class="node">
<title>handleSyncGroup</title>
<polygon fill="none" stroke="#000000" points="448.6534,-510 331.4736,-510 331.4736,-474 448.6534,-474 448.6534,-510"/>
<text text-anchor="middle" x="390.0635" y="-487.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleSyncGroup</text>
</g>
<!-- Request&#45;&gt;handleSyncGroup -->
<g id="edge14" class="edge">
<title>Request&#45;&gt;handleSyncGroup</title>
<path fill="none" stroke="#000000" d="M284.4985,-462.0753C297.2955,-465.7028 309.8709,-469.2676 321.6308,-472.6012"/>
<polygon fill="#000000" stroke="#000000" points="320.7288,-475.9834 331.3043,-475.3434 322.6379,-469.2487 320.7288,-475.9834"/>
</g>
<!-- handleCommitOffsets -->
<g id="node30" class="node">
<title>handleCommitOffsets</title>
<polygon fill="none" stroke="#000000" points="459.9664,-375 320.1606,-375 320.1606,-339 459.9664,-339 459.9664,-375"/>
<text text-anchor="middle" x="390.0635" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleCommitOffsets</text>
</g>
<!-- Request&#45;&gt;handleCommitOffsets -->
<g id="edge34" class="edge">
<title>Request&#45;&gt;handleCommitOffsets</title>
<path fill="none" stroke="#000000" d="M284.4985,-386.4847C295.1777,-383.5019 305.7026,-380.5623 315.7281,-377.7621"/>
<polygon fill="#000000" stroke="#000000" points="316.8844,-381.0732 325.5742,-375.0121 315.0013,-374.3312 316.8844,-381.0732"/>
</g>
<!-- MemberMetadata -->
<g id="node2" class="node">
<title>MemberMetadata</title>
<polygon fill="none" stroke="#000000" points="1629.0293,-283 1629.0293,-327 1783.0605,-327 1783.0605,-283 1629.0293,-283"/>
<text text-anchor="middle" x="1706.0449" y="-311.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemberMetadata</text>
<polyline fill="none" stroke="#000000" points="1629.0293,-305 1783.0605,-305 "/>
<text text-anchor="start" x="1637.0293" y="-289.8" font-family="Times,serif" font-size="14.00" fill="#000000">assignment: Array[Byte]</text>
</g>
<!-- group_get -->
<g id="node3" class="node">
<title>group_get</title>
<polygon fill="none" stroke="#000000" points="1126.252,-571 1126.252,-607 1180.252,-607 1180.252,-571 1126.252,-571"/>
<text text-anchor="middle" x="1152.8037" y="-584.8" font-family="Times,serif" font-size="14.00" fill="#000000">get</text>
</g>
<!-- members -->
<g id="node4" class="node">
<title>members</title>
<polygon fill="#95e1d3" stroke="#000000" points="1316.7544,-294 1316.7544,-338 1585.8481,-338 1585.8481,-294 1316.7544,-294"/>
<text text-anchor="middle" x="1451.3013" y="-322.8" font-family="Times,serif" font-size="14.00" fill="#000000">members</text>
<polyline fill="none" stroke="#000000" points="1316.7544,-316 1585.8481,-316 "/>
<text text-anchor="start" x="1324.7544" y="-300.8" font-family="Times,serif" font-size="14.00" fill="#000000">mutable.HashMap[String, MemberMetadata]</text>
</g>
<!-- group_get&#45;&gt;members -->
<g id="edge3" class="edge">
<title>group_get&#45;&gt;members</title>
<path fill="none" stroke="#000000" d="M1175.1656,-570.8619C1203.2495,-546.598 1251.8484,-501.0302 1281.5732,-453 1300.0117,-423.2067 1284.7863,-404.5568 1308.7544,-379 1323.4545,-363.3255 1342.7536,-351.3131 1362.3831,-342.199"/>
<polygon fill="#000000" stroke="#000000" points="1363.979,-345.3206 1371.7173,-338.0839 1361.1552,-338.9154 1363.979,-345.3206"/>
</g>
<!-- members&#45;&gt;MemberMetadata -->
<g id="edge2" class="edge">
<title>members:meta&#45;&gt;MemberMetadata</title>
<path fill="none" stroke="#000000" d="M1586.3013,-305C1596.6989,-305 1607.6045,-305 1618.4225,-305"/>
<polygon fill="#000000" stroke="#000000" points="1618.7482,-308.5001 1628.7482,-305 1618.7482,-301.5001 1618.7482,-308.5001"/>
</g>
<!-- allMemberMetadata -->
<g id="node5" class="node">
<title>allMemberMetadata</title>
<polygon fill="none" stroke="#000000" points="1217.7568,-780 1088.7471,-780 1088.7471,-744 1217.7568,-744 1217.7568,-780"/>
<text text-anchor="middle" x="1153.252" y="-757.8" font-family="Times,serif" font-size="14.00" fill="#000000">allMemberMetadata</text>
</g>
<!-- allMemberMetadata&#45;&gt;members -->
<g id="edge1" class="edge">
<title>allMemberMetadata&#45;&gt;members</title>
<path fill="none" stroke="#000000" d="M1176.2162,-743.9901C1206.1676,-719.0383 1257.5666,-670.8903 1281.5732,-617 1324.8964,-519.7479 1245.6717,-464.7639 1308.7544,-379 1320.2904,-363.3163 1336.6034,-351.472 1354.0967,-342.5478"/>
<polygon fill="#000000" stroke="#000000" points="1355.814,-345.6065 1363.3331,-338.1423 1352.8004,-339.2884 1355.814,-345.6065"/>
</g>
<!-- group_add -->
<g id="node6" class="node">
<title>group_add</title>
<polygon fill="none" stroke="#000000" points="826.3735,-460.2 826.3735,-509.8 944.2427,-509.8 944.2427,-460.2 826.3735,-460.2"/>
<text text-anchor="middle" x="885.3081" y="-494.6" font-family="Times,serif" font-size="14.00" fill="#000000">group_add</text>
<polyline fill="none" stroke="#000000" points="826.3735,-487.8 944.2427,-487.8 "/>
<text text-anchor="middle" x="885.3081" y="-472.6" font-family="Times,serif" font-size="14.00" fill="#000000">添加member成员</text>
</g>
<!-- group_add&#45;&gt;members -->
<g id="edge4" class="edge">
<title>group_add&#45;&gt;members</title>
<path fill="none" stroke="#000000" d="M944.5558,-470.9985C1022.4673,-452.1664 1163.3359,-416.666 1281.5732,-379 1316.5846,-367.8467 1355.0146,-353.7418 1386.4395,-341.7071"/>
<polygon fill="#000000" stroke="#000000" points="1387.8804,-344.9029 1395.9557,-338.0442 1385.3658,-338.3701 1387.8804,-344.9029"/>
</g>
<!-- appendRecords -->
<g id="node7" class="node">
<title>appendRecords</title>
<polygon fill="none" stroke="#000000" points="1398.0098,-16.4001 1398.0098,-85.5999 1504.5928,-85.5999 1504.5928,-16.4001 1398.0098,-16.4001"/>
<text text-anchor="middle" x="1451.3013" y="-70.3999" font-family="Times,serif" font-size="14.00" fill="#000000">appendRecords</text>
<polyline fill="none" stroke="#000000" points="1398.0098,-63.5999 1504.5928,-63.5999 "/>
<text text-anchor="start" x="1406.0098" y="-48.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将records存放</text>
<text text-anchor="start" x="1406.0098" y="-28.8" font-family="Times,serif" font-size="14.00" fill="#000000">到kafka topic中</text>
</g>
<!-- getGroup -->
<g id="node8" class="node">
<title>getGroup</title>
<polygon fill="none" stroke="#000000" points="558.563,-460.2 558.563,-523.8 674.8872,-523.8 674.8872,-460.2 558.563,-460.2"/>
<text text-anchor="middle" x="616.7251" y="-508.6" font-family="Times,serif" font-size="14.00" fill="#000000">getGroup</text>
<polyline fill="none" stroke="#000000" points="558.563,-501.8 674.8872,-501.8 "/>
<text text-anchor="start" x="566.563" y="-486.6" font-family="Times,serif" font-size="14.00" fill="#000000">根据groupId获取</text>
<text text-anchor="start" x="566.563" y="-467" font-family="Times,serif" font-size="14.00" fill="#000000">GroupMetadata</text>
</g>
<!-- groupMetadataCache -->
<g id="node11" class="node">
<title>groupMetadataCache</title>
<polygon fill="#95e1d3" stroke="#000000" points="795.2666,-294 795.2666,-338 975.3496,-338 975.3496,-294 795.2666,-294"/>
<text text-anchor="middle" x="885.3081" y="-322.8" font-family="Times,serif" font-size="14.00" fill="#000000">groupMetadataCache</text>
<polyline fill="none" stroke="#000000" points="795.2666,-316 975.3496,-316 "/>
<text text-anchor="middle" x="885.3081" y="-300.8" font-family="Times,serif" font-size="14.00" fill="#000000">Pool[String, GroupMetadata]</text>
</g>
<!-- getGroup&#45;&gt;groupMetadataCache -->
<g id="edge12" class="edge">
<title>getGroup&#45;&gt;groupMetadataCache</title>
<path fill="none" stroke="#000000" d="M674.981,-481.4259C696.5964,-475.1779 720.1045,-465.3535 737.6855,-450 764.3343,-426.7278 749.2317,-404.5688 773.6855,-379 787.5032,-364.5524 805.3697,-352.4863 822.7415,-342.9095"/>
<polygon fill="#000000" stroke="#000000" points="824.5617,-345.906 831.7567,-338.1289 821.2822,-339.7217 824.5617,-345.906"/>
</g>
<!-- storeGroup -->
<g id="node9" class="node">
<title>storeGroup</title>
<polygon fill="none" stroke="#000000" points="773.6855,-391.2 773.6855,-440.8 996.9307,-440.8 996.9307,-391.2 773.6855,-391.2"/>
<text text-anchor="middle" x="885.3081" y="-425.6" font-family="Times,serif" font-size="14.00" fill="#000000">storeGroup</text>
<polyline fill="none" stroke="#000000" points="773.6855,-418.8 996.9307,-418.8 "/>
<text text-anchor="middle" x="885.3081" y="-403.6" font-family="Times,serif" font-size="14.00" fill="#000000">将group信息存储到kafka topic中？</text>
</g>
<!-- partitionFor -->
<g id="node12" class="node">
<title>partitionFor</title>
<polygon fill="none" stroke="#000000" points="1194.6348,-339 1111.8691,-339 1111.8691,-303 1194.6348,-303 1194.6348,-339"/>
<text text-anchor="middle" x="1153.252" y="-316.8" font-family="Times,serif" font-size="14.00" fill="#000000">partitionFor</text>
</g>
<!-- storeGroup&#45;&gt;partitionFor -->
<g id="edge6" class="edge">
<title>storeGroup&#45;&gt;partitionFor</title>
<path fill="none" stroke="#000000" d="M961.3857,-391.1804C973.3058,-387.1769 985.4693,-383.0244 996.9307,-379 1032.173,-366.6254 1071.6029,-351.99 1102.0454,-340.5167"/>
<polygon fill="#000000" stroke="#000000" points="1103.4782,-343.717 1111.5968,-336.9097 1101.0051,-337.1684 1103.4782,-343.717"/>
</g>
<!-- TopicPartition -->
<g id="node13" class="node">
<title>TopicPartition</title>
<polygon fill="none" stroke="#000000" points="1201.1504,-285 1105.3535,-285 1105.3535,-249 1201.1504,-249 1201.1504,-285"/>
<text text-anchor="middle" x="1153.252" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#000000">TopicPartition</text>
</g>
<!-- storeGroup&#45;&gt;TopicPartition -->
<g id="edge7" class="edge">
<title>storeGroup&#45;&gt;TopicPartition</title>
<path fill="none" stroke="#000000" d="M980.5719,-391.0852C986.4488,-387.5736 991.9788,-383.5683 996.9307,-379 1027.0852,-351.1816 1001.4322,-320.2871 1032.9307,-294 1050.2418,-279.5529 1073.6742,-272.4232 1095.2612,-269.0353"/>
<polygon fill="#000000" stroke="#000000" points="1095.8961,-272.4817 1105.3469,-267.693 1094.9726,-265.5429 1095.8961,-272.4817"/>
</g>
<!-- groupMetadataValue -->
<g id="node14" class="node">
<title>groupMetadataValue</title>
<polygon fill="none" stroke="#000000" points="1219.3736,-231 1087.1303,-231 1087.1303,-195 1219.3736,-195 1219.3736,-231"/>
<text text-anchor="middle" x="1153.252" y="-208.8" font-family="Times,serif" font-size="14.00" fill="#000000">groupMetadataValue</text>
</g>
<!-- storeGroup&#45;&gt;groupMetadataValue -->
<g id="edge8" class="edge">
<title>storeGroup&#45;&gt;groupMetadataValue</title>
<path fill="none" stroke="#000000" d="M982.653,-391.0354C987.8521,-387.5362 992.6768,-383.5473 996.9307,-379 1040.5269,-332.3967 987.0745,-284.3814 1032.9307,-240 1044.9058,-228.41 1060.7234,-221.372 1076.9395,-217.1894"/>
<polygon fill="#000000" stroke="#000000" points="1078.0555,-220.5268 1087.057,-214.9389 1076.5356,-213.6937 1078.0555,-220.5268"/>
</g>
<!-- groupMetadataKey -->
<g id="node15" class="node">
<title>groupMetadataKey</title>
<polygon fill="none" stroke="#000000" points="1215.3213,-177 1091.1826,-177 1091.1826,-141 1215.3213,-141 1215.3213,-177"/>
<text text-anchor="middle" x="1153.252" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#000000">groupMetadataKey</text>
</g>
<!-- storeGroup&#45;&gt;groupMetadataKey -->
<g id="edge9" class="edge">
<title>storeGroup&#45;&gt;groupMetadataKey</title>
<path fill="none" stroke="#000000" d="M983.275,-391.1942C988.287,-387.6555 992.9033,-383.6144 996.9307,-379 1054.3068,-313.2596 972.3615,-248.8108 1032.9307,-186 1045.6574,-172.8022 1063.3346,-165.413 1081.2258,-161.423"/>
<polygon fill="#000000" stroke="#000000" points="1081.9839,-164.8417 1091.1573,-159.5408 1080.6804,-157.9642 1081.9839,-164.8417"/>
</g>
<!-- GROUP_METADATA_TOPIC_NAME -->
<g id="node16" class="node">
<title>GROUP_METADATA_TOPIC_NAME</title>
<polygon fill="none" stroke="#000000" points="1273.3948,-123 1033.1091,-123 1033.1091,-87 1273.3948,-87 1273.3948,-123"/>
<text text-anchor="middle" x="1153.252" y="-100.8" font-family="Times,serif" font-size="14.00" fill="#000000">GROUP_METADATA_TOPIC_NAME</text>
</g>
<!-- storeGroup&#45;&gt;GROUP_METADATA_TOPIC_NAME -->
<g id="edge10" class="edge">
<title>storeGroup&#45;&gt;GROUP_METADATA_TOPIC_NAME</title>
<path fill="none" stroke="#000000" d="M983.9854,-391.0187C988.7524,-387.5209 993.1268,-383.537 996.9307,-379 1068.2054,-293.9878 957.5232,-213.3688 1032.9307,-132 1033.6946,-131.1756 1034.4779,-130.3737 1035.2793,-129.5937"/>
<polygon fill="#000000" stroke="#000000" points="1037.5462,-132.2605 1042.9522,-123.1486 1033.0439,-126.9005 1037.5462,-132.2605"/>
</g>
<!-- appendForGroup -->
<g id="node17" class="node">
<title>appendForGroup</title>
<polygon fill="none" stroke="#000000" points="1208.9009,-69 1097.603,-69 1097.603,-33 1208.9009,-33 1208.9009,-69"/>
<text text-anchor="middle" x="1153.252" y="-46.8" font-family="Times,serif" font-size="14.00" fill="#000000">appendForGroup</text>
</g>
<!-- storeGroup&#45;&gt;appendForGroup -->
<g id="edge11" class="edge">
<title>storeGroup&#45;&gt;appendForGroup</title>
<path fill="none" stroke="#000000" d="M984.1237,-391.1331C988.8563,-387.6069 993.1854,-383.5855 996.9307,-379 1082.1587,-274.6512 942.6272,-177.9889 1032.9307,-78 1046.7403,-62.7093 1067.1717,-55.0994 1087.2945,-51.5563"/>
<polygon fill="#000000" stroke="#000000" points="1088.0372,-54.9855 1097.4339,-50.0914 1087.0361,-48.0574 1088.0372,-54.9855"/>
</g>
<!-- addGroup -->
<g id="node10" class="node">
<title>addGroup</title>
<polygon fill="none" stroke="#000000" points="538.7251,-391.2 538.7251,-440.8 694.7251,-440.8 694.7251,-391.2 538.7251,-391.2"/>
<text text-anchor="middle" x="616.7251" y="-425.6" font-family="Times,serif" font-size="14.00" fill="#000000">addGroup</text>
<polyline fill="none" stroke="#000000" points="538.7251,-418.8 694.7251,-418.8 "/>
<text text-anchor="start" x="546.7251" y="-403.6" font-family="Times,serif" font-size="14.00" fill="#000000">将groupId加入到Pool中</text>
</g>
<!-- addGroup&#45;&gt;groupMetadataCache -->
<g id="edge5" class="edge">
<title>addGroup&#45;&gt;groupMetadataCache</title>
<path fill="none" stroke="#000000" d="M683.4615,-391.1524C723.8775,-376.1045 775.332,-356.9468 816.1739,-341.7403"/>
<polygon fill="#000000" stroke="#000000" points="817.6306,-344.9328 825.7809,-338.1634 815.1881,-338.3727 817.6306,-344.9328"/>
</g>
<!-- appendForGroup&#45;&gt;appendRecords -->
<g id="edge13" class="edge">
<title>appendForGroup&#45;&gt;appendRecords</title>
<path fill="none" stroke="#000000" d="M1208.9631,-51C1259.6677,-51 1334.4882,-51 1387.5584,-51"/>
<polygon fill="#000000" stroke="#000000" points="1387.8689,-54.5001 1397.8689,-51 1387.8688,-47.5001 1387.8689,-54.5001"/>
</g>
<!-- handleSyncGroup&#45;&gt;getGroup -->
<g id="edge15" class="edge">
<title>handleSyncGroup&#45;&gt;getGroup</title>
<path fill="none" stroke="#000000" d="M448.7292,-492C479.1478,-492 516.4754,-492 548.213,-492"/>
<polygon fill="#000000" stroke="#000000" points="548.3052,-495.5001 558.3052,-492 548.3052,-488.5001 548.3052,-495.5001"/>
</g>
<!-- doSyncGroup -->
<g id="node19" class="node">
<title>doSyncGroup</title>
<polygon fill="none" stroke="#000000" points="495.7646,-609.6001 495.7646,-698.3999 737.6855,-698.3999 737.6855,-609.6001 495.7646,-609.6001"/>
<text text-anchor="middle" x="616.7251" y="-683.1999" font-family="Times,serif" font-size="14.00" fill="#000000">doSyncGroup</text>
<polyline fill="none" stroke="#000000" points="495.7646,-676.3999 737.6855,-676.3999 "/>
<text text-anchor="start" x="503.7646" y="-661.1999" font-family="Times,serif" font-size="14.00" fill="#000000">如果是leader将</text>
<text text-anchor="start" x="503.7646" y="-641.6" font-family="Times,serif" font-size="14.00" fill="#000000"> assignment存储起来</text>
<text text-anchor="start" x="503.7646" y="-622" font-family="Times,serif" font-size="14.00" fill="#000000"> 否则就获得当前Member的assignment</text>
</g>
<!-- handleSyncGroup&#45;&gt;doSyncGroup -->
<g id="edge16" class="edge">
<title>handleSyncGroup&#45;&gt;doSyncGroup</title>
<path fill="none" stroke="#000000" d="M407.7013,-510.1577C427.8649,-530.3462 462.4057,-563.236 495.7646,-587 504.0622,-592.911 512.9328,-598.7034 521.9584,-604.2541"/>
<polygon fill="#000000" stroke="#000000" points="520.2757,-607.3265 530.6457,-609.4978 523.8931,-601.3336 520.2757,-607.3265"/>
</g>
<!-- doSyncGroup&#45;&gt;group_get -->
<g id="edge17" class="edge">
<title>doSyncGroup&#45;&gt;group_get</title>
<path fill="none" stroke="#000000" d="M737.7416,-682.8794C813.455,-696.0035 912.333,-704.0466 996.9307,-681 1044.9763,-667.9111 1093.3119,-635.8888 1123.2468,-613.3178"/>
<polygon fill="#000000" stroke="#000000" points="1125.3834,-616.0901 1131.1866,-607.2259 1121.1222,-610.5365 1125.3834,-616.0901"/>
</g>
<!-- doSyncGroup&#45;&gt;storeGroup -->
<g id="edge18" class="edge">
<title>doSyncGroup&#45;&gt;storeGroup</title>
<path fill="none" stroke="#000000" d="M714.8379,-609.4003C723.3602,-602.7798 731.1937,-595.3324 737.6855,-587 776.1136,-537.6764 730.4804,-496.1979 773.6855,-451 774.9157,-449.7131 776.1924,-448.4734 777.5112,-447.279"/>
<polygon fill="#000000" stroke="#000000" points="779.8499,-449.8908 785.4909,-440.9225 775.4884,-444.4155 779.8499,-449.8908"/>
</g>
<!-- setAndPropagateAssignment -->
<g id="node20" class="node">
<title>setAndPropagateAssignment</title>
<polygon fill="none" stroke="#000000" points="796.0425,-710.6001 796.0425,-813.3999 974.5737,-813.3999 974.5737,-710.6001 796.0425,-710.6001"/>
<text text-anchor="middle" x="885.3081" y="-798.1999" font-family="Times,serif" font-size="14.00" fill="#000000">setAndPropagateAssignment</text>
<polyline fill="none" stroke="#000000" points="796.0425,-791.3999 974.5737,-791.3999 "/>
<text text-anchor="start" x="804.0425" y="-776.1999" font-family="Times,serif" font-size="14.00" fill="#000000">leader</text>
<text text-anchor="start" x="804.0425" y="-762.1999" font-family="Times,serif" font-size="14.00" fill="#000000"> 设置members遍历</text>
<text text-anchor="start" x="804.0425" y="-742.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 设置metadata中</text>
<text text-anchor="start" x="804.0425" y="-723" font-family="Times,serif" font-size="14.00" fill="#000000"> 的中的assignment</text>
</g>
<!-- doSyncGroup&#45;&gt;setAndPropagateAssignment -->
<g id="edge19" class="edge">
<title>doSyncGroup&#45;&gt;setAndPropagateAssignment</title>
<path fill="none" stroke="#000000" d="M727.5187,-698.5513C747.015,-706.3909 767.1933,-714.5048 786.3402,-722.204"/>
<polygon fill="#000000" stroke="#000000" points="785.0655,-725.4637 795.6493,-725.9473 787.6771,-718.9691 785.0655,-725.4637"/>
</g>
<!-- resetAndPropagateAssignmentError -->
<g id="node21" class="node">
<title>resetAndPropagateAssignmentError</title>
<polygon fill="none" stroke="#000000" points="775.8354,-832.4001 775.8354,-901.5999 994.7808,-901.5999 994.7808,-832.4001 775.8354,-832.4001"/>
<text text-anchor="middle" x="885.3081" y="-886.3999" font-family="Times,serif" font-size="14.00" fill="#000000">resetAndPropagateAssignmentError</text>
<polyline fill="none" stroke="#000000" points="775.8354,-879.5999 994.7808,-879.5999 "/>
<text text-anchor="start" x="783.8354" y="-864.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将members中每个</text>
<text text-anchor="start" x="783.8354" y="-844.8" font-family="Times,serif" font-size="14.00" fill="#000000"> metadata置空</text>
</g>
<!-- doSyncGroup&#45;&gt;resetAndPropagateAssignmentError -->
<g id="edge20" class="edge">
<title>doSyncGroup&#45;&gt;resetAndPropagateAssignmentError</title>
<path fill="none" stroke="#000000" d="M649.0757,-698.7671C678.1093,-736.2411 723.7445,-788.9141 773.6855,-823 775.7931,-824.4385 777.9546,-825.84 780.16,-827.2049"/>
<polygon fill="#000000" stroke="#000000" points="778.4627,-830.2668 788.863,-832.2881 781.9932,-824.2223 778.4627,-830.2668"/>
</g>
<!-- isLeader -->
<g id="node22" class="node">
<title>isLeader</title>
<polygon fill="none" stroke="#000000" points="917.5018,-564 853.1145,-564 853.1145,-528 917.5018,-528 917.5018,-564"/>
<text text-anchor="middle" x="885.3081" y="-541.8" font-family="Times,serif" font-size="14.00" fill="#000000">isLeader</text>
</g>
<!-- doSyncGroup&#45;&gt;isLeader -->
<g id="edge21" class="edge">
<title>doSyncGroup&#45;&gt;isLeader</title>
<path fill="none" stroke="#000000" d="M694.0929,-609.4195C718.943,-596.3765 746.9642,-582.9626 773.6855,-573 796.0013,-564.68 821.7948,-558.2458 842.9617,-553.749"/>
<polygon fill="#000000" stroke="#000000" points="843.8548,-557.1387 852.9456,-551.6973 842.4457,-550.2819 843.8548,-557.1387"/>
</g>
<!-- maybePrepareRebalance -->
<g id="node23" class="node">
<title>maybePrepareRebalance</title>
<polygon fill="none" stroke="#000000" points="962.6748,-618 807.9415,-618 807.9415,-582 962.6748,-582 962.6748,-618"/>
<text text-anchor="middle" x="885.3081" y="-595.8" font-family="Times,serif" font-size="14.00" fill="#000000">maybePrepareRebalance</text>
</g>
<!-- doSyncGroup&#45;&gt;maybePrepareRebalance -->
<g id="edge22" class="edge">
<title>doSyncGroup&#45;&gt;maybePrepareRebalance</title>
<path fill="none" stroke="#000000" d="M738.0513,-629.6067C758.2946,-625.5367 778.9344,-621.387 798.1079,-617.5321"/>
<polygon fill="#000000" stroke="#000000" points="798.8769,-620.9476 807.9908,-615.545 797.4971,-614.0849 798.8769,-620.9476"/>
</g>
<!-- transitionTo -->
<g id="node24" class="node">
<title>transitionTo</title>
<polygon fill="none" stroke="#000000" points="927.2664,-672 843.3498,-672 843.3498,-636 927.2664,-636 927.2664,-672"/>
<text text-anchor="middle" x="885.3081" y="-649.8" font-family="Times,serif" font-size="14.00" fill="#000000">transitionTo</text>
</g>
<!-- doSyncGroup&#45;&gt;transitionTo -->
<g id="edge23" class="edge">
<title>doSyncGroup&#45;&gt;transitionTo</title>
<path fill="none" stroke="#000000" d="M738.0513,-654C771.5804,-654 806.1977,-654 833.4376,-654"/>
<polygon fill="#000000" stroke="#000000" points="833.4987,-657.5001 843.4987,-654 833.4986,-650.5001 833.4987,-657.5001"/>
</g>
<!-- completeAndScheduleNextHeartbeatExpiration -->
<g id="node25" class="node">
<title>completeAndScheduleNextHeartbeatExpiration</title>
<polygon fill="none" stroke="#000000" points="1593.2577,-922 1309.3448,-922 1309.3448,-886 1593.2577,-886 1593.2577,-922"/>
<text text-anchor="middle" x="1451.3013" y="-899.8" font-family="Times,serif" font-size="14.00" fill="#000000">completeAndScheduleNextHeartbeatExpiration</text>
</g>
<!-- doSyncGroup&#45;&gt;completeAndScheduleNextHeartbeatExpiration -->
<g id="edge24" class="edge">
<title>doSyncGroup&#45;&gt;completeAndScheduleNextHeartbeatExpiration</title>
<path fill="none" stroke="#000000" d="M629.0379,-698.6115C648.4682,-759.3036 692.6385,-865.5316 773.6855,-911 972.4336,-1022.5 1258.3672,-961.2583 1385.7592,-924.8499"/>
<polygon fill="#000000" stroke="#000000" points="1386.7585,-928.2044 1395.3885,-922.0584 1384.8094,-921.4812 1386.7585,-928.2044"/>
</g>
<!-- setAndPropagateAssignment&#45;&gt;allMemberMetadata -->
<g id="edge25" class="edge">
<title>setAndPropagateAssignment&#45;&gt;allMemberMetadata</title>
<path fill="none" stroke="#000000" d="M974.902,-762C1008.5352,-762 1046.3751,-762 1078.5183,-762"/>
<polygon fill="#000000" stroke="#000000" points="1078.7418,-765.5001 1088.7417,-762 1078.7417,-758.5001 1078.7418,-765.5001"/>
</g>
<!-- propagateAssignment -->
<g id="node26" class="node">
<title>propagateAssignment</title>
<polygon fill="none" stroke="#000000" points="1222.335,-877 1084.1689,-877 1084.1689,-841 1222.335,-841 1222.335,-877"/>
<text text-anchor="middle" x="1153.252" y="-854.8" font-family="Times,serif" font-size="14.00" fill="#000000">propagateAssignment</text>
</g>
<!-- setAndPropagateAssignment&#45;&gt;propagateAssignment -->
<g id="edge26" class="edge">
<title>setAndPropagateAssignment&#45;&gt;propagateAssignment</title>
<path fill="none" stroke="#000000" d="M974.902,-794.4345C1013.9782,-808.5807 1058.7328,-824.7825 1093.6344,-837.4175"/>
<polygon fill="#000000" stroke="#000000" points="1092.61,-840.7689 1103.2043,-840.8819 1094.9929,-834.1869 1092.61,-840.7689"/>
</g>
<!-- resetAndPropagateAssignmentError&#45;&gt;allMemberMetadata -->
<g id="edge29" class="edge">
<title>resetAndPropagateAssignmentError&#45;&gt;allMemberMetadata</title>
<path fill="none" stroke="#000000" d="M973.7855,-832.3281C1014.4711,-816.3845 1061.5087,-797.9517 1097.2191,-783.9578"/>
<polygon fill="#000000" stroke="#000000" points="1098.9427,-787.0416 1106.9763,-780.1342 1096.3886,-780.5241 1098.9427,-787.0416"/>
</g>
<!-- resetAndPropagateAssignmentError&#45;&gt;propagateAssignment -->
<g id="edge30" class="edge">
<title>resetAndPropagateAssignmentError&#45;&gt;propagateAssignment</title>
<path fill="none" stroke="#000000" d="M995.0642,-863.723C1021.485,-862.9342 1049.2056,-862.1065 1073.9294,-861.3683"/>
<polygon fill="#000000" stroke="#000000" points="1074.0756,-864.8656 1083.9667,-861.0687 1073.8666,-857.8687 1074.0756,-864.8656"/>
</g>
<!-- propagateAssignment&#45;&gt;completeAndScheduleNextHeartbeatExpiration -->
<g id="edge27" class="edge">
<title>propagateAssignment&#45;&gt;completeAndScheduleNextHeartbeatExpiration</title>
<path fill="none" stroke="#000000" d="M1222.3796,-869.437C1252.0394,-873.9151 1287.6941,-879.2983 1321.9389,-884.4687"/>
<polygon fill="#000000" stroke="#000000" points="1321.6213,-887.9603 1332.0318,-885.9925 1322.6664,-881.0387 1321.6213,-887.9603"/>
</g>
<!-- maybeInvokeJoinCallback -->
<g id="node27" class="node">
<title>maybeInvokeJoinCallback</title>
<polygon fill="none" stroke="#000000" points="1534.0916,-868 1368.511,-868 1368.511,-832 1534.0916,-832 1534.0916,-868"/>
<text text-anchor="middle" x="1451.3013" y="-845.8" font-family="Times,serif" font-size="14.00" fill="#000000">maybeInvokeJoinCallback</text>
</g>
<!-- propagateAssignment&#45;&gt;maybeInvokeJoinCallback -->
<g id="edge28" class="edge">
<title>propagateAssignment&#45;&gt;maybeInvokeJoinCallback</title>
<path fill="none" stroke="#000000" d="M1222.3796,-856.9126C1262.8228,-855.6914 1314.4122,-854.1336 1358.3749,-852.806"/>
<polygon fill="#000000" stroke="#000000" points="1358.6109,-856.3006 1368.5006,-852.5003 1358.3995,-849.3038 1358.6109,-856.3006"/>
</g>
<!-- handleJoinGroup -->
<g id="node28" class="node">
<title>handleJoinGroup</title>
<polygon fill="none" stroke="#000000" points="446.492,-445 333.6349,-445 333.6349,-409 446.492,-409 446.492,-445"/>
<text text-anchor="middle" x="390.0635" y="-422.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleJoinGroup</text>
</g>
<!-- handleJoinGroup&#45;&gt;addGroup -->
<g id="edge31" class="edge">
<title>handleJoinGroup&#45;&gt;addGroup</title>
<path fill="none" stroke="#000000" d="M446.3834,-424.2668C471.1388,-423.0654 500.8014,-421.6258 528.3853,-420.2872"/>
<polygon fill="#000000" stroke="#000000" points="528.6223,-423.7799 538.4408,-419.7992 528.2829,-416.7881 528.6223,-423.7799"/>
</g>
<!-- addMemberAndRebalance -->
<g id="node29" class="node">
<title>addMemberAndRebalance</title>
<polygon fill="none" stroke="#000000" points="699.7739,-578 533.6763,-578 533.6763,-542 699.7739,-542 699.7739,-578"/>
<text text-anchor="middle" x="616.7251" y="-555.8" font-family="Times,serif" font-size="14.00" fill="#000000">addMemberAndRebalance</text>
</g>
<!-- handleJoinGroup&#45;&gt;addMemberAndRebalance -->
<g id="edge32" class="edge">
<title>handleJoinGroup&#45;&gt;addMemberAndRebalance</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M432.6113,-445.0639C442.3035,-450.5035 452.016,-457.1559 459.7646,-465 483.7966,-489.3279 468.5779,-512.2572 495.7646,-533 504.126,-539.3796 513.7042,-544.3073 523.7296,-548.105"/>
<polygon fill="#000000" stroke="#000000" points="522.8591,-551.5057 533.4535,-551.4104 525.112,-544.8782 522.8591,-551.5057"/>
</g>
<!-- addMemberAndRebalance&#45;&gt;group_add -->
<g id="edge33" class="edge">
<title>addMemberAndRebalance&#45;&gt;group_add</title>
<path fill="none" stroke="#000000" d="M699.7951,-543.2039C712.5677,-540.1194 725.5399,-536.694 737.6855,-533 754.11,-528.0046 757.4629,-524.6162 773.6855,-519 787.4507,-514.2346 802.2896,-509.4637 816.5131,-505.0665"/>
<polygon fill="#000000" stroke="#000000" points="817.7046,-508.3621 826.2409,-502.0867 815.6543,-501.6691 817.7046,-508.3621"/>
</g>
</g>
</svg>
