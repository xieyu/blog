<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: findCoordinator Pages: 1 -->
<svg width="496pt" height="288pt"
 viewBox="0.00 0.00 496.03 288.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 284)">
<title>findCoordinator</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-284 492.0283,-284 492.0283,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_TransactionCoordinator</title>
<path fill="none" stroke="#000000" d="M247.752,-8C247.752,-8 468.0283,-8 468.0283,-8 474.0283,-8 480.0283,-14 480.0283,-20 480.0283,-20 480.0283,-118 480.0283,-118 480.0283,-124 474.0283,-130 468.0283,-130 468.0283,-130 247.752,-130 247.752,-130 241.752,-130 235.752,-124 235.752,-118 235.752,-118 235.752,-20 235.752,-20 235.752,-14 241.752,-8 247.752,-8"/>
<text text-anchor="middle" x="357.8901" y="-110" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionCoordinator</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_KafkaApi</title>
<path fill="none" stroke="#000000" d="M20,-138C20,-138 433.6982,-138 433.6982,-138 439.6982,-138 445.6982,-144 445.6982,-150 445.6982,-150 445.6982,-260 445.6982,-260 445.6982,-266 439.6982,-272 433.6982,-272 433.6982,-272 20,-272 20,-272 14,-272 8,-266 8,-260 8,-260 8,-150 8,-150 8,-144 14,-138 20,-138"/>
<text text-anchor="middle" x="226.8491" y="-252" font-family="Times,serif" font-size="20.00" fill="#000000">KafkaApi</text>
</g>
<!-- partitionFor -->
<g id="node1" class="node">
<title>partitionFor</title>
<polygon fill="none" stroke="#000000" points="243.752,-16.2 243.752,-93.8 472.0283,-93.8 472.0283,-16.2 243.752,-16.2"/>
<text text-anchor="middle" x="357.8901" y="-78.6" font-family="Times,serif" font-size="14.00" fill="#000000">partitionFor</text>
<polyline fill="none" stroke="#000000" points="243.752,-71.8 472.0283,-71.8 "/>
<text text-anchor="start" x="251.752" y="-56.6" font-family="Times,serif" font-size="14.00" fill="#000000">Utils.abs(transactionalId.hashCode)%</text>
<text text-anchor="start" x="251.752" y="-42.6" font-family="Times,serif" font-size="14.00" fill="#000000"> transactionTopicPartitionCount </text>
<text text-anchor="start" x="251.752" y="-28.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 根据事务id获取对应的partition</text>
</g>
<!-- handleFindCoordinatorRequest -->
<g id="node2" class="node">
<title>handleFindCoordinatorRequest</title>
<polygon fill="none" stroke="#000000" points="207.6281,-182 16.1239,-182 16.1239,-146 207.6281,-146 207.6281,-182"/>
<text text-anchor="middle" x="111.876" y="-159.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleFindCoordinatorRequest</text>
</g>
<!-- handleFindCoordinatorRequest&#45;&gt;partitionFor -->
<g id="edge1" class="edge">
<title>handleFindCoordinatorRequest&#45;&gt;partitionFor</title>
<path fill="none" stroke="#000000" d="M152.7764,-145.8785C182.1873,-132.8476 223.1234,-114.7103 260.6952,-98.0636"/>
<polygon fill="#000000" stroke="#000000" points="262.4408,-101.1184 270.1658,-93.8675 259.6051,-94.7184 262.4408,-101.1184"/>
</g>
<!-- getOrCreateInternalTopic -->
<g id="node3" class="node">
<title>getOrCreateInternalTopic</title>
<polygon fill="none" stroke="#000000" points="437.5068,-182 278.2735,-182 278.2735,-146 437.5068,-146 437.5068,-182"/>
<text text-anchor="middle" x="357.8901" y="-159.8" font-family="Times,serif" font-size="14.00" fill="#000000">getOrCreateInternalTopic</text>
</g>
<!-- handleFindCoordinatorRequest&#45;&gt;getOrCreateInternalTopic -->
<g id="edge2" class="edge">
<title>handleFindCoordinatorRequest&#45;&gt;getOrCreateInternalTopic</title>
<path fill="none" stroke="#000000" d="M207.6959,-164C227.5717,-164 248.4443,-164 268.0947,-164"/>
<polygon fill="#000000" stroke="#000000" points="268.2474,-167.5001 278.2473,-164 268.2473,-160.5001 268.2474,-167.5001"/>
</g>
<!-- partitionMetadata -->
<g id="node4" class="node">
<title>partitionMetadata</title>
<polygon fill="none" stroke="#000000" points="415.4087,-236 300.3716,-236 300.3716,-200 415.4087,-200 415.4087,-236"/>
<text text-anchor="middle" x="357.8901" y="-213.8" font-family="Times,serif" font-size="14.00" fill="#000000">partitionMetadata</text>
</g>
<!-- handleFindCoordinatorRequest&#45;&gt;partitionMetadata -->
<g id="edge3" class="edge">
<title>handleFindCoordinatorRequest&#45;&gt;partitionMetadata</title>
<path fill="none" stroke="#000000" d="M194.1372,-182.0563C225.3859,-188.9154 260.5898,-196.6426 290.3268,-203.1699"/>
<polygon fill="#000000" stroke="#000000" points="289.6704,-206.6091 300.1883,-205.3345 291.1712,-199.7718 289.6704,-206.6091"/>
</g>
</g>
</svg>
