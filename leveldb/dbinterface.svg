<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: dbInterface Pages: 1 -->
<svg width="4648pt" height="2040pt"
 viewBox="0.00 0.00 4648.17 2040.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2036)">
<title>dbInterface</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2036 4644.166,-2036 4644.166,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Options</title>
<path fill="none" stroke="#000000" d="M713.1011,-1510C713.1011,-1510 2526.0693,-1510 2526.0693,-1510 2532.0693,-1510 2538.0693,-1516 2538.0693,-1522 2538.0693,-1522 2538.0693,-1888 2538.0693,-1888 2538.0693,-1894 2532.0693,-1900 2526.0693,-1900 2526.0693,-1900 713.1011,-1900 713.1011,-1900 707.1011,-1900 701.1011,-1894 701.1011,-1888 701.1011,-1888 701.1011,-1522 701.1011,-1522 701.1011,-1516 707.1011,-1510 713.1011,-1510"/>
<text text-anchor="middle" x="1619.5852" y="-1880" font-family="Times,serif" font-size="20.00" fill="#000000">Options</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_Env</title>
<path fill="none" stroke="#000000" d="M2701.8867,-1472C2701.8867,-1472 3777.4541,-1472 3777.4541,-1472 3783.4541,-1472 3789.4541,-1478 3789.4541,-1484 3789.4541,-1484 3789.4541,-2012 3789.4541,-2012 3789.4541,-2018 3783.4541,-2024 3777.4541,-2024 3777.4541,-2024 2701.8867,-2024 2701.8867,-2024 2695.8867,-2024 2689.8867,-2018 2689.8867,-2012 2689.8867,-2012 2689.8867,-1484 2689.8867,-1484 2689.8867,-1478 2695.8867,-1472 2701.8867,-1472"/>
<text text-anchor="middle" x="3239.6704" y="-2004" font-family="Times,serif" font-size="20.00" fill="#000000">Env</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_Cache</title>
<path fill="none" stroke="#000000" d="M1603.1074,-1146C1603.1074,-1146 4620.166,-1146 4620.166,-1146 4626.166,-1146 4632.166,-1152 4632.166,-1158 4632.166,-1158 4632.166,-1422 4632.166,-1422 4632.166,-1428 4626.166,-1434 4620.166,-1434 4620.166,-1434 1603.1074,-1434 1603.1074,-1434 1597.1074,-1434 1591.1074,-1428 1591.1074,-1422 1591.1074,-1422 1591.1074,-1158 1591.1074,-1158 1591.1074,-1152 1597.1074,-1146 1603.1074,-1146"/>
<text text-anchor="middle" x="3111.6367" y="-1414" font-family="Times,serif" font-size="20.00" fill="#000000">Cache</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_Table</title>
<path fill="none" stroke="#000000" d="M2068.6338,-778C2068.6338,-778 3077.373,-778 3077.373,-778 3083.373,-778 3089.373,-784 3089.373,-790 3089.373,-790 3089.373,-1098 3089.373,-1098 3089.373,-1104 3083.373,-1110 3077.373,-1110 3077.373,-1110 2068.6338,-1110 2068.6338,-1110 2062.6338,-1110 2056.6338,-1104 2056.6338,-1098 2056.6338,-1098 2056.6338,-790 2056.6338,-790 2056.6338,-784 2062.6338,-778 2068.6338,-778"/>
<text text-anchor="middle" x="2573.0034" y="-1090" font-family="Times,serif" font-size="20.00" fill="#000000">Table</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_format</title>
<path fill="none" stroke="#000000" d="M2887.4312,-485C2887.4312,-485 3652.2402,-485 3652.2402,-485 3658.2402,-485 3664.2402,-491 3664.2402,-497 3664.2402,-497 3664.2402,-758 3664.2402,-758 3664.2402,-764 3658.2402,-770 3652.2402,-770 3652.2402,-770 2887.4312,-770 2887.4312,-770 2881.4312,-770 2875.4312,-764 2875.4312,-758 2875.4312,-758 2875.4312,-497 2875.4312,-497 2875.4312,-491 2881.4312,-485 2887.4312,-485"/>
<text text-anchor="middle" x="3269.8357" y="-750" font-family="Times,serif" font-size="20.00" fill="#000000">format</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_Snapshot</title>
<path fill="none" stroke="#000000" d="M1246.1836,-8C1246.1836,-8 1939.9399,-8 1939.9399,-8 1945.9399,-8 1951.9399,-14 1951.9399,-20 1951.9399,-20 1951.9399,-149 1951.9399,-149 1951.9399,-155 1945.9399,-161 1939.9399,-161 1939.9399,-161 1246.1836,-161 1246.1836,-161 1240.1836,-161 1234.1836,-155 1234.1836,-149 1234.1836,-149 1234.1836,-20 1234.1836,-20 1234.1836,-14 1240.1836,-8 1246.1836,-8"/>
<text text-anchor="middle" x="1593.0618" y="-141" font-family="Times,serif" font-size="20.00" fill="#000000">Snapshot</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_VersionSet</title>
<path fill="none" stroke="#000000" d="M1159.0903,-372C1159.0903,-372 2427.3242,-372 2427.3242,-372 2433.3242,-372 2439.3242,-378 2439.3242,-384 2439.3242,-384 2439.3242,-758 2439.3242,-758 2439.3242,-764 2433.3242,-770 2427.3242,-770 2427.3242,-770 1159.0903,-770 1159.0903,-770 1153.0903,-770 1147.0903,-764 1147.0903,-758 1147.0903,-758 1147.0903,-384 1147.0903,-384 1147.0903,-378 1153.0903,-372 1159.0903,-372"/>
<text text-anchor="middle" x="1793.2073" y="-750" font-family="Times,serif" font-size="20.00" fill="#000000">VersionSet</text>
</g>
<!-- ReadOptions -->
<g id="node1" class="node">
<title>ReadOptions</title>
<polygon fill="none" stroke="#000000" points="709.1011,-1620 709.1011,-1708 868.9907,-1708 868.9907,-1620 709.1011,-1620"/>
<text text-anchor="middle" x="789.0459" y="-1692.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReadOptions</text>
<polyline fill="none" stroke="#000000" points="709.1011,-1686 868.9907,-1686 "/>
<text text-anchor="start" x="717.1011" y="-1670.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool verify_checksums</text>
<polyline fill="none" stroke="#000000" points="709.1011,-1664 868.9907,-1664 "/>
<text text-anchor="start" x="717.1011" y="-1648.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool fill_cache </text>
<polyline fill="none" stroke="#000000" points="709.1011,-1642 868.9907,-1642 "/>
<text text-anchor="start" x="717.1011" y="-1626.8" font-family="Times,serif" font-size="14.00" fill="#000000">const Snapshot* snapshot</text>
</g>
<!-- Snapshot -->
<g id="node2" class="node">
<title>Snapshot</title>
<polygon fill="none" stroke="#000000" points="1270.0811,-80 1270.0811,-124 1344.9932,-124 1344.9932,-80 1270.0811,-80"/>
<text text-anchor="middle" x="1307.5371" y="-108.8" font-family="Times,serif" font-size="14.00" fill="#000000">Snapshot</text>
<polyline fill="none" stroke="#000000" points="1270.0811,-102 1344.9932,-102 "/>
<text text-anchor="start" x="1278.0811" y="-86.8" font-family="Times,serif" font-size="14.00" fill="#000000">~Snapshot</text>
</g>
<!-- ReadOptions&#45;&gt;Snapshot -->
<g id="edge1" class="edge">
<title>ReadOptions:snapshot&#45;&gt;Snapshot</title>
<path fill="none" stroke="#000000" d="M869.0459,-1631C934.9463,-1631 971.9959,-1660.0859 1015.9668,-1611 1068.3615,-1552.5103 1006.4384,-261.9798 1051.9668,-198 1099.5369,-131.151 1199.6311,-110.8129 1259.465,-104.6509"/>
<polygon fill="#000000" stroke="#000000" points="1260.1557,-108.1017 1269.7871,-103.6872 1259.505,-101.132 1260.1557,-108.1017"/>
</g>
<!-- SnapshotImpl -->
<g id="node32" class="node">
<title>SnapshotImpl</title>
<polygon fill="none" stroke="#000000" points="1683.8013,-26 1683.8013,-114 1943.9399,-114 1943.9399,-26 1683.8013,-26"/>
<text text-anchor="middle" x="1813.8706" y="-98.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotImpl</text>
<polyline fill="none" stroke="#000000" points="1683.8013,-92 1943.9399,-92 "/>
<text text-anchor="start" x="1691.8013" y="-76.8" font-family="Times,serif" font-size="14.00" fill="#000000">const SequenceNumber sequence_number_</text>
<polyline fill="none" stroke="#000000" points="1683.8013,-70 1943.9399,-70 "/>
<text text-anchor="start" x="1691.8013" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotImpl* prev_;</text>
<polyline fill="none" stroke="#000000" points="1683.8013,-48 1943.9399,-48 "/>
<text text-anchor="start" x="1691.8013" y="-32.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotImpl* next_;</text>
</g>
<!-- Snapshot&#45;&gt;SnapshotImpl -->
<g id="edge41" class="edge">
<title>Snapshot&#45;&gt;SnapshotImpl</title>
<path fill="none" stroke="#000000" d="M1345.1808,-99.6209C1413.7025,-95.2904 1562.0151,-85.9171 1673.5678,-78.8671"/>
<polygon fill="#000000" stroke="#000000" points="1673.8052,-82.3591 1683.5645,-78.2353 1673.3637,-75.3731 1673.8052,-82.3591"/>
</g>
<!-- WriteOptions -->
<g id="node3" class="node">
<title>WriteOptions</title>
<polygon fill="none" stroke="#000000" points="731.4136,-1557 731.4136,-1601 846.6782,-1601 846.6782,-1557 731.4136,-1557"/>
<text text-anchor="middle" x="789.0459" y="-1585.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteOptions</text>
<polyline fill="none" stroke="#000000" points="731.4136,-1579 846.6782,-1579 "/>
<text text-anchor="middle" x="789.0459" y="-1563.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool sync = false;</text>
</g>
<!-- Options -->
<g id="node4" class="node">
<title>Options</title>
<polygon fill="none" stroke="#000000" points="2196.4512,-1519 2196.4512,-1863 2530.0693,-1863 2530.0693,-1519 2196.4512,-1519"/>
<text text-anchor="middle" x="2363.2603" y="-1847.8" font-family="Times,serif" font-size="14.00" fill="#000000">Options</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1841 2530.0693,-1841 "/>
<text text-anchor="start" x="2204.4512" y="-1825.8" font-family="Times,serif" font-size="14.00" fill="#000000">const Comparator* comparator;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1819 2530.0693,-1819 "/>
<text text-anchor="start" x="2204.4512" y="-1803.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool create_if_missing = false;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1797 2530.0693,-1797 "/>
<text text-anchor="start" x="2204.4512" y="-1781.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool error_if_exists = false;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1775 2530.0693,-1775 "/>
<text text-anchor="start" x="2204.4512" y="-1759.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool paranoid_checks = false;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1753 2530.0693,-1753 "/>
<text text-anchor="start" x="2204.4512" y="-1737.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* env;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1731 2530.0693,-1731 "/>
<text text-anchor="start" x="2204.4512" y="-1715.8" font-family="Times,serif" font-size="14.00" fill="#000000">Logger* info_log = nullptr;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1709 2530.0693,-1709 "/>
<text text-anchor="start" x="2204.4512" y="-1693.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t write_buffer_size = 4 * 1024 * 1024;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1687 2530.0693,-1687 "/>
<text text-anchor="start" x="2204.4512" y="-1671.8" font-family="Times,serif" font-size="14.00" fill="#000000">int max_open_files = 1000;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1665 2530.0693,-1665 "/>
<text text-anchor="start" x="2204.4512" y="-1649.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cache* block_cache = nullptr;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1643 2530.0693,-1643 "/>
<text text-anchor="start" x="2204.4512" y="-1627.8" font-family="Times,serif" font-size="14.00" fill="#000000">int block_restart_interval = 16;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1621 2530.0693,-1621 "/>
<text text-anchor="start" x="2204.4512" y="-1605.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t max_file_size = 2 * 1024 * 1024;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1599 2530.0693,-1599 "/>
<text text-anchor="start" x="2204.4512" y="-1583.8" font-family="Times,serif" font-size="14.00" fill="#000000">CompressionType compression = kSnappyCompression;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1577 2530.0693,-1577 "/>
<text text-anchor="start" x="2204.4512" y="-1561.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool reuse_logs = false;</text>
<polyline fill="none" stroke="#000000" points="2196.4512,-1555 2530.0693,-1555 "/>
<text text-anchor="start" x="2204.4512" y="-1539.8" font-family="Times,serif" font-size="14.00" fill="#000000">const FilterPolicy* filter_policy = nullptr</text>
<text text-anchor="middle" x="2363.2603" y="-1525.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- Env -->
<g id="node5" class="node">
<title>Env</title>
<polygon fill="none" stroke="#000000" points="2697.8867,-1481 2697.8867,-1987 3264.9727,-1987 3264.9727,-1481 2697.8867,-1481"/>
<text text-anchor="middle" x="2981.4297" y="-1971.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1965 3264.9727,-1965 "/>
<text text-anchor="start" x="2705.8867" y="-1949.8" font-family="Times,serif" font-size="14.00" fill="#000000">static Env* Default();</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1943 3264.9727,-1943 "/>
<text text-anchor="start" x="2705.8867" y="-1927.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status NewSequentialFile(const std::string&amp; fname, SequentialFile** result) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1921 3264.9727,-1921 "/>
<text text-anchor="start" x="2705.8867" y="-1905.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status NewRandomAccessFile(const std::string&amp; fname, RandomAccessFile** result) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1899 3264.9727,-1899 "/>
<text text-anchor="start" x="2705.8867" y="-1883.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status NewWritableFile(const std::string&amp; fname, WritableFile** result) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1877 3264.9727,-1877 "/>
<text text-anchor="start" x="2705.8867" y="-1861.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status NewAppendableFile(const std::string&amp; fname, WritableFile** result);</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1855 3264.9727,-1855 "/>
<text text-anchor="start" x="2705.8867" y="-1839.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual bool FileExists(const std::string&amp; fname) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1833 3264.9727,-1833 "/>
<polyline fill="none" stroke="#000000" points="2697.8867,-1833 3264.9727,-1833 "/>
<text text-anchor="start" x="2705.8867" y="-1817.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status RemoveFile(const std::string&amp; fname);</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1811 3264.9727,-1811 "/>
<text text-anchor="start" x="2705.8867" y="-1795.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status DeleteFile(const std::string&amp; fname);</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1789 3264.9727,-1789 "/>
<text text-anchor="start" x="2705.8867" y="-1773.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status CreateDir(const std::string&amp; dirname) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1767 3264.9727,-1767 "/>
<text text-anchor="start" x="2705.8867" y="-1751.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status RemoveDir(const std::string&amp; dirname);</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1745 3264.9727,-1745 "/>
<text text-anchor="start" x="2705.8867" y="-1729.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status DeleteDir(const std::string&amp; dirname);</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1723 3264.9727,-1723 "/>
<text text-anchor="start" x="2705.8867" y="-1707.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status GetFileSize(const std::string&amp; fname, uint64_t* file_size) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1701 3264.9727,-1701 "/>
<text text-anchor="start" x="2705.8867" y="-1685.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status RenameFile(const std::string&amp; src, const std::string&amp; target) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1679 3264.9727,-1679 "/>
<text text-anchor="start" x="2705.8867" y="-1663.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status LockFile(const std::string&amp; fname, FileLock** lock) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1657 3264.9727,-1657 "/>
<text text-anchor="start" x="2705.8867" y="-1641.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status UnlockFile(FileLock* lock) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1635 3264.9727,-1635 "/>
<text text-anchor="start" x="2705.8867" y="-1619.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Schedule(void (*function)(void* arg), void* arg) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1613 3264.9727,-1613 "/>
<text text-anchor="start" x="2705.8867" y="-1597.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void StartThread(void (*function)(void* arg), void* arg) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1591 3264.9727,-1591 "/>
<text text-anchor="start" x="2705.8867" y="-1575.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status GetTestDirectory(std::string* path) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1569 3264.9727,-1569 "/>
<text text-anchor="start" x="2705.8867" y="-1553.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status NewLogger(const std::string&amp; fname, Logger** result) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1547 3264.9727,-1547 "/>
<text text-anchor="start" x="2705.8867" y="-1531.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual uint64_t NowMicros() = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1525 3264.9727,-1525 "/>
<text text-anchor="start" x="2705.8867" y="-1509.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void SleepForMicroseconds(int micros) = 0;</text>
<polyline fill="none" stroke="#000000" points="2697.8867,-1503 3264.9727,-1503 "/>
<text text-anchor="middle" x="2981.4297" y="-1487.8" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- Options&#45;&gt;Env -->
<g id="edge2" class="edge">
<title>Options:env&#45;&gt;Env</title>
<path fill="none" stroke="#000000" d="M2530.2603,-1742C2581.1342,-1742 2635.23,-1741.4852 2687.6392,-1740.7168"/>
<polygon fill="#000000" stroke="#000000" points="2687.8037,-1744.2148 2697.7501,-1740.5651 2687.6987,-1737.2156 2687.8037,-1744.2148"/>
</g>
<!-- WritableFile -->
<g id="node9" class="node">
<title>WritableFile</title>
<polygon fill="none" stroke="#000000" points="3405.6172,-1664 3405.6172,-1774 3676.8096,-1774 3676.8096,-1664 3405.6172,-1664"/>
<text text-anchor="middle" x="3541.2134" y="-1758.8" font-family="Times,serif" font-size="14.00" fill="#000000">WritableFile</text>
<polyline fill="none" stroke="#000000" points="3405.6172,-1752 3676.8096,-1752 "/>
<text text-anchor="start" x="3413.6172" y="-1736.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Append(const Slice&amp; data) = 0;</text>
<polyline fill="none" stroke="#000000" points="3405.6172,-1730 3676.8096,-1730 "/>
<text text-anchor="start" x="3413.6172" y="-1714.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Close() = 0;</text>
<polyline fill="none" stroke="#000000" points="3405.6172,-1708 3676.8096,-1708 "/>
<text text-anchor="start" x="3413.6172" y="-1692.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Flush() = 0;</text>
<polyline fill="none" stroke="#000000" points="3405.6172,-1686 3676.8096,-1686 "/>
<text text-anchor="start" x="3413.6172" y="-1670.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Sync() = 0;</text>
</g>
<!-- Env&#45;&gt;WritableFile -->
<g id="edge18" class="edge">
<title>Env:WritableFile&#45;&gt;WritableFile</title>
<path fill="none" stroke="#000000" d="M3264.9727,-1888C3292.3556,-1888 3280.0881,-1855.7105 3300.9727,-1838 3329.1216,-1814.1292 3362.8818,-1793.629 3396.0764,-1776.7016"/>
<polygon fill="#000000" stroke="#000000" points="3398.0453,-1779.63 3405.4189,-1772.0221 3394.9103,-1773.3713 3398.0453,-1779.63"/>
</g>
<!-- SequentialFile -->
<g id="node14" class="node">
<title>SequentialFile</title>
<polygon fill="none" stroke="#000000" points="3361.8979,-1910 3361.8979,-1976 3720.5288,-1976 3720.5288,-1910 3361.8979,-1910"/>
<text text-anchor="middle" x="3541.2134" y="-1960.8" font-family="Times,serif" font-size="14.00" fill="#000000">SequentialFile</text>
<polyline fill="none" stroke="#000000" points="3361.8979,-1954 3720.5288,-1954 "/>
<text text-anchor="start" x="3369.8979" y="-1938.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Read(size_t n, Slice* result, char* scratch) = 0;</text>
<polyline fill="none" stroke="#000000" points="3361.8979,-1932 3720.5288,-1932 "/>
<text text-anchor="start" x="3369.8979" y="-1916.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Skip(uint64_t n) = 0;</text>
</g>
<!-- Env&#45;&gt;SequentialFile -->
<g id="edge17" class="edge">
<title>Env:SequentialFile&#45;&gt;SequentialFile</title>
<path fill="none" stroke="#000000" d="M3264.9727,-1932C3292.9873,-1932 3322.5874,-1932.5718 3351.5937,-1933.4547"/>
<polygon fill="#000000" stroke="#000000" points="3351.7192,-1936.9604 3361.8252,-1933.7796 3351.9414,-1929.9639 3351.7192,-1936.9604"/>
</g>
<!-- RandomAccessFile -->
<g id="node15" class="node">
<title>RandomAccessFile</title>
<polygon fill="none" stroke="#000000" points="3300.9727,-1847 3300.9727,-1891 3781.4541,-1891 3781.4541,-1847 3300.9727,-1847"/>
<text text-anchor="middle" x="3541.2134" y="-1875.8" font-family="Times,serif" font-size="14.00" fill="#000000">RandomAccessFile</text>
<polyline fill="none" stroke="#000000" points="3300.9727,-1869 3781.4541,-1869 "/>
<text text-anchor="start" x="3308.9727" y="-1853.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Read(uint64_t offset, size_t n, Slice* result, char* scratch) const = 0;</text>
</g>
<!-- Env&#45;&gt;RandomAccessFile -->
<g id="edge19" class="edge">
<title>Env:RandomAccessFile&#45;&gt;RandomAccessFile</title>
<path fill="none" stroke="#000000" d="M3264.9727,-1910C3281.4651,-1910 3284.773,-1904.0937 3300.9727,-1901 3316.5456,-1898.026 3332.7389,-1895.2342 3349.0325,-1892.6355"/>
<polygon fill="#000000" stroke="#000000" points="3349.8492,-1896.0502 3359.1858,-1891.0424 3348.7641,-1889.1348 3349.8492,-1896.0502"/>
</g>
<!-- Logger -->
<g id="node16" class="node">
<title>Logger</title>
<polygon fill="none" stroke="#000000" points="3383.6636,-1536 3383.6636,-1580 3698.7632,-1580 3698.7632,-1536 3383.6636,-1536"/>
<text text-anchor="middle" x="3541.2134" y="-1564.8" font-family="Times,serif" font-size="14.00" fill="#000000">Logger</text>
<polyline fill="none" stroke="#000000" points="3383.6636,-1558 3698.7632,-1558 "/>
<text text-anchor="start" x="3391.6636" y="-1542.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Logv(const char* format, va_list ap) = 0;</text>
</g>
<!-- Env&#45;&gt;Logger -->
<g id="edge20" class="edge">
<title>Env:logger&#45;&gt;Logger</title>
<path fill="none" stroke="#000000" d="M3264.9727,-1558C3300.0423,-1558 3337.6163,-1558 3373.4025,-1558"/>
<polygon fill="#000000" stroke="#000000" points="3373.4451,-1561.5001 3383.445,-1558 3373.445,-1554.5001 3373.4451,-1561.5001"/>
</g>
<!-- WriteBatch -->
<g id="node6" class="node">
<title>WriteBatch</title>
<polygon fill="none" stroke="#000000" points="1255.4009,-1636 1255.4009,-1680 1359.6733,-1680 1359.6733,-1636 1255.4009,-1636"/>
<text text-anchor="middle" x="1307.5371" y="-1664.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch</text>
<polyline fill="none" stroke="#000000" points="1255.4009,-1658 1359.6733,-1658 "/>
<text text-anchor="middle" x="1307.5371" y="-1642.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::string rep_;</text>
</g>
<!-- DB -->
<g id="node7" class="node">
<title>DB</title>
<polygon fill="none" stroke="#000000" points="0,-1447 0,-1711 526.125,-1711 526.125,-1447 0,-1447"/>
<text text-anchor="middle" x="263.0625" y="-1695.8" font-family="Times,serif" font-size="14.00" fill="#000000">DB</text>
<polyline fill="none" stroke="#000000" points="0,-1689 526.125,-1689 "/>
<text text-anchor="start" x="8" y="-1673.8" font-family="Times,serif" font-size="14.00" fill="#000000">static Status Open(const Options&amp; options, const std::string&amp; name, DB** dbptr)</text>
<polyline fill="none" stroke="#000000" points="0,-1667 526.125,-1667 "/>
<text text-anchor="start" x="8" y="-1651.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Put(const WriteOptions&amp; options, const Slice&amp; key, const Slice&amp; value) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1645 526.125,-1645 "/>
<text text-anchor="start" x="8" y="-1629.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Delete(const WriteOptions&amp; options, const Slice&amp; key) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1623 526.125,-1623 "/>
<text text-anchor="start" x="8" y="-1607.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Write(const WriteOptions&amp; options, WriteBatch* updates) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1601 526.125,-1601 "/>
<text text-anchor="start" x="8" y="-1585.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status Get(const ReadOptions&amp; options, const Slice&amp; key, std::string* value) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1579 526.125,-1579 "/>
<text text-anchor="start" x="8" y="-1563.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Iterator* NewIterator(const ReadOptions&amp; options) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1557 526.125,-1557 "/>
<text text-anchor="start" x="8" y="-1541.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual const Snapshot* GetSnapshot() = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1535 526.125,-1535 "/>
<text text-anchor="start" x="8" y="-1519.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void ReleaseSnapshot(const Snapshot* snapshot) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1513 526.125,-1513 "/>
<text text-anchor="start" x="8" y="-1497.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual bool GetProperty(const Slice&amp; property, std::string* value) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1491 526.125,-1491 "/>
<text text-anchor="start" x="8" y="-1475.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void GetApproximateSizes(const Range* range, int n, uint64_t* sizes) = 0;</text>
<polyline fill="none" stroke="#000000" points="0,-1469 526.125,-1469 "/>
<text text-anchor="start" x="8" y="-1453.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void CompactRange(const Slice* begin, const Slice* end) = 0;</text>
</g>
<!-- DB&#45;&gt;ReadOptions -->
<g id="edge6" class="edge">
<title>DB&#45;&gt;ReadOptions</title>
<path fill="none" stroke="#000000" d="M526.4394,-1621.5623C588.5997,-1631.6075 650.7312,-1641.6481 698.9436,-1649.4393"/>
<polygon fill="#000000" stroke="#000000" points="698.5851,-1652.9267 709.0154,-1651.0669 699.7019,-1646.0163 698.5851,-1652.9267"/>
</g>
<!-- DB&#45;&gt;WriteOptions -->
<g id="edge5" class="edge">
<title>DB&#45;&gt;WriteOptions</title>
<path fill="none" stroke="#000000" d="M526.4394,-1579C598.6914,-1579 670.9045,-1579 721.2654,-1579"/>
<polygon fill="#000000" stroke="#000000" points="721.3558,-1582.5001 731.3557,-1579 721.3557,-1575.5001 721.3558,-1582.5001"/>
</g>
<!-- DB&#45;&gt;Options -->
<g id="edge4" class="edge">
<title>DB:open&#45;&gt;Options</title>
<path fill="none" stroke="#000000" d="M526.0625,-1678C586.0222,-1678 514.3957,-1584.2915 562.125,-1548 722.689,-1425.9136 814.5412,-1537.3404 1015.9668,-1548 1436.9618,-1570.2794 1928.8622,-1631.4562 2186.0256,-1666.1441"/>
<polygon fill="#000000" stroke="#000000" points="2185.8274,-1669.6491 2196.2061,-1667.5201 2186.765,-1662.7122 2185.8274,-1669.6491"/>
</g>
<!-- DB&#45;&gt;WriteBatch -->
<g id="edge7" class="edge">
<title>DB&#45;&gt;WriteBatch</title>
<path fill="none" stroke="#000000" d="M526.3168,-1708.6616C538.2769,-1712.2264 550.2451,-1715.3741 562.125,-1718 811.0816,-1773.029 1116.7367,-1708.3211 1245.5948,-1675.199"/>
<polygon fill="#000000" stroke="#000000" points="1246.5031,-1678.5793 1255.3018,-1672.6773 1244.743,-1671.8042 1246.5031,-1678.5793"/>
</g>
<!-- DBImpl -->
<g id="node8" class="node">
<title>DBImpl</title>
<polygon fill="none" stroke="#000000" points="562.125,-602 562.125,-1152 1015.9668,-1152 1015.9668,-602 562.125,-602"/>
<text text-anchor="middle" x="789.0459" y="-1136.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl</text>
<polyline fill="none" stroke="#000000" points="562.125,-1130 1015.9668,-1130 "/>
<text text-anchor="start" x="570.125" y="-1114.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* const env_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-1108 1015.9668,-1108 "/>
<text text-anchor="start" x="570.125" y="-1092.8" font-family="Times,serif" font-size="14.00" fill="#000000">const InternalKeyComparator internal_comparator_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-1086 1015.9668,-1086 "/>
<text text-anchor="start" x="570.125" y="-1070.8" font-family="Times,serif" font-size="14.00" fill="#000000">const InternalFilterPolicy internal_filter_policy_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-1064 1015.9668,-1064 "/>
<text text-anchor="start" x="570.125" y="-1048.8" font-family="Times,serif" font-size="14.00" fill="#000000">const Options options_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-1042 1015.9668,-1042 "/>
<text text-anchor="start" x="570.125" y="-1026.8" font-family="Times,serif" font-size="14.00" fill="#000000">const bool owns_info_log_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-1020 1015.9668,-1020 "/>
<text text-anchor="start" x="570.125" y="-1004.8" font-family="Times,serif" font-size="14.00" fill="#000000">const bool owns_cache_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-998 1015.9668,-998 "/>
<text text-anchor="start" x="570.125" y="-982.8" font-family="Times,serif" font-size="14.00" fill="#000000">const std::string dbname_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-976 1015.9668,-976 "/>
<text text-anchor="start" x="570.125" y="-960.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableCache* const table_cache_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-954 1015.9668,-954 "/>
<text text-anchor="start" x="570.125" y="-938.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileLock* db_lock_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-932 1015.9668,-932 "/>
<text text-anchor="start" x="570.125" y="-916.8" font-family="Times,serif" font-size="14.00" fill="#000000">port::Mutex mutex_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-910 1015.9668,-910 "/>
<polyline fill="none" stroke="#000000" points="562.125,-910 1015.9668,-910 "/>
<text text-anchor="start" x="570.125" y="-894.8" font-family="Times,serif" font-size="14.00" fill="#000000">port::CondVar background_work_finished_signal_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-888 1015.9668,-888 "/>
<text text-anchor="start" x="570.125" y="-872.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable* mem_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-866 1015.9668,-866 "/>
<text text-anchor="start" x="570.125" y="-850.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable* imm_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-844 1015.9668,-844 "/>
<polyline fill="none" stroke="#000000" points="562.125,-844 1015.9668,-844 "/>
<text text-anchor="start" x="570.125" y="-828.8" font-family="Times,serif" font-size="14.00" fill="#000000">WritableFile* logfile_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-822 1015.9668,-822 "/>
<text text-anchor="start" x="570.125" y="-806.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t logfile_number_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-800 1015.9668,-800 "/>
<text text-anchor="start" x="570.125" y="-784.8" font-family="Times,serif" font-size="14.00" fill="#000000">log::Writer* log_;</text>
<polyline fill="none" stroke="#000000" points="562.125,-778 1015.9668,-778 "/>
<text text-anchor="start" x="570.125" y="-762.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t seed_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-756 1015.9668,-756 "/>
<polyline fill="none" stroke="#000000" points="562.125,-756 1015.9668,-756 "/>
<text text-anchor="start" x="570.125" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch* tmp_batch_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-734 1015.9668,-734 "/>
<text text-anchor="start" x="570.125" y="-718.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotList snapshots_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-712 1015.9668,-712 "/>
<polyline fill="none" stroke="#000000" points="562.125,-712 1015.9668,-712 "/>
<text text-anchor="start" x="570.125" y="-696.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool background_compaction_scheduled_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-690 1015.9668,-690 "/>
<text text-anchor="start" x="570.125" y="-674.8" font-family="Times,serif" font-size="14.00" fill="#000000">ManualCompaction* manual_compaction_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-668 1015.9668,-668 "/>
<text text-anchor="start" x="570.125" y="-652.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet* const versions_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-646 1015.9668,-646 "/>
<text text-anchor="start" x="570.125" y="-630.8" font-family="Times,serif" font-size="14.00" fill="#000000">Status bg_error_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="562.125,-624 1015.9668,-624 "/>
<text text-anchor="start" x="570.125" y="-608.8" font-family="Times,serif" font-size="14.00" fill="#000000">CompactionStats stats_[config::kNumLevels] GUARDED_BY(mutex_);</text>
</g>
<!-- DB&#45;&gt;DBImpl -->
<g id="edge3" class="edge">
<title>DB&#45;&gt;DBImpl</title>
<path fill="none" stroke="#000000" d="M361.996,-1446.9592C422.5517,-1366.1389 502.4291,-1259.5311 576.7044,-1160.4"/>
<polygon fill="#000000" stroke="#000000" points="579.5307,-1162.4649 582.726,-1152.3634 573.9287,-1158.2675 579.5307,-1162.4649"/>
</g>
<!-- DBImpl&#45;&gt;Options -->
<g id="edge9" class="edge">
<title>DBImpl:options&#45;&gt;Options</title>
<path fill="none" stroke="#000000" d="M1015.9668,-1053C1169.7683,-1053 1448.3311,-1380.8175 1591.1074,-1438 1774.3272,-1511.3802 1841.8682,-1450.182 2028.6338,-1514 2082.1687,-1532.2929 2137.5363,-1558.2967 2187.451,-1584.7573"/>
<polygon fill="#000000" stroke="#000000" points="2185.9116,-1587.903 2196.3813,-1589.5269 2189.2094,-1581.7285 2185.9116,-1587.903"/>
</g>
<!-- DBImpl&#45;&gt;Env -->
<g id="edge8" class="edge">
<title>DBImpl:env&#45;&gt;Env</title>
<path fill="none" stroke="#000000" d="M1015.9668,-1119C1308.2706,-1119 1310.5874,-1355.8413 1591.1074,-1438 2048.744,-1572.0326 2212.5761,-1346.2627 2661.8867,-1506 2670.8226,-1509.1769 2679.7312,-1512.682 2688.5891,-1516.4705"/>
<polygon fill="#000000" stroke="#000000" points="2687.2376,-1519.6996 2697.8007,-1520.5191 2690.0542,-1513.2912 2687.2376,-1519.6996"/>
</g>
<!-- DBImpl&#45;&gt;WriteBatch -->
<g id="edge11" class="edge">
<title>DBImpl:WriteBatch&#45;&gt;WriteBatch</title>
<path fill="none" stroke="#000000" d="M1015.9668,-745C1058.1809,-745 1030.3376,-1467.748 1051.9668,-1504 1094.7339,-1575.6806 1184.9117,-1618.1366 1245.8757,-1639.7596"/>
<polygon fill="#000000" stroke="#000000" points="1244.8027,-1643.0919 1255.3975,-1643.0524 1247.0905,-1636.4763 1244.8027,-1643.0919"/>
</g>
<!-- DBImpl&#45;&gt;WritableFile -->
<g id="edge10" class="edge">
<title>DBImpl:logfile&#45;&gt;WritableFile</title>
<path fill="none" stroke="#000000" d="M1015.9668,-833C1086.6356,-833 1000.6016,-246.5356 1051.9668,-198 1091.4048,-160.7345 1989.685,-160.2236 2028.6338,-198 2101.7268,-268.8929 1985.1988,-1041.4367 2056.6338,-1114 2103.8634,-1161.9755 2613.152,-1095.5542 2661.8867,-1142 2709.7159,-1187.5829 2642.311,-1392.1526 2689.8867,-1438 2782.0601,-1526.825 3164.4137,-1391.7932 3264.9727,-1471 3308.3804,-1505.1907 3265.9754,-1547.2399 3300.9727,-1590 3326.3338,-1620.9866 3361.1618,-1645.5794 3396.4326,-1664.6208"/>
<polygon fill="#000000" stroke="#000000" points="3394.9244,-1667.7822 3405.4037,-1669.3428 3398.1849,-1661.5879 3394.9244,-1667.7822"/>
</g>
<!-- MemTable -->
<g id="node10" class="node">
<title>MemTable</title>
<polygon fill="none" stroke="#000000" points="1051.9668,-208 1051.9668,-362 1563.1074,-362 1563.1074,-208 1051.9668,-208"/>
<text text-anchor="middle" x="1307.5371" y="-346.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-340 1563.1074,-340 "/>
<text text-anchor="start" x="1059.9668" y="-324.8" font-family="Times,serif" font-size="14.00" fill="#000000">void Add(SequenceNumber seq, ValueType type, const Slice&amp; key, const Slice&amp; value);</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-318 1563.1074,-318 "/>
<text text-anchor="start" x="1059.9668" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool Get(const LookupKey&amp; key, std::string* value, Status* s);</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-296 1563.1074,-296 "/>
<text text-anchor="start" x="1059.9668" y="-280.8" font-family="Times,serif" font-size="14.00" fill="#000000">KeyComparator comparator_;</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-274 1563.1074,-274 "/>
<text text-anchor="start" x="1059.9668" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">int refs</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-252 1563.1074,-252 "/>
<text text-anchor="start" x="1059.9668" y="-236.8" font-family="Times,serif" font-size="14.00" fill="#000000">Arena arena_</text>
<polyline fill="none" stroke="#000000" points="1051.9668,-230 1563.1074,-230 "/>
<text text-anchor="start" x="1059.9668" y="-214.8" font-family="Times,serif" font-size="14.00" fill="#000000">Table table_</text>
</g>
<!-- DBImpl&#45;&gt;MemTable -->
<g id="edge12" class="edge">
<title>DBImpl:MemTable1&#45;&gt;MemTable</title>
<path fill="none" stroke="#000000" d="M1015.9668,-877C1070.1167,-877 1021.8106,-453.4423 1052.049,-371.3228"/>
<polygon fill="#000000" stroke="#000000" points="1055.3465,-372.5678 1056.8559,-362.081 1049.1363,-369.3377 1055.3465,-372.5678"/>
</g>
<!-- DBImpl&#45;&gt;MemTable -->
<g id="edge13" class="edge">
<title>DBImpl:MemTable2&#45;&gt;MemTable</title>
<path fill="none" stroke="#000000" d="M1015.9668,-855C1067.7881,-855 1022.9095,-449.7097 1052.2192,-370.9572"/>
<polygon fill="#000000" stroke="#000000" points="1055.3252,-372.5706 1056.8651,-362.0882 1049.1245,-369.3224 1055.3252,-372.5706"/>
</g>
<!-- TableCache -->
<g id="node11" class="node">
<title>TableCache</title>
<polygon fill="none" stroke="#000000" points="1599.1074,-1167 1599.1074,-1385 2028.6338,-1385 2028.6338,-1167 1599.1074,-1167"/>
<text text-anchor="middle" x="1813.8706" y="-1369.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableCache</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1363 2028.6338,-1363 "/>
<text text-anchor="start" x="1607.1074" y="-1347.8" font-family="Times,serif" font-size="14.00" fill="#000000">Iterator* NewIterator(const ReadOptions&amp; options, uint64_t file_number,</text>
<text text-anchor="start" x="1607.1074" y="-1333.8" font-family="Times,serif" font-size="14.00" fill="#000000"> uint64_t file_size, Table** tableptr = nullptr);</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1327 2028.6338,-1327 "/>
<text text-anchor="start" x="1607.1074" y="-1311.8" font-family="Times,serif" font-size="14.00" fill="#000000">Status Get(const ReadOptions&amp; options, uint64_t file_number,</text>
<text text-anchor="start" x="1607.1074" y="-1297.8" font-family="Times,serif" font-size="14.00" fill="#000000"> uint64_t file_size, const Slice&amp; k, void* arg,</text>
<text text-anchor="start" x="1607.1074" y="-1283.8" font-family="Times,serif" font-size="14.00" fill="#000000"> void (*handle_result)(void*, const Slice&amp;, const Slice&amp;));</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1277 2028.6338,-1277 "/>
<text text-anchor="start" x="1607.1074" y="-1261.8" font-family="Times,serif" font-size="14.00" fill="#000000">void Evict(uint64_t file_number);</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1255 2028.6338,-1255 "/>
<text text-anchor="start" x="1607.1074" y="-1239.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* const env_;</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1233 2028.6338,-1233 "/>
<text text-anchor="start" x="1607.1074" y="-1217.8" font-family="Times,serif" font-size="14.00" fill="#000000">const std::string dbname_;</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1211 2028.6338,-1211 "/>
<text text-anchor="start" x="1607.1074" y="-1195.8" font-family="Times,serif" font-size="14.00" fill="#000000">const Options&amp; options_;</text>
<polyline fill="none" stroke="#000000" points="1599.1074,-1189 2028.6338,-1189 "/>
<text text-anchor="start" x="1607.1074" y="-1173.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cache* cache_;</text>
</g>
<!-- DBImpl&#45;&gt;TableCache -->
<g id="edge14" class="edge">
<title>DBImpl:TableCache&#45;&gt;TableCache</title>
<path fill="none" stroke="#000000" d="M1015.9668,-965C1240.3141,-965 1477.4072,-1073.0545 1634.2727,-1161.7798"/>
<polygon fill="#000000" stroke="#000000" points="1632.66,-1164.889 1643.0829,-1166.7903 1636.1206,-1158.8042 1632.66,-1164.889"/>
</g>
<!-- SnapshotList -->
<g id="node12" class="node">
<title>SnapshotList</title>
<polygon fill="none" stroke="#000000" points="1242.1836,-17 1242.1836,-61 1372.8906,-61 1372.8906,-17 1242.1836,-17"/>
<text text-anchor="middle" x="1307.5371" y="-45.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotList</text>
<polyline fill="none" stroke="#000000" points="1242.1836,-39 1372.8906,-39 "/>
<text text-anchor="start" x="1250.1836" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000">SnapshotImpl head_</text>
</g>
<!-- DBImpl&#45;&gt;SnapshotList -->
<g id="edge15" class="edge">
<title>DBImpl:SnapshotList&#45;&gt;SnapshotList</title>
<path fill="none" stroke="#000000" d="M1015.9668,-723C1088.6325,-723 1002.2979,-123.0407 1051.9668,-70 1096.7096,-22.2198 1173.9046,-18.9632 1231.7762,-24.9249"/>
<polygon fill="#000000" stroke="#000000" points="1231.6474,-28.4328 1241.9801,-26.0907 1232.4421,-21.4781 1231.6474,-28.4328"/>
</g>
<!-- VersionSet -->
<g id="node13" class="node">
<title>VersionSet</title>
<polygon fill="none" stroke="#000000" points="1155.0903,-381 1155.0903,-733 1459.9839,-733 1459.9839,-381 1155.0903,-381"/>
<text text-anchor="middle" x="1307.5371" y="-717.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-711 1459.9839,-711 "/>
<text text-anchor="start" x="1163.0903" y="-695.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* const env_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-689 1459.9839,-689 "/>
<text text-anchor="start" x="1163.0903" y="-673.8" font-family="Times,serif" font-size="14.00" fill="#000000">const std::string dbname_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-667 1459.9839,-667 "/>
<text text-anchor="start" x="1163.0903" y="-651.8" font-family="Times,serif" font-size="14.00" fill="#000000">const Options* const options_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-645 1459.9839,-645 "/>
<text text-anchor="start" x="1163.0903" y="-629.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableCache* const table_cache_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-623 1459.9839,-623 "/>
<text text-anchor="start" x="1163.0903" y="-607.8" font-family="Times,serif" font-size="14.00" fill="#000000">const InternalKeyComparator icmp_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-601 1459.9839,-601 "/>
<text text-anchor="start" x="1163.0903" y="-585.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t next_file_number_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-579 1459.9839,-579 "/>
<text text-anchor="start" x="1163.0903" y="-563.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t manifest_file_number_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-557 1459.9839,-557 "/>
<text text-anchor="start" x="1163.0903" y="-541.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t last_sequence_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-535 1459.9839,-535 "/>
<text text-anchor="start" x="1163.0903" y="-519.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t log_number_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-513 1459.9839,-513 "/>
<text text-anchor="start" x="1163.0903" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t prev_log_number_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-491 1459.9839,-491 "/>
<text text-anchor="start" x="1163.0903" y="-475.8" font-family="Times,serif" font-size="14.00" fill="#000000">// Opened lazily WritableFile* descriptor_file_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-469 1459.9839,-469 "/>
<text text-anchor="start" x="1163.0903" y="-453.8" font-family="Times,serif" font-size="14.00" fill="#000000">log::Writer* descriptor_log_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-447 1459.9839,-447 "/>
<text text-anchor="start" x="1163.0903" y="-431.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version dummy_versions_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-425 1459.9839,-425 "/>
<text text-anchor="start" x="1163.0903" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version* current_;</text>
<polyline fill="none" stroke="#000000" points="1155.0903,-403 1459.9839,-403 "/>
<text text-anchor="start" x="1163.0903" y="-387.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::string compact_pointer_[config::kNumLevels];</text>
</g>
<!-- DBImpl&#45;&gt;VersionSet -->
<g id="edge16" class="edge">
<title>DBImpl:VersionSet&#45;&gt;VersionSet</title>
<path fill="none" stroke="#000000" d="M1015.9668,-657C1059.1597,-657 1104.0999,-647.0596 1145.392,-633.4468"/>
<polygon fill="#000000" stroke="#000000" points="1146.6237,-636.725 1154.9723,-630.2018 1144.378,-630.095 1146.6237,-636.725"/>
</g>
<!-- SkipList -->
<g id="node17" class="node">
<title>SkipList</title>
<polygon fill="none" stroke="#000000" points="1845.8273,-243 1781.9139,-243 1781.9139,-207 1845.8273,-207 1845.8273,-243"/>
<text text-anchor="middle" x="1813.8706" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipList</text>
</g>
<!-- MemTable&#45;&gt;SkipList -->
<g id="edge21" class="edge">
<title>MemTable:Table&#45;&gt;SkipList</title>
<path fill="none" stroke="#000000" d="M1563.1074,-219C1636.4913,-219 1721.9205,-221.5998 1771.7398,-223.3767"/>
<polygon fill="#000000" stroke="#000000" points="1771.6927,-226.8772 1781.813,-223.7422 1771.9465,-219.8818 1771.6927,-226.8772"/>
</g>
<!-- TableCache&#45;&gt;Options -->
<g id="edge24" class="edge">
<title>TableCache:options&#45;&gt;Options</title>
<path fill="none" stroke="#000000" d="M2028.6338,-1200C2081.8874,-1200 2031.1484,-1391.2405 2056.6338,-1438 2087.8282,-1495.2341 2137.741,-1544.6735 2188.3145,-1584.2793"/>
<polygon fill="#000000" stroke="#000000" points="2186.3805,-1587.208 2196.4341,-1590.551 2190.6596,-1581.6682 2186.3805,-1587.208"/>
</g>
<!-- TableCache&#45;&gt;Env -->
<g id="edge23" class="edge">
<title>TableCache:env&#45;&gt;Env</title>
<path fill="none" stroke="#000000" d="M2028.6338,-1244C2092.9601,-1244 2010.0904,-1341.5974 2056.6338,-1386 2253.41,-1573.7254 2412.8405,-1366.7403 2661.8867,-1476 2670.9463,-1479.9746 2679.9625,-1484.2762 2688.9134,-1488.8577"/>
<polygon fill="#000000" stroke="#000000" points="2687.3589,-1491.9945 2697.8418,-1493.5308 2690.605,-1485.7926 2687.3589,-1491.9945"/>
</g>
<!-- Table -->
<g id="node18" class="node">
<title>Table</title>
<polygon fill="#f38181" stroke="#000000" points="2064.6338,-786.4001 2064.6338,-1073.5999 2661.8867,-1073.5999 2661.8867,-786.4001 2064.6338,-786.4001"/>
<text text-anchor="middle" x="2363.2603" y="-1058.3999" font-family="Times,serif" font-size="14.00" fill="#000000">Table</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-1051.5999 2661.8867,-1051.5999 "/>
<text text-anchor="start" x="2072.6338" y="-1036.3999" font-family="Times,serif" font-size="14.00" fill="#000000">有序map，字符串到字符串的映射</text>
<text text-anchor="start" x="2072.6338" y="-1016.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 不可变的，持久化的，线程安全的</text>
<text text-anchor="start" x="2072.6338" y="-997.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> static Status Open(const Options&amp; options, RandomAccessFile* file, uint64_t file_size, Table** table);</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-990.4001 2661.8867,-990.4001 "/>
<text text-anchor="start" x="2072.6338" y="-975.2001" font-family="Times,serif" font-size="14.00" fill="#000000">Iterator* NewIterator(const ReadOptions&amp;) const;</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-968.4001 2661.8867,-968.4001 "/>
<text text-anchor="start" x="2072.6338" y="-953.2001" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t ApproximateOffsetOf(const Slice&amp; key) const;</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-946.4001 2661.8867,-946.4001 "/>
<text text-anchor="start" x="2072.6338" y="-931.2001" font-family="Times,serif" font-size="14.00" fill="#000000">static Iterator* BlockReader(void*, const ReadOptions&amp;, const Slice&amp;);</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-924.4001 2661.8867,-924.4001 "/>
<text text-anchor="start" x="2072.6338" y="-909.2001" font-family="Times,serif" font-size="14.00" fill="#000000">explicit Table(Rep* rep) </text>
<polyline fill="none" stroke="#000000" points="2064.6338,-902.4001 2661.8867,-902.4001 "/>
<text text-anchor="start" x="2072.6338" y="-887.2001" font-family="Times,serif" font-size="14.00" fill="#000000">Status InternalGet(const ReadOptions&amp;, const Slice&amp; key, void* arg,</text>
<text text-anchor="start" x="2072.6338" y="-873.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> void (*handle_result)(void* arg, const Slice&amp; k,</text>
<text text-anchor="start" x="2072.6338" y="-859.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> const Slice&amp; v));</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-852.4001 2661.8867,-852.4001 "/>
<text text-anchor="start" x="2072.6338" y="-837.2001" font-family="Times,serif" font-size="14.00" fill="#000000">void ReadMeta(const Footer&amp; footer);</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-830.4001 2661.8867,-830.4001 "/>
<text text-anchor="start" x="2072.6338" y="-815.2001" font-family="Times,serif" font-size="14.00" fill="#000000">void ReadFilter(const Slice&amp; filter_handle_value);</text>
<polyline fill="none" stroke="#000000" points="2064.6338,-808.4001 2661.8867,-808.4001 "/>
<text text-anchor="start" x="2072.6338" y="-793.2001" font-family="Times,serif" font-size="14.00" fill="#000000">Rep* const rep_;</text>
</g>
<!-- TableCache&#45;&gt;Table -->
<g id="edge22" class="edge">
<title>TableCache&#45;&gt;Table</title>
<path fill="none" stroke="#000000" d="M1986.9468,-1166.9983C2031.2132,-1139.1199 2079.5779,-1108.6602 2126.4431,-1079.145"/>
<polygon fill="#000000" stroke="#000000" points="2128.5786,-1081.9365 2135.1751,-1073.6457 2124.8482,-1076.0133 2128.5786,-1081.9365"/>
</g>
<!-- Cache -->
<g id="node19" class="node">
<title>Cache</title>
<polygon fill="none" stroke="#000000" points="2165.3442,-1157 2165.3442,-1377 2561.1763,-1377 2561.1763,-1157 2165.3442,-1157"/>
<text text-anchor="middle" x="2363.2603" y="-1361.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cache</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1355 2561.1763,-1355 "/>
<text text-anchor="start" x="2173.3442" y="-1339.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Handle* Insert(const Slice&amp; key, void* value, size_t charge)</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1333 2561.1763,-1333 "/>
<text text-anchor="start" x="2173.3442" y="-1317.8" font-family="Times,serif" font-size="14.00" fill="#000000">void (*deleter)(const Slice&amp; key, void* value)) = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1311 2561.1763,-1311 "/>
<text text-anchor="start" x="2173.3442" y="-1295.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Handle* Lookup(const Slice&amp; key) = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1289 2561.1763,-1289 "/>
<text text-anchor="start" x="2173.3442" y="-1273.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Release(Handle* handle) = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1267 2561.1763,-1267 "/>
<text text-anchor="start" x="2173.3442" y="-1251.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void* Value(Handle* handle) = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1245 2561.1763,-1245 "/>
<text text-anchor="start" x="2173.3442" y="-1229.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Erase(const Slice&amp; key) = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1223 2561.1763,-1223 "/>
<text text-anchor="start" x="2173.3442" y="-1207.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual uint64_t NewId() = 0;</text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1201 2561.1763,-1201 "/>
<text text-anchor="start" x="2173.3442" y="-1185.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void Prune() </text>
<polyline fill="none" stroke="#000000" points="2165.3442,-1179 2561.1763,-1179 "/>
<text text-anchor="start" x="2173.3442" y="-1163.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual size_t TotalCharge() const = 0;</text>
</g>
<!-- TableCache&#45;&gt;Cache -->
<g id="edge25" class="edge">
<title>TableCache:cache&#45;&gt;Cache</title>
<path fill="none" stroke="#000000" d="M2028.6338,-1178C2070.2344,-1178 2113.7962,-1184.5035 2155.2191,-1193.9945"/>
<polygon fill="#000000" stroke="#000000" points="2154.6019,-1197.4449 2165.1382,-1196.3329 2156.2082,-1190.6317 2154.6019,-1197.4449"/>
</g>
<!-- SnapshotList&#45;&gt;SnapshotImpl -->
<g id="edge40" class="edge">
<title>SnapshotList:SnapshotImpl&#45;&gt;SnapshotImpl</title>
<path fill="none" stroke="#000000" d="M1372.5371,-28C1473.4101,-28 1586.6711,-39.0082 1673.1972,-49.7531"/>
<polygon fill="#000000" stroke="#000000" points="1672.9886,-53.2543 1683.3468,-51.0275 1673.8607,-46.3088 1672.9886,-53.2543"/>
</g>
<!-- VersionSet&#45;&gt;TableCache -->
<g id="edge42" class="edge">
<title>VersionSet:TableCache&#45;&gt;TableCache</title>
<path fill="none" stroke="#000000" d="M1459.5371,-634C1518.6522,-634 1678.5124,-971.9583 1761.8086,-1157.4673"/>
<polygon fill="#000000" stroke="#000000" points="1758.6763,-1159.0365 1765.9608,-1166.7298 1765.0639,-1156.173 1758.6763,-1159.0365"/>
</g>
<!-- Version -->
<g id="node33" class="node">
<title>Version</title>
<polygon fill="none" stroke="#000000" points="1645.3662,-381 1645.3662,-601 1982.375,-601 1982.375,-381 1645.3662,-381"/>
<text text-anchor="middle" x="1813.8706" y="-585.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-579 1982.375,-579 "/>
<text text-anchor="start" x="1653.3662" y="-563.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet* vset</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-557 1982.375,-557 "/>
<text text-anchor="start" x="1653.3662" y="-541.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version* next_</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-535 1982.375,-535 "/>
<text text-anchor="start" x="1653.3662" y="-519.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version* prev_</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-513 1982.375,-513 "/>
<text text-anchor="start" x="1653.3662" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000">int refs_</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-491 1982.375,-491 "/>
<text text-anchor="start" x="1653.3662" y="-475.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::vector&lt;FileMetaData*&gt; files_[config::kNumLevels];</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-469 1982.375,-469 "/>
<text text-anchor="start" x="1653.3662" y="-453.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileMetaData* file_to_compact_;</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-447 1982.375,-447 "/>
<text text-anchor="start" x="1653.3662" y="-431.8" font-family="Times,serif" font-size="14.00" fill="#000000">int file_to_compact_level_;</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-425 1982.375,-425 "/>
<text text-anchor="start" x="1653.3662" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#000000">double compaction_score_;</text>
<polyline fill="none" stroke="#000000" points="1645.3662,-403 1982.375,-403 "/>
<text text-anchor="start" x="1653.3662" y="-387.8" font-family="Times,serif" font-size="14.00" fill="#000000">int compaction_level_;</text>
</g>
<!-- VersionSet&#45;&gt;Version -->
<g id="edge43" class="edge">
<title>VersionSet:Version&#45;&gt;Version</title>
<path fill="none" stroke="#000000" d="M1459.5371,-414C1517.4388,-414 1579.4738,-423.9397 1635.1976,-436.6767"/>
<polygon fill="#000000" stroke="#000000" points="1634.6308,-440.1384 1645.1643,-438.9997 1636.2198,-433.3211 1634.6308,-440.1384"/>
</g>
<!-- Table_Rep -->
<g id="node24" class="node">
<title>Table_Rep</title>
<polygon fill="none" stroke="#000000" points="2881.4863,-787 2881.4863,-985 3081.373,-985 3081.373,-787 2881.4863,-787"/>
<text text-anchor="middle" x="2981.4297" y="-969.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rep</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-963 3081.373,-963 "/>
<text text-anchor="start" x="2889.4863" y="-947.8" font-family="Times,serif" font-size="14.00" fill="#000000">Options options;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-941 3081.373,-941 "/>
<text text-anchor="start" x="2889.4863" y="-925.8" font-family="Times,serif" font-size="14.00" fill="#000000">Status status;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-919 3081.373,-919 "/>
<text text-anchor="start" x="2889.4863" y="-903.8" font-family="Times,serif" font-size="14.00" fill="#000000">RandomAccessFile* file;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-897 3081.373,-897 "/>
<text text-anchor="start" x="2889.4863" y="-881.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t cache_id;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-875 3081.373,-875 "/>
<text text-anchor="start" x="2889.4863" y="-859.8" font-family="Times,serif" font-size="14.00" fill="#000000">FilterBlockReader* filter;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-853 3081.373,-853 "/>
<text text-anchor="start" x="2889.4863" y="-837.8" font-family="Times,serif" font-size="14.00" fill="#000000">const char* filter_data;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-831 3081.373,-831 "/>
<text text-anchor="start" x="2889.4863" y="-815.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockHandle metaindex_handle;</text>
<polyline fill="none" stroke="#000000" points="2881.4863,-809 3081.373,-809 "/>
<text text-anchor="start" x="2889.4863" y="-793.8" font-family="Times,serif" font-size="14.00" fill="#000000">Block* index_block;</text>
</g>
<!-- Table&#45;&gt;Table_Rep -->
<g id="edge31" class="edge">
<title>Table:Rep&#45;&gt;Table_Rep</title>
<path fill="none" stroke="#000000" d="M2661.8867,-797C2733.4958,-797 2810.931,-817.9984 2871.6372,-839.5959"/>
<polygon fill="#000000" stroke="#000000" points="2870.6388,-842.9566 2881.2331,-843.0642 2873.0182,-836.3734 2870.6388,-842.9566"/>
</g>
<!-- Footer -->
<g id="node25" class="node">
<title>Footer</title>
<polygon fill="none" stroke="#000000" points="2883.4312,-667 2883.4312,-733 3079.4282,-733 3079.4282,-667 2883.4312,-667"/>
<text text-anchor="middle" x="2981.4297" y="-717.8" font-family="Times,serif" font-size="14.00" fill="#000000">Footer</text>
<polyline fill="none" stroke="#000000" points="2883.4312,-711 3079.4282,-711 "/>
<text text-anchor="start" x="2891.4312" y="-695.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockHandle metaindex_handle</text>
<polyline fill="none" stroke="#000000" points="2883.4312,-689 3079.4282,-689 "/>
<text text-anchor="start" x="2891.4312" y="-673.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockHandle index_handle</text>
</g>
<!-- Table&#45;&gt;Footer -->
<g id="edge32" class="edge">
<title>Table:ReadMeta&#45;&gt;Footer</title>
<path fill="none" stroke="#000000" d="M2661.8867,-841C2694.1602,-841 2665.4488,-795.08 2689.8867,-774 2740.3488,-730.4718 2812.9502,-711.9521 2873.0776,-704.3242"/>
<polygon fill="#000000" stroke="#000000" points="2873.8607,-707.7562 2883.381,-703.107 2873.0394,-700.8045 2873.8607,-707.7562"/>
</g>
<!-- BlockContents -->
<g id="node26" class="node">
<title>BlockContents</title>
<polygon fill="none" stroke="#000000" points="2917.2588,-560 2917.2588,-648 3045.6006,-648 3045.6006,-560 2917.2588,-560"/>
<text text-anchor="middle" x="2981.4297" y="-632.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockContents</text>
<polyline fill="none" stroke="#000000" points="2917.2588,-626 3045.6006,-626 "/>
<text text-anchor="start" x="2925.2588" y="-610.8" font-family="Times,serif" font-size="14.00" fill="#000000">Slice data</text>
<polyline fill="none" stroke="#000000" points="2917.2588,-604 3045.6006,-604 "/>
<text text-anchor="start" x="2925.2588" y="-588.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool cachable;</text>
<polyline fill="none" stroke="#000000" points="2917.2588,-582 3045.6006,-582 "/>
<text text-anchor="start" x="2925.2588" y="-566.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool heap_allocated</text>
</g>
<!-- Table&#45;&gt;BlockContents -->
<g id="edge33" class="edge">
<title>Table:ReadMeta&#45;&gt;BlockContents</title>
<path fill="none" stroke="#000000" d="M2661.8867,-841C2703.2463,-841 2661.0654,-686.6639 2689.8867,-657 2745.4675,-599.7943 2840.6596,-592.4398 2907.0973,-595.5361"/>
<polygon fill="#000000" stroke="#000000" points="2906.9139,-599.0312 2917.0924,-596.0902 2907.3015,-592.0419 2906.9139,-599.0312"/>
</g>
<!-- ShardedLRUCache -->
<g id="node20" class="node">
<title>ShardedLRUCache</title>
<polygon fill="none" stroke="#000000" points="2880.3105,-1212 2880.3105,-1322 3082.5488,-1322 3082.5488,-1212 2880.3105,-1212"/>
<text text-anchor="middle" x="2981.4297" y="-1306.8" font-family="Times,serif" font-size="14.00" fill="#000000">ShardedLRUCache</text>
<polyline fill="none" stroke="#000000" points="2880.3105,-1300 3082.5488,-1300 "/>
<text text-anchor="start" x="2888.3105" y="-1284.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUCache shard_[kNumShards]</text>
<polyline fill="none" stroke="#000000" points="2880.3105,-1278 3082.5488,-1278 "/>
<text text-anchor="start" x="2888.3105" y="-1262.8" font-family="Times,serif" font-size="14.00" fill="#000000">port::Mutex id_mutex_;</text>
<polyline fill="none" stroke="#000000" points="2880.3105,-1256 3082.5488,-1256 "/>
<text text-anchor="start" x="2888.3105" y="-1240.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t last_id_;</text>
<polyline fill="none" stroke="#000000" points="2880.3105,-1234 3082.5488,-1234 "/>
<text text-anchor="middle" x="2981.4297" y="-1218.8" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- Cache&#45;&gt;ShardedLRUCache -->
<g id="edge26" class="edge">
<title>Cache&#45;&gt;ShardedLRUCache</title>
<path fill="none" stroke="#000000" d="M2561.4037,-1267C2663.4831,-1267 2784.1769,-1267 2869.9315,-1267"/>
<polygon fill="#000000" stroke="#000000" points="2869.95,-1270.5001 2879.9499,-1267 2869.9499,-1263.5001 2869.95,-1270.5001"/>
</g>
<!-- LRUCache -->
<g id="node21" class="node">
<title>LRUCache</title>
<polygon fill="none" stroke="#000000" points="3398.6753,-1212 3398.6753,-1366 3683.7515,-1366 3683.7515,-1212 3398.6753,-1212"/>
<text text-anchor="middle" x="3541.2134" y="-1350.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUCache</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1344 3683.7515,-1344 "/>
<text text-anchor="start" x="3406.6753" y="-1328.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t capacity_;</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1322 3683.7515,-1322 "/>
<text text-anchor="start" x="3406.6753" y="-1306.8" font-family="Times,serif" font-size="14.00" fill="#000000">mutable port::Mutex mutex_;</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1300 3683.7515,-1300 "/>
<text text-anchor="start" x="3406.6753" y="-1284.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t usage_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1278 3683.7515,-1278 "/>
<text text-anchor="start" x="3406.6753" y="-1262.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle lru_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1256 3683.7515,-1256 "/>
<text text-anchor="start" x="3406.6753" y="-1240.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle in_use_ GUARDED_BY(mutex_);</text>
<polyline fill="none" stroke="#000000" points="3398.6753,-1234 3683.7515,-1234 "/>
<text text-anchor="start" x="3406.6753" y="-1218.8" font-family="Times,serif" font-size="14.00" fill="#000000">HandleTable table_ GUARDED_BY(mutex_);</text>
</g>
<!-- ShardedLRUCache&#45;&gt;LRUCache -->
<g id="edge27" class="edge">
<title>ShardedLRUCache:LRUCache&#45;&gt;LRUCache</title>
<path fill="none" stroke="#000000" d="M3082.4297,-1289C3184.433,-1289 3299.1931,-1289 3388.4202,-1289"/>
<polygon fill="#000000" stroke="#000000" points="3388.6206,-1292.5001 3398.6206,-1289 3388.6205,-1285.5001 3388.6206,-1292.5001"/>
</g>
<!-- HandleTable -->
<g id="node22" class="node">
<title>HandleTable</title>
<polygon fill="none" stroke="#000000" points="3972.9683,-1180 3972.9683,-1268 4102.9028,-1268 4102.9028,-1180 3972.9683,-1180"/>
<text text-anchor="middle" x="4037.9355" y="-1252.8" font-family="Times,serif" font-size="14.00" fill="#000000">HandleTable</text>
<polyline fill="none" stroke="#000000" points="3972.9683,-1246 4102.9028,-1246 "/>
<text text-anchor="start" x="3980.9683" y="-1230.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t length_;</text>
<polyline fill="none" stroke="#000000" points="3972.9683,-1224 4102.9028,-1224 "/>
<text text-anchor="start" x="3980.9683" y="-1208.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t elems_;</text>
<polyline fill="none" stroke="#000000" points="3972.9683,-1202 4102.9028,-1202 "/>
<text text-anchor="start" x="3980.9683" y="-1186.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle** list_;</text>
</g>
<!-- LRUCache&#45;&gt;HandleTable -->
<g id="edge28" class="edge">
<title>LRUCache:HandleTable&#45;&gt;HandleTable</title>
<path fill="none" stroke="#000000" d="M3684.2134,-1223C3780.2054,-1223 3890.85,-1223.3728 3962.4652,-1223.6632"/>
<polygon fill="#000000" stroke="#000000" points="3962.7274,-1227.1642 3972.7417,-1223.7054 3962.7562,-1220.1643 3962.7274,-1227.1642"/>
</g>
<!-- LRUHandle -->
<g id="node23" class="node">
<title>LRUHandle</title>
<polygon fill="none" stroke="#000000" points="4294.417,-1155 4294.417,-1397 4624.166,-1397 4624.166,-1155 4294.417,-1155"/>
<text text-anchor="middle" x="4459.2915" y="-1381.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1375 4624.166,-1375 "/>
<text text-anchor="start" x="4302.417" y="-1359.8" font-family="Times,serif" font-size="14.00" fill="#000000">void* value; void (*deleter)(const Slice&amp;, void* value);</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1353 4624.166,-1353 "/>
<text text-anchor="start" x="4302.417" y="-1337.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle* next_hash;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1331 4624.166,-1331 "/>
<text text-anchor="start" x="4302.417" y="-1315.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle* next;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1309 4624.166,-1309 "/>
<text text-anchor="start" x="4302.417" y="-1293.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle* prev;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1287 4624.166,-1287 "/>
<text text-anchor="start" x="4302.417" y="-1271.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t charge; </text>
<polyline fill="none" stroke="#000000" points="4294.417,-1265 4624.166,-1265 "/>
<text text-anchor="start" x="4302.417" y="-1249.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t key_length;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1243 4624.166,-1243 "/>
<text text-anchor="start" x="4302.417" y="-1227.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool in_cache;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1221 4624.166,-1221 "/>
<text text-anchor="start" x="4302.417" y="-1205.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t refs;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1199 4624.166,-1199 "/>
<text text-anchor="start" x="4302.417" y="-1183.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t hash;</text>
<polyline fill="none" stroke="#000000" points="4294.417,-1177 4624.166,-1177 "/>
<text text-anchor="start" x="4302.417" y="-1161.8" font-family="Times,serif" font-size="14.00" fill="#000000">char key_data[1];</text>
</g>
<!-- LRUCache&#45;&gt;LRUHandle -->
<g id="edge29" class="edge">
<title>LRUCache&#45;&gt;LRUHandle</title>
<path fill="none" stroke="#000000" d="M3683.9074,-1286.9795C3845.7664,-1284.6875 4109.7837,-1280.949 4284.0308,-1278.4817"/>
<polygon fill="#000000" stroke="#000000" points="4284.1263,-1281.9808 4294.0757,-1278.3395 4284.0271,-1274.9815 4284.1263,-1281.9808"/>
</g>
<!-- HandleTable&#45;&gt;LRUHandle -->
<g id="edge30" class="edge">
<title>HandleTable:LRUHandle&#45;&gt;LRUHandle</title>
<path fill="none" stroke="#000000" d="M4102.9355,-1191C4162.9099,-1191 4227.0507,-1202.5323 4284.1515,-1217.1013"/>
<polygon fill="#000000" stroke="#000000" points="4283.4298,-1220.5299 4293.9888,-1219.6586 4285.1911,-1213.7551 4283.4298,-1220.5299"/>
</g>
<!-- FilterBlockReader -->
<g id="node27" class="node">
<title>FilterBlockReader</title>
<polygon fill="none" stroke="#000000" points="3338.4814,-779 3338.4814,-955 3743.9453,-955 3743.9453,-779 3338.4814,-779"/>
<text text-anchor="middle" x="3541.2134" y="-939.8" font-family="Times,serif" font-size="14.00" fill="#000000">FilterBlockReader</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-933 3743.9453,-933 "/>
<text text-anchor="start" x="3346.4814" y="-917.8" font-family="Times,serif" font-size="14.00" fill="#000000">FilterBlockReader(const FilterPolicy* policy, const Slice&amp; contents);</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-911 3743.9453,-911 "/>
<text text-anchor="start" x="3346.4814" y="-895.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool KeyMayMatch(uint64_t block_offset, const Slice&amp; key);</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-889 3743.9453,-889 "/>
<text text-anchor="start" x="3346.4814" y="-873.8" font-family="Times,serif" font-size="14.00" fill="#000000">const FilterPolicy* policy_;</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-867 3743.9453,-867 "/>
<text text-anchor="start" x="3346.4814" y="-851.8" font-family="Times,serif" font-size="14.00" fill="#000000">const char* data_;</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-845 3743.9453,-845 "/>
<text text-anchor="start" x="3346.4814" y="-829.8" font-family="Times,serif" font-size="14.00" fill="#000000">const char* offset_;</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-823 3743.9453,-823 "/>
<text text-anchor="start" x="3346.4814" y="-807.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t num_;</text>
<polyline fill="none" stroke="#000000" points="3338.4814,-801 3743.9453,-801 "/>
<text text-anchor="start" x="3346.4814" y="-785.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t base_lg_</text>
</g>
<!-- Table_Rep&#45;&gt;FilterBlockReader -->
<g id="edge34" class="edge">
<title>Table_Rep:FilterBlockReader&#45;&gt;FilterBlockReader</title>
<path fill="none" stroke="#000000" d="M3081.4297,-864C3161.9312,-864 3250.3593,-864.4656 3327.9762,-865.0299"/>
<polygon fill="#000000" stroke="#000000" points="3328.3381,-868.5325 3338.3637,-865.1064 3328.3898,-861.5327 3328.3381,-868.5325"/>
</g>
<!-- Block -->
<g id="node28" class="node">
<title>Block</title>
<polygon fill="none" stroke="#000000" points="3464.1294,-494 3464.1294,-604 3618.2974,-604 3618.2974,-494 3464.1294,-494"/>
<text text-anchor="middle" x="3541.2134" y="-588.8" font-family="Times,serif" font-size="14.00" fill="#000000">Block</text>
<polyline fill="none" stroke="#000000" points="3464.1294,-582 3618.2974,-582 "/>
<text text-anchor="start" x="3472.1294" y="-566.8" font-family="Times,serif" font-size="14.00" fill="#000000">const char* data_;</text>
<polyline fill="none" stroke="#000000" points="3464.1294,-560 3618.2974,-560 "/>
<text text-anchor="start" x="3472.1294" y="-544.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t size_;</text>
<polyline fill="none" stroke="#000000" points="3464.1294,-538 3618.2974,-538 "/>
<text text-anchor="start" x="3472.1294" y="-522.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t restart_offset_; </text>
<polyline fill="none" stroke="#000000" points="3464.1294,-516 3618.2974,-516 "/>
<text text-anchor="start" x="3472.1294" y="-500.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool owned_;</text>
</g>
<!-- Table_Rep&#45;&gt;Block -->
<g id="edge35" class="edge">
<title>Table_Rep:Block&#45;&gt;Block</title>
<path fill="none" stroke="#000000" d="M3081.4297,-798C3163.6988,-798 3204.2427,-829.4984 3264.9727,-774 3319.0984,-724.5369 3250.1828,-665.8828 3300.9727,-613 3340.2848,-572.068 3402.5892,-556.2993 3453.8973,-550.6433"/>
<polygon fill="#000000" stroke="#000000" points="3454.396,-554.1111 3464.0023,-549.6425 3453.706,-547.1452 3454.396,-554.1111"/>
</g>
<!-- BlockHandle -->
<g id="node29" class="node">
<title>BlockHandle</title>
<polygon fill="none" stroke="#000000" points="3426.1865,-623 3426.1865,-733 3656.2402,-733 3656.2402,-623 3426.1865,-623"/>
<text text-anchor="middle" x="3541.2134" y="-717.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockHandle</text>
<polyline fill="none" stroke="#000000" points="3426.1865,-711 3656.2402,-711 "/>
<text text-anchor="start" x="3434.1865" y="-695.8" font-family="Times,serif" font-size="14.00" fill="#000000">void EncodeTo(std::string* dst) const;</text>
<polyline fill="none" stroke="#000000" points="3426.1865,-689 3656.2402,-689 "/>
<text text-anchor="start" x="3434.1865" y="-673.8" font-family="Times,serif" font-size="14.00" fill="#000000">Status DecodeFrom(Slice* input);</text>
<polyline fill="none" stroke="#000000" points="3426.1865,-667 3656.2402,-667 "/>
<text text-anchor="start" x="3434.1865" y="-651.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t offset_;</text>
<polyline fill="none" stroke="#000000" points="3426.1865,-645 3656.2402,-645 "/>
<text text-anchor="start" x="3434.1865" y="-629.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t size_;</text>
</g>
<!-- Table_Rep&#45;&gt;BlockHandle -->
<g id="edge36" class="edge">
<title>Table_Rep:BlockHandle&#45;&gt;BlockHandle</title>
<path fill="none" stroke="#000000" d="M3081.4297,-820C3146.7778,-820 3303.9586,-766.9719 3416.3315,-725.7261"/>
<polygon fill="#000000" stroke="#000000" points="3417.865,-728.8912 3426.0395,-722.1513 3415.4461,-722.3224 3417.865,-728.8912"/>
</g>
<!-- Footer&#45;&gt;BlockHandle -->
<g id="edge39" class="edge">
<title>Footer:BlockHandle&#45;&gt;BlockHandle</title>
<path fill="none" stroke="#000000" d="M3079.4297,-700C3193.4601,-700 3323.1502,-693.2241 3415.9976,-687.1932"/>
<polygon fill="#000000" stroke="#000000" points="3416.2482,-690.6844 3425.9977,-686.5373 3415.79,-683.6994 3416.2482,-690.6844"/>
</g>
<!-- FilterPolicy -->
<g id="node30" class="node">
<title>FilterPolicy</title>
<polygon fill="none" stroke="#000000" points="3817.4541,-834 3817.4541,-922 4258.417,-922 4258.417,-834 3817.4541,-834"/>
<text text-anchor="middle" x="4037.9355" y="-906.8" font-family="Times,serif" font-size="14.00" fill="#000000">FilterPolicy</text>
<polyline fill="none" stroke="#000000" points="3817.4541,-900 4258.417,-900 "/>
<text text-anchor="start" x="3825.4541" y="-884.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual const char* Name() const = 0;</text>
<polyline fill="none" stroke="#000000" points="3817.4541,-878 4258.417,-878 "/>
<text text-anchor="start" x="3825.4541" y="-862.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual void CreateFilter(const Slice* keys, int n, std::string* dst) const = 0;</text>
<polyline fill="none" stroke="#000000" points="3817.4541,-856 4258.417,-856 "/>
<text text-anchor="start" x="3825.4541" y="-840.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual bool KeyMayMatch(const Slice&amp; key, const Slice&amp; filter) const = 0;</text>
</g>
<!-- FilterBlockReader&#45;&gt;FilterPolicy -->
<g id="edge37" class="edge">
<title>FilterBlockReader:FilterPolicy&#45;&gt;FilterPolicy</title>
<path fill="none" stroke="#000000" d="M3744.2134,-878C3764.6835,-878 3785.956,-878 3807.276,-878"/>
<polygon fill="#000000" stroke="#000000" points="3807.406,-881.5001 3817.406,-878 3807.406,-874.5001 3807.406,-881.5001"/>
</g>
<!-- BloomFilterPolicy -->
<g id="node31" class="node">
<title>BloomFilterPolicy</title>
<polygon fill="none" stroke="#000000" points="4362.8379,-856 4362.8379,-900 4555.7451,-900 4555.7451,-856 4362.8379,-856"/>
<text text-anchor="middle" x="4459.2915" y="-884.8" font-family="Times,serif" font-size="14.00" fill="#000000">BloomFilterPolicy</text>
<polyline fill="none" stroke="#000000" points="4362.8379,-878 4555.7451,-878 "/>
<text text-anchor="middle" x="4459.2915" y="-862.8" font-family="Times,serif" font-size="14.00" fill="#000000">size_t bits_per_key_; size_t k_;</text>
</g>
<!-- FilterPolicy&#45;&gt;BloomFilterPolicy -->
<g id="edge38" class="edge">
<title>FilterPolicy&#45;&gt;BloomFilterPolicy</title>
<path fill="none" stroke="#000000" d="M4258.4858,-878C4291.2591,-878 4323.7131,-878 4352.6662,-878"/>
<polygon fill="#000000" stroke="#000000" points="4352.7561,-881.5001 4362.7561,-878 4352.756,-874.5001 4352.7561,-881.5001"/>
</g>
<!-- FileMetaData -->
<g id="node34" class="node">
<title>FileMetaData</title>
<polygon fill="none" stroke="#000000" points="2295.1963,-403 2295.1963,-557 2431.3242,-557 2431.3242,-403 2295.1963,-403"/>
<text text-anchor="middle" x="2363.2603" y="-541.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileMetaData</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-535 2431.3242,-535 "/>
<text text-anchor="start" x="2303.1963" y="-519.8" font-family="Times,serif" font-size="14.00" fill="#000000">int refs;</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-513 2431.3242,-513 "/>
<text text-anchor="start" x="2303.1963" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#000000">int allowed_seeks;</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-491 2431.3242,-491 "/>
<text text-anchor="start" x="2303.1963" y="-475.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t number;</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-469 2431.3242,-469 "/>
<text text-anchor="start" x="2303.1963" y="-453.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t file_size;</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-447 2431.3242,-447 "/>
<text text-anchor="start" x="2303.1963" y="-431.8" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey smallest;</text>
<polyline fill="none" stroke="#000000" points="2295.1963,-425 2431.3242,-425 "/>
<text text-anchor="start" x="2303.1963" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey largest;</text>
</g>
<!-- Version&#45;&gt;FileMetaData -->
<g id="edge44" class="edge">
<title>Version:FileMetaData&#45;&gt;FileMetaData</title>
<path fill="none" stroke="#000000" d="M1982.8706,-480C2087.3123,-480 2207.8842,-480 2284.7975,-480"/>
<polygon fill="#000000" stroke="#000000" points="2284.8879,-483.5001 2294.8878,-480 2284.8878,-476.5001 2284.8879,-483.5001"/>
</g>
</g>
</svg>
