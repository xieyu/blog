<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: pd_server_struct Pages: 1 -->
<svg width="4386pt" height="3878pt"
 viewBox="0.00 0.00 4386.00 3878.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 3874)">
<title>pd_server_struct</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-3874 4382,-3874 4382,4 -4,4"/>
<!-- Server -->
<g id="node1" class="node">
<title>Server</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M12,-1325.5C12,-1325.5 295,-1325.5 295,-1325.5 301,-1325.5 307,-1331.5 307,-1337.5 307,-1337.5 307,-1980.5 307,-1980.5 307,-1986.5 301,-1992.5 295,-1992.5 295,-1992.5 12,-1992.5 12,-1992.5 6,-1992.5 0,-1986.5 0,-1980.5 0,-1980.5 0,-1337.5 0,-1337.5 0,-1331.5 6,-1325.5 12,-1325.5"/>
<text text-anchor="middle" x="153.5" y="-1977.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Server</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1969.5 307,-1969.5 "/>
<text text-anchor="start" x="8" y="-1954.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">diagnosticspb.DiagnosticsServer</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1946.5 307,-1946.5 "/>
<text text-anchor="start" x="8" y="-1931.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">isServing int64</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1923.5 307,-1923.5 "/>
<text text-anchor="start" x="8" y="-1908.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startTimestamp int64</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1900.5 307,-1900.5 "/>
<text text-anchor="start" x="8" y="-1885.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cfg *config.Config</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1877.5 307,-1877.5 "/>
<text text-anchor="start" x="8" y="-1862.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">etcdCfg *embed.Config</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1854.5 307,-1854.5 "/>
<text text-anchor="start" x="8" y="-1839.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">persistOptions *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1831.5 307,-1831.5 "/>
<text text-anchor="start" x="8" y="-1816.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">handler *Handler</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1808.5 307,-1808.5 "/>
<text text-anchor="start" x="8" y="-1793.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1785.5 307,-1785.5 "/>
<text text-anchor="start" x="8" y="-1770.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">serverLoopCtx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1762.5 307,-1762.5 "/>
<text text-anchor="start" x="8" y="-1747.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">serverLoopCancel func()</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1739.5 307,-1739.5 "/>
<text text-anchor="start" x="8" y="-1724.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">serverLoopWg sync.WaitGroup</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1716.5 307,-1716.5 "/>
<text text-anchor="start" x="8" y="-1701.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">member *member.Member</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1693.5 307,-1693.5 "/>
<text text-anchor="start" x="8" y="-1678.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">client *clientv3.Client</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1670.5 307,-1670.5 "/>
<text text-anchor="start" x="8" y="-1655.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">httpClient *http.Client</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1647.5 307,-1647.5 "/>
<text text-anchor="start" x="8" y="-1632.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">clusterID uint64 // pd cluster id.</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1624.5 307,-1624.5 "/>
<text text-anchor="start" x="8" y="-1609.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">rootPath string</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1601.5 307,-1601.5 "/>
<text text-anchor="start" x="8" y="-1586.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">idAllocator id.Allocator</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1578.5 307,-1578.5 "/>
<text text-anchor="start" x="8" y="-1563.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">encryptionKeyManager *encryptionkm.KeyManager</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1555.5 307,-1555.5 "/>
<text text-anchor="start" x="8" y="-1540.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">storage *core.Storage</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1532.5 307,-1532.5 "/>
<text text-anchor="start" x="8" y="-1517.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">basicCluster *core.BasicCluster</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1509.5 307,-1509.5 "/>
<text text-anchor="start" x="8" y="-1494.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">tsoAllocatorManager *tso.AllocatorManager</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1486.5 307,-1486.5 "/>
<text text-anchor="start" x="8" y="-1471.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster *cluster.RaftCluster</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1463.5 307,-1463.5 "/>
<text text-anchor="start" x="8" y="-1448.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">hbStreams *hbstream.HeartbeatStreams</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1440.5 307,-1440.5 "/>
<text text-anchor="start" x="8" y="-1425.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">lg *zap.Logger</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1417.5 307,-1417.5 "/>
<text text-anchor="start" x="8" y="-1402.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">logProps *log.ZapProperties</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1394.5 307,-1394.5 "/>
<text text-anchor="start" x="8" y="-1379.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startCallbacks []func()</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1371.5 307,-1371.5 "/>
<text text-anchor="start" x="8" y="-1356.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">closeCallbacks []func()</text>
<polyline fill="none" stroke="#60b5ac" points="0,-1348.5 307,-1348.5 "/>
<text text-anchor="start" x="8" y="-1333.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">serviceSafePointLock sync.Mutex</text>
</g>
<!-- RaftCluster -->
<g id="node2" class="node">
<title>RaftCluster</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M355,-2367.5C355,-2367.5 591,-2367.5 591,-2367.5 597,-2367.5 603,-2373.5 603,-2379.5 603,-2379.5 603,-3022.5 603,-3022.5 603,-3028.5 597,-3034.5 591,-3034.5 591,-3034.5 355,-3034.5 355,-3034.5 349,-3034.5 343,-3028.5 343,-3022.5 343,-3022.5 343,-2379.5 343,-2379.5 343,-2373.5 349,-2367.5 355,-2367.5"/>
<text text-anchor="middle" x="473" y="-3019.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RaftCluster</text>
<polyline fill="none" stroke="#60b5ac" points="343,-3011.5 603,-3011.5 "/>
<text text-anchor="start" x="351" y="-2996.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2988.5 603,-2988.5 "/>
<text text-anchor="start" x="351" y="-2973.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2965.5 603,-2965.5 "/>
<text text-anchor="start" x="351" y="-2950.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">running bool</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2942.5 603,-2942.5 "/>
<text text-anchor="start" x="351" y="-2927.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">clusterID uint64</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2919.5 603,-2919.5 "/>
<text text-anchor="start" x="351" y="-2904.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">clusterRoot string</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2896.5 603,-2896.5 "/>
<text text-anchor="start" x="351" y="-2881.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">core *core.BasicCluster</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2873.5 603,-2873.5 "/>
<text text-anchor="start" x="351" y="-2858.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">meta *metapb.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2850.5 603,-2850.5 "/>
<text text-anchor="start" x="351" y="-2835.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opt *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2827.5 603,-2827.5 "/>
<text text-anchor="start" x="351" y="-2812.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">storage *core.Storage</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2804.5 603,-2804.5 "/>
<text text-anchor="start" x="351" y="-2789.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">id id.Allocator</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2781.5 603,-2781.5 "/>
<text text-anchor="start" x="351" y="-2766.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">limiter *StoreLimiter</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2758.5 603,-2758.5 "/>
<text text-anchor="start" x="351" y="-2743.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">prepareChecker *prepareChecker</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2735.5 603,-2735.5 "/>
<text text-anchor="start" x="351" y="-2720.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">changedRegions chan *core.RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2712.5 603,-2712.5 "/>
<text text-anchor="start" x="351" y="-2697.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">labelLevelStats *statistics.LabelStatistics</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2689.5 603,-2689.5 "/>
<text text-anchor="start" x="351" y="-2674.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionStats *statistics.RegionStatistics</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2666.5 603,-2666.5 "/>
<text text-anchor="start" x="351" y="-2651.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">hotStat *statistics.HotStat</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2643.5 603,-2643.5 "/>
<text text-anchor="start" x="351" y="-2628.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">coordinator *coordinator</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2620.5 603,-2620.5 "/>
<text text-anchor="start" x="351" y="-2605.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">suspectRegions *cache.TTLUint64</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2597.5 603,-2597.5 "/>
<text text-anchor="start" x="351" y="-2582.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">suspectKeyRanges *cache.TTLString</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2574.5 603,-2574.5 "/>
<text text-anchor="start" x="351" y="-2559.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">wg sync.WaitGroup</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2551.5 603,-2551.5 "/>
<text text-anchor="start" x="351" y="-2536.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">quit chan struct{}</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2528.5 603,-2528.5 "/>
<text text-anchor="start" x="351" y="-2513.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionSyncer *syncer.RegionSyncer</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2505.5 603,-2505.5 "/>
<text text-anchor="start" x="351" y="-2490.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleManager *placement.RuleManager</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2482.5 603,-2482.5 "/>
<text text-anchor="start" x="351" y="-2467.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">etcdClient *clientv3.Client</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2459.5 603,-2459.5 "/>
<text text-anchor="start" x="351" y="-2444.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">httpClient *http.Client</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2436.5 603,-2436.5 "/>
<text text-anchor="start" x="351" y="-2421.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">replicationMode *replication.ModeManager</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2413.5 603,-2413.5 "/>
<text text-anchor="start" x="351" y="-2398.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">traceRegionFlow bool</text>
<polyline fill="none" stroke="#60b5ac" points="343,-2390.5 603,-2390.5 "/>
<text text-anchor="middle" x="473" y="-2375.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">componentManager *component.Manager</text>
</g>
<!-- Server&#45;&gt;RaftCluster -->
<g id="edge1" class="edge">
<title>Server&#45;&gt;RaftCluster</title>
<path fill="none" stroke="#b83b5e" d="M256.16,-1992.64C291.67,-2109.18 331.58,-2240.14 367.33,-2357.48"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="364.07,-2358.79 370.33,-2367.34 370.77,-2356.75 364.07,-2358.79"/>
</g>
<!-- etcd_clientv3_Client -->
<g id="node3" class="node">
<title>etcd_clientv3_Client</title>
<path fill="none" stroke="#1c2123" d="M3271,-3679C3271,-3679 3166,-3679 3166,-3679 3160,-3679 3154,-3673 3154,-3667 3154,-3667 3154,-3655 3154,-3655 3154,-3649 3160,-3643 3166,-3643 3166,-3643 3271,-3643 3271,-3643 3277,-3643 3283,-3649 3283,-3655 3283,-3655 3283,-3667 3283,-3667 3283,-3673 3277,-3679 3271,-3679"/>
<text text-anchor="middle" x="3218.5" y="-3657.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">etcd_clientv3_Client</text>
</g>
<!-- Server&#45;&gt;etcd_clientv3_Client -->
<g id="edge2" class="edge">
<title>Server&#45;&gt;etcd_clientv3_Client</title>
<path fill="none" stroke="#b83b5e" d="M170.43,-1992.63C190.94,-2277.12 237.56,-2694.34 343,-3044 430.23,-3333.28 396.94,-3475.17 639,-3656 691.68,-3695.36 719.24,-3680 785,-3680 785,-3680 785,-3680 2552.5,-3680 2767.35,-3680 3021.09,-3669.97 3143.76,-3664.48"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="3143.95,-3667.98 3153.79,-3664.03 3143.64,-3660.98 3143.95,-3667.98"/>
</g>
<!-- Allocator -->
<g id="node4" class="node">
<title>Allocator</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M729.5,-3708.5C729.5,-3708.5 842.5,-3708.5 842.5,-3708.5 848.5,-3708.5 854.5,-3714.5 854.5,-3720.5 854.5,-3720.5 854.5,-3765.5 854.5,-3765.5 854.5,-3771.5 848.5,-3777.5 842.5,-3777.5 842.5,-3777.5 729.5,-3777.5 729.5,-3777.5 723.5,-3777.5 717.5,-3771.5 717.5,-3765.5 717.5,-3765.5 717.5,-3720.5 717.5,-3720.5 717.5,-3714.5 723.5,-3708.5 729.5,-3708.5"/>
<text text-anchor="middle" x="786" y="-3762.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">interface Allocator</text>
<polyline fill="none" stroke="#60b5ac" points="717.5,-3754.5 854.5,-3754.5 "/>
<text text-anchor="start" x="725.5" y="-3739.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Alloc() (uint64, error)</text>
<polyline fill="none" stroke="#60b5ac" points="717.5,-3731.5 854.5,-3731.5 "/>
<text text-anchor="start" x="725.5" y="-3716.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Rebase() error</text>
</g>
<!-- Server&#45;&gt;Allocator -->
<g id="edge3" class="edge">
<title>Server&#45;&gt;Allocator</title>
<path fill="none" stroke="#b83b5e" d="M162.73,-1992.65C179.51,-2538.84 226.46,-3575.34 343,-3694 437.27,-3789.99 608.02,-3778 707.43,-3760.56"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="708.2,-3763.98 717.42,-3758.75 706.95,-3757.09 708.2,-3763.98"/>
</g>
<!-- BasicCluster -->
<g id="node5" class="node">
<title>BasicCluster</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M729,-547C729,-547 843,-547 843,-547 849,-547 855,-553 855,-559 855,-559 855,-627 855,-627 855,-633 849,-639 843,-639 843,-639 729,-639 729,-639 723,-639 717,-633 717,-627 717,-627 717,-559 717,-559 717,-553 723,-547 729,-547"/>
<text text-anchor="middle" x="786" y="-623.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">BasicCluster</text>
<polyline fill="none" stroke="#60b5ac" points="717,-616 855,-616 "/>
<text text-anchor="start" x="725" y="-600.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="717,-593 855,-593 "/>
<text text-anchor="start" x="725" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Stores *StoresInfo</text>
<polyline fill="none" stroke="#60b5ac" points="717,-570 855,-570 "/>
<text text-anchor="start" x="725" y="-554.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Regions *RegionsInfo</text>
</g>
<!-- Server&#45;&gt;BasicCluster -->
<g id="edge4" class="edge">
<title>Server&#45;&gt;BasicCluster</title>
<path fill="none" stroke="#b83b5e" d="M175.73,-1325.25C199.31,-1069.36 247.45,-745.04 343,-654 440.09,-561.49 608,-566.2 706.55,-578.95"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="706.36,-582.46 716.74,-580.33 707.3,-575.52 706.36,-582.46"/>
</g>
<!-- AllocatorManager -->
<g id="node6" class="node">
<title>AllocatorManager</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M411,-479.5C411,-479.5 535,-479.5 535,-479.5 541,-479.5 547,-485.5 547,-491.5 547,-491.5 547,-528.5 547,-528.5 547,-534.5 541,-540.5 535,-540.5 535,-540.5 411,-540.5 411,-540.5 405,-540.5 399,-534.5 399,-528.5 399,-528.5 399,-491.5 399,-491.5 399,-485.5 405,-479.5 411,-479.5"/>
<text text-anchor="middle" x="473" y="-525.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">AllocatorManager</text>
<polyline fill="none" stroke="#60b5ac" points="399,-517.5 547,-517.5 "/>
<text text-anchor="start" x="407" y="-502.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">manage TSO Allocators</text>
<text text-anchor="start" x="407" y="-487.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> a PD server holds</text>
</g>
<!-- Server&#45;&gt;AllocatorManager -->
<g id="edge5" class="edge">
<title>Server&#45;&gt;AllocatorManager</title>
<path fill="none" stroke="#b83b5e" d="M185.16,-1325.43C214.71,-1060.26 266.31,-714.94 343,-597 356.4,-576.39 376.57,-559.44 397.01,-546.15"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="399.14,-548.95 405.77,-540.68 395.43,-543.01 399.14,-548.95"/>
</g>
<!-- HeartbeatStreams -->
<g id="node7" class="node">
<title>HeartbeatStreams</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2794,-1241C2794,-1241 3039,-1241 3039,-1241 3045,-1241 3051,-1247 3051,-1253 3051,-1253 3051,-1459 3051,-1459 3051,-1465 3045,-1471 3039,-1471 3039,-1471 2794,-1471 2794,-1471 2788,-1471 2782,-1465 2782,-1459 2782,-1459 2782,-1253 2782,-1253 2782,-1247 2788,-1241 2794,-1241"/>
<text text-anchor="middle" x="2916.5" y="-1455.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">HeartbeatStreams</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1448 3051,-1448 "/>
<text text-anchor="start" x="2790" y="-1432.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">wg sync.WaitGroup</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1425 3051,-1425 "/>
<text text-anchor="start" x="2790" y="-1409.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">hbStreamCtx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1402 3051,-1402 "/>
<text text-anchor="start" x="2790" y="-1386.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">hbStreamCancel context.CancelFunc</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1379 3051,-1379 "/>
<text text-anchor="start" x="2790" y="-1363.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">clusterID uint64</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1356 3051,-1356 "/>
<text text-anchor="start" x="2790" y="-1340.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">streams map[uint64]opt.HeartbeatStream</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1333 3051,-1333 "/>
<text text-anchor="start" x="2790" y="-1317.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">msgCh chan *pdpb.RegionHeartbeatResponse</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1310 3051,-1310 "/>
<text text-anchor="start" x="2790" y="-1294.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">streamCh chan streamUpdate</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1287 3051,-1287 "/>
<text text-anchor="start" x="2790" y="-1271.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">storeInformer core.StoreSetInformer</text>
<polyline fill="none" stroke="#60b5ac" points="2782,-1264 3051,-1264 "/>
<text text-anchor="start" x="2790" y="-1248.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">needRun bool </text>
</g>
<!-- Server&#45;&gt;HeartbeatStreams -->
<g id="edge6" class="edge">
<title>Server&#45;&gt;HeartbeatStreams</title>
<path fill="none" stroke="#b83b5e" d="M221.86,-1325.22C301.69,-1037.47 466.25,-668 785,-668 785,-668 785,-668 2168.5,-668 2427.38,-668 2550.65,-574.13 2746,-744 2818.93,-807.42 2871.47,-1071.03 2897.34,-1230.88"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="2893.89,-1231.46 2898.93,-1240.78 2900.8,-1230.35 2893.89,-1231.46"/>
</g>
<!-- RaftCluster&#45;&gt;etcd_clientv3_Client -->
<g id="edge7" class="edge">
<title>RaftCluster&#45;&gt;etcd_clientv3_Client</title>
<path fill="none" stroke="#3f72af" d="M490.57,-3034.66C509.76,-3266.31 550.94,-3546.54 639,-3623 726.82,-3699.25 1045.7,-3642 1162,-3642 1162,-3642 1162,-3642 2552.5,-3642 2767.35,-3642 3021.09,-3652.03 3143.76,-3657.52"/>
<polygon fill="#3f72af" stroke="#3f72af" points="3143.64,-3661.02 3153.79,-3657.97 3143.95,-3654.02 3143.64,-3661.02"/>
</g>
<!-- RaftCluster&#45;&gt;Allocator -->
<g id="edge8" class="edge">
<title>RaftCluster&#45;&gt;Allocator</title>
<path fill="none" stroke="#3f72af" d="M501.97,-3034.55C527.05,-3268.49 570.61,-3556.52 639,-3656 655.97,-3680.69 682.44,-3699.48 708.21,-3713.16"/>
<polygon fill="#3f72af" stroke="#3f72af" points="706.79,-3716.36 717.28,-3717.79 709.97,-3710.13 706.79,-3716.36"/>
</g>
<!-- RaftCluster&#45;&gt;BasicCluster -->
<g id="edge9" class="edge">
<title>RaftCluster&#45;&gt;BasicCluster</title>
<path fill="none" stroke="#3f72af" d="M496.75,-2367.21C521.06,-2056.78 566.26,-1582.26 639,-1175 673.92,-979.49 737.8,-752.39 768.14,-649.19"/>
<polygon fill="#3f72af" stroke="#3f72af" points="771.59,-649.88 771.06,-639.3 764.87,-647.9 771.59,-649.88"/>
</g>
<!-- metapb_Cluster -->
<g id="node8" class="node">
<title>metapb_Cluster</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M729.5,-3544.5C729.5,-3544.5 842.5,-3544.5 842.5,-3544.5 848.5,-3544.5 854.5,-3550.5 854.5,-3556.5 854.5,-3556.5 854.5,-3601.5 854.5,-3601.5 854.5,-3607.5 848.5,-3613.5 842.5,-3613.5 842.5,-3613.5 729.5,-3613.5 729.5,-3613.5 723.5,-3613.5 717.5,-3607.5 717.5,-3601.5 717.5,-3601.5 717.5,-3556.5 717.5,-3556.5 717.5,-3550.5 723.5,-3544.5 729.5,-3544.5"/>
<text text-anchor="middle" x="786" y="-3598.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">metapb.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="717.5,-3590.5 854.5,-3590.5 "/>
<text text-anchor="start" x="725.5" y="-3575.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">id uint64</text>
<polyline fill="none" stroke="#60b5ac" points="717.5,-3567.5 854.5,-3567.5 "/>
<text text-anchor="start" x="725.5" y="-3552.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MaxPeerCount uint32</text>
</g>
<!-- RaftCluster&#45;&gt;metapb_Cluster -->
<g id="edge10" class="edge">
<title>RaftCluster&#45;&gt;metapb_Cluster</title>
<path fill="none" stroke="#3f72af" d="M504.91,-3034.65C529.88,-3233.52 572.1,-3461.24 639,-3535 656.59,-3554.39 682.37,-3565.36 707.39,-3571.53"/>
<polygon fill="#3f72af" stroke="#3f72af" points="706.77,-3574.98 717.29,-3573.74 708.3,-3568.15 706.77,-3574.98"/>
</g>
<!-- config_PersistOptions -->
<g id="node9" class="node">
<title>config_PersistOptions</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1471.5,-2266C1471.5,-2266 1629.5,-2266 1629.5,-2266 1635.5,-2266 1641.5,-2272 1641.5,-2278 1641.5,-2278 1641.5,-2438 1641.5,-2438 1641.5,-2444 1635.5,-2450 1629.5,-2450 1629.5,-2450 1471.5,-2450 1471.5,-2450 1465.5,-2450 1459.5,-2444 1459.5,-2438 1459.5,-2438 1459.5,-2278 1459.5,-2278 1459.5,-2272 1465.5,-2266 1471.5,-2266"/>
<text text-anchor="middle" x="1550.5" y="-2434.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2427 1641.5,-2427 "/>
<text text-anchor="start" x="1467.5" y="-2411.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ttl *cache.TTLString</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2404 1641.5,-2404 "/>
<text text-anchor="start" x="1467.5" y="-2388.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">schedule atomic.Value</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2381 1641.5,-2381 "/>
<text text-anchor="start" x="1467.5" y="-2365.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">replication atomic.Value</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2358 1641.5,-2358 "/>
<text text-anchor="start" x="1467.5" y="-2342.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pdServerConfig atomic.Value</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2335 1641.5,-2335 "/>
<text text-anchor="start" x="1467.5" y="-2319.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">replicationMode atomic.Value</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2312 1641.5,-2312 "/>
<text text-anchor="start" x="1467.5" y="-2296.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">labelProperty atomic.Value</text>
<polyline fill="none" stroke="#60b5ac" points="1459.5,-2289 1641.5,-2289 "/>
<text text-anchor="start" x="1467.5" y="-2273.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">clusterVersion unsafe.Pointer</text>
</g>
<!-- RaftCluster&#45;&gt;config_PersistOptions -->
<g id="edge11" class="edge">
<title>RaftCluster&#45;&gt;config_PersistOptions</title>
<path fill="none" stroke="#3f72af" d="M603.2,-2491.45C614.41,-2481.52 626.34,-2472.57 639,-2465 897.81,-2310.28 1272.19,-2325.96 1449.36,-2344.57"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1449.14,-2348.06 1459.45,-2345.65 1449.89,-2341.1 1449.14,-2348.06"/>
</g>
<!-- Storage -->
<g id="node10" class="node">
<title>Storage</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2026,-2722.5C2026,-2722.5 2309,-2722.5 2309,-2722.5 2315,-2722.5 2321,-2728.5 2321,-2734.5 2321,-2734.5 2321,-2871.5 2321,-2871.5 2321,-2877.5 2315,-2883.5 2309,-2883.5 2309,-2883.5 2026,-2883.5 2026,-2883.5 2020,-2883.5 2014,-2877.5 2014,-2871.5 2014,-2871.5 2014,-2734.5 2014,-2734.5 2014,-2728.5 2020,-2722.5 2026,-2722.5"/>
<text text-anchor="middle" x="2167.5" y="-2868.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Storage</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2860.5 2321,-2860.5 "/>
<text text-anchor="start" x="2022" y="-2845.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">kv.Base</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2837.5 2321,-2837.5 "/>
<text text-anchor="start" x="2022" y="-2822.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionStorage *RegionStorage</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2814.5 2321,-2814.5 "/>
<text text-anchor="start" x="2022" y="-2799.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">encryptionKeyManager *encryptionkm.KeyManager</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2791.5 2321,-2791.5 "/>
<text text-anchor="start" x="2022" y="-2776.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">useRegionStorage int32</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2768.5 2321,-2768.5 "/>
<text text-anchor="start" x="2022" y="-2753.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionLoaded int32</text>
<polyline fill="none" stroke="#60b5ac" points="2014,-2745.5 2321,-2745.5 "/>
<text text-anchor="start" x="2022" y="-2730.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu sync.Mutex</text>
</g>
<!-- RaftCluster&#45;&gt;Storage -->
<g id="edge12" class="edge">
<title>RaftCluster&#45;&gt;Storage</title>
<path fill="none" stroke="#3f72af" d="M603.2,-2791.28C614.98,-2797.26 627.01,-2802.62 639,-2807 762.78,-2852.15 831.4,-2761.12 933,-2845 972.34,-2877.48 927.65,-2924.11 969,-2954 1102.09,-3050.21 1544.35,-2965.72 1708,-2952 1829.16,-2941.85 1863.17,-2947.96 1978,-2908 1993.97,-2902.44 2010.17,-2895.58 2026.02,-2888.05"/>
<polygon fill="#3f72af" stroke="#3f72af" points="2027.84,-2891.05 2035.31,-2883.54 2024.78,-2884.76 2027.84,-2891.05"/>
</g>
<!-- StoreLimiter -->
<g id="node11" class="node">
<title>StoreLimiter</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M666.5,-3387C666.5,-3387 905.5,-3387 905.5,-3387 911.5,-3387 917.5,-3393 917.5,-3399 917.5,-3399 917.5,-3513 917.5,-3513 917.5,-3519 911.5,-3525 905.5,-3525 905.5,-3525 666.5,-3525 666.5,-3525 660.5,-3525 654.5,-3519 654.5,-3513 654.5,-3513 654.5,-3399 654.5,-3399 654.5,-3393 660.5,-3387 666.5,-3387"/>
<text text-anchor="middle" x="786" y="-3509.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoreLimiter</text>
<polyline fill="none" stroke="#60b5ac" points="654.5,-3502 917.5,-3502 "/>
<text text-anchor="start" x="662.5" y="-3486.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">m sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="654.5,-3479 917.5,-3479 "/>
<text text-anchor="start" x="662.5" y="-3463.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">opt *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="654.5,-3456 917.5,-3456 "/>
<text text-anchor="start" x="662.5" y="-3440.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">scene map[storelimit.Type]*storelimit.Scene</text>
<polyline fill="none" stroke="#60b5ac" points="654.5,-3433 917.5,-3433 "/>
<text text-anchor="start" x="662.5" y="-3417.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">state *State</text>
<polyline fill="none" stroke="#60b5ac" points="654.5,-3410 917.5,-3410 "/>
<text text-anchor="start" x="662.5" y="-3394.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">current LoadState</text>
</g>
<!-- RaftCluster&#45;&gt;StoreLimiter -->
<g id="edge13" class="edge">
<title>RaftCluster&#45;&gt;StoreLimiter</title>
<path fill="none" stroke="#3f72af" d="M499.58,-3034.65C522.25,-3152.3 563.73,-3279.44 639,-3377 641.5,-3380.24 644.18,-3383.37 647,-3386.39"/>
<polygon fill="#3f72af" stroke="#3f72af" points="644.74,-3389.07 654.3,-3393.65 649.68,-3384.11 644.74,-3389.07"/>
</g>
<!-- prepareChecker -->
<g id="node12" class="node">
<title>prepareChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M703.5,-3252.5C703.5,-3252.5 868.5,-3252.5 868.5,-3252.5 874.5,-3252.5 880.5,-3258.5 880.5,-3264.5 880.5,-3264.5 880.5,-3355.5 880.5,-3355.5 880.5,-3361.5 874.5,-3367.5 868.5,-3367.5 868.5,-3367.5 703.5,-3367.5 703.5,-3367.5 697.5,-3367.5 691.5,-3361.5 691.5,-3355.5 691.5,-3355.5 691.5,-3264.5 691.5,-3264.5 691.5,-3258.5 697.5,-3252.5 703.5,-3252.5"/>
<text text-anchor="middle" x="786" y="-3352.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">prepareChecker</text>
<polyline fill="none" stroke="#60b5ac" points="691.5,-3344.5 880.5,-3344.5 "/>
<text text-anchor="start" x="699.5" y="-3329.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">reactiveRegions map[uint64]int</text>
<polyline fill="none" stroke="#60b5ac" points="691.5,-3321.5 880.5,-3321.5 "/>
<text text-anchor="start" x="699.5" y="-3306.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">start time.Time</text>
<polyline fill="none" stroke="#60b5ac" points="691.5,-3298.5 880.5,-3298.5 "/>
<text text-anchor="start" x="699.5" y="-3283.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">sum int</text>
<polyline fill="none" stroke="#60b5ac" points="691.5,-3275.5 880.5,-3275.5 "/>
<text text-anchor="start" x="699.5" y="-3260.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">isPrepared bool</text>
</g>
<!-- RaftCluster&#45;&gt;prepareChecker -->
<g id="edge14" class="edge">
<title>RaftCluster&#45;&gt;prepareChecker</title>
<path fill="none" stroke="#3f72af" d="M527.78,-3034.68C552.15,-3109.53 587.55,-3184.11 639,-3243 650.92,-3256.65 666.19,-3267.68 682.35,-3276.55"/>
<polygon fill="#3f72af" stroke="#3f72af" points="680.92,-3279.75 691.4,-3281.26 684.15,-3273.54 680.92,-3279.75"/>
</g>
<!-- RegionInfo -->
<g id="node13" class="node">
<title>RegionInfo</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1764,-1919C1764,-1919 1958,-1919 1958,-1919 1964,-1919 1970,-1925 1970,-1931 1970,-1931 1970,-2275 1970,-2275 1970,-2281 1964,-2287 1958,-2287 1958,-2287 1764,-2287 1764,-2287 1758,-2287 1752,-2281 1752,-2275 1752,-2275 1752,-1931 1752,-1931 1752,-1925 1758,-1919 1764,-1919"/>
<text text-anchor="middle" x="1861" y="-2271.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2264 1970,-2264 "/>
<text text-anchor="start" x="1760" y="-2248.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ID uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2241 1970,-2241 "/>
<text text-anchor="start" x="1760" y="-2225.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartKey string </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2218 1970,-2218 "/>
<text text-anchor="start" x="1760" y="-2202.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EndKey string </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2195 1970,-2195 "/>
<text text-anchor="start" x="1760" y="-2179.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionEpoch *metapb.RegionEpoch</text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2172 1970,-2172 "/>
<text text-anchor="start" x="1760" y="-2156.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Peers []*metapb.Peer </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2149 1970,-2149 "/>
<text text-anchor="start" x="1760" y="-2133.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Leader *metapb.Peer </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2126 1970,-2126 "/>
<text text-anchor="start" x="1760" y="-2110.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">DownPeers []*pdpb.PeerStats</text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2103 1970,-2103 "/>
<text text-anchor="start" x="1760" y="-2087.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">PendingPeers []*metapb.Peer </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2080 1970,-2080 "/>
<text text-anchor="start" x="1760" y="-2064.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">WrittenBytes uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2057 1970,-2057 "/>
<text text-anchor="start" x="1760" y="-2041.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReadBytes uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2034 1970,-2034 "/>
<text text-anchor="start" x="1760" y="-2018.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">WrittenKeys uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-2011 1970,-2011 "/>
<text text-anchor="start" x="1760" y="-1995.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReadKeys uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-1988 1970,-1988 "/>
<text text-anchor="start" x="1760" y="-1972.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ApproximateSize int64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-1965 1970,-1965 "/>
<text text-anchor="start" x="1760" y="-1949.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ApproximateKeys int64 </text>
<polyline fill="none" stroke="#60b5ac" points="1752,-1942 1970,-1942 "/>
<text text-anchor="start" x="1760" y="-1926.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReplicationStatus *ReplicationStatus</text>
</g>
<!-- RaftCluster&#45;&gt;RegionInfo -->
<g id="edge15" class="edge">
<title>RaftCluster&#45;&gt;RegionInfo</title>
<path fill="none" stroke="#3f72af" d="M603.01,-2393.81C614.12,-2380.55 626.1,-2368.15 639,-2357 959.33,-2080.08 1502.8,-2078.02 1741.55,-2092.48"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1741.44,-2095.99 1751.64,-2093.12 1741.88,-2089 1741.44,-2095.99"/>
</g>
<!-- LabelStatistics -->
<g id="node14" class="node">
<title>LabelStatistics</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M693,-3172.5C693,-3172.5 879,-3172.5 879,-3172.5 885,-3172.5 891,-3178.5 891,-3184.5 891,-3184.5 891,-3221.5 891,-3221.5 891,-3227.5 885,-3233.5 879,-3233.5 879,-3233.5 693,-3233.5 693,-3233.5 687,-3233.5 681,-3227.5 681,-3221.5 681,-3221.5 681,-3184.5 681,-3184.5 681,-3178.5 687,-3172.5 693,-3172.5"/>
<text text-anchor="middle" x="786" y="-3218.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LabelStatistics</text>
<polyline fill="none" stroke="#60b5ac" points="681,-3210.5 891,-3210.5 "/>
<text text-anchor="start" x="689" y="-3195.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionLabelStats map[uint64]string</text>
<text text-anchor="start" x="689" y="-3180.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> labelCounter map[string]int</text>
</g>
<!-- RaftCluster&#45;&gt;LabelStatistics -->
<g id="edge16" class="edge">
<title>RaftCluster&#45;&gt;LabelStatistics</title>
<path fill="none" stroke="#3f72af" d="M548.77,-3034.74C571.35,-3082.59 600.74,-3127.53 639,-3163 648.35,-3171.67 659.41,-3178.49 671.18,-3183.85"/>
<polygon fill="#3f72af" stroke="#3f72af" points="670.18,-3187.23 680.76,-3187.85 672.87,-3180.77 670.18,-3187.23"/>
</g>
<!-- RegionStatistics -->
<g id="node15" class="node">
<title>RegionStatistics</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M981,-2507.5C981,-2507.5 1345,-2507.5 1345,-2507.5 1351,-2507.5 1357,-2513.5 1357,-2519.5 1357,-2519.5 1357,-2656.5 1357,-2656.5 1357,-2662.5 1351,-2668.5 1345,-2668.5 1345,-2668.5 981,-2668.5 981,-2668.5 975,-2668.5 969,-2662.5 969,-2656.5 969,-2656.5 969,-2519.5 969,-2519.5 969,-2513.5 975,-2507.5 981,-2507.5"/>
<text text-anchor="middle" x="1163" y="-2653.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionStatistics</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2645.5 1357,-2645.5 "/>
<text text-anchor="start" x="977" y="-2630.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opt *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2622.5 1357,-2622.5 "/>
<text text-anchor="start" x="977" y="-2607.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">stats map[RegionStatisticType]map[uint64]*core.RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2599.5 1357,-2599.5 "/>
<text text-anchor="start" x="977" y="-2584.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">offlineStats map[RegionStatisticType]map[uint64]*core.RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2576.5 1357,-2576.5 "/>
<text text-anchor="start" x="977" y="-2561.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">index map[uint64]RegionStatisticType</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2553.5 1357,-2553.5 "/>
<text text-anchor="start" x="977" y="-2538.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">offlineIndex map[uint64]RegionStatisticType</text>
<polyline fill="none" stroke="#60b5ac" points="969,-2530.5 1357,-2530.5 "/>
<text text-anchor="start" x="977" y="-2515.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleManager *placement.RuleManager</text>
</g>
<!-- RaftCluster&#45;&gt;RegionStatistics -->
<g id="edge17" class="edge">
<title>RaftCluster&#45;&gt;RegionStatistics</title>
<path fill="none" stroke="#3f72af" d="M603.43,-2619.85C615.16,-2614.79 627.11,-2610.38 639,-2607 741.76,-2577.78 860.46,-2571.39 958.78,-2573.03"/>
<polygon fill="#3f72af" stroke="#3f72af" points="958.77,-2576.53 968.84,-2573.22 958.91,-2569.53 958.77,-2576.53"/>
</g>
<!-- HotStat -->
<g id="node16" class="node">
<title>HotStat</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M756.5,-2616.5C756.5,-2616.5 815.5,-2616.5 815.5,-2616.5 821.5,-2616.5 827.5,-2622.5 827.5,-2628.5 827.5,-2628.5 827.5,-2673.5 827.5,-2673.5 827.5,-2679.5 821.5,-2685.5 815.5,-2685.5 815.5,-2685.5 756.5,-2685.5 756.5,-2685.5 750.5,-2685.5 744.5,-2679.5 744.5,-2673.5 744.5,-2673.5 744.5,-2628.5 744.5,-2628.5 744.5,-2622.5 750.5,-2616.5 756.5,-2616.5"/>
<text text-anchor="middle" x="786" y="-2670.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">HotStat</text>
<polyline fill="none" stroke="#60b5ac" points="744.5,-2662.5 827.5,-2662.5 "/>
<text text-anchor="start" x="752.5" y="-2647.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">*HotCache</text>
<polyline fill="none" stroke="#60b5ac" points="744.5,-2639.5 827.5,-2639.5 "/>
<text text-anchor="start" x="752.5" y="-2624.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">*StoresStats</text>
</g>
<!-- RaftCluster&#45;&gt;HotStat -->
<g id="edge18" class="edge">
<title>RaftCluster&#45;&gt;HotStat</title>
<path fill="none" stroke="#3f72af" d="M603.19,-2680.23C649.37,-2672.81 698.73,-2664.87 734.35,-2659.14"/>
<polygon fill="#3f72af" stroke="#3f72af" points="735.16,-2662.56 744.48,-2657.51 734.05,-2655.65 735.16,-2662.56"/>
</g>
<!-- coordinator -->
<g id="node17" class="node">
<title>coordinator</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M672.5,-1184.5C672.5,-1184.5 899.5,-1184.5 899.5,-1184.5 905.5,-1184.5 911.5,-1190.5 911.5,-1196.5 911.5,-1196.5 911.5,-1471.5 911.5,-1471.5 911.5,-1477.5 905.5,-1483.5 899.5,-1483.5 899.5,-1483.5 672.5,-1483.5 672.5,-1483.5 666.5,-1483.5 660.5,-1477.5 660.5,-1471.5 660.5,-1471.5 660.5,-1196.5 660.5,-1196.5 660.5,-1190.5 666.5,-1184.5 672.5,-1184.5"/>
<text text-anchor="middle" x="786" y="-1468.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">coordinator</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1460.5 911.5,-1460.5 "/>
<text text-anchor="start" x="668.5" y="-1445.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1437.5 911.5,-1437.5 "/>
<text text-anchor="start" x="668.5" y="-1422.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">wg sync.WaitGroup</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1414.5 911.5,-1414.5 "/>
<text text-anchor="start" x="668.5" y="-1399.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1391.5 911.5,-1391.5 "/>
<text text-anchor="start" x="668.5" y="-1376.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cancel context.CancelFunc</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1368.5 911.5,-1368.5 "/>
<text text-anchor="start" x="668.5" y="-1353.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster *RaftCluster</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1345.5 911.5,-1345.5 "/>
<text text-anchor="start" x="668.5" y="-1330.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">checkers *schedule.CheckerController</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1322.5 911.5,-1322.5 "/>
<text text-anchor="start" x="668.5" y="-1307.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionScatterer *schedule.RegionScatterer</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1299.5 911.5,-1299.5 "/>
<text text-anchor="start" x="668.5" y="-1284.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionSplitter *schedule.RegionSplitter</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1276.5 911.5,-1276.5 "/>
<text text-anchor="start" x="668.5" y="-1261.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">schedulers map[string]*scheduleController</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1253.5 911.5,-1253.5 "/>
<text text-anchor="start" x="668.5" y="-1238.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opController *schedule.OperatorController</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1230.5 911.5,-1230.5 "/>
<text text-anchor="start" x="668.5" y="-1215.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">hbStreams *hbstream.HeartbeatStreams</text>
<polyline fill="none" stroke="#60b5ac" points="660.5,-1207.5 911.5,-1207.5 "/>
<text text-anchor="start" x="668.5" y="-1192.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pluginInterface *schedule.PluginInterface</text>
</g>
<!-- RaftCluster&#45;&gt;coordinator -->
<g id="edge19" class="edge">
<title>RaftCluster&#45;&gt;coordinator</title>
<path fill="none" stroke="#3f72af" d="M526.05,-2367.34C554.81,-2198.42 593.85,-1990.73 639,-1807 664.97,-1701.31 700.98,-1584.43 730.73,-1493.3"/>
<polygon fill="#3f72af" stroke="#3f72af" points="734.08,-1494.32 733.87,-1483.72 727.43,-1492.14 734.08,-1494.32"/>
</g>
<!-- RegionSyncer -->
<g id="node18" class="node">
<title>RegionSyncer</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M679,-2854.5C679,-2854.5 893,-2854.5 893,-2854.5 899,-2854.5 905,-2860.5 905,-2866.5 905,-2866.5 905,-3141.5 905,-3141.5 905,-3147.5 899,-3153.5 893,-3153.5 893,-3153.5 679,-3153.5 679,-3153.5 673,-3153.5 667,-3147.5 667,-3141.5 667,-3141.5 667,-2866.5 667,-2866.5 667,-2860.5 673,-2854.5 679,-2854.5"/>
<text text-anchor="middle" x="786" y="-3138.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionSyncer</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3130.5 905,-3130.5 "/>
<text text-anchor="start" x="675" y="-3115.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu struct {</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3107.5 905,-3107.5 "/>
<text text-anchor="start" x="675" y="-3092.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3084.5 905,-3084.5 "/>
<text text-anchor="start" x="675" y="-3069.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">streams map[string]ServerStream</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3061.5 905,-3061.5 "/>
<text text-anchor="start" x="675" y="-3046.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionSyncerCtx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3038.5 905,-3038.5 "/>
<text text-anchor="start" x="675" y="-3023.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionSyncerCancel context.CancelFunc</text>
<polyline fill="none" stroke="#60b5ac" points="667,-3015.5 905,-3015.5 "/>
<text text-anchor="start" x="675" y="-3000.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">closed chan struct{}</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2992.5 905,-2992.5 "/>
<text text-anchor="start" x="675" y="-2977.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">}</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2969.5 905,-2969.5 "/>
<text text-anchor="start" x="675" y="-2954.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">server Server</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2946.5 905,-2946.5 "/>
<text text-anchor="start" x="675" y="-2931.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">wg sync.WaitGroup</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2923.5 905,-2923.5 "/>
<text text-anchor="start" x="675" y="-2908.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">history *historyBuffer</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2900.5 905,-2900.5 "/>
<text text-anchor="start" x="675" y="-2885.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">limit *ratelimit.Bucket</text>
<polyline fill="none" stroke="#60b5ac" points="667,-2877.5 905,-2877.5 "/>
<text text-anchor="start" x="675" y="-2862.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">tlsConfig *grpcutil.TLSConfig</text>
</g>
<!-- RaftCluster&#45;&gt;RegionSyncer -->
<g id="edge20" class="edge">
<title>RaftCluster&#45;&gt;RegionSyncer</title>
<path fill="none" stroke="#3f72af" d="M603.19,-2826.87C621.75,-2844.95 640.83,-2863.54 659.33,-2881.56"/>
<polygon fill="#3f72af" stroke="#3f72af" points="657.05,-2884.23 666.66,-2888.7 661.94,-2879.22 657.05,-2884.23"/>
</g>
<!-- RuleManager -->
<g id="node19" class="node">
<title>RuleManager</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1756,-2395.5C1756,-2395.5 1966,-2395.5 1966,-2395.5 1972,-2395.5 1978,-2401.5 1978,-2407.5 1978,-2407.5 1978,-2544.5 1978,-2544.5 1978,-2550.5 1972,-2556.5 1966,-2556.5 1966,-2556.5 1756,-2556.5 1756,-2556.5 1750,-2556.5 1744,-2550.5 1744,-2544.5 1744,-2544.5 1744,-2407.5 1744,-2407.5 1744,-2401.5 1750,-2395.5 1756,-2395.5"/>
<text text-anchor="middle" x="1861" y="-2541.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RuleManager</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2533.5 1978,-2533.5 "/>
<text text-anchor="start" x="1752" y="-2518.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">storage *core.Storagesync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2510.5 1978,-2510.5 "/>
<text text-anchor="start" x="1752" y="-2495.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">initialized bool</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2487.5 1978,-2487.5 "/>
<text text-anchor="start" x="1752" y="-2472.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleConfig *ruleConfig</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2464.5 1978,-2464.5 "/>
<text text-anchor="start" x="1752" y="-2449.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleList ruleList</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2441.5 1978,-2441.5 "/>
<text text-anchor="start" x="1752" y="-2426.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">keyType string</text>
<polyline fill="none" stroke="#60b5ac" points="1744,-2418.5 1978,-2418.5 "/>
<text text-anchor="start" x="1752" y="-2403.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">storeSetInformer core.StoreSetInformer</text>
</g>
<!-- RaftCluster&#45;&gt;RuleManager -->
<g id="edge21" class="edge">
<title>RaftCluster&#45;&gt;RuleManager</title>
<path fill="none" stroke="#3f72af" d="M603.14,-2588.06C614.85,-2580.59 626.87,-2573.77 639,-2568 774.41,-2503.63 820.09,-2515.48 969,-2498 1240.03,-2466.18 1560.5,-2467.76 1733.66,-2471.83"/>
<polygon fill="#3f72af" stroke="#3f72af" points="1733.75,-2475.33 1743.83,-2472.07 1733.91,-2468.33 1733.75,-2475.33"/>
</g>
<!-- ModeManager -->
<g id="node20" class="node">
<title>ModeManager</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M651,-1817C651,-1817 921,-1817 921,-1817 927,-1817 933,-1823 933,-1829 933,-1829 933,-2127 933,-2127 933,-2133 927,-2139 921,-2139 921,-2139 651,-2139 651,-2139 645,-2139 639,-2133 639,-2127 639,-2127 639,-1829 639,-1829 639,-1823 645,-1817 651,-1817"/>
<text text-anchor="middle" x="786" y="-2123.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ModeManager</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2116 933,-2116 "/>
<text text-anchor="start" x="647" y="-2100.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">initTime time.Time</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2093 933,-2093 "/>
<text text-anchor="start" x="647" y="-2077.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2070 933,-2070 "/>
<text text-anchor="start" x="647" y="-2054.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">config config.ReplicationModeConfig</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2047 933,-2047 "/>
<text text-anchor="start" x="647" y="-2031.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">storage *core.Storage</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2024 933,-2024 "/>
<text text-anchor="start" x="647" y="-2008.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="639,-2001 933,-2001 "/>
<text text-anchor="start" x="647" y="-1985.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fileReplicater FileReplicater</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1978 933,-1978 "/>
<text text-anchor="start" x="647" y="-1962.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drAutoSync drAutoSyncStatus</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1955 933,-1955 "/>
<text text-anchor="start" x="647" y="-1939.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drRecoverKey []byte</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1932 933,-1932 "/>
<text text-anchor="start" x="647" y="-1916.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drRecoverCount int</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1909 933,-1909 "/>
<text text-anchor="start" x="647" y="-1893.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drSampleRecoverCount int</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1886 933,-1886 "/>
<text text-anchor="start" x="647" y="-1870.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drSampleTotalRegion int</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1863 933,-1863 "/>
<text text-anchor="start" x="647" y="-1847.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drTotalRegion int</text>
<polyline fill="none" stroke="#60b5ac" points="639,-1840 933,-1840 "/>
<text text-anchor="start" x="647" y="-1824.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">drMemberWaitAsyncTime map[uint64]time.Time</text>
</g>
<!-- RaftCluster&#45;&gt;ModeManager -->
<g id="edge22" class="edge">
<title>RaftCluster&#45;&gt;ModeManager</title>
<path fill="none" stroke="#3f72af" d="M551.46,-2367.43C574.6,-2294.87 603.52,-2220.09 639,-2154 640.09,-2151.98 641.2,-2149.95 642.34,-2147.93"/>
<polygon fill="#3f72af" stroke="#3f72af" points="645.47,-2149.5 647.47,-2139.09 639.42,-2145.98 645.47,-2149.5"/>
</g>
<!-- component_Manager -->
<g id="node21" class="node">
<title>component_Manager</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M706.5,-2705C706.5,-2705 865.5,-2705 865.5,-2705 871.5,-2705 877.5,-2711 877.5,-2717 877.5,-2717 877.5,-2785 877.5,-2785 877.5,-2791 871.5,-2797 865.5,-2797 865.5,-2797 706.5,-2797 706.5,-2797 700.5,-2797 694.5,-2791 694.5,-2785 694.5,-2785 694.5,-2717 694.5,-2717 694.5,-2711 700.5,-2705 706.5,-2705"/>
<text text-anchor="middle" x="786" y="-2781.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">component.Manager</text>
<polyline fill="none" stroke="#60b5ac" points="694.5,-2774 877.5,-2774 "/>
<text text-anchor="start" x="702.5" y="-2758.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="694.5,-2751 877.5,-2751 "/>
<text text-anchor="start" x="702.5" y="-2735.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">storage *core.Storage</text>
<polyline fill="none" stroke="#60b5ac" points="694.5,-2728 877.5,-2728 "/>
<text text-anchor="start" x="702.5" y="-2712.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Addresses map[string][]string </text>
</g>
<!-- RaftCluster&#45;&gt;component_Manager -->
<g id="edge23" class="edge">
<title>RaftCluster&#45;&gt;component_Manager</title>
<path fill="none" stroke="#3f72af" d="M603.19,-2721.77C630.15,-2726.1 658.2,-2730.61 683.97,-2734.76"/>
<polygon fill="#3f72af" stroke="#3f72af" points="683.67,-2738.25 694.1,-2736.39 684.78,-2731.34 683.67,-2738.25"/>
</g>
<!-- allocatorImpl -->
<g id="node44" class="node">
<title>allocatorImpl</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2495,-3708.5C2495,-3708.5 2608,-3708.5 2608,-3708.5 2614,-3708.5 2620,-3714.5 2620,-3720.5 2620,-3720.5 2620,-3857.5 2620,-3857.5 2620,-3863.5 2614,-3869.5 2608,-3869.5 2608,-3869.5 2495,-3869.5 2495,-3869.5 2489,-3869.5 2483,-3863.5 2483,-3857.5 2483,-3857.5 2483,-3720.5 2483,-3720.5 2483,-3714.5 2489,-3708.5 2495,-3708.5"/>
<text text-anchor="middle" x="2551.5" y="-3854.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">allocatorImpl</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3846.5 2620,-3846.5 "/>
<text text-anchor="start" x="2491" y="-3831.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu sync.Mutex</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3823.5 2620,-3823.5 "/>
<text text-anchor="start" x="2491" y="-3808.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">base uint64</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3800.5 2620,-3800.5 "/>
<text text-anchor="start" x="2491" y="-3785.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">end uint64</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3777.5 2620,-3777.5 "/>
<text text-anchor="start" x="2491" y="-3762.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">client *clientv3.Client</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3754.5 2620,-3754.5 "/>
<text text-anchor="start" x="2491" y="-3739.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">rootPath string</text>
<polyline fill="none" stroke="#60b5ac" points="2483,-3731.5 2620,-3731.5 "/>
<text text-anchor="start" x="2491" y="-3716.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">member string</text>
</g>
<!-- Allocator&#45;&gt;allocatorImpl -->
<g id="edge52" class="edge">
<title>Allocator&#45;&gt;allocatorImpl</title>
<path fill="none" stroke="#666666" d="M854.56,-3746.41C987.55,-3752.81 1292.73,-3766 1549.5,-3766 1549.5,-3766 1549.5,-3766 1862,-3766 2083.54,-3766 2344.94,-3778.04 2472.54,-3784.7"/>
<polygon fill="#666666" stroke="#666666" points="2472.44,-3788.2 2482.61,-3785.23 2472.8,-3781.21 2472.44,-3788.2"/>
</g>
<!-- StoresInfo -->
<g id="node33" class="node">
<title>StoresInfo</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1114.5,-437.5C1114.5,-437.5 1211.5,-437.5 1211.5,-437.5 1217.5,-437.5 1223.5,-443.5 1223.5,-449.5 1223.5,-449.5 1223.5,-494.5 1223.5,-494.5 1223.5,-500.5 1217.5,-506.5 1211.5,-506.5 1211.5,-506.5 1114.5,-506.5 1114.5,-506.5 1108.5,-506.5 1102.5,-500.5 1102.5,-494.5 1102.5,-494.5 1102.5,-449.5 1102.5,-449.5 1102.5,-443.5 1108.5,-437.5 1114.5,-437.5"/>
<text text-anchor="middle" x="1163" y="-491.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoresInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1102.5,-483.5 1223.5,-483.5 "/>
<text text-anchor="start" x="1110.5" y="-468.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Count int </text>
<polyline fill="none" stroke="#60b5ac" points="1102.5,-460.5 1223.5,-460.5 "/>
<text text-anchor="start" x="1110.5" y="-445.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Stores []*StoreInfo</text>
</g>
<!-- BasicCluster&#45;&gt;StoresInfo -->
<g id="edge37" class="edge">
<title>BasicCluster&#45;&gt;StoresInfo</title>
<path fill="none" stroke="#666666" d="M855.34,-570.95C922.7,-549.22 1025.08,-516.18 1092.74,-494.35"/>
<polygon fill="#666666" stroke="#666666" points="1094.02,-497.61 1102.47,-491.21 1091.87,-490.95 1094.02,-497.61"/>
</g>
<!-- RegionsInfo -->
<g id="node34" class="node">
<title>RegionsInfo</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1047,-190C1047,-190 1279,-190 1279,-190 1285,-190 1291,-196 1291,-202 1291,-202 1291,-392 1291,-392 1291,-398 1285,-404 1279,-404 1279,-404 1047,-404 1047,-404 1041,-404 1035,-398 1035,-392 1035,-392 1035,-202 1035,-202 1035,-196 1041,-190 1047,-190"/>
<text text-anchor="middle" x="1163" y="-388.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionsInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-381 1291,-381 "/>
<text text-anchor="start" x="1043" y="-365.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">存储集群的region信息</text>
<text text-anchor="start" x="1043" y="-350.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> tree 用来根据key查找RegionInfo</text>
<text text-anchor="start" x="1043" y="-335.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> regions用于根据regionID找到RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-328 1291,-328 "/>
<text text-anchor="start" x="1043" y="-312.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">tree *regionTree</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-305 1291,-305 "/>
<text text-anchor="start" x="1043" y="-289.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regions *regionMap </text>
<polyline fill="none" stroke="#60b5ac" points="1035,-282 1291,-282 "/>
<text text-anchor="start" x="1043" y="-266.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">leaders map[uint64]*regionSubTree</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-259 1291,-259 "/>
<text text-anchor="start" x="1043" y="-243.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">followers map[uint64]*regionSubTree</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-236 1291,-236 "/>
<text text-anchor="start" x="1043" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">learners map[uint64]*regionSubTree</text>
<polyline fill="none" stroke="#60b5ac" points="1035,-213 1291,-213 "/>
<text text-anchor="start" x="1043" y="-197.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pendingPeers map[uint64]*regionSubTree</text>
</g>
<!-- BasicCluster&#45;&gt;RegionsInfo -->
<g id="edge38" class="edge">
<title>BasicCluster&#45;&gt;RegionsInfo</title>
<path fill="none" stroke="#666666" d="M855.19,-580.22C882.53,-571.99 912.39,-558.61 933,-537 968.21,-500.08 938.26,-468.72 969,-428 984.9,-406.94 1005.22,-388.11 1026.67,-371.74"/>
<polygon fill="#666666" stroke="#666666" points="1029,-374.37 1034.94,-365.59 1024.83,-368.75 1029,-374.37"/>
</g>
<!-- Member -->
<g id="node28" class="node">
<title>Member</title>
<path fill="none" stroke="#1c2123" d="M806,-474C806,-474 766,-474 766,-474 760,-474 754,-468 754,-462 754,-462 754,-450 754,-450 754,-444 760,-438 766,-438 766,-438 806,-438 806,-438 812,-438 818,-444 818,-450 818,-450 818,-462 818,-462 818,-468 812,-474 806,-474"/>
<text text-anchor="middle" x="786" y="-452.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Member</text>
</g>
<!-- AllocatorManager&#45;&gt;Member -->
<g id="edge31" class="edge">
<title>AllocatorManager&#45;&gt;Member</title>
<path fill="none" stroke="#666666" d="M547.31,-497.27C608.5,-486.65 693.53,-471.88 743.56,-463.2"/>
<polygon fill="#666666" stroke="#666666" points="744.43,-466.6 753.68,-461.44 743.23,-459.7 744.43,-466.6"/>
</g>
<!-- grpc_ClientConn -->
<g id="node29" class="node">
<title>grpc_ClientConn</title>
<path fill="none" stroke="#1c2123" d="M829,-528C829,-528 743,-528 743,-528 737,-528 731,-522 731,-516 731,-516 731,-504 731,-504 731,-498 737,-492 743,-492 743,-492 829,-492 829,-492 835,-492 841,-498 841,-504 841,-504 841,-516 841,-516 841,-522 835,-528 829,-528"/>
<text text-anchor="middle" x="786" y="-506.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">grpc_ClientConn</text>
</g>
<!-- AllocatorManager&#45;&gt;grpc_ClientConn -->
<g id="edge32" class="edge">
<title>AllocatorManager&#45;&gt;grpc_ClientConn</title>
<path fill="none" stroke="#666666" d="M547.31,-510C599.89,-510 670.08,-510 720.53,-510"/>
<polygon fill="#666666" stroke="#666666" points="720.66,-513.5 730.66,-510 720.66,-506.5 720.66,-513.5"/>
</g>
<!-- RegionHeartbeatResponse -->
<g id="node45" class="node">
<title>RegionHeartbeatResponse</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3121.5,-1242C3121.5,-1242 3315.5,-1242 3315.5,-1242 3321.5,-1242 3327.5,-1248 3327.5,-1254 3327.5,-1254 3327.5,-1460 3327.5,-1460 3327.5,-1466 3321.5,-1472 3315.5,-1472 3315.5,-1472 3121.5,-1472 3121.5,-1472 3115.5,-1472 3109.5,-1466 3109.5,-1460 3109.5,-1460 3109.5,-1254 3109.5,-1254 3109.5,-1248 3115.5,-1242 3121.5,-1242"/>
<text text-anchor="middle" x="3218.5" y="-1456.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionHeartbeatResponse</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1449 3327.5,-1449 "/>
<text text-anchor="start" x="3117.5" y="-1433.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Header *ResponseHeader</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1426 3327.5,-1426 "/>
<text text-anchor="start" x="3117.5" y="-1410.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ChangePeer *ChangePeer</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1403 3327.5,-1403 "/>
<text text-anchor="start" x="3117.5" y="-1387.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">TransferLeader *TransferLeader</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1380 3327.5,-1380 "/>
<text text-anchor="start" x="3117.5" y="-1364.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionId uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1357 3327.5,-1357 "/>
<text text-anchor="start" x="3117.5" y="-1341.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionEpoch *metapb.RegionEpoch</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1334 3327.5,-1334 "/>
<text text-anchor="start" x="3117.5" y="-1318.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">TargetPeer *metapb.Peer</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1311 3327.5,-1311 "/>
<text text-anchor="start" x="3117.5" y="-1295.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Merge *Merge </text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1288 3327.5,-1288 "/>
<text text-anchor="start" x="3117.5" y="-1272.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">SplitRegion *SplitRegion</text>
<polyline fill="none" stroke="#60b5ac" points="3109.5,-1265 3327.5,-1265 "/>
<text text-anchor="middle" x="3218.5" y="-1249.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ChangePeerV2 *ChangePeerV2</text>
</g>
<!-- HeartbeatStreams&#45;&gt;RegionHeartbeatResponse -->
<g id="edge54" class="edge">
<title>HeartbeatStreams&#45;&gt;RegionHeartbeatResponse</title>
<path fill="none" stroke="#666666" d="M3051.27,-1356.45C3067.16,-1356.5 3083.3,-1356.55 3098.96,-1356.6"/>
<polygon fill="#666666" stroke="#666666" points="3099.16,-1360.11 3109.18,-1356.64 3099.19,-1353.11 3099.16,-1360.11"/>
</g>
<!-- HeartbeatStream -->
<g id="node46" class="node">
<title>HeartbeatStream</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3099,-1600C3099,-1600 3338,-1600 3338,-1600 3344,-1600 3350,-1606 3350,-1612 3350,-1612 3350,-1634 3350,-1634 3350,-1640 3344,-1646 3338,-1646 3338,-1646 3099,-1646 3099,-1646 3093,-1646 3087,-1640 3087,-1634 3087,-1634 3087,-1612 3087,-1612 3087,-1606 3093,-1600 3099,-1600"/>
<text text-anchor="middle" x="3218.5" y="-1630.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">HeartbeatStream</text>
<polyline fill="none" stroke="#60b5ac" points="3087,-1623 3350,-1623 "/>
<text text-anchor="start" x="3095" y="-1607.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Send(*pdpb.RegionHeartbeatResponse) error</text>
</g>
<!-- HeartbeatStreams&#45;&gt;HeartbeatStream -->
<g id="edge55" class="edge">
<title>HeartbeatStreams&#45;&gt;HeartbeatStream</title>
<path fill="none" stroke="#666666" d="M3045.13,-1471.28C3047.16,-1474.16 3049.12,-1477.07 3051,-1480 3078.73,-1523.33 3049.4,-1554.89 3087,-1590 3088.47,-1591.38 3090,-1592.7 3091.56,-1593.96"/>
<polygon fill="#666666" stroke="#666666" points="3089.58,-1596.85 3099.73,-1599.87 3093.68,-1591.17 3089.58,-1596.85"/>
</g>
<!-- streamUpdate -->
<g id="node47" class="node">
<title>streamUpdate</title>
<path fill="none" stroke="#1c2123" d="M3252.5,-1581C3252.5,-1581 3184.5,-1581 3184.5,-1581 3178.5,-1581 3172.5,-1575 3172.5,-1569 3172.5,-1569 3172.5,-1557 3172.5,-1557 3172.5,-1551 3178.5,-1545 3184.5,-1545 3184.5,-1545 3252.5,-1545 3252.5,-1545 3258.5,-1545 3264.5,-1551 3264.5,-1557 3264.5,-1557 3264.5,-1569 3264.5,-1569 3264.5,-1575 3258.5,-1581 3252.5,-1581"/>
<text text-anchor="middle" x="3218.5" y="-1559.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">streamUpdate</text>
</g>
<!-- HeartbeatStreams&#45;&gt;streamUpdate -->
<g id="edge56" class="edge">
<title>HeartbeatStreams&#45;&gt;streamUpdate</title>
<path fill="none" stroke="#666666" d="M3043.51,-1471.27C3046.06,-1474.18 3048.56,-1477.09 3051,-1480 3069.99,-1502.69 3062.61,-1519.25 3087,-1536 3108.96,-1551.08 3137.56,-1558.06 3162.39,-1561.17"/>
<polygon fill="#666666" stroke="#666666" points="3162.1,-1564.66 3172.41,-1562.25 3162.85,-1557.7 3162.1,-1564.66"/>
</g>
<!-- StoreSetInformer -->
<g id="node48" class="node">
<title>StoreSetInformer</title>
<path fill="none" stroke="#1c2123" d="M3262,-1527C3262,-1527 3175,-1527 3175,-1527 3169,-1527 3163,-1521 3163,-1515 3163,-1515 3163,-1503 3163,-1503 3163,-1497 3169,-1491 3175,-1491 3175,-1491 3262,-1491 3262,-1491 3268,-1491 3274,-1497 3274,-1503 3274,-1503 3274,-1515 3274,-1515 3274,-1521 3268,-1527 3262,-1527"/>
<text text-anchor="middle" x="3218.5" y="-1505.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreSetInformer</text>
</g>
<!-- HeartbeatStreams&#45;&gt;StoreSetInformer -->
<g id="edge57" class="edge">
<title>HeartbeatStreams&#45;&gt;StoreSetInformer</title>
<path fill="none" stroke="#666666" d="M3051.3,-1462.3C3063.02,-1469.23 3075,-1475.59 3087,-1481 3107.52,-1490.25 3131.25,-1496.51 3152.8,-1500.72"/>
<polygon fill="#666666" stroke="#666666" points="3152.39,-1504.2 3162.86,-1502.57 3153.66,-1497.31 3152.39,-1504.2"/>
</g>
<!-- RegionStorage -->
<g id="node22" class="node">
<title>RegionStorage</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2410,-2676.5C2410,-2676.5 2693,-2676.5 2693,-2676.5 2699,-2676.5 2705,-2682.5 2705,-2688.5 2705,-2688.5 2705,-2917.5 2705,-2917.5 2705,-2923.5 2699,-2929.5 2693,-2929.5 2693,-2929.5 2410,-2929.5 2410,-2929.5 2404,-2929.5 2398,-2923.5 2398,-2917.5 2398,-2917.5 2398,-2688.5 2398,-2688.5 2398,-2682.5 2404,-2676.5 2410,-2676.5"/>
<text text-anchor="middle" x="2551.5" y="-2914.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionStorage</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2906.5 2705,-2906.5 "/>
<text text-anchor="start" x="2406" y="-2891.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">*kv.LeveldbKV</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2883.5 2705,-2883.5 "/>
<text text-anchor="start" x="2406" y="-2868.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">encryptionKeyManager *encryptionkm.KeyManager</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2860.5 2705,-2860.5 "/>
<text text-anchor="start" x="2406" y="-2845.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2837.5 2705,-2837.5 "/>
<text text-anchor="start" x="2406" y="-2822.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">batchRegions map[string]*metapb.Region</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2814.5 2705,-2814.5 "/>
<text text-anchor="start" x="2406" y="-2799.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">batchSize int</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2791.5 2705,-2791.5 "/>
<text text-anchor="start" x="2406" y="-2776.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cacheSize int</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2768.5 2705,-2768.5 "/>
<text text-anchor="start" x="2406" y="-2753.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">flushRate time.Duration</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2745.5 2705,-2745.5 "/>
<text text-anchor="start" x="2406" y="-2730.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">flushTime time.Time</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2722.5 2705,-2722.5 "/>
<text text-anchor="start" x="2406" y="-2707.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionStorageCtx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="2398,-2699.5 2705,-2699.5 "/>
<text text-anchor="start" x="2406" y="-2684.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionStorageCancel context.CancelFunc</text>
</g>
<!-- Storage&#45;&gt;RegionStorage -->
<g id="edge24" class="edge">
<title>Storage&#45;&gt;RegionStorage</title>
<path fill="none" stroke="#666666" d="M2321.12,-2803C2343.02,-2803 2365.62,-2803 2387.7,-2803"/>
<polygon fill="#666666" stroke="#666666" points="2387.81,-2806.5 2397.81,-2803 2387.81,-2799.5 2387.81,-2806.5"/>
</g>
<!-- encryptionkm_KeyManager -->
<g id="node23" class="node">
<title>encryptionkm_KeyManager</title>
<path fill="none" stroke="#1c2123" d="M2989.5,-2962C2989.5,-2962 2843.5,-2962 2843.5,-2962 2837.5,-2962 2831.5,-2956 2831.5,-2950 2831.5,-2950 2831.5,-2938 2831.5,-2938 2831.5,-2932 2837.5,-2926 2843.5,-2926 2843.5,-2926 2989.5,-2926 2989.5,-2926 2995.5,-2926 3001.5,-2932 3001.5,-2938 3001.5,-2938 3001.5,-2950 3001.5,-2950 3001.5,-2956 2995.5,-2962 2989.5,-2962"/>
<text text-anchor="middle" x="2916.5" y="-2940.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">encryptionkm_KeyManager</text>
</g>
<!-- Storage&#45;&gt;encryptionkm_KeyManager -->
<g id="edge25" class="edge">
<title>Storage&#45;&gt;encryptionkm_KeyManager</title>
<path fill="none" stroke="#666666" d="M2256.6,-2883.61C2286.34,-2905.93 2321.15,-2927.24 2357,-2939 2513.29,-2990.27 2707.67,-2975.79 2821.05,-2960.18"/>
<polygon fill="#666666" stroke="#666666" points="2821.68,-2963.63 2831.09,-2958.77 2820.7,-2956.7 2821.68,-2963.63"/>
</g>
<!-- Base -->
<g id="node94" class="node">
<title>Base</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2442.5,-2527C2442.5,-2527 2660.5,-2527 2660.5,-2527 2666.5,-2527 2672.5,-2533 2672.5,-2539 2672.5,-2539 2672.5,-2645 2672.5,-2645 2672.5,-2651 2666.5,-2657 2660.5,-2657 2660.5,-2657 2442.5,-2657 2442.5,-2657 2436.5,-2657 2430.5,-2651 2430.5,-2645 2430.5,-2645 2430.5,-2539 2430.5,-2539 2430.5,-2533 2436.5,-2527 2442.5,-2527"/>
<text text-anchor="middle" x="2551.5" y="-2641.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Base</text>
<polyline fill="none" stroke="#60b5ac" points="2430.5,-2634 2672.5,-2634 "/>
<text text-anchor="start" x="2438.5" y="-2618.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Load(key string) (string, error)</text>
<polyline fill="none" stroke="#60b5ac" points="2430.5,-2611 2672.5,-2611 "/>
<text text-anchor="start" x="2438.5" y="-2595.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">LoadRange(key, endKey string, limit int)</text>
<text text-anchor="start" x="2438.5" y="-2580.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> (keys []string, values []string, err error)</text>
<polyline fill="none" stroke="#60b5ac" points="2430.5,-2573 2672.5,-2573 "/>
<text text-anchor="start" x="2438.5" y="-2557.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Save(key, value string) error</text>
<polyline fill="none" stroke="#60b5ac" points="2430.5,-2550 2672.5,-2550 "/>
<text text-anchor="start" x="2438.5" y="-2534.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Remove(key string) error</text>
</g>
<!-- Storage&#45;&gt;Base -->
<g id="edge123" class="edge">
<title>Storage&#45;&gt;Base</title>
<path fill="none" stroke="#666666" d="M2270.57,-2722.16C2297.76,-2702.66 2327.74,-2682.88 2357,-2667 2377.16,-2656.06 2399.25,-2645.92 2421.08,-2636.86"/>
<polygon fill="#666666" stroke="#666666" points="2422.48,-2640.07 2430.41,-2633.05 2419.83,-2633.59 2422.48,-2640.07"/>
</g>
<!-- RegionEpoch -->
<g id="node26" class="node">
<title>RegionEpoch</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M4033,-1947.5C4033,-1947.5 4110,-1947.5 4110,-1947.5 4116,-1947.5 4122,-1953.5 4122,-1959.5 4122,-1959.5 4122,-2004.5 4122,-2004.5 4122,-2010.5 4116,-2016.5 4110,-2016.5 4110,-2016.5 4033,-2016.5 4033,-2016.5 4027,-2016.5 4021,-2010.5 4021,-2004.5 4021,-2004.5 4021,-1959.5 4021,-1959.5 4021,-1953.5 4027,-1947.5 4033,-1947.5"/>
<text text-anchor="middle" x="4071.5" y="-2001.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionEpoch</text>
<polyline fill="none" stroke="#60b5ac" points="4021,-1993.5 4122,-1993.5 "/>
<text text-anchor="middle" x="4071.5" y="-1978.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ConfVer uint64</text>
<polyline fill="none" stroke="#60b5ac" points="4021,-1970.5 4122,-1970.5 "/>
<text text-anchor="middle" x="4071.5" y="-1955.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Version uint64</text>
</g>
<!-- RegionInfo&#45;&gt;RegionEpoch -->
<g id="edge47" class="edge">
<title>RegionInfo&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M1970.21,-2105.29C2105.81,-2107.95 2345.34,-2112 2550.5,-2112 2550.5,-2112 2550.5,-2112 3500.5,-2112 3691.01,-2112 3908.57,-2042.12 4011.11,-2004.83"/>
<polygon fill="#666666" stroke="#666666" points="4012.48,-2008.05 4020.66,-2001.32 4010.07,-2001.48 4012.48,-2008.05"/>
</g>
<!-- Peer -->
<g id="node27" class="node">
<title>Peer</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M4034.5,-1498C4034.5,-1498 4108.5,-1498 4108.5,-1498 4114.5,-1498 4120.5,-1504 4120.5,-1510 4120.5,-1510 4120.5,-1578 4120.5,-1578 4120.5,-1584 4114.5,-1590 4108.5,-1590 4108.5,-1590 4034.5,-1590 4034.5,-1590 4028.5,-1590 4022.5,-1584 4022.5,-1578 4022.5,-1578 4022.5,-1510 4022.5,-1510 4022.5,-1504 4028.5,-1498 4034.5,-1498"/>
<text text-anchor="middle" x="4071.5" y="-1574.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Peer</text>
<polyline fill="none" stroke="#60b5ac" points="4022.5,-1567 4120.5,-1567 "/>
<text text-anchor="start" x="4030.5" y="-1551.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Id uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="4022.5,-1544 4120.5,-1544 "/>
<text text-anchor="start" x="4030.5" y="-1528.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoreId uint64 </text>
<polyline fill="none" stroke="#60b5ac" points="4022.5,-1521 4120.5,-1521 "/>
<text text-anchor="start" x="4030.5" y="-1505.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Role PeerRole</text>
</g>
<!-- RegionInfo&#45;&gt;Peer -->
<g id="edge48" class="edge">
<title>RegionInfo&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M1970.1,-1927.99C1972.9,-1921.65 1975.55,-1915.31 1978,-1909 2006.9,-1834.57 1953.05,-1784.57 2014,-1733 2196.15,-1578.89 2311.91,-1714 2550.5,-1714 2550.5,-1714 2550.5,-1714 3219.5,-1714 3565.21,-1714 3651.66,-1667.63 3985,-1576 3994.07,-1573.51 4003.54,-1570.45 4012.72,-1567.22"/>
<polygon fill="#666666" stroke="#666666" points="4013.95,-1570.5 4022.17,-1563.81 4011.57,-1563.91 4013.95,-1570.5"/>
</g>
<!-- PeerStats -->
<g id="node42" class="node">
<title>PeerStats</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2079.5,-1830.5C2079.5,-1830.5 2255.5,-1830.5 2255.5,-1830.5 2261.5,-1830.5 2267.5,-1836.5 2267.5,-1842.5 2267.5,-1842.5 2267.5,-2071.5 2267.5,-2071.5 2267.5,-2077.5 2261.5,-2083.5 2255.5,-2083.5 2255.5,-2083.5 2079.5,-2083.5 2079.5,-2083.5 2073.5,-2083.5 2067.5,-2077.5 2067.5,-2071.5 2067.5,-2071.5 2067.5,-1842.5 2067.5,-1842.5 2067.5,-1836.5 2073.5,-1830.5 2079.5,-1830.5"/>
<text text-anchor="middle" x="2167.5" y="-2068.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">PeerStats</text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-2060.5 2267.5,-2060.5 "/>
<text text-anchor="start" x="2075.5" y="-2045.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Name string </text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-2037.5 2267.5,-2037.5 "/>
<text text-anchor="start" x="2075.5" y="-2022.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ID string </text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-2014.5 2267.5,-2014.5 "/>
<text text-anchor="start" x="2075.5" y="-1999.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">State string </text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1991.5 2267.5,-1991.5 "/>
<text text-anchor="start" x="2075.5" y="-1976.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartTime time.Time</text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1968.5 2267.5,-1968.5 "/>
<text text-anchor="start" x="2075.5" y="-1953.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeaderInfo struct { Leader string </text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1945.5 2267.5,-1945.5 "/>
<text text-anchor="start" x="2075.5" y="-1930.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Uptime string </text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1922.5 2267.5,-1922.5 "/>
<text text-anchor="start" x="2075.5" y="-1907.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartTime time.Time</text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1899.5 2267.5,-1899.5 "/>
<text text-anchor="start" x="2075.5" y="-1884.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">}</text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1876.5 2267.5,-1876.5 "/>
<text text-anchor="start" x="2075.5" y="-1861.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RecvAppendRequestCnt int</text>
<polyline fill="none" stroke="#60b5ac" points="2067.5,-1853.5 2267.5,-1853.5 "/>
<text text-anchor="middle" x="2167.5" y="-1838.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- RegionInfo&#45;&gt;PeerStats -->
<g id="edge49" class="edge">
<title>RegionInfo&#45;&gt;PeerStats</title>
<path fill="none" stroke="#666666" d="M1970.21,-2051.11C1998.75,-2037.43 2029.54,-2022.67 2058.09,-2008.98"/>
<polygon fill="#666666" stroke="#666666" points="2059.77,-2012.06 2067.27,-2004.58 2056.74,-2005.74 2059.77,-2012.06"/>
</g>
<!-- ReplicationStatus -->
<g id="node43" class="node">
<title>ReplicationStatus</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2123.5,-1742.5C2123.5,-1742.5 2211.5,-1742.5 2211.5,-1742.5 2217.5,-1742.5 2223.5,-1748.5 2223.5,-1754.5 2223.5,-1754.5 2223.5,-1799.5 2223.5,-1799.5 2223.5,-1805.5 2217.5,-1811.5 2211.5,-1811.5 2211.5,-1811.5 2123.5,-1811.5 2123.5,-1811.5 2117.5,-1811.5 2111.5,-1805.5 2111.5,-1799.5 2111.5,-1799.5 2111.5,-1754.5 2111.5,-1754.5 2111.5,-1748.5 2117.5,-1742.5 2123.5,-1742.5"/>
<text text-anchor="middle" x="2167.5" y="-1796.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReplicationStatus</text>
<polyline fill="none" stroke="#60b5ac" points="2111.5,-1788.5 2223.5,-1788.5 "/>
<text text-anchor="start" x="2119.5" y="-1773.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">State string</text>
<polyline fill="none" stroke="#60b5ac" points="2111.5,-1765.5 2223.5,-1765.5 "/>
<text text-anchor="start" x="2119.5" y="-1750.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StateID uint64</text>
</g>
<!-- RegionInfo&#45;&gt;ReplicationStatus -->
<g id="edge50" class="edge">
<title>RegionInfo&#45;&gt;ReplicationStatus</title>
<path fill="none" stroke="#666666" d="M1970.13,-1924.38C1972.83,-1919.22 1975.46,-1914.09 1978,-1909 1996.9,-1871.2 1982.56,-1849.23 2014,-1821 2037.95,-1799.5 2071.79,-1788.46 2101.51,-1782.81"/>
<polygon fill="#666666" stroke="#666666" points="2102.15,-1786.25 2111.41,-1781.09 2100.96,-1779.35 2102.15,-1786.25"/>
</g>
<!-- RegionStatistics&#45;&gt;config_PersistOptions -->
<g id="edge145" class="edge">
<title>RegionStatistics&#45;&gt;config_PersistOptions</title>
<path fill="none" stroke="#666666" d="M1299.1,-2507.4C1348.95,-2477.65 1404.47,-2444.53 1450.54,-2417.04"/>
<polygon fill="#666666" stroke="#666666" points="1452.53,-2419.93 1459.32,-2411.8 1448.94,-2413.92 1452.53,-2419.93"/>
</g>
<!-- RegionStatistics&#45;&gt;RegionInfo -->
<g id="edge100" class="edge">
<title>RegionStatistics&#45;&gt;RegionInfo</title>
<path fill="none" stroke="#666666" d="M1357.27,-2539.57C1369.35,-2536.64 1381.34,-2533.76 1393,-2531 1532.64,-2497.89 1597.77,-2551.9 1708,-2460 1711.86,-2456.78 1745.25,-2378.75 1779.75,-2296.47"/>
<polygon fill="#666666" stroke="#666666" points="1783,-2297.77 1783.64,-2287.2 1776.54,-2295.07 1783,-2297.77"/>
</g>
<!-- RegionStatistics&#45;&gt;RuleManager -->
<g id="edge101" class="edge">
<title>RegionStatistics&#45;&gt;RuleManager</title>
<path fill="none" stroke="#666666" d="M1357.27,-2572.72C1486.03,-2561.59 1643.1,-2545.91 1708,-2531 1716.55,-2529.04 1725.27,-2526.73 1734,-2524.2"/>
<polygon fill="#666666" stroke="#666666" points="1735.27,-2527.48 1743.85,-2521.26 1733.27,-2520.77 1735.27,-2527.48"/>
</g>
<!-- RegionStatisticType -->
<g id="node78" class="node">
<title>RegionStatisticType</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1438.5,-2584C1438.5,-2584 1662.5,-2584 1662.5,-2584 1668.5,-2584 1674.5,-2590 1674.5,-2596 1674.5,-2596 1674.5,-2756 1674.5,-2756 1674.5,-2762 1668.5,-2768 1662.5,-2768 1662.5,-2768 1438.5,-2768 1438.5,-2768 1432.5,-2768 1426.5,-2762 1426.5,-2756 1426.5,-2756 1426.5,-2596 1426.5,-2596 1426.5,-2590 1432.5,-2584 1438.5,-2584"/>
<text text-anchor="middle" x="1550.5" y="-2752.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionStatisticType</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2745 1674.5,-2745 "/>
<text text-anchor="start" x="1434.5" y="-2729.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MissPeer RegionStatisticType = 1 &lt;&lt; iota</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2722 1674.5,-2722 "/>
<text text-anchor="start" x="1434.5" y="-2706.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ExtraPeer</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2699 1674.5,-2699 "/>
<text text-anchor="start" x="1434.5" y="-2683.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">DownPeer</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2676 1674.5,-2676 "/>
<text text-anchor="start" x="1434.5" y="-2660.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">PendingPeer</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2653 1674.5,-2653 "/>
<text text-anchor="start" x="1434.5" y="-2637.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">OfflinePeer</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2630 1674.5,-2630 "/>
<text text-anchor="start" x="1434.5" y="-2614.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">LearnerPeer</text>
<polyline fill="none" stroke="#60b5ac" points="1426.5,-2607 1674.5,-2607 "/>
<text text-anchor="start" x="1434.5" y="-2591.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EmptyRegion</text>
</g>
<!-- RegionStatistics&#45;&gt;RegionStatisticType -->
<g id="edge102" class="edge">
<title>RegionStatistics&#45;&gt;RegionStatisticType</title>
<path fill="none" stroke="#666666" d="M1357.03,-2632.06C1377.13,-2636.65 1397.22,-2641.24 1416.44,-2645.63"/>
<polygon fill="#666666" stroke="#666666" points="1415.87,-2649.09 1426.4,-2647.9 1417.43,-2642.26 1415.87,-2649.09"/>
</g>
<!-- HotCache -->
<g id="node83" class="node">
<title>HotCache</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1096,-2795.5C1096,-2795.5 1230,-2795.5 1230,-2795.5 1236,-2795.5 1242,-2801.5 1242,-2807.5 1242,-2807.5 1242,-2852.5 1242,-2852.5 1242,-2858.5 1236,-2864.5 1230,-2864.5 1230,-2864.5 1096,-2864.5 1096,-2864.5 1090,-2864.5 1084,-2858.5 1084,-2852.5 1084,-2852.5 1084,-2807.5 1084,-2807.5 1084,-2801.5 1090,-2795.5 1096,-2795.5"/>
<text text-anchor="middle" x="1163" y="-2849.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">HotCache</text>
<polyline fill="none" stroke="#60b5ac" points="1084,-2841.5 1242,-2841.5 "/>
<text text-anchor="start" x="1092" y="-2826.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">writeFlow *hotPeerCache</text>
<polyline fill="none" stroke="#60b5ac" points="1084,-2818.5 1242,-2818.5 "/>
<text text-anchor="start" x="1092" y="-2803.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">readFlow *hotPeerCache</text>
</g>
<!-- HotStat&#45;&gt;HotCache -->
<g id="edge109" class="edge">
<title>HotStat&#45;&gt;HotCache</title>
<path fill="none" stroke="#666666" d="M827.8,-2654.27C859.92,-2658.83 903.97,-2669.78 933,-2696 963.45,-2723.5 937.87,-2754.28 969,-2781 997.89,-2805.8 1037.65,-2818.33 1073.57,-2824.56"/>
<polygon fill="#666666" stroke="#666666" points="1073.17,-2828.04 1083.59,-2826.15 1074.27,-2821.13 1073.17,-2828.04"/>
</g>
<!-- StoresStats -->
<g id="node84" class="node">
<title>StoresStats</title>
<path fill="none" stroke="#1c2123" d="M1189.5,-2919C1189.5,-2919 1136.5,-2919 1136.5,-2919 1130.5,-2919 1124.5,-2913 1124.5,-2907 1124.5,-2907 1124.5,-2895 1124.5,-2895 1124.5,-2889 1130.5,-2883 1136.5,-2883 1136.5,-2883 1189.5,-2883 1189.5,-2883 1195.5,-2883 1201.5,-2889 1201.5,-2895 1201.5,-2895 1201.5,-2907 1201.5,-2907 1201.5,-2913 1195.5,-2919 1189.5,-2919"/>
<text text-anchor="middle" x="1163" y="-2897.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoresStats</text>
</g>
<!-- HotStat&#45;&gt;StoresStats -->
<g id="edge110" class="edge">
<title>HotStat&#45;&gt;StoresStats</title>
<path fill="none" stroke="#666666" d="M827.63,-2652.59C860.76,-2656.12 906.3,-2666.5 933,-2696 987.17,-2755.84 910.23,-2818.68 969,-2874 1007.43,-2910.17 1070.69,-2912.29 1114.25,-2908.42"/>
<polygon fill="#666666" stroke="#666666" points="1114.73,-2911.89 1124.32,-2907.39 1114.02,-2904.92 1114.73,-2911.89"/>
</g>
<!-- coordinator&#45;&gt;HeartbeatStreams -->
<g id="edge61" class="edge">
<title>coordinator&#45;&gt;HeartbeatStreams</title>
<path fill="none" stroke="#f08a5d" d="M834.41,-1184.34C863.66,-1111.54 907.54,-1027.2 969,-968 1172.87,-771.63 1266.44,-706 1549.5,-706 1549.5,-706 1549.5,-706 2168.5,-706 2236.8,-706 2260.09,-694.09 2321,-725 2550.64,-841.52 2738.87,-1084.14 2838.47,-1232.26"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="2835.85,-1234.63 2844.32,-1241 2841.67,-1230.74 2835.85,-1234.63"/>
</g>
<!-- CheckerController -->
<g id="node52" class="node">
<title>CheckerController</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1041.5,-1554C1041.5,-1554 1284.5,-1554 1284.5,-1554 1290.5,-1554 1296.5,-1560 1296.5,-1566 1296.5,-1566 1296.5,-1772 1296.5,-1772 1296.5,-1778 1290.5,-1784 1284.5,-1784 1284.5,-1784 1041.5,-1784 1041.5,-1784 1035.5,-1784 1029.5,-1778 1029.5,-1772 1029.5,-1772 1029.5,-1566 1029.5,-1566 1029.5,-1560 1035.5,-1554 1041.5,-1554"/>
<text text-anchor="middle" x="1163" y="-1768.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckerController</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1761 1296.5,-1761 "/>
<text text-anchor="start" x="1037.5" y="-1745.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1738 1296.5,-1738 "/>
<text text-anchor="start" x="1037.5" y="-1722.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">opts *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1715 1296.5,-1715 "/>
<text text-anchor="start" x="1037.5" y="-1699.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">opController *OperatorController</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1692 1296.5,-1692 "/>
<text text-anchor="start" x="1037.5" y="-1676.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">learnerChecker *checker.LearnerChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1669 1296.5,-1669 "/>
<text text-anchor="start" x="1037.5" y="-1653.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">replicaChecker *checker.ReplicaChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1646 1296.5,-1646 "/>
<text text-anchor="start" x="1037.5" y="-1630.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleChecker *checker.RuleChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1623 1296.5,-1623 "/>
<text text-anchor="start" x="1037.5" y="-1607.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">mergeChecker *checker.MergeChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1600 1296.5,-1600 "/>
<text text-anchor="start" x="1037.5" y="-1584.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">jointStateChecker *checker.JointStateChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1029.5,-1577 1296.5,-1577 "/>
<text text-anchor="start" x="1037.5" y="-1561.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionWaitingList cache.Cache</text>
</g>
<!-- coordinator&#45;&gt;CheckerController -->
<g id="edge62" class="edge">
<title>coordinator&#45;&gt;CheckerController</title>
<path fill="none" stroke="#f08a5d" d="M911.61,-1445.32C948.02,-1477.85 988.01,-1513.57 1025.14,-1546.74"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1023.23,-1549.73 1033.02,-1553.78 1027.89,-1544.51 1023.23,-1549.73"/>
</g>
<!-- RegionScatterer -->
<g id="node53" class="node">
<title>RegionScatterer</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1053,-1803C1053,-1803 1273,-1803 1273,-1803 1279,-1803 1285,-1809 1285,-1815 1285,-1815 1285,-1929 1285,-1929 1285,-1935 1279,-1941 1273,-1941 1273,-1941 1053,-1941 1053,-1941 1047,-1941 1041,-1935 1041,-1929 1041,-1929 1041,-1815 1041,-1815 1041,-1809 1047,-1803 1053,-1803"/>
<text text-anchor="middle" x="1163" y="-1925.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionScatterer</text>
<polyline fill="none" stroke="#60b5ac" points="1041,-1918 1285,-1918 "/>
<text text-anchor="start" x="1049" y="-1902.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="1041,-1895 1285,-1895 "/>
<text text-anchor="start" x="1049" y="-1879.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">name string</text>
<polyline fill="none" stroke="#60b5ac" points="1041,-1872 1285,-1872 "/>
<text text-anchor="start" x="1049" y="-1856.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1041,-1849 1285,-1849 "/>
<text text-anchor="start" x="1049" y="-1833.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ordinaryEngine engineContext</text>
<polyline fill="none" stroke="#60b5ac" points="1041,-1826 1285,-1826 "/>
<text text-anchor="start" x="1049" y="-1810.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">specialEngines map[string]engineContext</text>
</g>
<!-- coordinator&#45;&gt;RegionScatterer -->
<g id="edge63" class="edge">
<title>coordinator&#45;&gt;RegionScatterer</title>
<path fill="none" stroke="#f08a5d" d="M814.47,-1483.59C839.59,-1582.54 885.96,-1709.04 969,-1793 986.59,-1810.78 1008.74,-1824.72 1031.7,-1835.59"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1030.33,-1838.82 1040.89,-1839.76 1033.23,-1832.44 1030.33,-1838.82"/>
</g>
<!-- RegionSplitter -->
<g id="node54" class="node">
<title>RegionSplitter</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1088,-1330.5C1088,-1330.5 1238,-1330.5 1238,-1330.5 1244,-1330.5 1250,-1336.5 1250,-1342.5 1250,-1342.5 1250,-1387.5 1250,-1387.5 1250,-1393.5 1244,-1399.5 1238,-1399.5 1238,-1399.5 1088,-1399.5 1088,-1399.5 1082,-1399.5 1076,-1393.5 1076,-1387.5 1076,-1387.5 1076,-1342.5 1076,-1342.5 1076,-1336.5 1082,-1330.5 1088,-1330.5"/>
<text text-anchor="middle" x="1163" y="-1384.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionSplitter</text>
<polyline fill="none" stroke="#60b5ac" points="1076,-1376.5 1250,-1376.5 "/>
<text text-anchor="start" x="1084" y="-1361.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1076,-1353.5 1250,-1353.5 "/>
<text text-anchor="start" x="1084" y="-1338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">handler SplitRegionsHandler</text>
</g>
<!-- coordinator&#45;&gt;RegionSplitter -->
<g id="edge64" class="edge">
<title>coordinator&#45;&gt;RegionSplitter</title>
<path fill="none" stroke="#f08a5d" d="M911.61,-1344.3C961.85,-1348.45 1018.89,-1353.17 1065.84,-1357.05"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1065.74,-1360.55 1076,-1357.89 1066.32,-1353.58 1065.74,-1360.55"/>
</g>
<!-- scheduleController -->
<g id="node55" class="node">
<title>scheduleController</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1049.5,-978C1049.5,-978 1276.5,-978 1276.5,-978 1282.5,-978 1288.5,-984 1288.5,-990 1288.5,-990 1288.5,-1150 1288.5,-1150 1288.5,-1156 1282.5,-1162 1276.5,-1162 1276.5,-1162 1049.5,-1162 1049.5,-1162 1043.5,-1162 1037.5,-1156 1037.5,-1150 1037.5,-1150 1037.5,-990 1037.5,-990 1037.5,-984 1043.5,-978 1049.5,-978"/>
<text text-anchor="middle" x="1163" y="-1146.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">scheduleController</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1139 1288.5,-1139 "/>
<text text-anchor="start" x="1045.5" y="-1123.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">schedule.Scheduler</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1116 1288.5,-1116 "/>
<text text-anchor="start" x="1045.5" y="-1100.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster *RaftCluster</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1093 1288.5,-1093 "/>
<text text-anchor="start" x="1045.5" y="-1077.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">opController *schedule.OperatorController</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1070 1288.5,-1070 "/>
<text text-anchor="start" x="1045.5" y="-1054.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">nextInterval time.Duration</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1047 1288.5,-1047 "/>
<text text-anchor="start" x="1045.5" y="-1031.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1024 1288.5,-1024 "/>
<text text-anchor="start" x="1045.5" y="-1008.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cancel context.CancelFunc</text>
<polyline fill="none" stroke="#60b5ac" points="1037.5,-1001 1288.5,-1001 "/>
<text text-anchor="start" x="1045.5" y="-985.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">delayUntil int64</text>
</g>
<!-- coordinator&#45;&gt;scheduleController -->
<g id="edge65" class="edge">
<title>coordinator&#45;&gt;scheduleController</title>
<path fill="none" stroke="#f08a5d" d="M911.7,-1215.13C930.32,-1199.54 949.74,-1184.35 969,-1171 987.63,-1158.08 1008.11,-1145.68 1028.56,-1134.26"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1030.26,-1137.32 1037.32,-1129.42 1026.87,-1131.19 1030.26,-1137.32"/>
</g>
<!-- OperatorController -->
<g id="node56" class="node">
<title>OperatorController</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2369,-1246.5C2369,-1246.5 2734,-1246.5 2734,-1246.5 2740,-1246.5 2746,-1252.5 2746,-1258.5 2746,-1258.5 2746,-1533.5 2746,-1533.5 2746,-1539.5 2740,-1545.5 2734,-1545.5 2734,-1545.5 2369,-1545.5 2369,-1545.5 2363,-1545.5 2357,-1539.5 2357,-1533.5 2357,-1533.5 2357,-1258.5 2357,-1258.5 2357,-1252.5 2363,-1246.5 2369,-1246.5"/>
<text text-anchor="middle" x="2551.5" y="-1530.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">OperatorController</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1522.5 2746,-1522.5 "/>
<text text-anchor="start" x="2365" y="-1507.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1499.5 2746,-1499.5 "/>
<text text-anchor="start" x="2365" y="-1484.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ctx context.Context</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1476.5 2746,-1476.5 "/>
<text text-anchor="start" x="2365" y="-1461.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1453.5 2746,-1453.5 "/>
<text text-anchor="start" x="2365" y="-1438.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">operators map[uint64]*operator.Operator</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1430.5 2746,-1430.5 "/>
<text text-anchor="start" x="2365" y="-1415.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">hbStreams *hbstream.HeartbeatStreams</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1407.5 2746,-1407.5 "/>
<text text-anchor="start" x="2365" y="-1392.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">histories *list.List</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1384.5 2746,-1384.5 "/>
<text text-anchor="start" x="2365" y="-1369.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">counts map[operator.OpKind]uint64</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1361.5 2746,-1361.5 "/>
<text text-anchor="start" x="2365" y="-1346.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opRecords *OperatorRecords</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1338.5 2746,-1338.5 "/>
<text text-anchor="start" x="2365" y="-1323.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">storesLimit map[uint64]map[storelimit.Type]*storelimit.StoreLimit</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1315.5 2746,-1315.5 "/>
<text text-anchor="start" x="2365" y="-1300.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">wop WaitingOperator</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1292.5 2746,-1292.5 "/>
<text text-anchor="start" x="2365" y="-1277.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">wopStatus *WaitingOperatorStatus</text>
<polyline fill="none" stroke="#60b5ac" points="2357,-1269.5 2746,-1269.5 "/>
<text text-anchor="start" x="2365" y="-1254.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opNotifierQueue operatorQueue</text>
</g>
<!-- coordinator&#45;&gt;OperatorController -->
<g id="edge66" class="edge">
<title>coordinator&#45;&gt;OperatorController</title>
<path fill="none" stroke="#f08a5d" d="M911.79,-1324.45C930.94,-1323.17 950.49,-1321.96 969,-1321 1226.79,-1307.58 1291.36,-1302 1549.5,-1302 1549.5,-1302 1549.5,-1302 1862,-1302 2066.17,-1302 2120.07,-1284.73 2321,-1321 2329.54,-1322.54 2338.2,-1324.33 2346.91,-1326.3"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="2346.22,-1329.73 2356.75,-1328.61 2347.82,-1322.92 2346.22,-1329.73"/>
</g>
<!-- PluginInterface -->
<g id="node57" class="node">
<title>PluginInterface</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1063,-1181C1063,-1181 1263,-1181 1263,-1181 1269,-1181 1275,-1187 1275,-1193 1275,-1193 1275,-1261 1275,-1261 1275,-1267 1269,-1273 1263,-1273 1263,-1273 1063,-1273 1063,-1273 1057,-1273 1051,-1267 1051,-1261 1051,-1261 1051,-1193 1051,-1193 1051,-1187 1057,-1181 1063,-1181"/>
<text text-anchor="middle" x="1163" y="-1257.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">PluginInterface</text>
<polyline fill="none" stroke="#60b5ac" points="1051,-1250 1275,-1250 "/>
<text text-anchor="start" x="1059" y="-1234.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pluginMap map[string]*plugin.Plugin</text>
<polyline fill="none" stroke="#60b5ac" points="1051,-1227 1275,-1227 "/>
<text text-anchor="start" x="1059" y="-1211.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pluginMapLock sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="1051,-1204 1275,-1204 "/>
<text text-anchor="middle" x="1163" y="-1188.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- coordinator&#45;&gt;PluginInterface -->
<g id="edge67" class="edge">
<title>coordinator&#45;&gt;PluginInterface</title>
<path fill="none" stroke="#f08a5d" d="M911.61,-1298.44C953.24,-1286.57 999.55,-1273.35 1040.91,-1261.55"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1042.11,-1264.85 1050.76,-1258.74 1040.19,-1258.12 1042.11,-1264.85"/>
</g>
<!-- ServerStream -->
<g id="node49" class="node">
<title>ServerStream</title>
<path fill="none" stroke="#1c2123" d="M1196.5,-3141C1196.5,-3141 1129.5,-3141 1129.5,-3141 1123.5,-3141 1117.5,-3135 1117.5,-3129 1117.5,-3129 1117.5,-3117 1117.5,-3117 1117.5,-3111 1123.5,-3105 1129.5,-3105 1129.5,-3105 1196.5,-3105 1196.5,-3105 1202.5,-3105 1208.5,-3111 1208.5,-3117 1208.5,-3117 1208.5,-3129 1208.5,-3129 1208.5,-3135 1202.5,-3141 1196.5,-3141"/>
<text text-anchor="middle" x="1163" y="-3119.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerStream</text>
</g>
<!-- RegionSyncer&#45;&gt;ServerStream -->
<g id="edge58" class="edge">
<title>RegionSyncer&#45;&gt;ServerStream</title>
<path fill="none" stroke="#666666" d="M905.06,-3070.66C925.88,-3080.38 947.71,-3089.33 969,-3096 1014.35,-3110.2 1068.03,-3116.95 1107.25,-3120.14"/>
<polygon fill="#666666" stroke="#666666" points="1107.16,-3123.65 1117.4,-3120.92 1107.7,-3116.67 1107.16,-3123.65"/>
</g>
<!-- historyBuffer -->
<g id="node50" class="node">
<title>historyBuffer</title>
<path fill="none" stroke="#1c2123" d="M1195.5,-3087C1195.5,-3087 1130.5,-3087 1130.5,-3087 1124.5,-3087 1118.5,-3081 1118.5,-3075 1118.5,-3075 1118.5,-3063 1118.5,-3063 1118.5,-3057 1124.5,-3051 1130.5,-3051 1130.5,-3051 1195.5,-3051 1195.5,-3051 1201.5,-3051 1207.5,-3057 1207.5,-3063 1207.5,-3063 1207.5,-3075 1207.5,-3075 1207.5,-3081 1201.5,-3087 1195.5,-3087"/>
<text text-anchor="middle" x="1163" y="-3065.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">historyBuffer</text>
</g>
<!-- RegionSyncer&#45;&gt;historyBuffer -->
<g id="edge59" class="edge">
<title>RegionSyncer&#45;&gt;historyBuffer</title>
<path fill="none" stroke="#666666" d="M905.41,-3025.74C926.58,-3029.55 948.43,-3033.43 969,-3037 1016,-3045.16 1069.52,-3054 1108.26,-3060.31"/>
<polygon fill="#666666" stroke="#666666" points="1107.84,-3063.79 1118.28,-3061.94 1108.97,-3056.88 1107.84,-3063.79"/>
</g>
<!-- Bucket -->
<g id="node51" class="node">
<title>Bucket</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3436,-2591.5C3436,-2591.5 3563,-2591.5 3563,-2591.5 3569,-2591.5 3575,-2597.5 3575,-2603.5 3575,-2603.5 3575,-2648.5 3575,-2648.5 3575,-2654.5 3569,-2660.5 3563,-2660.5 3563,-2660.5 3436,-2660.5 3436,-2660.5 3430,-2660.5 3424,-2654.5 3424,-2648.5 3424,-2648.5 3424,-2603.5 3424,-2603.5 3424,-2597.5 3430,-2591.5 3436,-2591.5"/>
<text text-anchor="middle" x="3499.5" y="-2645.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Bucket</text>
<polyline fill="none" stroke="#60b5ac" points="3424,-2637.5 3575,-2637.5 "/>
<text text-anchor="start" x="3432" y="-2622.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">weight float64</text>
<polyline fill="none" stroke="#60b5ac" points="3424,-2614.5 3575,-2614.5 "/>
<text text-anchor="start" x="3432" y="-2599.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ops []*operator.Operator</text>
</g>
<!-- RegionSyncer&#45;&gt;Bucket -->
<g id="edge60" class="edge">
<title>RegionSyncer&#45;&gt;Bucket</title>
<path fill="none" stroke="#666666" d="M905.19,-3008.77C1055.05,-3014.4 1321.41,-3023 1549.5,-3023 1549.5,-3023 1549.5,-3023 2917.5,-3023 3109.91,-3023 3193.42,-3115.82 3350,-3004 3460.05,-2925.41 3488.55,-2752.4 3495.93,-2670.57"/>
<polygon fill="#666666" stroke="#666666" points="3499.42,-2670.84 3496.76,-2660.59 3492.44,-2670.26 3499.42,-2670.84"/>
</g>
<!-- RuleManager&#45;&gt;Storage -->
<g id="edge138" class="edge">
<title>RuleManager&#45;&gt;Storage</title>
<path fill="none" stroke="#666666" d="M1937.27,-2556.83C1981.91,-2604.77 2038.54,-2665.58 2084.34,-2714.77"/>
<polygon fill="#666666" stroke="#666666" points="2081.93,-2717.32 2091.31,-2722.25 2087.05,-2712.55 2081.93,-2717.32"/>
</g>
<!-- ruleConfig -->
<g id="node79" class="node">
<title>ruleConfig</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2469.5,-2327.5C2469.5,-2327.5 2633.5,-2327.5 2633.5,-2327.5 2639.5,-2327.5 2645.5,-2333.5 2645.5,-2339.5 2645.5,-2339.5 2645.5,-2384.5 2645.5,-2384.5 2645.5,-2390.5 2639.5,-2396.5 2633.5,-2396.5 2633.5,-2396.5 2469.5,-2396.5 2469.5,-2396.5 2463.5,-2396.5 2457.5,-2390.5 2457.5,-2384.5 2457.5,-2384.5 2457.5,-2339.5 2457.5,-2339.5 2457.5,-2333.5 2463.5,-2327.5 2469.5,-2327.5"/>
<text text-anchor="middle" x="2551.5" y="-2381.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleConfig</text>
<polyline fill="none" stroke="#60b5ac" points="2457.5,-2373.5 2645.5,-2373.5 "/>
<text text-anchor="start" x="2465.5" y="-2358.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">rules map[[2]string]*Rule</text>
<polyline fill="none" stroke="#60b5ac" points="2457.5,-2350.5 2645.5,-2350.5 "/>
<text text-anchor="start" x="2465.5" y="-2335.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">groups map[string]*RuleGroup</text>
</g>
<!-- RuleManager&#45;&gt;ruleConfig -->
<g id="edge103" class="edge">
<title>RuleManager&#45;&gt;ruleConfig</title>
<path fill="none" stroke="#666666" d="M1978.18,-2441.29C1990.22,-2438.25 2002.32,-2435.41 2014,-2433 2163.23,-2402.18 2338.71,-2381.92 2447.28,-2371.2"/>
<polygon fill="#666666" stroke="#666666" points="2447.64,-2374.68 2457.25,-2370.23 2446.96,-2367.72 2447.64,-2374.68"/>
</g>
<!-- ruleList -->
<g id="node80" class="node">
<title>ruleList</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2117,-2442C2117,-2442 2218,-2442 2218,-2442 2224,-2442 2230,-2448 2230,-2454 2230,-2454 2230,-2476 2230,-2476 2230,-2482 2224,-2488 2218,-2488 2218,-2488 2117,-2488 2117,-2488 2111,-2488 2105,-2482 2105,-2476 2105,-2476 2105,-2454 2105,-2454 2105,-2448 2111,-2442 2117,-2442"/>
<text text-anchor="middle" x="2167.5" y="-2472.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleList</text>
<polyline fill="none" stroke="#60b5ac" points="2105,-2465 2230,-2465 "/>
<text text-anchor="middle" x="2167.5" y="-2449.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ranges []rangeRules</text>
</g>
<!-- RuleManager&#45;&gt;ruleList -->
<g id="edge104" class="edge">
<title>RuleManager&#45;&gt;ruleList</title>
<path fill="none" stroke="#666666" d="M1978.42,-2471.79C2017.54,-2470.38 2060.01,-2468.85 2094.67,-2467.59"/>
<polygon fill="#666666" stroke="#666666" points="2094.83,-2471.09 2104.7,-2467.23 2094.58,-2464.1 2094.83,-2471.09"/>
</g>
<!-- ModeManager&#45;&gt;Storage -->
<g id="edge106" class="edge">
<title>ModeManager&#45;&gt;Storage</title>
<path fill="none" stroke="#666666" d="M819.74,-2139.06C860.7,-2333.71 930.16,-2640.04 969,-2678 1107.45,-2813.34 1201.07,-2752.52 1393,-2778 1602.5,-2805.81 1846.58,-2808.88 2003.64,-2807.12"/>
<polygon fill="#666666" stroke="#666666" points="2003.9,-2810.62 2013.86,-2807 2003.82,-2803.62 2003.9,-2810.62"/>
</g>
<!-- FileReplicater -->
<g id="node81" class="node">
<title>FileReplicater</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1088.5,-2015C1088.5,-2015 1237.5,-2015 1237.5,-2015 1243.5,-2015 1249.5,-2021 1249.5,-2027 1249.5,-2027 1249.5,-2049 1249.5,-2049 1249.5,-2055 1243.5,-2061 1237.5,-2061 1237.5,-2061 1088.5,-2061 1088.5,-2061 1082.5,-2061 1076.5,-2055 1076.5,-2049 1076.5,-2049 1076.5,-2027 1076.5,-2027 1076.5,-2021 1082.5,-2015 1088.5,-2015"/>
<text text-anchor="middle" x="1163" y="-2045.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">type FileReplicater interface</text>
<polyline fill="none" stroke="#60b5ac" points="1076.5,-2038 1249.5,-2038 "/>
<text text-anchor="start" x="1084.5" y="-2022.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReplicateFileToAllMembers</text>
</g>
<!-- ModeManager&#45;&gt;FileReplicater -->
<g id="edge107" class="edge">
<title>ModeManager&#45;&gt;FileReplicater</title>
<path fill="none" stroke="#666666" d="M933.06,-2001.37C977.8,-2008.53 1025.86,-2016.22 1066.33,-2022.69"/>
<polygon fill="#666666" stroke="#666666" points="1066.02,-2026.19 1076.45,-2024.31 1067.13,-2019.28 1066.02,-2026.19"/>
</g>
<!-- drAutoSyncStatus -->
<g id="node82" class="node">
<title>drAutoSyncStatus</title>
<path fill="none" stroke="#1c2123" d="M1208.5,-1996C1208.5,-1996 1117.5,-1996 1117.5,-1996 1111.5,-1996 1105.5,-1990 1105.5,-1984 1105.5,-1984 1105.5,-1972 1105.5,-1972 1105.5,-1966 1111.5,-1960 1117.5,-1960 1117.5,-1960 1208.5,-1960 1208.5,-1960 1214.5,-1960 1220.5,-1966 1220.5,-1972 1220.5,-1972 1220.5,-1984 1220.5,-1984 1220.5,-1990 1214.5,-1996 1208.5,-1996"/>
<text text-anchor="middle" x="1163" y="-1974.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">drAutoSyncStatus</text>
</g>
<!-- ModeManager&#45;&gt;drAutoSyncStatus -->
<g id="edge108" class="edge">
<title>ModeManager&#45;&gt;drAutoSyncStatus</title>
<path fill="none" stroke="#666666" d="M933.06,-1978C988.96,-1978 1050.04,-1978 1095.03,-1978"/>
<polygon fill="#666666" stroke="#666666" points="1095.25,-1981.5 1105.25,-1978 1095.25,-1974.5 1095.25,-1981.5"/>
</g>
<!-- component_Manager&#45;&gt;Storage -->
<g id="edge112" class="edge">
<title>component_Manager&#45;&gt;Storage</title>
<path fill="none" stroke="#666666" d="M877.79,-2774.63C898.16,-2783.54 918.12,-2795.64 933,-2812 969.32,-2851.94 925.54,-2895.98 969,-2928 1035.11,-2976.7 1626.61,-2938.9 1708,-2928 1808.2,-2914.59 1917.52,-2885.38 2004.28,-2858.56"/>
<polygon fill="#666666" stroke="#666666" points="2005.43,-2861.87 2013.94,-2855.56 2003.35,-2855.19 2005.43,-2861.87"/>
</g>
<!-- RegionStorage&#45;&gt;encryptionkm_KeyManager -->
<g id="edge26" class="edge">
<title>RegionStorage&#45;&gt;encryptionkm_KeyManager</title>
<path fill="none" stroke="#666666" d="M2705.13,-2862.29C2759.99,-2883.6 2818.47,-2906.31 2859.81,-2922.37"/>
<polygon fill="#666666" stroke="#666666" points="2858.56,-2925.64 2869.14,-2925.99 2861.09,-2919.11 2858.56,-2925.64"/>
</g>
<!-- LeveldbKV -->
<g id="node24" class="node">
<title>LeveldbKV</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2885.5,-2780C2885.5,-2780 2947.5,-2780 2947.5,-2780 2953.5,-2780 2959.5,-2786 2959.5,-2792 2959.5,-2792 2959.5,-2814 2959.5,-2814 2959.5,-2820 2953.5,-2826 2947.5,-2826 2947.5,-2826 2885.5,-2826 2885.5,-2826 2879.5,-2826 2873.5,-2820 2873.5,-2814 2873.5,-2814 2873.5,-2792 2873.5,-2792 2873.5,-2786 2879.5,-2780 2885.5,-2780"/>
<text text-anchor="middle" x="2916.5" y="-2810.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeveldbKV</text>
<polyline fill="none" stroke="#60b5ac" points="2873.5,-2803 2959.5,-2803 "/>
<text text-anchor="middle" x="2916.5" y="-2787.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">*leveldb.DB</text>
</g>
<!-- RegionStorage&#45;&gt;LeveldbKV -->
<g id="edge27" class="edge">
<title>RegionStorage&#45;&gt;LeveldbKV</title>
<path fill="none" stroke="#666666" d="M2705.13,-2803C2761.43,-2803 2821.54,-2803 2863.03,-2803"/>
<polygon fill="#666666" stroke="#666666" points="2863.16,-2806.5 2873.16,-2803 2863.16,-2799.5 2863.16,-2806.5"/>
</g>
<!-- metapb_Region -->
<g id="node25" class="node">
<title>metapb_Region</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3742,-1686C3742,-1686 3892,-1686 3892,-1686 3898,-1686 3904,-1692 3904,-1698 3904,-1698 3904,-1812 3904,-1812 3904,-1818 3898,-1824 3892,-1824 3892,-1824 3742,-1824 3742,-1824 3736,-1824 3730,-1818 3730,-1812 3730,-1812 3730,-1698 3730,-1698 3730,-1692 3736,-1686 3742,-1686"/>
<text text-anchor="middle" x="3817" y="-1808.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">metapb.Region</text>
<polyline fill="none" stroke="#60b5ac" points="3730,-1801 3904,-1801 "/>
<text text-anchor="start" x="3738" y="-1785.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Id uint64</text>
<polyline fill="none" stroke="#60b5ac" points="3730,-1778 3904,-1778 "/>
<text text-anchor="start" x="3738" y="-1762.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartKey []byte </text>
<polyline fill="none" stroke="#60b5ac" points="3730,-1755 3904,-1755 "/>
<text text-anchor="start" x="3738" y="-1739.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EndKey []byte </text>
<polyline fill="none" stroke="#60b5ac" points="3730,-1732 3904,-1732 "/>
<text text-anchor="start" x="3738" y="-1716.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionEpoch *RegionEpoch</text>
<polyline fill="none" stroke="#60b5ac" points="3730,-1709 3904,-1709 "/>
<text text-anchor="start" x="3738" y="-1693.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Peers []*Peer </text>
</g>
<!-- RegionStorage&#45;&gt;metapb_Region -->
<g id="edge28" class="edge">
<title>RegionStorage&#45;&gt;metapb_Region</title>
<path fill="none" stroke="#666666" d="M2705.22,-2755.48C2876.21,-2696.71 3154.87,-2583.68 3350,-2418 3552.21,-2246.31 3709.34,-1967.89 3778.1,-1833.08"/>
<polygon fill="#666666" stroke="#666666" points="3781.3,-1834.52 3782.7,-1824.02 3775.06,-1831.35 3781.3,-1834.52"/>
</g>
<!-- encryptionkm_KeyManager&#45;&gt;etcd_clientv3_Client -->
<g id="edge33" class="edge">
<title>encryptionkm_KeyManager&#45;&gt;etcd_clientv3_Client</title>
<path fill="none" stroke="#666666" d="M2925.07,-2962.08C2965.6,-3058.95 3157.01,-3516.43 3206.04,-3633.61"/>
<polygon fill="#666666" stroke="#666666" points="3202.87,-3635.09 3209.95,-3642.97 3209.32,-3632.39 3202.87,-3635.09"/>
</g>
<!-- MasterKey -->
<g id="node30" class="node">
<title>MasterKey</title>
<path fill="none" stroke="#1c2123" d="M3245,-2887C3245,-2887 3192,-2887 3192,-2887 3186,-2887 3180,-2881 3180,-2875 3180,-2875 3180,-2863 3180,-2863 3180,-2857 3186,-2851 3192,-2851 3192,-2851 3245,-2851 3245,-2851 3251,-2851 3257,-2857 3257,-2863 3257,-2863 3257,-2875 3257,-2875 3257,-2881 3251,-2887 3245,-2887"/>
<text text-anchor="middle" x="3218.5" y="-2865.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">MasterKey</text>
</g>
<!-- encryptionkm_KeyManager&#45;&gt;MasterKey -->
<g id="edge34" class="edge">
<title>encryptionkm_KeyManager&#45;&gt;MasterKey</title>
<path fill="none" stroke="#666666" d="M2977.23,-2925.95C3009.57,-2916.46 3050.31,-2904.98 3087,-2896 3114.36,-2889.31 3145.2,-2882.87 3170.04,-2877.97"/>
<polygon fill="#666666" stroke="#666666" points="3170.79,-2881.39 3179.93,-2876.03 3169.45,-2874.52 3170.79,-2881.39"/>
</g>
<!-- EncryptionMethod -->
<g id="node31" class="node">
<title>EncryptionMethod</title>
<path fill="none" stroke="#1c2123" d="M3266,-2995C3266,-2995 3171,-2995 3171,-2995 3165,-2995 3159,-2989 3159,-2983 3159,-2983 3159,-2971 3159,-2971 3159,-2965 3165,-2959 3171,-2959 3171,-2959 3266,-2959 3266,-2959 3272,-2959 3278,-2965 3278,-2971 3278,-2971 3278,-2983 3278,-2983 3278,-2989 3272,-2995 3266,-2995"/>
<text text-anchor="middle" x="3218.5" y="-2973.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">EncryptionMethod</text>
</g>
<!-- encryptionkm_KeyManager&#45;&gt;EncryptionMethod -->
<g id="edge35" class="edge">
<title>encryptionkm_KeyManager&#45;&gt;EncryptionMethod</title>
<path fill="none" stroke="#666666" d="M3001.87,-2953.28C3048.33,-2958.39 3105.26,-2964.65 3148.96,-2969.46"/>
<polygon fill="#666666" stroke="#666666" points="3148.6,-2972.94 3158.92,-2970.56 3149.36,-2965.98 3148.6,-2972.94"/>
</g>
<!-- keyManagerHelper -->
<g id="node32" class="node">
<title>keyManagerHelper</title>
<path fill="none" stroke="#1c2123" d="M3267.5,-2941C3267.5,-2941 3169.5,-2941 3169.5,-2941 3163.5,-2941 3157.5,-2935 3157.5,-2929 3157.5,-2929 3157.5,-2917 3157.5,-2917 3157.5,-2911 3163.5,-2905 3169.5,-2905 3169.5,-2905 3267.5,-2905 3267.5,-2905 3273.5,-2905 3279.5,-2911 3279.5,-2917 3279.5,-2917 3279.5,-2929 3279.5,-2929 3279.5,-2935 3273.5,-2941 3267.5,-2941"/>
<text text-anchor="middle" x="3218.5" y="-2919.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">keyManagerHelper</text>
</g>
<!-- encryptionkm_KeyManager&#45;&gt;keyManagerHelper -->
<g id="edge36" class="edge">
<title>encryptionkm_KeyManager&#45;&gt;keyManagerHelper</title>
<path fill="none" stroke="#666666" d="M3001.87,-2938.09C3047.59,-2934.89 3103.45,-2930.98 3146.86,-2927.94"/>
<polygon fill="#666666" stroke="#666666" points="3147.32,-2931.42 3157.05,-2927.23 3146.83,-2924.44 3147.32,-2931.42"/>
</g>
<!-- metapb_Region&#45;&gt;RegionEpoch -->
<g id="edge29" class="edge">
<title>metapb_Region&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M3904.13,-1786.95C3932.08,-1800.14 3961.83,-1817.45 3985,-1839 4014.85,-1866.75 4037.75,-1907.29 4052.3,-1938.12"/>
<polygon fill="#666666" stroke="#666666" points="4049.19,-1939.73 4056.55,-1947.35 4055.55,-1936.8 4049.19,-1939.73"/>
</g>
<!-- metapb_Region&#45;&gt;Peer -->
<g id="edge30" class="edge">
<title>metapb_Region&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M3904.33,-1721.92C3931.99,-1708.73 3961.5,-1691.7 3985,-1671 4007.91,-1650.81 4027.48,-1623.17 4042.09,-1598.82"/>
<polygon fill="#666666" stroke="#666666" points="4045.21,-1600.42 4047.25,-1590.02 4039.17,-1596.88 4045.21,-1600.42"/>
</g>
<!-- PeerRoleType -->
<g id="node103" class="node">
<title>PeerRoleType</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M4170,-1475C4170,-1475 4366,-1475 4366,-1475 4372,-1475 4378,-1481 4378,-1487 4378,-1487 4378,-1601 4378,-1601 4378,-1607 4372,-1613 4366,-1613 4366,-1613 4170,-1613 4170,-1613 4164,-1613 4158,-1607 4158,-1601 4158,-1601 4158,-1487 4158,-1487 4158,-1481 4164,-1475 4170,-1475"/>
<text text-anchor="middle" x="4268" y="-1597.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">PeerRoleType</text>
<polyline fill="none" stroke="#60b5ac" points="4158,-1590 4378,-1590 "/>
<text text-anchor="start" x="4166" y="-1574.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Voter PeerRoleType = &quot;voter&quot;</text>
<polyline fill="none" stroke="#60b5ac" points="4158,-1567 4378,-1567 "/>
<text text-anchor="start" x="4166" y="-1551.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Leader PeerRoleType = &quot;leader&quot;</text>
<polyline fill="none" stroke="#60b5ac" points="4158,-1544 4378,-1544 "/>
<text text-anchor="start" x="4166" y="-1528.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Follower PeerRoleType = &quot;follower&quot;</text>
<polyline fill="none" stroke="#60b5ac" points="4158,-1521 4378,-1521 "/>
<text text-anchor="start" x="4166" y="-1505.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Learner PeerRoleType = &quot;learner&quot;</text>
<polyline fill="none" stroke="#60b5ac" points="4158,-1498 4378,-1498 "/>
<text text-anchor="middle" x="4268" y="-1482.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- Peer&#45;&gt;PeerRoleType -->
<g id="edge139" class="edge">
<title>Peer&#45;&gt;PeerRoleType</title>
<path fill="none" stroke="#666666" d="M4120.58,-1544C4129.01,-1544 4138.1,-1544 4147.49,-1544"/>
<polygon fill="#666666" stroke="#666666" points="4147.77,-1547.5 4157.77,-1544 4147.77,-1540.5 4147.77,-1547.5"/>
</g>
<!-- StoreInfo -->
<g id="node35" class="node">
<title>StoreInfo</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1501.5,-386.5C1501.5,-386.5 1599.5,-386.5 1599.5,-386.5 1605.5,-386.5 1611.5,-392.5 1611.5,-398.5 1611.5,-398.5 1611.5,-443.5 1611.5,-443.5 1611.5,-449.5 1605.5,-455.5 1599.5,-455.5 1599.5,-455.5 1501.5,-455.5 1501.5,-455.5 1495.5,-455.5 1489.5,-449.5 1489.5,-443.5 1489.5,-443.5 1489.5,-398.5 1489.5,-398.5 1489.5,-392.5 1495.5,-386.5 1501.5,-386.5"/>
<text text-anchor="middle" x="1550.5" y="-440.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoreInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1489.5,-432.5 1611.5,-432.5 "/>
<text text-anchor="start" x="1497.5" y="-417.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Store *MetaStore </text>
<polyline fill="none" stroke="#60b5ac" points="1489.5,-409.5 1611.5,-409.5 "/>
<text text-anchor="start" x="1497.5" y="-394.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Status *StoreStatus</text>
</g>
<!-- StoresInfo&#45;&gt;StoreInfo -->
<g id="edge39" class="edge">
<title>StoresInfo&#45;&gt;StoreInfo</title>
<path fill="none" stroke="#666666" d="M1223.81,-464.09C1292.79,-454.96 1406.05,-439.98 1479.19,-430.3"/>
<polygon fill="#666666" stroke="#666666" points="1479.78,-433.75 1489.23,-428.97 1478.86,-426.82 1479.78,-433.75"/>
</g>
<!-- regionTree -->
<g id="node38" class="node">
<title>regionTree</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1817,-49C1817,-49 1905,-49 1905,-49 1911,-49 1917,-55 1917,-61 1917,-61 1917,-83 1917,-83 1917,-89 1911,-95 1905,-95 1905,-95 1817,-95 1817,-95 1811,-95 1805,-89 1805,-83 1805,-83 1805,-61 1805,-61 1805,-55 1811,-49 1817,-49"/>
<text text-anchor="middle" x="1861" y="-79.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionTree</text>
<polyline fill="none" stroke="#60b5ac" points="1805,-72 1917,-72 "/>
<text text-anchor="start" x="1813" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">tree *btree.BTree</text>
</g>
<!-- RegionsInfo&#45;&gt;regionTree -->
<g id="edge42" class="edge">
<title>RegionsInfo&#45;&gt;regionTree</title>
<path fill="none" stroke="#666666" d="M1291.06,-249.03C1324.13,-236.92 1359.79,-224.19 1393,-213 1547.67,-160.88 1587.5,-151.33 1744,-105 1760.53,-100.11 1778.43,-94.95 1795.1,-90.2"/>
<polygon fill="#666666" stroke="#666666" points="1796.1,-93.55 1804.76,-87.46 1794.18,-86.82 1796.1,-93.55"/>
</g>
<!-- regionMap -->
<g id="node39" class="node">
<title>regionMap</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1479,-1982C1479,-1982 1622,-1982 1622,-1982 1628,-1982 1634,-1988 1634,-1994 1634,-1994 1634,-2062 1634,-2062 1634,-2068 1628,-2074 1622,-2074 1622,-2074 1479,-2074 1479,-2074 1473,-2074 1467,-2068 1467,-2062 1467,-2062 1467,-1994 1467,-1994 1467,-1988 1473,-1982 1479,-1982"/>
<text text-anchor="middle" x="1550.5" y="-2058.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionMap</text>
<polyline fill="none" stroke="#60b5ac" points="1467,-2051 1634,-2051 "/>
<text text-anchor="start" x="1475" y="-2035.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">m map[uint64]*RegionInfo</text>
<polyline fill="none" stroke="#60b5ac" points="1467,-2028 1634,-2028 "/>
<text text-anchor="start" x="1475" y="-2012.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">totalSize int64</text>
<polyline fill="none" stroke="#60b5ac" points="1467,-2005 1634,-2005 "/>
<text text-anchor="start" x="1475" y="-1989.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">totalKeys int64</text>
</g>
<!-- RegionsInfo&#45;&gt;regionMap -->
<g id="edge43" class="edge">
<title>RegionsInfo&#45;&gt;regionMap</title>
<path fill="none" stroke="#666666" d="M1291.25,-357.99C1317.45,-376.68 1341.69,-399.91 1357,-428 1398.05,-503.34 1342.78,-1902.43 1393,-1972 1408.28,-1993.17 1432.32,-2006.37 1457,-2014.59"/>
<polygon fill="#666666" stroke="#666666" points="1456.26,-2018.03 1466.85,-2017.61 1458.31,-2011.34 1456.26,-2018.03"/>
</g>
<!-- regionSubTree -->
<g id="node40" class="node">
<title>regionSubTree</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1512.5,-223C1512.5,-223 1588.5,-223 1588.5,-223 1594.5,-223 1600.5,-229 1600.5,-235 1600.5,-235 1600.5,-303 1600.5,-303 1600.5,-309 1594.5,-315 1588.5,-315 1588.5,-315 1512.5,-315 1512.5,-315 1506.5,-315 1500.5,-309 1500.5,-303 1500.5,-303 1500.5,-235 1500.5,-235 1500.5,-229 1506.5,-223 1512.5,-223"/>
<text text-anchor="middle" x="1550.5" y="-299.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionSubTree</text>
<polyline fill="none" stroke="#60b5ac" points="1500.5,-292 1600.5,-292 "/>
<text text-anchor="start" x="1508.5" y="-276.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">*regionTree</text>
<polyline fill="none" stroke="#60b5ac" points="1500.5,-269 1600.5,-269 "/>
<text text-anchor="start" x="1508.5" y="-253.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">totalSize int64</text>
<polyline fill="none" stroke="#60b5ac" points="1500.5,-246 1600.5,-246 "/>
<text text-anchor="start" x="1508.5" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">totalKeys int64</text>
</g>
<!-- RegionsInfo&#45;&gt;regionSubTree -->
<g id="edge44" class="edge">
<title>RegionsInfo&#45;&gt;regionSubTree</title>
<path fill="none" stroke="#666666" d="M1291.03,-287.77C1358.08,-282.9 1437.18,-277.16 1490.05,-273.32"/>
<polygon fill="#666666" stroke="#666666" points="1490.55,-276.79 1500.27,-272.58 1490.04,-269.81 1490.55,-276.79"/>
</g>
<!-- MetaStore -->
<g id="node36" class="node">
<title>MetaStore</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1817.5,-114.5C1817.5,-114.5 1904.5,-114.5 1904.5,-114.5 1910.5,-114.5 1916.5,-120.5 1916.5,-126.5 1916.5,-126.5 1916.5,-171.5 1916.5,-171.5 1916.5,-177.5 1910.5,-183.5 1904.5,-183.5 1904.5,-183.5 1817.5,-183.5 1817.5,-183.5 1811.5,-183.5 1805.5,-177.5 1805.5,-171.5 1805.5,-171.5 1805.5,-126.5 1805.5,-126.5 1805.5,-120.5 1811.5,-114.5 1817.5,-114.5"/>
<text text-anchor="middle" x="1861" y="-168.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MetaStore</text>
<polyline fill="none" stroke="#60b5ac" points="1805.5,-160.5 1916.5,-160.5 "/>
<text text-anchor="start" x="1813.5" y="-145.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">*metapb.Store</text>
<polyline fill="none" stroke="#60b5ac" points="1805.5,-137.5 1916.5,-137.5 "/>
<text text-anchor="start" x="1813.5" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StateName string</text>
</g>
<!-- StoreInfo&#45;&gt;MetaStore -->
<g id="edge40" class="edge">
<title>StoreInfo&#45;&gt;MetaStore</title>
<path fill="none" stroke="#666666" d="M1611.76,-396.89C1644.68,-380.83 1683.59,-356.64 1708,-324 1744.16,-275.64 1703.37,-237.66 1744,-193 1757.64,-178.01 1776.93,-168.09 1795.86,-161.55"/>
<polygon fill="#666666" stroke="#666666" points="1796.94,-164.88 1805.4,-158.51 1794.81,-158.21 1796.94,-164.88"/>
</g>
<!-- StoreStatus -->
<g id="node37" class="node">
<title>StoreStatus</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1783,-202.5C1783,-202.5 1939,-202.5 1939,-202.5 1945,-202.5 1951,-208.5 1951,-214.5 1951,-214.5 1951,-627.5 1951,-627.5 1951,-633.5 1945,-639.5 1939,-639.5 1939,-639.5 1783,-639.5 1783,-639.5 1777,-639.5 1771,-633.5 1771,-627.5 1771,-627.5 1771,-214.5 1771,-214.5 1771,-208.5 1777,-202.5 1783,-202.5"/>
<text text-anchor="middle" x="1861" y="-624.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoreStatus</text>
<polyline fill="none" stroke="#60b5ac" points="1771,-616.5 1951,-616.5 "/>
<text text-anchor="start" x="1779" y="-601.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Capacity typeutil.ByteSize </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-593.5 1951,-593.5 "/>
<text text-anchor="start" x="1779" y="-578.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Available typeutil.ByteSize </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-570.5 1951,-570.5 "/>
<text text-anchor="start" x="1779" y="-555.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">UsedSize typeutil.ByteSize </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-547.5 1951,-547.5 "/>
<text text-anchor="start" x="1779" y="-532.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeaderCount int </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-524.5 1951,-524.5 "/>
<text text-anchor="start" x="1779" y="-509.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeaderWeight float64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-501.5 1951,-501.5 "/>
<text text-anchor="start" x="1779" y="-486.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeaderScore float64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-478.5 1951,-478.5 "/>
<text text-anchor="start" x="1779" y="-463.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LeaderSize int64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-455.5 1951,-455.5 "/>
<text text-anchor="start" x="1779" y="-440.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionCount int </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-432.5 1951,-432.5 "/>
<text text-anchor="start" x="1779" y="-417.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionWeight float64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-409.5 1951,-409.5 "/>
<text text-anchor="start" x="1779" y="-394.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionScore float64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-386.5 1951,-386.5 "/>
<text text-anchor="start" x="1779" y="-371.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RegionSize int64 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-363.5 1951,-363.5 "/>
<text text-anchor="start" x="1779" y="-348.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">SendingSnapCount uint32 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-340.5 1951,-340.5 "/>
<text text-anchor="start" x="1779" y="-325.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReceivingSnapCount uint32 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-317.5 1951,-317.5 "/>
<text text-anchor="start" x="1779" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ApplyingSnapCount uint32 </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-294.5 1951,-294.5 "/>
<text text-anchor="start" x="1779" y="-279.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">IsBusy bool </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-271.5 1951,-271.5 "/>
<text text-anchor="start" x="1779" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartTS *time.Time </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-248.5 1951,-248.5 "/>
<text text-anchor="start" x="1779" y="-233.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LastHeartbeatTS *time.Time </text>
<polyline fill="none" stroke="#60b5ac" points="1771,-225.5 1951,-225.5 "/>
<text text-anchor="start" x="1779" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Uptime *typeutil.Duration</text>
</g>
<!-- StoreInfo&#45;&gt;StoreStatus -->
<g id="edge41" class="edge">
<title>StoreInfo&#45;&gt;StoreStatus</title>
<path fill="none" stroke="#666666" d="M1611.71,-421C1654.04,-421 1711.64,-421 1760.7,-421"/>
<polygon fill="#666666" stroke="#666666" points="1760.71,-424.5 1770.71,-421 1760.71,-417.5 1760.71,-424.5"/>
</g>
<!-- metapb_Store -->
<g id="node93" class="node">
<title>metapb_Store</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2099.5,-54.5C2099.5,-54.5 2235.5,-54.5 2235.5,-54.5 2241.5,-54.5 2247.5,-60.5 2247.5,-66.5 2247.5,-66.5 2247.5,-341.5 2247.5,-341.5 2247.5,-347.5 2241.5,-353.5 2235.5,-353.5 2235.5,-353.5 2099.5,-353.5 2099.5,-353.5 2093.5,-353.5 2087.5,-347.5 2087.5,-341.5 2087.5,-341.5 2087.5,-66.5 2087.5,-66.5 2087.5,-60.5 2093.5,-54.5 2099.5,-54.5"/>
<text text-anchor="middle" x="2167.5" y="-338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">metapb.Store</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-330.5 2247.5,-330.5 "/>
<text text-anchor="start" x="2095.5" y="-315.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Id uint64</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-307.5 2247.5,-307.5 "/>
<text text-anchor="start" x="2095.5" y="-292.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Address string </text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-284.5 2247.5,-284.5 "/>
<text text-anchor="start" x="2095.5" y="-269.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">State StoreState </text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-261.5 2247.5,-261.5 "/>
<text text-anchor="start" x="2095.5" y="-246.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Labels []*StoreLabel</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-238.5 2247.5,-238.5 "/>
<text text-anchor="start" x="2095.5" y="-223.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Version string </text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-215.5 2247.5,-215.5 "/>
<text text-anchor="start" x="2095.5" y="-200.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">PeerAddress string</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-192.5 2247.5,-192.5 "/>
<text text-anchor="start" x="2095.5" y="-177.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StatusAddress string</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-169.5 2247.5,-169.5 "/>
<text text-anchor="start" x="2095.5" y="-154.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GitHash string</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-146.5 2247.5,-146.5 "/>
<text text-anchor="start" x="2095.5" y="-131.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartTimestamp int64 </text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-123.5 2247.5,-123.5 "/>
<text text-anchor="start" x="2095.5" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">DeployPath string</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-100.5 2247.5,-100.5 "/>
<text text-anchor="start" x="2095.5" y="-85.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LastHeartbeat int64</text>
<polyline fill="none" stroke="#60b5ac" points="2087.5,-77.5 2247.5,-77.5 "/>
<text text-anchor="start" x="2095.5" y="-62.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">PhysicallyDestroyed bool </text>
</g>
<!-- MetaStore&#45;&gt;metapb_Store -->
<g id="edge121" class="edge">
<title>MetaStore&#45;&gt;metapb_Store</title>
<path fill="none" stroke="#666666" d="M1916.79,-158.9C1961.43,-166.96 2025.35,-178.5 2077.34,-187.9"/>
<polygon fill="#666666" stroke="#666666" points="2076.78,-191.35 2087.24,-189.68 2078.02,-184.46 2076.78,-191.35"/>
</g>
<!-- BTree -->
<g id="node41" class="node">
<title>BTree</title>
<path fill="none" stroke="#1c2123" d="M2182.5,-36C2182.5,-36 2152.5,-36 2152.5,-36 2146.5,-36 2140.5,-30 2140.5,-24 2140.5,-24 2140.5,-12 2140.5,-12 2140.5,-6 2146.5,0 2152.5,0 2152.5,0 2182.5,0 2182.5,0 2188.5,0 2194.5,-6 2194.5,-12 2194.5,-12 2194.5,-24 2194.5,-24 2194.5,-30 2188.5,-36 2182.5,-36"/>
<text text-anchor="middle" x="2167.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BTree</text>
</g>
<!-- regionTree&#45;&gt;BTree -->
<g id="edge45" class="edge">
<title>regionTree&#45;&gt;BTree</title>
<path fill="none" stroke="#666666" d="M1917.23,-62.18C1946.07,-57.06 1981.94,-50.69 2014,-45 2053.84,-37.93 2099.54,-29.85 2130.44,-24.38"/>
<polygon fill="#666666" stroke="#666666" points="2131.09,-27.82 2140.32,-22.63 2129.87,-20.93 2131.09,-27.82"/>
</g>
<!-- regionMap&#45;&gt;RegionInfo -->
<g id="edge46" class="edge">
<title>regionMap&#45;&gt;RegionInfo</title>
<path fill="none" stroke="#666666" d="M1634.17,-2048.1C1667.21,-2056.13 1705.87,-2065.53 1741.78,-2074.26"/>
<polygon fill="#666666" stroke="#666666" points="1741.28,-2077.74 1751.83,-2076.7 1742.94,-2070.94 1741.28,-2077.74"/>
</g>
<!-- regionSubTree&#45;&gt;regionTree -->
<g id="edge51" class="edge">
<title>regionSubTree&#45;&gt;regionTree</title>
<path fill="none" stroke="#666666" d="M1600.79,-237.36C1633.07,-215.43 1675.19,-184.43 1708,-152 1726.71,-133.5 1722.24,-119.8 1744,-105 1759.19,-94.67 1777.6,-87.54 1795.23,-82.64"/>
<polygon fill="#666666" stroke="#666666" points="1796.12,-86.03 1804.92,-80.14 1794.37,-79.25 1796.12,-86.03"/>
</g>
<!-- allocatorImpl&#45;&gt;etcd_clientv3_Client -->
<g id="edge53" class="edge">
<title>allocatorImpl&#45;&gt;etcd_clientv3_Client</title>
<path fill="none" stroke="#666666" d="M2620.26,-3776.25C2716.19,-3758.16 2897.06,-3723.92 3051,-3694 3081.4,-3688.09 3114.91,-3681.47 3143.84,-3675.72"/>
<polygon fill="#666666" stroke="#666666" points="3144.75,-3679.11 3153.88,-3673.72 3143.38,-3672.24 3144.75,-3679.11"/>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;RegionEpoch -->
<g id="edge124" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M3327.76,-1450.75C3336.01,-1460.74 3343.6,-1471.21 3350,-1482 3381.26,-1534.66 3341.41,-1573.02 3386,-1615 3461.01,-1685.63 3540.03,-1589.27 3613,-1662 3668.01,-1716.83 3597.83,-1774.57 3649,-1833 3742.89,-1940.21 3918.94,-1970.28 4010.98,-1978.71"/>
<polygon fill="#666666" stroke="#666666" points="4010.71,-1982.2 4020.97,-1979.57 4011.31,-1975.23 4010.71,-1982.2"/>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;Peer -->
<g id="edge125" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M3327.79,-1439.64C3346.4,-1450.53 3366.16,-1460.24 3386,-1467 3638.66,-1553.14 3724.54,-1452.53 3985,-1511 3994.22,-1513.07 4003.76,-1515.95 4012.98,-1519.16"/>
<polygon fill="#666666" stroke="#666666" points="4011.85,-1522.48 4022.44,-1522.61 4014.24,-1515.9 4011.85,-1522.48"/>
</g>
<!-- ChangePeer -->
<g id="node95" class="node">
<title>ChangePeer</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3398,-1323.5C3398,-1323.5 3601,-1323.5 3601,-1323.5 3607,-1323.5 3613,-1329.5 3613,-1335.5 3613,-1335.5 3613,-1380.5 3613,-1380.5 3613,-1386.5 3607,-1392.5 3601,-1392.5 3601,-1392.5 3398,-1392.5 3398,-1392.5 3392,-1392.5 3386,-1386.5 3386,-1380.5 3386,-1380.5 3386,-1335.5 3386,-1335.5 3386,-1329.5 3392,-1323.5 3398,-1323.5"/>
<text text-anchor="middle" x="3499.5" y="-1377.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ChangePeer</text>
<polyline fill="none" stroke="#60b5ac" points="3386,-1369.5 3613,-1369.5 "/>
<text text-anchor="start" x="3394" y="-1354.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Peer *metapb.Peer</text>
<polyline fill="none" stroke="#60b5ac" points="3386,-1346.5 3613,-1346.5 "/>
<text text-anchor="start" x="3394" y="-1331.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ChangeType eraftpb.ConfChangeType</text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;ChangePeer -->
<g id="edge126" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;ChangePeer</title>
<path fill="none" stroke="#666666" d="M3327.77,-1357.39C3343.35,-1357.44 3359.48,-1357.5 3375.32,-1357.56"/>
<polygon fill="#666666" stroke="#666666" points="3375.67,-1361.06 3385.68,-1357.6 3375.7,-1354.06 3375.67,-1361.06"/>
</g>
<!-- ChangePeerV2 -->
<g id="node96" class="node">
<title>ChangePeerV2</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3437.5,-1412C3437.5,-1412 3561.5,-1412 3561.5,-1412 3567.5,-1412 3573.5,-1418 3573.5,-1424 3573.5,-1424 3573.5,-1446 3573.5,-1446 3573.5,-1452 3567.5,-1458 3561.5,-1458 3561.5,-1458 3437.5,-1458 3437.5,-1458 3431.5,-1458 3425.5,-1452 3425.5,-1446 3425.5,-1446 3425.5,-1424 3425.5,-1424 3425.5,-1418 3431.5,-1412 3437.5,-1412"/>
<text text-anchor="middle" x="3499.5" y="-1442.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ChangePeerV2</text>
<polyline fill="none" stroke="#60b5ac" points="3425.5,-1435 3573.5,-1435 "/>
<text text-anchor="start" x="3433.5" y="-1419.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Changes []*ChangePeer</text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;ChangePeerV2 -->
<g id="edge127" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;ChangePeerV2</title>
<path fill="none" stroke="#666666" d="M3327.77,-1387.27C3356.83,-1395.39 3387.79,-1404.05 3415.26,-1411.73"/>
<polygon fill="#666666" stroke="#666666" points="3414.64,-1415.19 3425.21,-1414.51 3416.52,-1408.45 3414.64,-1415.19"/>
</g>
<!-- SplitRegion -->
<g id="node97" class="node">
<title>SplitRegion</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3449.5,-1147.5C3449.5,-1147.5 3549.5,-1147.5 3549.5,-1147.5 3555.5,-1147.5 3561.5,-1153.5 3561.5,-1159.5 3561.5,-1159.5 3561.5,-1204.5 3561.5,-1204.5 3561.5,-1210.5 3555.5,-1216.5 3549.5,-1216.5 3549.5,-1216.5 3449.5,-1216.5 3449.5,-1216.5 3443.5,-1216.5 3437.5,-1210.5 3437.5,-1204.5 3437.5,-1204.5 3437.5,-1159.5 3437.5,-1159.5 3437.5,-1153.5 3443.5,-1147.5 3449.5,-1147.5"/>
<text text-anchor="middle" x="3499.5" y="-1201.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">SplitRegion</text>
<polyline fill="none" stroke="#60b5ac" points="3437.5,-1193.5 3561.5,-1193.5 "/>
<text text-anchor="start" x="3445.5" y="-1178.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Policy CheckPolicy</text>
<polyline fill="none" stroke="#60b5ac" points="3437.5,-1170.5 3561.5,-1170.5 "/>
<text text-anchor="start" x="3445.5" y="-1155.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Keys [][]byte </text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;SplitRegion -->
<g id="edge128" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;SplitRegion</title>
<path fill="none" stroke="#666666" d="M3327.79,-1264.5C3346.56,-1250.63 3366.37,-1237.23 3386,-1226 3399.14,-1218.48 3413.81,-1211.7 3428.11,-1205.85"/>
<polygon fill="#666666" stroke="#666666" points="3429.44,-1209.09 3437.44,-1202.13 3426.85,-1202.58 3429.44,-1209.09"/>
</g>
<!-- TransferLeader -->
<g id="node98" class="node">
<title>TransferLeader</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3769.5,-1521C3769.5,-1521 3864.5,-1521 3864.5,-1521 3870.5,-1521 3876.5,-1527 3876.5,-1533 3876.5,-1533 3876.5,-1555 3876.5,-1555 3876.5,-1561 3870.5,-1567 3864.5,-1567 3864.5,-1567 3769.5,-1567 3769.5,-1567 3763.5,-1567 3757.5,-1561 3757.5,-1555 3757.5,-1555 3757.5,-1533 3757.5,-1533 3757.5,-1527 3763.5,-1521 3769.5,-1521"/>
<text text-anchor="middle" x="3817" y="-1551.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">TransferLeader</text>
<polyline fill="none" stroke="#60b5ac" points="3757.5,-1544 3876.5,-1544 "/>
<text text-anchor="start" x="3765.5" y="-1528.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Peer *metapb.Peer</text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;TransferLeader -->
<g id="edge129" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;TransferLeader</title>
<path fill="none" stroke="#666666" d="M3327.63,-1463.07C3350.44,-1483.17 3371.85,-1499.87 3386,-1506 3449.05,-1533.33 3642.44,-1541.01 3747.07,-1543.16"/>
<polygon fill="#666666" stroke="#666666" points="3747.15,-1546.66 3757.22,-1543.36 3747.29,-1539.66 3747.15,-1546.66"/>
</g>
<!-- ResponseHeader -->
<g id="node99" class="node">
<title>ResponseHeader</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3458,-1235.5C3458,-1235.5 3541,-1235.5 3541,-1235.5 3547,-1235.5 3553,-1241.5 3553,-1247.5 3553,-1247.5 3553,-1292.5 3553,-1292.5 3553,-1298.5 3547,-1304.5 3541,-1304.5 3541,-1304.5 3458,-1304.5 3458,-1304.5 3452,-1304.5 3446,-1298.5 3446,-1292.5 3446,-1292.5 3446,-1247.5 3446,-1247.5 3446,-1241.5 3452,-1235.5 3458,-1235.5"/>
<text text-anchor="middle" x="3499.5" y="-1289.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ResponseHeader</text>
<polyline fill="none" stroke="#60b5ac" points="3446,-1281.5 3553,-1281.5 "/>
<text text-anchor="start" x="3454" y="-1266.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ClusterId uint64</text>
<polyline fill="none" stroke="#60b5ac" points="3446,-1258.5 3553,-1258.5 "/>
<text text-anchor="start" x="3454" y="-1243.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Error *Error</text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;ResponseHeader -->
<g id="edge130" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;ResponseHeader</title>
<path fill="none" stroke="#666666" d="M3327.77,-1323.24C3364.55,-1311.77 3404.39,-1299.35 3436.33,-1289.39"/>
<polygon fill="#666666" stroke="#666666" points="3437.47,-1292.7 3445.97,-1286.38 3435.39,-1286.01 3437.47,-1292.7"/>
</g>
<!-- Merge -->
<g id="node100" class="node">
<title>Merge</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3438.5,-1560C3438.5,-1560 3560.5,-1560 3560.5,-1560 3566.5,-1560 3572.5,-1566 3572.5,-1572 3572.5,-1572 3572.5,-1594 3572.5,-1594 3572.5,-1600 3566.5,-1606 3560.5,-1606 3560.5,-1606 3438.5,-1606 3438.5,-1606 3432.5,-1606 3426.5,-1600 3426.5,-1594 3426.5,-1594 3426.5,-1572 3426.5,-1572 3426.5,-1566 3432.5,-1560 3438.5,-1560"/>
<text text-anchor="middle" x="3499.5" y="-1590.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Merge</text>
<polyline fill="none" stroke="#60b5ac" points="3426.5,-1583 3572.5,-1583 "/>
<text text-anchor="start" x="3434.5" y="-1567.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Target *metapb.Region</text>
</g>
<!-- RegionHeartbeatResponse&#45;&gt;Merge -->
<g id="edge131" class="edge">
<title>RegionHeartbeatResponse&#45;&gt;Merge</title>
<path fill="none" stroke="#666666" d="M3327.58,-1455.56C3335.47,-1464.23 3343.05,-1473.1 3350,-1482 3369.85,-1507.42 3361.1,-1524.5 3386,-1545 3395.14,-1552.52 3405.84,-1558.58 3416.94,-1563.46"/>
<polygon fill="#666666" stroke="#666666" points="3415.75,-1566.75 3426.33,-1567.28 3418.39,-1560.27 3415.75,-1566.75"/>
</g>
<!-- Operator -->
<g id="node69" class="node">
<title>Operator</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3711,-2141C3711,-2141 3923,-2141 3923,-2141 3929,-2141 3935,-2147 3935,-2153 3935,-2153 3935,-2451 3935,-2451 3935,-2457 3929,-2463 3923,-2463 3923,-2463 3711,-2463 3711,-2463 3705,-2463 3699,-2457 3699,-2451 3699,-2451 3699,-2153 3699,-2153 3699,-2147 3705,-2141 3711,-2141"/>
<text text-anchor="middle" x="3817" y="-2447.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Operator</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2440 3935,-2440 "/>
<text text-anchor="start" x="3707" y="-2424.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">desc string</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2417 3935,-2417 "/>
<text text-anchor="start" x="3707" y="-2401.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">brief string</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2394 3935,-2394 "/>
<text text-anchor="start" x="3707" y="-2378.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionID uint64</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2371 3935,-2371 "/>
<text text-anchor="start" x="3707" y="-2355.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionEpoch *metapb.RegionEpoch</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2348 3935,-2348 "/>
<text text-anchor="start" x="3707" y="-2332.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">kind OpKind</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2325 3935,-2325 "/>
<text text-anchor="start" x="3707" y="-2309.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">steps []OpStep</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2302 3935,-2302 "/>
<text text-anchor="start" x="3707" y="-2286.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">stepsTime []int64 // step finish time</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2279 3935,-2279 "/>
<text text-anchor="start" x="3707" y="-2263.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">currentStep int32</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2256 3935,-2256 "/>
<text text-anchor="start" x="3707" y="-2240.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">status OpStatusTracker</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2233 3935,-2233 "/>
<text text-anchor="start" x="3707" y="-2217.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">level core.PriorityLevel</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2210 3935,-2210 "/>
<text text-anchor="start" x="3707" y="-2194.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Counters []prometheus.Counter</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2187 3935,-2187 "/>
<text text-anchor="start" x="3707" y="-2171.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">FinishedCounters []prometheus.Counter</text>
<polyline fill="none" stroke="#60b5ac" points="3699,-2164 3935,-2164 "/>
<text text-anchor="start" x="3707" y="-2148.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">AdditionalInfos map[string]string</text>
</g>
<!-- Bucket&#45;&gt;Operator -->
<g id="edge146" class="edge">
<title>Bucket&#45;&gt;Operator</title>
<path fill="none" stroke="#666666" d="M3575.07,-2600.14C3588.42,-2593.72 3601.67,-2586.03 3613,-2577 3650.15,-2547.39 3683.92,-2509.41 3712.79,-2471.19"/>
<polygon fill="#666666" stroke="#666666" points="3715.7,-2473.14 3718.87,-2463.03 3710.09,-2468.95 3715.7,-2473.14"/>
</g>
<!-- CheckerController&#45;&gt;config_PersistOptions -->
<g id="edge144" class="edge">
<title>CheckerController&#45;&gt;config_PersistOptions</title>
<path fill="none" stroke="#666666" d="M1296.99,-1730.94C1320.59,-1747.81 1342.29,-1768.39 1357,-1793 1462.88,-1970.17 1287.7,-2078.48 1393,-2256 1406.79,-2279.25 1428.19,-2298.17 1450.79,-2313.12"/>
<polygon fill="#666666" stroke="#666666" points="1449.17,-2316.24 1459.49,-2318.66 1452.93,-2310.34 1449.17,-2316.24"/>
</g>
<!-- CheckerController&#45;&gt;OperatorController -->
<g id="edge113" class="edge">
<title>CheckerController&#45;&gt;OperatorController</title>
<path fill="none" stroke="#f08a5d" d="M1251.9,-1553.8C1290.3,-1512.39 1338.94,-1470.2 1393,-1447 1487.83,-1406.3 2217.93,-1414.03 2321,-1409 2329.38,-1408.59 2337.93,-1408.16 2346.57,-1407.72"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="2346.94,-1411.2 2356.74,-1407.19 2346.58,-1404.21 2346.94,-1411.2"/>
</g>
<!-- LearnerChecker -->
<g id="node86" class="node">
<title>LearnerChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1504.5,-1806C1504.5,-1806 1596.5,-1806 1596.5,-1806 1602.5,-1806 1608.5,-1812 1608.5,-1818 1608.5,-1818 1608.5,-1840 1608.5,-1840 1608.5,-1846 1602.5,-1852 1596.5,-1852 1596.5,-1852 1504.5,-1852 1504.5,-1852 1498.5,-1852 1492.5,-1846 1492.5,-1840 1492.5,-1840 1492.5,-1818 1492.5,-1818 1492.5,-1812 1498.5,-1806 1504.5,-1806"/>
<text text-anchor="middle" x="1550.5" y="-1836.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">LearnerChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1492.5,-1829 1608.5,-1829 "/>
<text text-anchor="start" x="1500.5" y="-1813.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
</g>
<!-- CheckerController&#45;&gt;LearnerChecker -->
<g id="edge114" class="edge">
<title>CheckerController&#45;&gt;LearnerChecker</title>
<path fill="none" stroke="#f08a5d" d="M1296.73,-1751.32C1327.51,-1767.93 1360.74,-1783.96 1393,-1796 1421.38,-1806.59 1454,-1814.15 1482.08,-1819.33"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1481.75,-1822.83 1492.21,-1821.14 1482.98,-1815.94 1481.75,-1822.83"/>
</g>
<!-- ReplicaChecker -->
<g id="node87" class="node">
<title>ReplicaChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1468.5,-1457C1468.5,-1457 1632.5,-1457 1632.5,-1457 1638.5,-1457 1644.5,-1463 1644.5,-1469 1644.5,-1469 1644.5,-1537 1644.5,-1537 1644.5,-1543 1638.5,-1549 1632.5,-1549 1632.5,-1549 1468.5,-1549 1468.5,-1549 1462.5,-1549 1456.5,-1543 1456.5,-1537 1456.5,-1537 1456.5,-1469 1456.5,-1469 1456.5,-1463 1462.5,-1457 1468.5,-1457"/>
<text text-anchor="middle" x="1550.5" y="-1533.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReplicaChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1456.5,-1526 1644.5,-1526 "/>
<text text-anchor="start" x="1464.5" y="-1510.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1456.5,-1503 1644.5,-1503 "/>
<text text-anchor="start" x="1464.5" y="-1487.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">opts *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="1456.5,-1480 1644.5,-1480 "/>
<text text-anchor="start" x="1464.5" y="-1464.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionWaitingList cache.Cache</text>
</g>
<!-- CheckerController&#45;&gt;ReplicaChecker -->
<g id="edge115" class="edge">
<title>CheckerController&#45;&gt;ReplicaChecker</title>
<path fill="none" stroke="#f08a5d" d="M1296.74,-1602.36C1328.03,-1587.46 1361.46,-1572.18 1393,-1559 1410.07,-1551.87 1428.41,-1544.79 1446.32,-1538.2"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1448.01,-1541.3 1456.2,-1534.59 1445.61,-1534.73 1448.01,-1541.3"/>
</g>
<!-- RuleChecker -->
<g id="node88" class="node">
<title>RuleChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1447,-2131.5C1447,-2131.5 1654,-2131.5 1654,-2131.5 1660,-2131.5 1666,-2137.5 1666,-2143.5 1666,-2143.5 1666,-2234.5 1666,-2234.5 1666,-2240.5 1660,-2246.5 1654,-2246.5 1654,-2246.5 1447,-2246.5 1447,-2246.5 1441,-2246.5 1435,-2240.5 1435,-2234.5 1435,-2234.5 1435,-2143.5 1435,-2143.5 1435,-2137.5 1441,-2131.5 1447,-2131.5"/>
<text text-anchor="middle" x="1550.5" y="-2231.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RuleChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1435,-2223.5 1666,-2223.5 "/>
<text text-anchor="start" x="1443" y="-2208.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1435,-2200.5 1666,-2200.5 "/>
<text text-anchor="start" x="1443" y="-2185.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ruleManager *placement.RuleManager</text>
<polyline fill="none" stroke="#60b5ac" points="1435,-2177.5 1666,-2177.5 "/>
<text text-anchor="start" x="1443" y="-2162.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">name string</text>
<polyline fill="none" stroke="#60b5ac" points="1435,-2154.5 1666,-2154.5 "/>
<text text-anchor="start" x="1443" y="-2139.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">regionWaitingList cache.Cache</text>
</g>
<!-- CheckerController&#45;&gt;RuleChecker -->
<g id="edge116" class="edge">
<title>CheckerController&#45;&gt;RuleChecker</title>
<path fill="none" stroke="#f08a5d" d="M1296.61,-1731.83C1320.09,-1748.59 1341.84,-1768.9 1357,-1793 1426.17,-1902.93 1325.17,-1972.24 1393,-2083 1402.62,-2098.7 1415.53,-2112.61 1429.85,-2124.76"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1427.96,-2127.74 1437.93,-2131.33 1432.38,-2122.31 1427.96,-2127.74"/>
</g>
<!-- MergeChecker -->
<g id="node89" class="node">
<title>MergeChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1472,-1568.5C1472,-1568.5 1629,-1568.5 1629,-1568.5 1635,-1568.5 1641,-1574.5 1641,-1580.5 1641,-1580.5 1641,-1671.5 1641,-1671.5 1641,-1677.5 1635,-1683.5 1629,-1683.5 1629,-1683.5 1472,-1683.5 1472,-1683.5 1466,-1683.5 1460,-1677.5 1460,-1671.5 1460,-1671.5 1460,-1580.5 1460,-1580.5 1460,-1574.5 1466,-1568.5 1472,-1568.5"/>
<text text-anchor="middle" x="1550.5" y="-1668.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MergeChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1460,-1660.5 1641,-1660.5 "/>
<text text-anchor="start" x="1468" y="-1645.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="1460,-1637.5 1641,-1637.5 "/>
<text text-anchor="start" x="1468" y="-1622.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">opts *config.PersistOptions</text>
<polyline fill="none" stroke="#60b5ac" points="1460,-1614.5 1641,-1614.5 "/>
<text text-anchor="start" x="1468" y="-1599.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">splitCache *cache.TTLUint64</text>
<polyline fill="none" stroke="#60b5ac" points="1460,-1591.5 1641,-1591.5 "/>
<text text-anchor="start" x="1468" y="-1576.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startTime time.Time </text>
</g>
<!-- CheckerController&#45;&gt;MergeChecker -->
<g id="edge117" class="edge">
<title>CheckerController&#45;&gt;MergeChecker</title>
<path fill="none" stroke="#f08a5d" d="M1296.67,-1654.2C1346.89,-1648.6 1403.15,-1642.32 1449.83,-1637.12"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1450.4,-1640.58 1459.95,-1635.99 1449.62,-1633.62 1450.4,-1640.58"/>
</g>
<!-- JointStateChecker -->
<g id="node90" class="node">
<title>JointStateChecker</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1504.5,-1741C1504.5,-1741 1596.5,-1741 1596.5,-1741 1602.5,-1741 1608.5,-1747 1608.5,-1753 1608.5,-1753 1608.5,-1775 1608.5,-1775 1608.5,-1781 1602.5,-1787 1596.5,-1787 1596.5,-1787 1504.5,-1787 1504.5,-1787 1498.5,-1787 1492.5,-1781 1492.5,-1775 1492.5,-1775 1492.5,-1753 1492.5,-1753 1492.5,-1747 1498.5,-1741 1504.5,-1741"/>
<text text-anchor="middle" x="1550.5" y="-1771.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">JointStateChecker</text>
<polyline fill="none" stroke="#60b5ac" points="1492.5,-1764 1608.5,-1764 "/>
<text text-anchor="middle" x="1550.5" y="-1748.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
</g>
<!-- CheckerController&#45;&gt;JointStateChecker -->
<g id="edge118" class="edge">
<title>CheckerController&#45;&gt;JointStateChecker</title>
<path fill="none" stroke="#f08a5d" d="M1296.56,-1702.13C1328.16,-1709.99 1361.77,-1718.32 1393,-1726 1422.26,-1733.19 1454.62,-1741.06 1482.28,-1747.77"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1481.7,-1751.23 1492.25,-1750.18 1483.35,-1744.43 1481.7,-1751.23"/>
</g>
<!-- Cache -->
<g id="node91" class="node">
<title>Cache</title>
<path fill="none" stroke="#1c2123" d="M1876,-1565C1876,-1565 1846,-1565 1846,-1565 1840,-1565 1834,-1559 1834,-1553 1834,-1553 1834,-1541 1834,-1541 1834,-1535 1840,-1529 1846,-1529 1846,-1529 1876,-1529 1876,-1529 1882,-1529 1888,-1535 1888,-1541 1888,-1541 1888,-1553 1888,-1553 1888,-1559 1882,-1565 1876,-1565"/>
<text text-anchor="middle" x="1861" y="-1543.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Cache</text>
</g>
<!-- CheckerController&#45;&gt;Cache -->
<g id="edge119" class="edge">
<title>CheckerController&#45;&gt;Cache</title>
<path fill="none" stroke="#f08a5d" d="M1296.68,-1691.8C1435.47,-1712.71 1642.15,-1734.67 1708,-1693 1739.58,-1673.01 1718.93,-1644.72 1744,-1617 1766.38,-1592.25 1799.58,-1573.43 1824.74,-1561.57"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1826.3,-1564.71 1833.95,-1557.37 1823.39,-1558.34 1826.3,-1564.71"/>
</g>
<!-- engineContext -->
<g id="node75" class="node">
<title>engineContext</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1470,-1871C1470,-1871 1631,-1871 1631,-1871 1637,-1871 1643,-1877 1643,-1883 1643,-1883 1643,-1951 1643,-1951 1643,-1957 1637,-1963 1631,-1963 1631,-1963 1470,-1963 1470,-1963 1464,-1963 1458,-1957 1458,-1951 1458,-1951 1458,-1883 1458,-1883 1458,-1877 1464,-1871 1470,-1871"/>
<text text-anchor="middle" x="1550.5" y="-1947.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">engineContext</text>
<polyline fill="none" stroke="#60b5ac" points="1458,-1940 1643,-1940 "/>
<text text-anchor="start" x="1466" y="-1924.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">filters []filter.Filter</text>
<polyline fill="none" stroke="#60b5ac" points="1458,-1917 1643,-1917 "/>
<text text-anchor="start" x="1466" y="-1901.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">selectedPeer *selectedStores</text>
<polyline fill="none" stroke="#60b5ac" points="1458,-1894 1643,-1894 "/>
<text text-anchor="start" x="1466" y="-1878.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">selectedLeader *selectedStores</text>
</g>
<!-- RegionScatterer&#45;&gt;engineContext -->
<g id="edge96" class="edge">
<title>RegionScatterer&#45;&gt;engineContext</title>
<path fill="none" stroke="#666666" d="M1285.18,-1886.15C1337.43,-1892.25 1397.86,-1899.3 1447.74,-1905.12"/>
<polygon fill="#666666" stroke="#666666" points="1447.55,-1908.62 1457.89,-1906.31 1448.37,-1901.67 1447.55,-1908.62"/>
</g>
<!-- SplitRegionsHandler -->
<g id="node73" class="node">
<title>SplitRegionsHandler</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1458.5,-1330.5C1458.5,-1330.5 1642.5,-1330.5 1642.5,-1330.5 1648.5,-1330.5 1654.5,-1336.5 1654.5,-1342.5 1654.5,-1342.5 1654.5,-1387.5 1654.5,-1387.5 1654.5,-1393.5 1648.5,-1399.5 1642.5,-1399.5 1642.5,-1399.5 1458.5,-1399.5 1458.5,-1399.5 1452.5,-1399.5 1446.5,-1393.5 1446.5,-1387.5 1446.5,-1387.5 1446.5,-1342.5 1446.5,-1342.5 1446.5,-1336.5 1452.5,-1330.5 1458.5,-1330.5"/>
<text text-anchor="middle" x="1550.5" y="-1384.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">type SplitRegionsHandler interface</text>
<polyline fill="none" stroke="#60b5ac" points="1446.5,-1376.5 1654.5,-1376.5 "/>
<text text-anchor="start" x="1454.5" y="-1361.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">SplitRegionByKeys</text>
<polyline fill="none" stroke="#60b5ac" points="1446.5,-1353.5 1654.5,-1353.5 "/>
<text text-anchor="start" x="1454.5" y="-1338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ScanRegionsByKeyRange</text>
</g>
<!-- RegionSplitter&#45;&gt;SplitRegionsHandler -->
<g id="edge97" class="edge">
<title>RegionSplitter&#45;&gt;SplitRegionsHandler</title>
<path fill="none" stroke="#666666" d="M1250.03,-1365C1304.89,-1365 1376.58,-1365 1436.07,-1365"/>
<polygon fill="#666666" stroke="#666666" points="1436.26,-1368.5 1446.26,-1365 1436.26,-1361.5 1436.26,-1368.5"/>
</g>
<!-- scheduleController&#45;&gt;OperatorController -->
<g id="edge68" class="edge">
<title>scheduleController&#45;&gt;OperatorController</title>
<path fill="none" stroke="#666666" d="M1288.69,-1126.83C1322.1,-1140.64 1358.53,-1154.46 1393,-1165 1529.61,-1206.79 1571.92,-1185.51 1708,-1229 1724.68,-1234.33 1727.02,-1240.73 1744,-1245 1993.39,-1307.7 2072.3,-1222.61 2321,-1288 2329.68,-1290.28 2338.43,-1292.89 2347.19,-1295.74"/>
<polygon fill="#666666" stroke="#666666" points="2346.1,-1299.07 2356.69,-1298.94 2348.33,-1292.43 2346.1,-1299.07"/>
</g>
<!-- Scheduler -->
<g id="node58" class="node">
<title>Scheduler</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1405,-902.5C1405,-902.5 1696,-902.5 1696,-902.5 1702,-902.5 1708,-908.5 1708,-914.5 1708,-914.5 1708,-1143.5 1708,-1143.5 1708,-1149.5 1702,-1155.5 1696,-1155.5 1696,-1155.5 1405,-1155.5 1405,-1155.5 1399,-1155.5 1393,-1149.5 1393,-1143.5 1393,-1143.5 1393,-914.5 1393,-914.5 1393,-908.5 1399,-902.5 1405,-902.5"/>
<text text-anchor="middle" x="1550.5" y="-1140.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">type Scheduler interface</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1132.5 1708,-1132.5 "/>
<text text-anchor="start" x="1401" y="-1117.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">http.Handler</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1109.5 1708,-1109.5 "/>
<text text-anchor="start" x="1401" y="-1094.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetName() string</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1086.5 1708,-1086.5 "/>
<text text-anchor="start" x="1401" y="-1071.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetType() string</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1063.5 1708,-1063.5 "/>
<text text-anchor="start" x="1401" y="-1048.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">EncodeConfig() ([]byte, error)</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1040.5 1708,-1040.5 "/>
<text text-anchor="start" x="1401" y="-1025.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetMinInterval() time.Duration</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-1017.5 1708,-1017.5 "/>
<text text-anchor="start" x="1401" y="-1002.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetNextInterval(interval time.Duration) time.Duration</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-994.5 1708,-994.5 "/>
<text text-anchor="start" x="1401" y="-979.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Prepare(cluster opt.Cluster) error</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-971.5 1708,-971.5 "/>
<text text-anchor="start" x="1401" y="-956.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Cleanup(cluster opt.Cluster)</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-948.5 1708,-948.5 "/>
<text text-anchor="start" x="1401" y="-933.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Schedule(cluster opt.Cluster) []*operator.Operator</text>
<polyline fill="none" stroke="#60b5ac" points="1393,-925.5 1708,-925.5 "/>
<text text-anchor="start" x="1401" y="-910.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">IsScheduleAllowed(cluster opt.Cluster) bool</text>
</g>
<!-- scheduleController&#45;&gt;Scheduler -->
<g id="edge69" class="edge">
<title>scheduleController&#45;&gt;Scheduler</title>
<path fill="none" stroke="#666666" d="M1288.63,-1056.75C1318.6,-1053.56 1351.1,-1050.1 1382.65,-1046.75"/>
<polygon fill="#666666" stroke="#666666" points="1383.28,-1050.2 1392.86,-1045.66 1382.54,-1043.24 1383.28,-1050.2"/>
</g>
<!-- OperatorController&#45;&gt;HeartbeatStreams -->
<g id="edge89" class="edge">
<title>OperatorController&#45;&gt;HeartbeatStreams</title>
<path fill="none" stroke="#666666" d="M2746.22,-1374.65C2754.75,-1373.71 2763.24,-1372.78 2771.62,-1371.85"/>
<polygon fill="#666666" stroke="#666666" points="2772.22,-1375.31 2781.78,-1370.73 2771.46,-1368.35 2772.22,-1375.31"/>
</g>
<!-- OperatorController&#45;&gt;Operator -->
<g id="edge90" class="edge">
<title>OperatorController&#45;&gt;Operator</title>
<path fill="none" stroke="#666666" d="M2654.12,-1545.73C2689.77,-1587.64 2733.26,-1629.06 2782,-1656 2888.03,-1714.6 2940.11,-1651.22 3051,-1700 3306.13,-1812.23 3550.04,-2029.71 3691.29,-2170.25"/>
<polygon fill="#666666" stroke="#666666" points="3689.23,-2173.13 3698.78,-2177.72 3694.17,-2168.17 3689.23,-2173.13"/>
</g>
<!-- StoreLimit -->
<g id="node70" class="node">
<title>StoreLimit</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2864.5,-1555C2864.5,-1555 2968.5,-1555 2968.5,-1555 2974.5,-1555 2980.5,-1561 2980.5,-1567 2980.5,-1567 2980.5,-1635 2980.5,-1635 2980.5,-1641 2974.5,-1647 2968.5,-1647 2968.5,-1647 2864.5,-1647 2864.5,-1647 2858.5,-1647 2852.5,-1641 2852.5,-1635 2852.5,-1635 2852.5,-1567 2852.5,-1567 2852.5,-1561 2858.5,-1555 2864.5,-1555"/>
<text text-anchor="middle" x="2916.5" y="-1631.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">StoreLimit</text>
<polyline fill="none" stroke="#60b5ac" points="2852.5,-1624 2980.5,-1624 "/>
<text text-anchor="start" x="2860.5" y="-1608.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu sync.RWMutex</text>
<polyline fill="none" stroke="#60b5ac" points="2852.5,-1601 2980.5,-1601 "/>
<text text-anchor="start" x="2860.5" y="-1585.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">AddPeer float64</text>
<polyline fill="none" stroke="#60b5ac" points="2852.5,-1578 2980.5,-1578 "/>
<text text-anchor="start" x="2860.5" y="-1562.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RemovePeer float64</text>
</g>
<!-- OperatorController&#45;&gt;StoreLimit -->
<g id="edge91" class="edge">
<title>OperatorController&#45;&gt;StoreLimit</title>
<path fill="none" stroke="#666666" d="M2746.07,-1525.06C2758.1,-1532.02 2770.14,-1538.73 2782,-1545 2801.28,-1555.2 2822.82,-1564.91 2842.88,-1573.3"/>
<polygon fill="#666666" stroke="#666666" points="2841.71,-1576.61 2852.28,-1577.19 2844.38,-1570.14 2841.71,-1576.61"/>
</g>
<!-- WaitingOperator -->
<g id="node71" class="node">
<title>WaitingOperator</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2822.5,-1867C2822.5,-1867 3010.5,-1867 3010.5,-1867 3016.5,-1867 3022.5,-1873 3022.5,-1879 3022.5,-1879 3022.5,-1947 3022.5,-1947 3022.5,-1953 3016.5,-1959 3010.5,-1959 3010.5,-1959 2822.5,-1959 2822.5,-1959 2816.5,-1959 2810.5,-1953 2810.5,-1947 2810.5,-1947 2810.5,-1879 2810.5,-1879 2810.5,-1873 2816.5,-1867 2822.5,-1867"/>
<text text-anchor="middle" x="2916.5" y="-1943.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">type WaitingOperator interface</text>
<polyline fill="none" stroke="#60b5ac" points="2810.5,-1936 3022.5,-1936 "/>
<text text-anchor="start" x="2818.5" y="-1920.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">PutOperator(op *operator.Operator)</text>
<polyline fill="none" stroke="#60b5ac" points="2810.5,-1913 3022.5,-1913 "/>
<text text-anchor="start" x="2818.5" y="-1897.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetOperator() []*operator.Operator</text>
<polyline fill="none" stroke="#60b5ac" points="2810.5,-1890 3022.5,-1890 "/>
<text text-anchor="middle" x="2916.5" y="-1874.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ListOperator() []*operator.Operator</text>
</g>
<!-- OperatorController&#45;&gt;WaitingOperator -->
<g id="edge92" class="edge">
<title>OperatorController&#45;&gt;WaitingOperator</title>
<path fill="none" stroke="#666666" d="M2657.49,-1545.54C2731.19,-1650.49 2825.47,-1784.78 2877.23,-1858.49"/>
<polygon fill="#666666" stroke="#666666" points="2874.4,-1860.56 2883.02,-1866.73 2880.13,-1856.54 2874.4,-1860.56"/>
</g>
<!-- WaitingOperatorStatus -->
<g id="node72" class="node">
<title>WaitingOperatorStatus</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2858,-1490C2858,-1490 2975,-1490 2975,-1490 2981,-1490 2987,-1496 2987,-1502 2987,-1502 2987,-1524 2987,-1524 2987,-1530 2981,-1536 2975,-1536 2975,-1536 2858,-1536 2858,-1536 2852,-1536 2846,-1530 2846,-1524 2846,-1524 2846,-1502 2846,-1502 2846,-1496 2852,-1490 2858,-1490"/>
<text text-anchor="middle" x="2916.5" y="-1520.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">WaitingOperatorStatus</text>
<polyline fill="none" stroke="#60b5ac" points="2846,-1513 2987,-1513 "/>
<text text-anchor="middle" x="2916.5" y="-1497.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ops map[string]uint64</text>
</g>
<!-- OperatorController&#45;&gt;WaitingOperatorStatus -->
<g id="edge93" class="edge">
<title>OperatorController&#45;&gt;WaitingOperatorStatus</title>
<path fill="none" stroke="#666666" d="M2746.08,-1468.53C2758.19,-1472.54 2770.23,-1476.4 2782,-1480 2799.34,-1485.3 2818.14,-1490.36 2836,-1494.85"/>
<polygon fill="#666666" stroke="#666666" points="2835.27,-1498.28 2845.82,-1497.29 2836.96,-1491.48 2835.27,-1498.28"/>
</g>
<!-- Plugin -->
<g id="node92" class="node">
<title>Plugin</title>
<path fill="none" stroke="#1c2123" d="M1565.5,-1274C1565.5,-1274 1535.5,-1274 1535.5,-1274 1529.5,-1274 1523.5,-1268 1523.5,-1262 1523.5,-1262 1523.5,-1250 1523.5,-1250 1523.5,-1244 1529.5,-1238 1535.5,-1238 1535.5,-1238 1565.5,-1238 1565.5,-1238 1571.5,-1238 1577.5,-1244 1577.5,-1250 1577.5,-1250 1577.5,-1262 1577.5,-1262 1577.5,-1268 1571.5,-1274 1565.5,-1274"/>
<text text-anchor="middle" x="1550.5" y="-1252.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Plugin</text>
</g>
<!-- PluginInterface&#45;&gt;Plugin -->
<g id="edge120" class="edge">
<title>PluginInterface&#45;&gt;Plugin</title>
<path fill="none" stroke="#666666" d="M1275.24,-1235.37C1355.72,-1241.42 1459.44,-1249.23 1513.35,-1253.28"/>
<polygon fill="#666666" stroke="#666666" points="1513.21,-1256.78 1523.44,-1254.04 1513.73,-1249.8 1513.21,-1256.78"/>
</g>
<!-- balanceRegionScheduler -->
<g id="node59" class="node">
<title>balanceRegionScheduler</title>
<path fill="none" stroke="#1c2123" d="M1924.5,-1074C1924.5,-1074 1797.5,-1074 1797.5,-1074 1791.5,-1074 1785.5,-1068 1785.5,-1062 1785.5,-1062 1785.5,-1050 1785.5,-1050 1785.5,-1044 1791.5,-1038 1797.5,-1038 1797.5,-1038 1924.5,-1038 1924.5,-1038 1930.5,-1038 1936.5,-1044 1936.5,-1050 1936.5,-1050 1936.5,-1062 1936.5,-1062 1936.5,-1068 1930.5,-1074 1924.5,-1074"/>
<text text-anchor="middle" x="1861" y="-1052.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">balanceRegionScheduler</text>
</g>
<!-- Scheduler&#45;&gt;balanceRegionScheduler -->
<g id="edge70" class="edge">
<title>Scheduler&#45;&gt;balanceRegionScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.01,-1042.7C1731.21,-1044.73 1754.34,-1046.75 1775.3,-1048.59"/>
<polygon fill="#17b978" stroke="#17b978" points="1775.15,-1052.09 1785.41,-1049.47 1775.76,-1045.11 1775.15,-1052.09"/>
</g>
<!-- hotScheduler -->
<g id="node60" class="node">
<title>hotScheduler</title>
<path fill="none" stroke="#1c2123" d="M1893,-1020C1893,-1020 1829,-1020 1829,-1020 1823,-1020 1817,-1014 1817,-1008 1817,-1008 1817,-996 1817,-996 1817,-990 1823,-984 1829,-984 1829,-984 1893,-984 1893,-984 1899,-984 1905,-990 1905,-996 1905,-996 1905,-1008 1905,-1008 1905,-1014 1899,-1020 1893,-1020"/>
<text text-anchor="middle" x="1861" y="-998.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">hotScheduler</text>
</g>
<!-- Scheduler&#45;&gt;hotScheduler -->
<g id="edge71" class="edge">
<title>Scheduler&#45;&gt;hotScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.01,-1015.3C1743.59,-1012.19 1779,-1009.09 1806.69,-1006.67"/>
<polygon fill="#17b978" stroke="#17b978" points="1807.24,-1010.13 1816.9,-1005.77 1806.63,-1003.16 1807.24,-1010.13"/>
</g>
<!-- scatterRangeScheduler -->
<g id="node61" class="node">
<title>scatterRangeScheduler</title>
<path fill="none" stroke="#1c2123" d="M1919,-966C1919,-966 1803,-966 1803,-966 1797,-966 1791,-960 1791,-954 1791,-954 1791,-942 1791,-942 1791,-936 1797,-930 1803,-930 1803,-930 1919,-930 1919,-930 1925,-930 1931,-936 1931,-942 1931,-942 1931,-954 1931,-954 1931,-960 1925,-966 1919,-966"/>
<text text-anchor="middle" x="1861" y="-944.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">scatterRangeScheduler</text>
</g>
<!-- Scheduler&#45;&gt;scatterRangeScheduler -->
<g id="edge72" class="edge">
<title>Scheduler&#45;&gt;scatterRangeScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.14,-984.43C1720.26,-981.18 1732.32,-978 1744,-975 1755.93,-971.94 1768.59,-968.84 1781,-965.89"/>
<polygon fill="#17b978" stroke="#17b978" points="1781.94,-969.26 1790.87,-963.56 1780.33,-962.45 1781.94,-969.26"/>
</g>
<!-- grantLeaderScheduler -->
<g id="node62" class="node">
<title>grantLeaderScheduler</title>
<path fill="none" stroke="#1c2123" d="M1917,-912C1917,-912 1805,-912 1805,-912 1799,-912 1793,-906 1793,-900 1793,-900 1793,-888 1793,-888 1793,-882 1799,-876 1805,-876 1805,-876 1917,-876 1917,-876 1923,-876 1929,-882 1929,-888 1929,-888 1929,-900 1929,-900 1929,-906 1923,-912 1917,-912"/>
<text text-anchor="middle" x="1861" y="-890.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">grantLeaderScheduler</text>
</g>
<!-- Scheduler&#45;&gt;grantLeaderScheduler -->
<g id="edge73" class="edge">
<title>Scheduler&#45;&gt;grantLeaderScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.12,-936.46C1720.08,-930.84 1732.12,-925.61 1744,-921 1756.29,-916.23 1769.65,-912.17 1782.79,-908.75"/>
<polygon fill="#17b978" stroke="#17b978" points="1783.92,-912.07 1792.77,-906.26 1782.22,-905.28 1783.92,-912.07"/>
</g>
<!-- shuffleHotRegionScheduler -->
<g id="node63" class="node">
<title>shuffleHotRegionScheduler</title>
<path fill="none" stroke="#1c2123" d="M1932.5,-858C1932.5,-858 1789.5,-858 1789.5,-858 1783.5,-858 1777.5,-852 1777.5,-846 1777.5,-846 1777.5,-834 1777.5,-834 1777.5,-828 1783.5,-822 1789.5,-822 1789.5,-822 1932.5,-822 1932.5,-822 1938.5,-822 1944.5,-828 1944.5,-834 1944.5,-834 1944.5,-846 1944.5,-846 1944.5,-852 1938.5,-858 1932.5,-858"/>
<text text-anchor="middle" x="1861" y="-836.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">shuffleHotRegionScheduler</text>
</g>
<!-- Scheduler&#45;&gt;shuffleHotRegionScheduler -->
<g id="edge74" class="edge">
<title>Scheduler&#45;&gt;shuffleHotRegionScheduler</title>
<path fill="none" stroke="#17b978" d="M1686.63,-902.32C1705.03,-889.04 1724.37,-876.83 1744,-867 1751.51,-863.24 1759.55,-860 1767.78,-857.19"/>
<polygon fill="#17b978" stroke="#17b978" points="1769.02,-860.47 1777.49,-854.11 1766.9,-853.8 1769.02,-860.47"/>
</g>
<!-- randomMergeScheduler -->
<g id="node64" class="node">
<title>randomMergeScheduler</title>
<path fill="none" stroke="#1c2123" d="M1923.5,-1236C1923.5,-1236 1798.5,-1236 1798.5,-1236 1792.5,-1236 1786.5,-1230 1786.5,-1224 1786.5,-1224 1786.5,-1212 1786.5,-1212 1786.5,-1206 1792.5,-1200 1798.5,-1200 1798.5,-1200 1923.5,-1200 1923.5,-1200 1929.5,-1200 1935.5,-1206 1935.5,-1212 1935.5,-1212 1935.5,-1224 1935.5,-1224 1935.5,-1230 1929.5,-1236 1923.5,-1236"/>
<text text-anchor="middle" x="1861" y="-1214.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">randomMergeScheduler</text>
</g>
<!-- Scheduler&#45;&gt;randomMergeScheduler -->
<g id="edge75" class="edge">
<title>Scheduler&#45;&gt;randomMergeScheduler</title>
<path fill="none" stroke="#17b978" d="M1686.63,-1155.68C1705.03,-1168.96 1724.37,-1181.17 1744,-1191 1754.15,-1196.08 1765.29,-1200.23 1776.52,-1203.6"/>
<polygon fill="#17b978" stroke="#17b978" points="1775.81,-1207.04 1786.39,-1206.37 1777.7,-1200.3 1775.81,-1207.04"/>
</g>
<!-- shuffleRegionScheduler -->
<g id="node65" class="node">
<title>shuffleRegionScheduler</title>
<path fill="none" stroke="#1c2123" d="M1922,-1182C1922,-1182 1800,-1182 1800,-1182 1794,-1182 1788,-1176 1788,-1170 1788,-1170 1788,-1158 1788,-1158 1788,-1152 1794,-1146 1800,-1146 1800,-1146 1922,-1146 1922,-1146 1928,-1146 1934,-1152 1934,-1158 1934,-1158 1934,-1170 1934,-1170 1934,-1176 1928,-1182 1922,-1182"/>
<text text-anchor="middle" x="1861" y="-1160.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">shuffleRegionScheduler</text>
</g>
<!-- Scheduler&#45;&gt;shuffleRegionScheduler -->
<g id="edge76" class="edge">
<title>Scheduler&#45;&gt;shuffleRegionScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.12,-1121.54C1720.08,-1127.16 1732.12,-1132.39 1744,-1137 1754.84,-1141.21 1766.52,-1144.87 1778.15,-1148.02"/>
<polygon fill="#17b978" stroke="#17b978" points="1777.32,-1151.42 1787.88,-1150.55 1779.08,-1144.65 1777.32,-1151.42"/>
</g>
<!-- evictLeaderScheduler -->
<g id="node66" class="node">
<title>evictLeaderScheduler</title>
<path fill="none" stroke="#1c2123" d="M1916,-1128C1916,-1128 1806,-1128 1806,-1128 1800,-1128 1794,-1122 1794,-1116 1794,-1116 1794,-1104 1794,-1104 1794,-1098 1800,-1092 1806,-1092 1806,-1092 1916,-1092 1916,-1092 1922,-1092 1928,-1098 1928,-1104 1928,-1104 1928,-1116 1928,-1116 1928,-1122 1922,-1128 1916,-1128"/>
<text text-anchor="middle" x="1861" y="-1106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">evictLeaderScheduler</text>
</g>
<!-- Scheduler&#45;&gt;evictLeaderScheduler -->
<g id="edge77" class="edge">
<title>Scheduler&#45;&gt;evictLeaderScheduler</title>
<path fill="none" stroke="#17b978" d="M1708.14,-1073.57C1720.26,-1076.82 1732.32,-1080 1744,-1083 1756.85,-1086.3 1770.54,-1089.63 1783.85,-1092.79"/>
<polygon fill="#17b978" stroke="#17b978" points="1783.39,-1096.28 1793.93,-1095.16 1785,-1089.46 1783.39,-1096.28"/>
</g>
<!-- labelScheduler -->
<g id="node67" class="node">
<title>labelScheduler</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1789,-734.5C1789,-734.5 1933,-734.5 1933,-734.5 1939,-734.5 1945,-740.5 1945,-746.5 1945,-746.5 1945,-791.5 1945,-791.5 1945,-797.5 1939,-803.5 1933,-803.5 1933,-803.5 1789,-803.5 1789,-803.5 1783,-803.5 1777,-797.5 1777,-791.5 1777,-791.5 1777,-746.5 1777,-746.5 1777,-740.5 1783,-734.5 1789,-734.5"/>
<text text-anchor="middle" x="1861" y="-788.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">labelScheduler</text>
<polyline fill="none" stroke="#60b5ac" points="1777,-780.5 1945,-780.5 "/>
<text text-anchor="start" x="1785" y="-765.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">*BaseScheduler</text>
<polyline fill="none" stroke="#60b5ac" points="1777,-757.5 1945,-757.5 "/>
<text text-anchor="start" x="1785" y="-742.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">conf *labelSchedulerConfig</text>
</g>
<!-- Scheduler&#45;&gt;labelScheduler -->
<g id="edge78" class="edge">
<title>Scheduler&#45;&gt;labelScheduler</title>
<path fill="none" stroke="#17b978" d="M1646.09,-902.43C1674.82,-870.09 1708.31,-837.56 1744,-813 1751.36,-807.93 1759.39,-803.35 1767.66,-799.24"/>
<polygon fill="#17b978" stroke="#17b978" points="1769.18,-802.39 1776.72,-794.95 1766.19,-796.06 1769.18,-802.39"/>
</g>
<!-- BaseScheduler -->
<g id="node68" class="node">
<title>BaseScheduler</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2052.5,-1006C2052.5,-1006 2282.5,-1006 2282.5,-1006 2288.5,-1006 2294.5,-1012 2294.5,-1018 2294.5,-1018 2294.5,-1040 2294.5,-1040 2294.5,-1046 2288.5,-1052 2282.5,-1052 2282.5,-1052 2052.5,-1052 2052.5,-1052 2046.5,-1052 2040.5,-1046 2040.5,-1040 2040.5,-1040 2040.5,-1018 2040.5,-1018 2040.5,-1012 2046.5,-1006 2052.5,-1006"/>
<text text-anchor="middle" x="2167.5" y="-1036.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">BaseScheduler</text>
<polyline fill="none" stroke="#60b5ac" points="2040.5,-1029 2294.5,-1029 "/>
<text text-anchor="start" x="2048.5" y="-1013.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">OpController *schedule.OperatorController</text>
</g>
<!-- balanceRegionScheduler&#45;&gt;BaseScheduler -->
<g id="edge79" class="edge">
<title>balanceRegionScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1936.88,-1049.36C1965,-1046.87 1997.93,-1043.95 2029.92,-1041.11"/>
<polygon fill="#17b978" stroke="#17b978" points="2030.61,-1044.56 2040.26,-1040.19 2029.99,-1037.59 2030.61,-1044.56"/>
</g>
<!-- hotScheduler&#45;&gt;BaseScheduler -->
<g id="edge80" class="edge">
<title>hotScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1905.3,-1005.84C1938.12,-1008.75 1985.13,-1012.92 2030.24,-1016.92"/>
<polygon fill="#17b978" stroke="#17b978" points="2030.16,-1020.42 2040.43,-1017.82 2030.78,-1013.45 2030.16,-1020.42"/>
</g>
<!-- scatterRangeScheduler&#45;&gt;BaseScheduler -->
<g id="edge81" class="edge">
<title>scatterRangeScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1931.15,-963.49C1946.6,-967.12 1962.89,-971.08 1978,-975 2011.3,-983.64 2047.68,-993.87 2079.52,-1003.09"/>
<polygon fill="#17b978" stroke="#17b978" points="2078.66,-1006.49 2089.24,-1005.92 2080.62,-999.77 2078.66,-1006.49"/>
</g>
<!-- grantLeaderScheduler&#45;&gt;BaseScheduler -->
<g id="edge82" class="edge">
<title>grantLeaderScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1929.27,-906.16C1945.5,-910.04 1962.6,-914.95 1978,-921 2031.3,-941.95 2087.68,-976.04 2124.74,-1000.31"/>
<polygon fill="#17b978" stroke="#17b978" points="2123,-1003.35 2133.27,-1005.95 2126.86,-997.51 2123,-1003.35"/>
</g>
<!-- shuffleHotRegionScheduler&#45;&gt;BaseScheduler -->
<g id="edge83" class="edge">
<title>shuffleHotRegionScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1944.56,-854.01C1956.11,-857.45 1967.58,-861.72 1978,-867 2043.93,-900.43 2106.04,-961.67 2139.91,-998.52"/>
<polygon fill="#17b978" stroke="#17b978" points="2137.39,-1000.95 2146.7,-1006 2142.57,-996.24 2137.39,-1000.95"/>
</g>
<!-- randomMergeScheduler&#45;&gt;BaseScheduler -->
<g id="edge84" class="edge">
<title>randomMergeScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1935.67,-1206.48C1950.15,-1202.67 1964.91,-1197.64 1978,-1191 2043.93,-1157.57 2106.04,-1096.33 2139.91,-1059.48"/>
<polygon fill="#17b978" stroke="#17b978" points="2142.57,-1061.76 2146.7,-1052 2137.39,-1057.05 2142.57,-1061.76"/>
</g>
<!-- shuffleRegionScheduler&#45;&gt;BaseScheduler -->
<g id="edge85" class="edge">
<title>shuffleRegionScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1934.16,-1150.65C1948.91,-1146.96 1964.14,-1142.45 1978,-1137 2031.3,-1116.05 2087.68,-1081.96 2124.74,-1057.69"/>
<polygon fill="#17b978" stroke="#17b978" points="2126.86,-1060.49 2133.27,-1052.05 2123,-1054.65 2126.86,-1060.49"/>
</g>
<!-- evictLeaderScheduler&#45;&gt;BaseScheduler -->
<g id="edge86" class="edge">
<title>evictLeaderScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1928.09,-1095.22C1944.44,-1091.4 1961.89,-1087.18 1978,-1083 2011.3,-1074.36 2047.68,-1064.13 2079.52,-1054.91"/>
<polygon fill="#17b978" stroke="#17b978" points="2080.62,-1058.23 2089.24,-1052.08 2078.66,-1051.51 2080.62,-1058.23"/>
</g>
<!-- labelScheduler&#45;&gt;BaseScheduler -->
<g id="edge87" class="edge">
<title>labelScheduler&#45;&gt;BaseScheduler</title>
<path fill="none" stroke="#17b978" d="M1945.04,-794.72C1956.58,-799.92 1967.92,-805.99 1978,-813 2051.88,-864.41 2115.45,-950.98 2146.4,-997.37"/>
<polygon fill="#17b978" stroke="#17b978" points="2143.55,-999.4 2151.98,-1005.82 2149.39,-995.55 2143.55,-999.4"/>
</g>
<!-- LabelPropertyConfig -->
<g id="node108" class="node">
<title>LabelPropertyConfig</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2103,-734.5C2103,-734.5 2232,-734.5 2232,-734.5 2238,-734.5 2244,-740.5 2244,-746.5 2244,-746.5 2244,-791.5 2244,-791.5 2244,-797.5 2238,-803.5 2232,-803.5 2232,-803.5 2103,-803.5 2103,-803.5 2097,-803.5 2091,-797.5 2091,-791.5 2091,-791.5 2091,-746.5 2091,-746.5 2091,-740.5 2097,-734.5 2103,-734.5"/>
<text text-anchor="middle" x="2167.5" y="-788.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LabelPropertyConfig</text>
<polyline fill="none" stroke="#60b5ac" points="2091,-780.5 2244,-780.5 "/>
<text text-anchor="start" x="2099" y="-765.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Name string </text>
<polyline fill="none" stroke="#60b5ac" points="2091,-757.5 2244,-757.5 "/>
<text text-anchor="start" x="2099" y="-742.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Ranges []core.KeyRange</text>
</g>
<!-- labelScheduler&#45;&gt;LabelPropertyConfig -->
<g id="edge149" class="edge">
<title>labelScheduler&#45;&gt;LabelPropertyConfig</title>
<path fill="none" stroke="#666666" d="M1945.21,-769C1987.35,-769 2038.44,-769 2080.91,-769"/>
<polygon fill="#666666" stroke="#666666" points="2080.95,-772.5 2090.95,-769 2080.95,-765.5 2080.95,-772.5"/>
</g>
<!-- BaseScheduler&#45;&gt;OperatorController -->
<g id="edge88" class="edge">
<title>BaseScheduler&#45;&gt;OperatorController</title>
<path fill="none" stroke="#666666" d="M2192.69,-1052.24C2231.93,-1089.94 2312.64,-1167.48 2387.49,-1239.4"/>
<polygon fill="#666666" stroke="#666666" points="2385.08,-1241.93 2394.72,-1246.34 2389.93,-1236.88 2385.08,-1241.93"/>
</g>
<!-- Operator&#45;&gt;RegionEpoch -->
<g id="edge105" class="edge">
<title>Operator&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M3935.41,-2185.44C3952.77,-2166.2 3969.88,-2145.99 3985,-2126 4009.16,-2094.06 4032.07,-2054.8 4048.09,-2025.34"/>
<polygon fill="#666666" stroke="#666666" points="4051.17,-2027 4052.83,-2016.54 4045.01,-2023.68 4051.17,-2027"/>
</g>
<!-- RandBuckets -->
<g id="node107" class="node">
<title>RandBuckets</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3169.5,-1946.5C3169.5,-1946.5 3267.5,-1946.5 3267.5,-1946.5 3273.5,-1946.5 3279.5,-1952.5 3279.5,-1958.5 3279.5,-1958.5 3279.5,-2003.5 3279.5,-2003.5 3279.5,-2009.5 3273.5,-2015.5 3267.5,-2015.5 3267.5,-2015.5 3169.5,-2015.5 3169.5,-2015.5 3163.5,-2015.5 3157.5,-2009.5 3157.5,-2003.5 3157.5,-2003.5 3157.5,-1958.5 3157.5,-1958.5 3157.5,-1952.5 3163.5,-1946.5 3169.5,-1946.5"/>
<text text-anchor="middle" x="3218.5" y="-2000.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RandBuckets</text>
<polyline fill="none" stroke="#60b5ac" points="3157.5,-1992.5 3279.5,-1992.5 "/>
<text text-anchor="start" x="3165.5" y="-1977.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">totalWeight float64</text>
<polyline fill="none" stroke="#60b5ac" points="3157.5,-1969.5 3279.5,-1969.5 "/>
<text text-anchor="start" x="3165.5" y="-1954.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">buckets []*Bucket</text>
</g>
<!-- WaitingOperator&#45;&gt;RandBuckets -->
<g id="edge147" class="edge">
<title>WaitingOperator&#45;&gt;RandBuckets</title>
<path fill="none" stroke="#666666" d="M3022.85,-1936.88C3064.05,-1946.22 3110.2,-1956.68 3147.22,-1965.07"/>
<polygon fill="#666666" stroke="#666666" points="3146.88,-1968.58 3157.41,-1967.38 3148.43,-1961.76 3146.88,-1968.58"/>
</g>
<!-- splitRegionsHandler -->
<g id="node74" class="node">
<title>splitRegionsHandler</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2108,-1330.5C2108,-1330.5 2227,-1330.5 2227,-1330.5 2233,-1330.5 2239,-1336.5 2239,-1342.5 2239,-1342.5 2239,-1387.5 2239,-1387.5 2239,-1393.5 2233,-1399.5 2227,-1399.5 2227,-1399.5 2108,-1399.5 2108,-1399.5 2102,-1399.5 2096,-1393.5 2096,-1387.5 2096,-1387.5 2096,-1342.5 2096,-1342.5 2096,-1336.5 2102,-1330.5 2108,-1330.5"/>
<text text-anchor="middle" x="2167.5" y="-1384.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">splitRegionsHandler</text>
<polyline fill="none" stroke="#60b5ac" points="2096,-1376.5 2239,-1376.5 "/>
<text text-anchor="start" x="2104" y="-1361.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cluster opt.Cluster</text>
<polyline fill="none" stroke="#60b5ac" points="2096,-1353.5 2239,-1353.5 "/>
<text text-anchor="start" x="2104" y="-1338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">oc *OperatorController</text>
</g>
<!-- SplitRegionsHandler&#45;&gt;splitRegionsHandler -->
<g id="edge94" class="edge">
<title>SplitRegionsHandler&#45;&gt;splitRegionsHandler</title>
<path fill="none" stroke="#666666" d="M1654.78,-1365C1776.21,-1365 1975.19,-1365 2085.85,-1365"/>
<polygon fill="#666666" stroke="#666666" points="2085.95,-1368.5 2095.95,-1365 2085.95,-1361.5 2085.95,-1368.5"/>
</g>
<!-- splitRegionsHandler&#45;&gt;OperatorController -->
<g id="edge95" class="edge">
<title>splitRegionsHandler&#45;&gt;OperatorController</title>
<path fill="none" stroke="#666666" d="M2239.01,-1370.72C2269.88,-1373.23 2307.85,-1376.31 2346.53,-1379.45"/>
<polygon fill="#666666" stroke="#666666" points="2346.67,-1382.97 2356.92,-1380.29 2347.23,-1375.99 2346.67,-1382.97"/>
</g>
<!-- Filter -->
<g id="node76" class="node">
<title>Filter</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1822,-1784.5C1822,-1784.5 1900,-1784.5 1900,-1784.5 1906,-1784.5 1912,-1790.5 1912,-1796.5 1912,-1796.5 1912,-1887.5 1912,-1887.5 1912,-1893.5 1906,-1899.5 1900,-1899.5 1900,-1899.5 1822,-1899.5 1822,-1899.5 1816,-1899.5 1810,-1893.5 1810,-1887.5 1810,-1887.5 1810,-1796.5 1810,-1796.5 1810,-1790.5 1816,-1784.5 1822,-1784.5"/>
<text text-anchor="middle" x="1861" y="-1884.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Filter</text>
<polyline fill="none" stroke="#60b5ac" points="1810,-1876.5 1912,-1876.5 "/>
<text text-anchor="start" x="1818" y="-1861.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Scope() string</text>
<polyline fill="none" stroke="#60b5ac" points="1810,-1853.5 1912,-1853.5 "/>
<text text-anchor="start" x="1818" y="-1838.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Type() string</text>
<polyline fill="none" stroke="#60b5ac" points="1810,-1830.5 1912,-1830.5 "/>
<text text-anchor="start" x="1818" y="-1815.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Source(...) bool</text>
<polyline fill="none" stroke="#60b5ac" points="1810,-1807.5 1912,-1807.5 "/>
<text text-anchor="start" x="1818" y="-1792.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Target(...) bool</text>
</g>
<!-- engineContext&#45;&gt;Filter -->
<g id="edge98" class="edge">
<title>engineContext&#45;&gt;Filter</title>
<path fill="none" stroke="#666666" d="M1643.22,-1894.7C1693.92,-1882.38 1755.46,-1867.42 1800,-1856.59"/>
<polygon fill="#666666" stroke="#666666" points="1800.91,-1859.97 1809.8,-1854.2 1799.25,-1853.17 1800.91,-1859.97"/>
</g>
<!-- selectedStores -->
<g id="node77" class="node">
<title>selectedStores</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1765,-1627C1765,-1627 1957,-1627 1957,-1627 1963,-1627 1969,-1633 1969,-1639 1969,-1639 1969,-1753 1969,-1753 1969,-1759 1963,-1765 1957,-1765 1957,-1765 1765,-1765 1765,-1765 1759,-1765 1753,-1759 1753,-1753 1753,-1753 1753,-1639 1753,-1639 1753,-1633 1759,-1627 1765,-1627"/>
<text text-anchor="middle" x="1861" y="-1749.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">selectedStores</text>
<polyline fill="none" stroke="#60b5ac" points="1753,-1742 1969,-1742 "/>
<text text-anchor="start" x="1761" y="-1726.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">mu sync.Mutex</text>
<polyline fill="none" stroke="#60b5ac" points="1753,-1719 1969,-1719 "/>
<text text-anchor="start" x="1761" y="-1703.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">checkExist bool</text>
<polyline fill="none" stroke="#60b5ac" points="1753,-1696 1969,-1696 "/>
<text text-anchor="start" x="1761" y="-1680.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">stores *cache.TTLString</text>
<polyline fill="none" stroke="#60b5ac" points="1753,-1673 1969,-1673 "/>
<text text-anchor="start" x="1761" y="-1657.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">groupDistribution *cache.TTLString</text>
<polyline fill="none" stroke="#60b5ac" points="1753,-1650 1969,-1650 "/>
<text text-anchor="middle" x="1861" y="-1634.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- engineContext&#45;&gt;selectedStores -->
<g id="edge99" class="edge">
<title>engineContext&#45;&gt;selectedStores</title>
<path fill="none" stroke="#666666" d="M1643.06,-1898.31C1666.42,-1890 1689.99,-1878.08 1708,-1861 1738.06,-1832.48 1717.79,-1807.1 1744,-1775 1744.61,-1774.26 1745.22,-1773.52 1745.85,-1772.78"/>
<polygon fill="#666666" stroke="#666666" points="1748.71,-1774.83 1752.83,-1765.07 1743.52,-1770.13 1748.71,-1774.83"/>
</g>
<!-- Rule -->
<g id="node104" class="node">
<title>Rule</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2824,-2189.5C2824,-2189.5 3009,-2189.5 3009,-2189.5 3015,-2189.5 3021,-2195.5 3021,-2201.5 3021,-2201.5 3021,-2522.5 3021,-2522.5 3021,-2528.5 3015,-2534.5 3009,-2534.5 3009,-2534.5 2824,-2534.5 2824,-2534.5 2818,-2534.5 2812,-2528.5 2812,-2522.5 2812,-2522.5 2812,-2201.5 2812,-2201.5 2812,-2195.5 2818,-2189.5 2824,-2189.5"/>
<text text-anchor="middle" x="2916.5" y="-2519.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Rule</text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2511.5 3021,-2511.5 "/>
<text text-anchor="start" x="2820" y="-2496.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">GroupID string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2488.5 3021,-2488.5 "/>
<text text-anchor="start" x="2820" y="-2473.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ID string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2465.5 3021,-2465.5 "/>
<text text-anchor="start" x="2820" y="-2450.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Index int </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2442.5 3021,-2442.5 "/>
<text text-anchor="start" x="2820" y="-2427.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Override bool </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2419.5 3021,-2419.5 "/>
<text text-anchor="start" x="2820" y="-2404.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartKey []byte </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2396.5 3021,-2396.5 "/>
<text text-anchor="start" x="2820" y="-2381.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">StartKeyHex string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2373.5 3021,-2373.5 "/>
<text text-anchor="start" x="2820" y="-2358.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">EndKey []byte </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2350.5 3021,-2350.5 "/>
<text text-anchor="start" x="2820" y="-2335.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">EndKeyHex string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2327.5 3021,-2327.5 "/>
<text text-anchor="start" x="2820" y="-2312.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Role PeerRoleType </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2304.5 3021,-2304.5 "/>
<text text-anchor="start" x="2820" y="-2289.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Count int </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2281.5 3021,-2281.5 "/>
<text text-anchor="start" x="2820" y="-2266.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LabelConstraints []LabelConstraint</text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2258.5 3021,-2258.5 "/>
<text text-anchor="start" x="2820" y="-2243.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">LocationLabels []string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2235.5 3021,-2235.5 "/>
<text text-anchor="start" x="2820" y="-2220.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">IsolationLevel string </text>
<polyline fill="none" stroke="#60b5ac" points="2812,-2212.5 3021,-2212.5 "/>
<text text-anchor="start" x="2820" y="-2197.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">group *RuleGroup</text>
</g>
<!-- ruleConfig&#45;&gt;Rule -->
<g id="edge140" class="edge">
<title>ruleConfig&#45;&gt;Rule</title>
<path fill="none" stroke="#666666" d="M2645.51,-2362C2693.07,-2362 2751.36,-2362 2801.59,-2362"/>
<polygon fill="#666666" stroke="#666666" points="2801.85,-2365.5 2811.85,-2362 2801.85,-2358.5 2801.85,-2365.5"/>
</g>
<!-- rangeRules -->
<g id="node106" class="node">
<title>rangeRules</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M2502.5,-2416C2502.5,-2416 2600.5,-2416 2600.5,-2416 2606.5,-2416 2612.5,-2422 2612.5,-2428 2612.5,-2428 2612.5,-2496 2612.5,-2496 2612.5,-2502 2606.5,-2508 2600.5,-2508 2600.5,-2508 2502.5,-2508 2502.5,-2508 2496.5,-2508 2490.5,-2502 2490.5,-2496 2490.5,-2496 2490.5,-2428 2490.5,-2428 2490.5,-2422 2496.5,-2416 2502.5,-2416"/>
<text text-anchor="middle" x="2551.5" y="-2492.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">rangeRules</text>
<polyline fill="none" stroke="#60b5ac" points="2490.5,-2485 2612.5,-2485 "/>
<text text-anchor="start" x="2498.5" y="-2469.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">startKey []byte</text>
<polyline fill="none" stroke="#60b5ac" points="2490.5,-2462 2612.5,-2462 "/>
<text text-anchor="start" x="2498.5" y="-2446.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">rules []*Rule</text>
<polyline fill="none" stroke="#60b5ac" points="2490.5,-2439 2612.5,-2439 "/>
<text text-anchor="start" x="2498.5" y="-2423.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">applyRules []*Rule</text>
</g>
<!-- ruleList&#45;&gt;rangeRules -->
<g id="edge142" class="edge">
<title>ruleList&#45;&gt;rangeRules</title>
<path fill="none" stroke="#666666" d="M2230.3,-2464.51C2298.63,-2463.98 2408.49,-2463.12 2480.09,-2462.55"/>
<polygon fill="#666666" stroke="#666666" points="2480.39,-2466.05 2490.36,-2462.47 2480.34,-2459.05 2480.39,-2466.05"/>
</g>
<!-- hotPeerCache -->
<g id="node85" class="node">
<title>hotPeerCache</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1420.5,-2826C1420.5,-2826 1680.5,-2826 1680.5,-2826 1686.5,-2826 1692.5,-2832 1692.5,-2838 1692.5,-2838 1692.5,-2906 1692.5,-2906 1692.5,-2912 1686.5,-2918 1680.5,-2918 1680.5,-2918 1420.5,-2918 1420.5,-2918 1414.5,-2918 1408.5,-2912 1408.5,-2906 1408.5,-2906 1408.5,-2838 1408.5,-2838 1408.5,-2832 1414.5,-2826 1420.5,-2826"/>
<text text-anchor="middle" x="1550.5" y="-2902.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">hotPeerCache</text>
<polyline fill="none" stroke="#60b5ac" points="1408.5,-2895 1692.5,-2895 "/>
<text text-anchor="start" x="1416.5" y="-2879.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">kind FlowKind</text>
<polyline fill="none" stroke="#60b5ac" points="1408.5,-2872 1692.5,-2872 "/>
<text text-anchor="start" x="1416.5" y="-2856.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">peersOfStore map[uint64]*TopN</text>
<polyline fill="none" stroke="#60b5ac" points="1408.5,-2849 1692.5,-2849 "/>
<text text-anchor="start" x="1416.5" y="-2833.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">storesOfRegion map[uint64]map[uint64]struct{}</text>
</g>
<!-- HotCache&#45;&gt;hotPeerCache -->
<g id="edge111" class="edge">
<title>HotCache&#45;&gt;hotPeerCache</title>
<path fill="none" stroke="#666666" d="M1242.01,-2838.5C1286.86,-2843.39 1344.75,-2849.69 1398.17,-2855.51"/>
<polygon fill="#666666" stroke="#666666" points="1398.12,-2859.03 1408.44,-2856.63 1398.88,-2852.07 1398.12,-2859.03"/>
</g>
<!-- ReplicaChecker&#45;&gt;Cache -->
<g id="edge122" class="edge">
<title>ReplicaChecker&#45;&gt;Cache</title>
<path fill="none" stroke="#666666" d="M1644.9,-1516.32C1705.02,-1524.9 1779.84,-1535.57 1823.53,-1541.8"/>
<polygon fill="#666666" stroke="#666666" points="1823.28,-1545.3 1833.68,-1543.25 1824.27,-1538.37 1823.28,-1545.3"/>
</g>
<!-- RuleChecker&#45;&gt;RuleManager -->
<g id="edge137" class="edge">
<title>RuleChecker&#45;&gt;RuleManager</title>
<path fill="none" stroke="#666666" d="M1666.14,-2229.82C1680.99,-2237.63 1695.4,-2246.67 1708,-2257 1731.85,-2276.57 1772.09,-2335.16 1805.17,-2386.81"/>
<polygon fill="#666666" stroke="#666666" points="1802.3,-2388.82 1810.63,-2395.37 1808.2,-2385.05 1802.3,-2388.82"/>
</g>
<!-- ChangePeer&#45;&gt;Peer -->
<g id="edge132" class="edge">
<title>ChangePeer&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M3613.2,-1326.76C3718.03,-1304.64 3874.26,-1290.02 3985,-1361 4028.41,-1388.82 4050.16,-1445.06 4060.81,-1487.89"/>
<polygon fill="#666666" stroke="#666666" points="4057.41,-1488.7 4063.1,-1497.64 4064.22,-1487.1 4057.41,-1488.7"/>
</g>
<!-- ConfChangeType -->
<g id="node101" class="node">
<title>ConfChangeType</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3661,-1371C3661,-1371 3973,-1371 3973,-1371 3979,-1371 3985,-1377 3985,-1383 3985,-1383 3985,-1451 3985,-1451 3985,-1457 3979,-1463 3973,-1463 3973,-1463 3661,-1463 3661,-1463 3655,-1463 3649,-1457 3649,-1451 3649,-1451 3649,-1383 3649,-1383 3649,-1377 3655,-1371 3661,-1371"/>
<text text-anchor="middle" x="3817" y="-1447.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ConfChangeType</text>
<polyline fill="none" stroke="#60b5ac" points="3649,-1440 3985,-1440 "/>
<text text-anchor="start" x="3657" y="-1424.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ConfChangeType_AddNode ConfChangeType = 0</text>
<polyline fill="none" stroke="#60b5ac" points="3649,-1417 3985,-1417 "/>
<text text-anchor="start" x="3657" y="-1401.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ConfChangeType_RemoveNode ConfChangeType = 1</text>
<polyline fill="none" stroke="#60b5ac" points="3649,-1394 3985,-1394 "/>
<text text-anchor="start" x="3657" y="-1378.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ConfChangeType_AddLearnerNode ConfChangeType = 2</text>
</g>
<!-- ChangePeer&#45;&gt;ConfChangeType -->
<g id="edge133" class="edge">
<title>ChangePeer&#45;&gt;ConfChangeType</title>
<path fill="none" stroke="#666666" d="M3613.07,-1379.05C3621.55,-1380.64 3630.23,-1382.26 3638.99,-1383.9"/>
<polygon fill="#666666" stroke="#666666" points="3638.43,-1387.35 3648.9,-1385.75 3639.72,-1380.47 3638.43,-1387.35"/>
</g>
<!-- CheckPolicy -->
<g id="node102" class="node">
<title>CheckPolicy</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3687.5,-1124.5C3687.5,-1124.5 3946.5,-1124.5 3946.5,-1124.5 3952.5,-1124.5 3958.5,-1130.5 3958.5,-1136.5 3958.5,-1136.5 3958.5,-1227.5 3958.5,-1227.5 3958.5,-1233.5 3952.5,-1239.5 3946.5,-1239.5 3946.5,-1239.5 3687.5,-1239.5 3687.5,-1239.5 3681.5,-1239.5 3675.5,-1233.5 3675.5,-1227.5 3675.5,-1227.5 3675.5,-1136.5 3675.5,-1136.5 3675.5,-1130.5 3681.5,-1124.5 3687.5,-1124.5"/>
<text text-anchor="middle" x="3817" y="-1224.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckPolicy</text>
<polyline fill="none" stroke="#60b5ac" points="3675.5,-1216.5 3958.5,-1216.5 "/>
<text text-anchor="start" x="3683.5" y="-1201.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">type CheckPolicy int32</text>
<polyline fill="none" stroke="#60b5ac" points="3675.5,-1193.5 3958.5,-1193.5 "/>
<text text-anchor="start" x="3683.5" y="-1178.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckPolicy_SCAN CheckPolicy = 0</text>
<polyline fill="none" stroke="#60b5ac" points="3675.5,-1170.5 3958.5,-1170.5 "/>
<text text-anchor="start" x="3683.5" y="-1155.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckPolicy_APPROXIMATE CheckPolicy = 1</text>
<polyline fill="none" stroke="#60b5ac" points="3675.5,-1147.5 3958.5,-1147.5 "/>
<text text-anchor="start" x="3683.5" y="-1132.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckPolicy_USEKEY CheckPolicy = 2</text>
</g>
<!-- SplitRegion&#45;&gt;CheckPolicy -->
<g id="edge136" class="edge">
<title>SplitRegion&#45;&gt;CheckPolicy</title>
<path fill="none" stroke="#666666" d="M3561.71,-1182C3591.35,-1182 3628.39,-1182 3664.95,-1182"/>
<polygon fill="#666666" stroke="#666666" points="3665.24,-1185.5 3675.24,-1182 3665.24,-1178.5 3665.24,-1185.5"/>
</g>
<!-- TransferLeader&#45;&gt;Peer -->
<g id="edge134" class="edge">
<title>TransferLeader&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M3876.56,-1544C3917.39,-1544 3971.63,-1544 4012.36,-1544"/>
<polygon fill="#666666" stroke="#666666" points="4012.41,-1547.5 4022.41,-1544 4012.41,-1540.5 4012.41,-1547.5"/>
</g>
<!-- Merge&#45;&gt;metapb_Region -->
<g id="edge135" class="edge">
<title>Merge&#45;&gt;metapb_Region</title>
<path fill="none" stroke="#666666" d="M3571.43,-1606.11C3585.45,-1611.44 3599.88,-1617.48 3613,-1624 3649.7,-1642.24 3687.96,-1665.65 3721.25,-1687.61"/>
<polygon fill="#666666" stroke="#666666" points="3719.33,-1690.54 3729.6,-1693.16 3723.21,-1684.71 3719.33,-1690.54"/>
</g>
<!-- RuleGroup -->
<g id="node105" class="node">
<title>RuleGroup</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M3182.5,-2316C3182.5,-2316 3254.5,-2316 3254.5,-2316 3260.5,-2316 3266.5,-2322 3266.5,-2328 3266.5,-2328 3266.5,-2396 3266.5,-2396 3266.5,-2402 3260.5,-2408 3254.5,-2408 3254.5,-2408 3182.5,-2408 3182.5,-2408 3176.5,-2408 3170.5,-2402 3170.5,-2396 3170.5,-2396 3170.5,-2328 3170.5,-2328 3170.5,-2322 3176.5,-2316 3182.5,-2316"/>
<text text-anchor="middle" x="3218.5" y="-2392.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">RuleGroup</text>
<polyline fill="none" stroke="#60b5ac" points="3170.5,-2385 3266.5,-2385 "/>
<text text-anchor="start" x="3178.5" y="-2369.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ID string</text>
<polyline fill="none" stroke="#60b5ac" points="3170.5,-2362 3266.5,-2362 "/>
<text text-anchor="start" x="3178.5" y="-2346.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Index int </text>
<polyline fill="none" stroke="#60b5ac" points="3170.5,-2339 3266.5,-2339 "/>
<text text-anchor="start" x="3178.5" y="-2323.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Override bool </text>
</g>
<!-- Rule&#45;&gt;RuleGroup -->
<g id="edge141" class="edge">
<title>Rule&#45;&gt;RuleGroup</title>
<path fill="none" stroke="#666666" d="M3021.16,-2362C3067.65,-2362 3120.72,-2362 3159.95,-2362"/>
<polygon fill="#666666" stroke="#666666" points="3160.13,-2365.5 3170.13,-2362 3160.13,-2358.5 3160.13,-2365.5"/>
</g>
<!-- rangeRules&#45;&gt;Rule -->
<g id="edge143" class="edge">
<title>rangeRules&#45;&gt;Rule</title>
<path fill="none" stroke="#666666" d="M2612.85,-2445.37C2664.23,-2431.22 2739.45,-2410.5 2802.05,-2393.25"/>
<polygon fill="#666666" stroke="#666666" points="2803.27,-2396.55 2811.98,-2390.52 2801.41,-2389.8 2803.27,-2396.55"/>
</g>
<!-- RandBuckets&#45;&gt;Bucket -->
<g id="edge148" class="edge">
<title>RandBuckets&#45;&gt;Bucket</title>
<path fill="none" stroke="#666666" d="M3234.5,-2015.68C3281.67,-2124.72 3426.94,-2460.56 3479.37,-2581.78"/>
<polygon fill="#666666" stroke="#666666" points="3476.24,-2583.36 3483.43,-2591.15 3482.67,-2580.58 3476.24,-2583.36"/>
</g>
</g>
</svg>
