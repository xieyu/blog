<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: blob_get Pages: 1 -->
<svg width="1010pt" height="568pt"
 viewBox="0.00 0.00 1009.98 568.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 564)">
<title>blob_get</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-564 1005.9775,-564 1005.9775,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_BlobIndex</title>
<polygon fill="none" stroke="#000000" points="437.5288,-8 437.5288,-196 608.7222,-196 608.7222,-8 437.5288,-8"/>
<text text-anchor="middle" x="523.1255" y="-176" font-family="Times,serif" font-size="20.00" fill="#000000">BlobIndex</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_DbImpl</title>
<polygon fill="none" stroke="#000000" points="207.5347,-116 207.5347,-196 339.0796,-196 339.0796,-116 207.5347,-116"/>
<text text-anchor="middle" x="273.3071" y="-176" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_BlobDbImpl</title>
<polygon fill="none" stroke="#000000" points="8,-204 8,-552 993.9775,-552 993.9775,-204 8,-204"/>
<text text-anchor="middle" x="500.9888" y="-532" font-family="Times,serif" font-size="20.00" fill="#000000">BlobDbImpl</text>
</g>
<!-- BlobIndex_DecodeFrom -->
<g id="node1" class="node">
<title>BlobIndex_DecodeFrom</title>
<polygon fill="none" stroke="#000000" points="600.819,-160 445.432,-160 445.432,-124 600.819,-124 600.819,-160"/>
<text text-anchor="middle" x="523.1255" y="-137.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobIndex_DecodeFrom</text>
</g>
<!-- BlobIndex_HasTTL -->
<g id="node2" class="node">
<title>BlobIndex_HasTTL</title>
<polygon fill="none" stroke="#000000" points="587.6576,-106 458.5934,-106 458.5934,-70 587.6576,-70 587.6576,-106"/>
<text text-anchor="middle" x="523.1255" y="-83.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobIndex_HasTTL</text>
</g>
<!-- BlobIndex_IsInlined -->
<g id="node3" class="node">
<title>BlobIndex_IsInlined</title>
<polygon fill="none" stroke="#000000" points="588.9947,-52 457.2563,-52 457.2563,-16 588.9947,-16 588.9947,-52"/>
<text text-anchor="middle" x="523.1255" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobIndex_IsInlined</text>
</g>
<!-- DBImpl_GetImpl -->
<g id="node4" class="node">
<title>DBImpl_GetImpl</title>
<polygon fill="none" stroke="#000000" points="330.8529,-160 215.7613,-160 215.7613,-124 330.8529,-124 330.8529,-160"/>
<text text-anchor="middle" x="273.3071" y="-137.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl_GetImpl</text>
</g>
<!-- Get -->
<g id="node5" class="node">
<title>Get</title>
<polygon fill="none" stroke="#000000" points="70,-302 16,-302 16,-266 70,-266 70,-302"/>
<text text-anchor="middle" x="43" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">Get</text>
</g>
<!-- GetImpl -->
<g id="node6" class="node">
<title>GetImpl</title>
<polygon fill="none" stroke="#000000" points="168.4839,-302 106.1714,-302 106.1714,-266 168.4839,-266 168.4839,-302"/>
<text text-anchor="middle" x="137.3276" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetImpl</text>
</g>
<!-- Get&#45;&gt;GetImpl -->
<g id="edge1" class="edge">
<title>Get&#45;&gt;GetImpl</title>
<path fill="none" stroke="#666666" d="M70.0305,-284C78.0911,-284 87.1177,-284 95.8773,-284"/>
<polygon fill="#666666" stroke="#666666" points="95.964,-287.5001 105.964,-284 95.9639,-280.5001 95.964,-287.5001"/>
</g>
<!-- GetImpl&#45;&gt;DBImpl_GetImpl -->
<g id="edge2" class="edge">
<title>GetImpl&#45;&gt;DBImpl_GetImpl</title>
<path fill="none" stroke="#666666" d="M150.3127,-265.7929C163.2299,-248.1891 184.046,-221.1485 204.6553,-200 216.0688,-188.2878 229.6444,-176.4437 241.6984,-166.539"/>
<polygon fill="#666666" stroke="#666666" points="244.1846,-169.0294 249.7551,-160.0172 239.7803,-163.5886 244.1846,-169.0294"/>
</g>
<!-- SetSnapshotIfNeeded -->
<g id="node7" class="node">
<title>SetSnapshotIfNeeded</title>
<polygon fill="none" stroke="#000000" points="342.1112,-248 204.5031,-248 204.5031,-212 342.1112,-212 342.1112,-248"/>
<text text-anchor="middle" x="273.3071" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetSnapshotIfNeeded</text>
</g>
<!-- GetImpl&#45;&gt;SetSnapshotIfNeeded -->
<g id="edge3" class="edge">
<title>GetImpl&#45;&gt;SetSnapshotIfNeeded</title>
<path fill="none" stroke="#666666" d="M168.4839,-271.4552C179.8603,-266.8879 192.8338,-261.6949 204.6553,-257 208.8529,-255.3329 213.1969,-253.6127 217.5672,-251.8857"/>
<polygon fill="#666666" stroke="#666666" points="219.1127,-255.0386 227.1299,-248.1121 216.5432,-248.5272 219.1127,-255.0386"/>
</g>
<!-- GetBlobValue -->
<g id="node8" class="node">
<title>GetBlobValue</title>
<polygon fill="none" stroke="#000000" points="321.125,-302 225.4892,-302 225.4892,-266 321.125,-266 321.125,-302"/>
<text text-anchor="middle" x="273.3071" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetBlobValue</text>
</g>
<!-- GetImpl&#45;&gt;GetBlobValue -->
<g id="edge4" class="edge">
<title>GetImpl&#45;&gt;GetBlobValue</title>
<path fill="none" stroke="#666666" d="M168.5241,-284C182.353,-284 199.088,-284 215.0861,-284"/>
<polygon fill="#666666" stroke="#666666" points="215.4548,-287.5001 225.4547,-284 215.4547,-280.5001 215.4548,-287.5001"/>
</g>
<!-- PinSelf -->
<g id="node9" class="node">
<title>PinSelf</title>
<polygon fill="none" stroke="#000000" points="551.8535,-447 494.3975,-447 494.3975,-411 551.8535,-411 551.8535,-447"/>
<text text-anchor="middle" x="523.1255" y="-424.8" font-family="Times,serif" font-size="14.00" fill="#000000">PinSelf</text>
</g>
<!-- GetImpl&#45;&gt;PinSelf -->
<g id="edge5" class="edge">
<title>GetImpl&#45;&gt;PinSelf</title>
<path fill="none" stroke="#666666" d="M168.652,-298.3518C179.8197,-302.9861 192.6163,-307.7584 204.6553,-311 264.2024,-327.0333 291.8797,-295.014 341.959,-331 370.6905,-351.6459 349.6381,-380.7943 377.959,-402 408.4704,-424.8459 452.5113,-430.2615 484.0719,-430.7875"/>
<polygon fill="#666666" stroke="#666666" points="484.2559,-434.2876 494.2591,-430.7965 484.2622,-427.2876 484.2559,-434.2876"/>
</g>
<!-- ReleaseSnapshot -->
<g id="node10" class="node">
<title>ReleaseSnapshot</title>
<polygon fill="none" stroke="#000000" points="328.6763,-376 217.9379,-376 217.9379,-340 328.6763,-340 328.6763,-376"/>
<text text-anchor="middle" x="273.3071" y="-353.8" font-family="Times,serif" font-size="14.00" fill="#000000">ReleaseSnapshot</text>
</g>
<!-- GetImpl&#45;&gt;ReleaseSnapshot -->
<g id="edge6" class="edge">
<title>GetImpl&#45;&gt;ReleaseSnapshot</title>
<path fill="none" stroke="#666666" d="M164.721,-302.1421C176.7698,-309.8449 191.213,-318.7094 204.6553,-326 210.5577,-329.2013 216.8368,-332.3986 223.1076,-335.4662"/>
<polygon fill="#666666" stroke="#666666" points="221.7144,-338.6798 232.2441,-339.8531 224.7444,-332.3695 221.7144,-338.6798"/>
</g>
<!-- GetBlobValue&#45;&gt;BlobIndex_DecodeFrom -->
<g id="edge7" class="edge">
<title>GetBlobValue&#45;&gt;BlobIndex_DecodeFrom</title>
<path fill="none" stroke="#666666" d="M321.2878,-269.7035C328.6587,-266.2545 335.8404,-262.0612 341.959,-257 365.0469,-237.9022 354.9227,-219.1601 377.959,-200 396.8554,-184.2831 420.5493,-172.4278 443.2814,-163.6688"/>
<polygon fill="#666666" stroke="#666666" points="444.7778,-166.8474 452.9481,-160.1022 442.3548,-160.2801 444.7778,-166.8474"/>
</g>
<!-- GetBlobValue&#45;&gt;BlobIndex_HasTTL -->
<g id="edge8" class="edge">
<title>GetBlobValue&#45;&gt;BlobIndex_HasTTL</title>
<path fill="none" stroke="#666666" d="M321.038,-272.1088C328.8811,-268.3567 336.2867,-263.4388 341.959,-257 384.9971,-208.1458 330.4626,-159.5321 377.959,-115 396.6962,-97.4322 423.0036,-89.4801 448.0852,-86.3078"/>
<polygon fill="#666666" stroke="#666666" points="448.7679,-89.7563 458.3595,-85.2562 448.055,-82.7927 448.7679,-89.7563"/>
</g>
<!-- GetBlobValue&#45;&gt;BlobIndex_IsInlined -->
<g id="edge9" class="edge">
<title>GetBlobValue&#45;&gt;BlobIndex_IsInlined</title>
<path fill="none" stroke="#666666" d="M321.0439,-272.5804C328.9841,-268.7795 336.423,-263.7231 341.959,-257 398.2587,-188.6283 315.402,-123.6975 377.959,-61 395.9414,-42.9772 421.8199,-34.8748 446.7614,-31.7079"/>
<polygon fill="#666666" stroke="#666666" points="447.3996,-35.1612 456.994,-30.667 446.6911,-28.1971 447.3996,-35.1612"/>
</g>
<!-- GetBlobValue&#45;&gt;PinSelf -->
<g id="edge10" class="edge">
<title>GetBlobValue&#45;&gt;PinSelf</title>
<path fill="none" stroke="#666666" d="M321.0382,-300.5669C328.6954,-304.7409 336.0363,-309.8372 341.959,-316 370.6707,-345.876 345.7167,-375.9736 377.959,-402 407.7977,-426.0862 452.3315,-431.2426 484.1984,-431.3678"/>
<polygon fill="#666666" stroke="#666666" points="484.5255,-434.864 494.4803,-431.2374 484.4367,-427.8646 484.5255,-434.864"/>
</g>
<!-- GetRawBlobFromFile -->
<g id="node11" class="node">
<title>GetRawBlobFromFile</title>
<polygon fill="none" stroke="#000000" points="384.8052,-229.8002 384.8052,-338.1998 661.4458,-338.1998 661.4458,-229.8002 384.8052,-229.8002"/>
<text text-anchor="middle" x="523.1255" y="-322.9998" font-family="Times,serif" font-size="14.00" fill="#000000">GetRawBlobFromFile</text>
<polyline fill="none" stroke="#000000" points="384.8052,-316.1998 661.4458,-316.1998 "/>
<text text-anchor="start" x="392.8052" y="-300.9998" font-family="Times,serif" font-size="14.00" fill="#000000">1.根据filenumber从blob_files_</text>
<text text-anchor="start" x="392.8052" y="-281.3999" font-family="Times,serif" font-size="14.00" fill="#000000"> 找到对应的blob</text>
<text text-anchor="start" x="392.8052" y="-261.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.读取blob index中的offset和size读取record</text>
<text text-anchor="start" x="392.8052" y="-242.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.校验crc32</text>
</g>
<!-- GetBlobValue&#45;&gt;GetRawBlobFromFile -->
<g id="edge11" class="edge">
<title>GetBlobValue&#45;&gt;GetRawBlobFromFile</title>
<path fill="none" stroke="#666666" d="M321.179,-284C336.9235,-284 355.3471,-284 374.545,-284"/>
<polygon fill="#666666" stroke="#666666" points="374.6449,-287.5001 384.6448,-284 374.6448,-280.5001 374.6449,-287.5001"/>
</g>
<!-- UncompressBlockContentsForCompressionType -->
<g id="node12" class="node">
<title>UncompressBlockContentsForCompressionType</title>
<polygon fill="none" stroke="#000000" points="668.4587,-393 377.7923,-393 377.7923,-357 668.4587,-357 668.4587,-393"/>
<text text-anchor="middle" x="523.1255" y="-370.8" font-family="Times,serif" font-size="14.00" fill="#000000">UncompressBlockContentsForCompressionType</text>
</g>
<!-- GetBlobValue&#45;&gt;UncompressBlockContentsForCompressionType -->
<g id="edge12" class="edge">
<title>GetBlobValue&#45;&gt;UncompressBlockContentsForCompressionType</title>
<path fill="none" stroke="#666666" d="M317.1848,-302.1246C325.6479,-306.2613 334.2665,-310.9446 341.959,-316 359.8488,-327.7569 358.7322,-338.5872 377.959,-348 381.8442,-349.9021 385.848,-351.6707 389.9379,-353.3153"/>
<polygon fill="#666666" stroke="#666666" points="389.0292,-356.712 399.6217,-356.9316 391.4781,-350.1543 389.0292,-356.712"/>
</g>
<!-- Read -->
<g id="node13" class="node">
<title>Read</title>
<polygon fill="none" stroke="#000000" points="762.8794,-212.2 762.8794,-275.8 927.3901,-275.8 927.3901,-212.2 762.8794,-212.2"/>
<text text-anchor="middle" x="845.1348" y="-260.6" font-family="Times,serif" font-size="14.00" fill="#000000">Read</text>
<polyline fill="none" stroke="#000000" points="762.8794,-253.8 927.3901,-253.8 "/>
<text text-anchor="start" x="770.8794" y="-238.6" font-family="Times,serif" font-size="14.00" fill="#000000">RandomAccessFileReader</text>
<text text-anchor="start" x="770.8794" y="-224.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 随机读</text>
</g>
<!-- GetRawBlobFromFile&#45;&gt;Read -->
<g id="edge13" class="edge">
<title>GetRawBlobFromFile&#45;&gt;Read</title>
<path fill="none" stroke="#666666" d="M661.5552,-266.8043C692.222,-262.9948 724.0036,-259.0469 752.3301,-255.5282"/>
<polygon fill="#666666" stroke="#666666" points="753.1092,-258.9584 762.6014,-254.2523 752.2462,-252.0118 753.1092,-258.9584"/>
</g>
<!-- blob_files_ -->
<g id="node14" class="node">
<title>blob_files_</title>
<polygon fill="#95e1d3" stroke="#000000" points="704.292,-295 704.292,-353 985.9775,-353 985.9775,-295 704.292,-295"/>
<text text-anchor="middle" x="845.1348" y="-337.8" font-family="Times,serif" font-size="14.00" fill="#000000">blob_files_</text>
<polyline fill="none" stroke="#000000" points="704.292,-331 985.9775,-331 "/>
<text text-anchor="start" x="712.292" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::map&lt;uint64_t, std::shared_ptr&lt;BlobFile&gt;&gt;</text>
<text text-anchor="middle" x="845.1348" y="-301.8" font-family="Times,serif" font-size="14.00" fill="#000000"> blob_files_;</text>
</g>
<!-- GetRawBlobFromFile&#45;&gt;blob_files_ -->
<g id="edge14" class="edge">
<title>GetRawBlobFromFile&#45;&gt;blob_files_</title>
<path fill="none" stroke="#666666" d="M661.5552,-301.1957C672.3874,-302.5413 683.3587,-303.9042 694.2676,-305.2593"/>
<polygon fill="#666666" stroke="#666666" points="693.9076,-308.7414 704.2628,-306.5009 694.7705,-301.7948 693.9076,-308.7414"/>
</g>
<!-- GetBlobFileReader -->
<g id="node15" class="node">
<title>GetBlobFileReader</title>
<polygon fill="none" stroke="#000000" points="907.4971,-408 782.7724,-408 782.7724,-372 907.4971,-372 907.4971,-408"/>
<text text-anchor="middle" x="845.1348" y="-385.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetBlobFileReader</text>
</g>
<!-- GetRawBlobFromFile&#45;&gt;GetBlobFileReader -->
<g id="edge15" class="edge">
<title>GetRawBlobFromFile&#45;&gt;GetBlobFileReader</title>
<path fill="none" stroke="#666666" d="M646.2751,-338.2875C676.0648,-351.3016 700.5226,-361.8327 704.292,-363 726.1537,-369.7699 750.4746,-375.1592 772.6701,-379.2865"/>
<polygon fill="#666666" stroke="#666666" points="772.2397,-382.7653 782.702,-381.0945 773.4813,-375.8763 772.2397,-382.7653"/>
</g>
<!-- use_direct_io -->
<g id="node16" class="node">
<title>use_direct_io</title>
<polygon fill="none" stroke="#000000" points="891.0566,-462 799.2129,-462 799.2129,-426 891.0566,-426 891.0566,-462"/>
<text text-anchor="middle" x="845.1348" y="-439.8" font-family="Times,serif" font-size="14.00" fill="#000000">use_direct_io</text>
</g>
<!-- GetRawBlobFromFile&#45;&gt;use_direct_io -->
<g id="edge16" class="edge">
<title>GetRawBlobFromFile&#45;&gt;use_direct_io</title>
<path fill="none" stroke="#666666" d="M656.8564,-338.3085C660.8455,-341.3827 664.6732,-344.6113 668.292,-348 693.5401,-371.6427 676.5407,-396.3527 704.292,-417 728.4867,-435.0011 761.3161,-442.0123 789.1929,-444.4035"/>
<polygon fill="#666666" stroke="#666666" points="788.999,-447.8983 799.214,-445.0872 789.4755,-440.9145 788.999,-447.8983"/>
</g>
<!-- crc32c -->
<g id="node17" class="node">
<title>crc32c</title>
<polygon fill="none" stroke="#000000" points="872.1348,-516 818.1348,-516 818.1348,-480 872.1348,-480 872.1348,-516"/>
<text text-anchor="middle" x="845.1348" y="-493.8" font-family="Times,serif" font-size="14.00" fill="#000000">crc32c</text>
</g>
<!-- GetRawBlobFromFile&#45;&gt;crc32c -->
<g id="edge17" class="edge">
<title>GetRawBlobFromFile&#45;&gt;crc32c</title>
<path fill="none" stroke="#666666" d="M658.6908,-338.2665C662.081,-341.342 665.2948,-344.5838 668.292,-348 705.8567,-390.8175 662.1419,-432.6879 704.292,-471 732.183,-496.3514 776.3398,-501.1614 807.7712,-500.8591"/>
<polygon fill="#666666" stroke="#666666" points="808,-504.3543 817.9008,-500.5829 807.8091,-497.3569 808,-504.3543"/>
</g>
</g>
</svg>
