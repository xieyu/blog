<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: blobput Pages: 1 -->
<svg width="1691pt" height="941pt"
 viewBox="0.00 0.00 1690.51 941.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 937)">
<title>blobput</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-937 1686.5059,-937 1686.5059,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_MemTableInserter</title>
<polygon fill="none" stroke="#000000" points="1391.4741,-8 1391.4741,-88 1674.5059,-88 1674.5059,-8 1391.4741,-8"/>
<text text-anchor="middle" x="1532.99" y="-68" font-family="Times,serif" font-size="20.00" fill="#000000">MemTableInserter</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_BlobFile</title>
<polygon fill="none" stroke="#000000" points="8,-801 8,-925 1031.2266,-925 1031.2266,-801 8,-801"/>
<text text-anchor="middle" x="519.6133" y="-905" font-family="Times,serif" font-size="20.00" fill="#000000">BlobFile</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_BlobLogWriter</title>
<polygon fill="none" stroke="#000000" points="664.8306,-809 664.8306,-889 811.9204,-889 811.9204,-809 664.8306,-809"/>
<text text-anchor="middle" x="738.3755" y="-869" font-family="Times,serif" font-size="20.00" fill="#000000">BlobLogWriter</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_BlobIndex</title>
<polygon fill="none" stroke="#000000" points="442.2432,-122 442.2432,-256 801.8066,-256 801.8066,-122 442.2432,-122"/>
<text text-anchor="middle" x="622.0249" y="-236" font-family="Times,serif" font-size="20.00" fill="#000000">BlobIndex</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_WriteBatchInternal</title>
<polygon fill="none" stroke="#000000" points="1098.2578,-96 1098.2578,-230 1560.2646,-230 1560.2646,-96 1098.2578,-96"/>
<text text-anchor="middle" x="1329.2612" y="-210" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatchInternal</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_BlobDBImpl</title>
<polygon fill="none" stroke="#000000" points="24.6045,-264 24.6045,-793 1261.0361,-793 1261.0361,-264 24.6045,-264"/>
<text text-anchor="middle" x="642.8203" y="-773" font-family="Times,serif" font-size="20.00" fill="#000000">BlobDBImpl</text>
</g>
<!-- PutBlobIndexCF -->
<g id="node1" class="node">
<title>PutBlobIndexCF</title>
<polygon fill="none" stroke="#000000" points="1510.3291,-52 1399.5224,-52 1399.5224,-16 1510.3291,-16 1510.3291,-52"/>
<text text-anchor="middle" x="1454.9258" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutBlobIndexCF</text>
</g>
<!-- PutCFImpl -->
<g id="node2" class="node">
<title>PutCFImpl</title>
<polygon fill="none" stroke="#000000" points="1666.6268,-52 1588.1437,-52 1588.1437,-16 1666.6268,-16 1666.6268,-52"/>
<text text-anchor="middle" x="1627.3853" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutCFImpl</text>
</g>
<!-- PutBlobIndexCF&#45;&gt;PutCFImpl -->
<g id="edge1" class="edge">
<title>PutBlobIndexCF&#45;&gt;PutCFImpl</title>
<path fill="none" stroke="#666666" d="M1510.4423,-34C1532.1898,-34 1556.9354,-34 1578.0458,-34"/>
<polygon fill="#666666" stroke="#666666" points="1578.0881,-37.5001 1588.088,-34 1578.088,-30.5001 1578.0881,-37.5001"/>
</g>
<!-- ExtendExpirationRange -->
<g id="node3" class="node">
<title>ExtendExpirationRange</title>
<polygon fill="none" stroke="#000000" points="586.9065,-845 436.8698,-845 436.8698,-809 586.9065,-809 586.9065,-845"/>
<text text-anchor="middle" x="511.8882" y="-822.8" font-family="Times,serif" font-size="14.00" fill="#000000">ExtendExpirationRange</text>
</g>
<!-- BlobRecordAdded -->
<g id="node4" class="node">
<title>BlobRecordAdded</title>
<polygon fill="none" stroke="#000000" points="136.9692,-867 16.0103,-867 16.0103,-831 136.9692,-831 136.9692,-867"/>
<text text-anchor="middle" x="76.4897" y="-844.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobRecordAdded</text>
</g>
<!-- BlobFile_ctor -->
<g id="node5" class="node">
<title>BlobFile_ctor</title>
<polygon fill="none" stroke="#000000" points="902.2197,-809.2 902.2197,-858.8 1023.2266,-858.8 1023.2266,-809.2 902.2197,-809.2"/>
<text text-anchor="middle" x="962.7231" y="-843.6" font-family="Times,serif" font-size="14.00" fill="#000000">BlobFile</text>
<polyline fill="none" stroke="#000000" points="902.2197,-836.8 1023.2266,-836.8 "/>
<text text-anchor="start" x="910.2197" y="-821.6" font-family="Times,serif" font-size="14.00" fill="#000000">BlobFile构造函数</text>
</g>
<!-- EmitPhysicalRecord -->
<g id="node6" class="node">
<title>EmitPhysicalRecord</title>
<polygon fill="none" stroke="#000000" points="803.9654,-853 672.7856,-853 672.7856,-817 803.9654,-817 803.9654,-853"/>
<text text-anchor="middle" x="738.3755" y="-830.8" font-family="Times,serif" font-size="14.00" fill="#000000">EmitPhysicalRecord</text>
</g>
<!-- EncodeInlinedTTL -->
<g id="node7" class="node">
<title>EncodeInlinedTTL</title>
<polygon fill="none" stroke="#000000" points="573.6786,-220 450.0978,-220 450.0978,-184 573.6786,-184 573.6786,-220"/>
<text text-anchor="middle" x="511.8882" y="-197.8" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeInlinedTTL</text>
</g>
<!-- EncodeBlob -->
<g id="node8" class="node">
<title>EncodeBlob</title>
<polygon fill="none" stroke="#000000" points="781.0828,-220 695.6682,-220 695.6682,-184 781.0828,-184 781.0828,-220"/>
<text text-anchor="middle" x="738.3755" y="-197.8" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeBlob</text>
</g>
<!-- index_entry -->
<g id="node23" class="node">
<title>index_entry</title>
<polygon fill="none" stroke="#000000" points="900.4937,-273 900.4937,-317 1024.9526,-317 1024.9526,-273 900.4937,-273"/>
<text text-anchor="middle" x="962.7231" y="-301.8" font-family="Times,serif" font-size="14.00" fill="#000000">index_entry String</text>
<polyline fill="none" stroke="#000000" points="900.4937,-295 1024.9526,-295 "/>
<text text-anchor="middle" x="962.7231" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockIndex encode</text>
</g>
<!-- EncodeBlob&#45;&gt;index_entry -->
<g id="edge20" class="edge">
<title>EncodeBlob&#45;&gt;index_entry</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M781.1016,-219.7115C814.7384,-233.6551 862.1106,-253.2925 900.0403,-269.0158"/>
<polygon fill="#666666" stroke="#666666" points="898.8878,-272.3268 909.4659,-272.923 901.5684,-265.8604 898.8878,-272.3268"/>
</g>
<!-- EncodeBlobTTL -->
<g id="node9" class="node">
<title>EncodeBlobTTL</title>
<polygon fill="none" stroke="#000000" points="793.7379,-166 683.0131,-166 683.0131,-130 793.7379,-130 793.7379,-166"/>
<text text-anchor="middle" x="738.3755" y="-143.8" font-family="Times,serif" font-size="14.00" fill="#000000">EncodeBlobTTL</text>
</g>
<!-- EncodeBlobTTL&#45;&gt;index_entry -->
<g id="edge21" class="edge">
<title>EncodeBlobTTL&#45;&gt;index_entry</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M793.8975,-163.4724C802.5988,-166.7636 811.3107,-170.5998 819.1885,-175 863.2527,-199.6123 906.7077,-238.5586 934.0579,-265.3694"/>
<polygon fill="#666666" stroke="#666666" points="931.7685,-268.0283 941.3322,-272.5876 936.6991,-263.0595 931.7685,-268.0283"/>
</g>
<!-- PutBlobIndex -->
<g id="node10" class="node">
<title>PutBlobIndex</title>
<polygon fill="none" stroke="#000000" points="1106.2578,-104.2 1106.2578,-153.8 1321.5869,-153.8 1321.5869,-104.2 1106.2578,-104.2"/>
<text text-anchor="middle" x="1213.9224" y="-138.6" font-family="Times,serif" font-size="14.00" fill="#000000">PutBlobIndex</text>
<polyline fill="none" stroke="#000000" points="1106.2578,-131.8 1321.5869,-131.8 "/>
<text text-anchor="start" x="1114.2578" y="-116.6" font-family="Times,serif" font-size="14.00" fill="#000000">将key,BlobIndex写入writeBatch中</text>
</g>
<!-- PutBlobIndex&#45;&gt;PutBlobIndexCF -->
<g id="edge4" class="edge">
<title>PutBlobIndex&#45;&gt;PutBlobIndexCF</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M1276.9284,-104.164C1314.9522,-89.1755 1362.9522,-70.2546 1399.5223,-55.8393"/>
<polygon fill="#666666" stroke="#666666" points="1401.0173,-59.0121 1409.037,-52.0887 1398.4502,-52.4998 1401.0173,-59.0121"/>
</g>
<!-- kTypeBlobIndex -->
<g id="node11" class="node">
<title>kTypeBlobIndex</title>
<polygon fill="none" stroke="#000000" points="1509.8174,-140 1400.0341,-140 1400.0341,-104 1509.8174,-104 1509.8174,-140"/>
<text text-anchor="middle" x="1454.9258" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBlobIndex</text>
</g>
<!-- PutBlobIndex&#45;&gt;kTypeBlobIndex -->
<g id="edge2" class="edge">
<title>PutBlobIndex&#45;&gt;kTypeBlobIndex</title>
<path fill="none" stroke="#666666" d="M1321.7359,-125.8685C1345,-125.1928 1368.9021,-124.4986 1389.9217,-123.8881"/>
<polygon fill="#666666" stroke="#666666" points="1390.0993,-127.3845 1399.9934,-123.5955 1389.896,-120.3874 1390.0993,-127.3845"/>
</g>
<!-- kTypeColumnFamilyBlobIndex -->
<g id="node12" class="node">
<title>kTypeColumnFamilyBlobIndex</title>
<polygon fill="none" stroke="#000000" points="1552.1038,-194 1357.7478,-194 1357.7478,-158 1552.1038,-158 1552.1038,-194"/>
<text text-anchor="middle" x="1454.9258" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeColumnFamilyBlobIndex</text>
</g>
<!-- PutBlobIndex&#45;&gt;kTypeColumnFamilyBlobIndex -->
<g id="edge3" class="edge">
<title>PutBlobIndex&#45;&gt;kTypeColumnFamilyBlobIndex</title>
<path fill="none" stroke="#666666" d="M1321.7359,-150.0256C1331.8875,-152.0053 1342.1606,-154.0088 1352.2627,-155.9788"/>
<polygon fill="#666666" stroke="#666666" points="1351.8118,-159.4568 1362.2969,-157.9357 1353.1518,-152.5862 1351.8118,-159.4568"/>
</g>
<!-- Put -->
<g id="node13" class="node">
<title>Put</title>
<polygon fill="none" stroke="#000000" points="103.4897,-370 49.4897,-370 49.4897,-334 103.4897,-334 103.4897,-370"/>
<text text-anchor="middle" x="76.4897" y="-347.8" font-family="Times,serif" font-size="14.00" fill="#000000">Put</text>
</g>
<!-- PutUntil -->
<g id="node14" class="node">
<title>PutUntil</title>
<polygon fill="none" stroke="#000000" points="236.6638,-360 172.7503,-360 172.7503,-324 236.6638,-324 236.6638,-360"/>
<text text-anchor="middle" x="204.707" y="-337.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutUntil</text>
</g>
<!-- Put&#45;&gt;PutUntil -->
<g id="edge5" class="edge">
<title>Put&#45;&gt;PutUntil</title>
<path fill="none" stroke="#666666" d="M103.6813,-349.8793C120.7546,-348.5477 143.1269,-346.8028 162.4775,-345.2936"/>
<polygon fill="#666666" stroke="#666666" points="162.872,-348.7735 172.5696,-344.5065 162.3277,-341.7947 162.872,-348.7735"/>
</g>
<!-- write_mutex_ -->
<g id="node16" class="node">
<title>write_mutex_</title>
<polygon fill="none" stroke="#000000" points="366.0833,-350 272.5651,-350 272.5651,-314 366.0833,-314 366.0833,-350"/>
<text text-anchor="middle" x="319.3242" y="-327.8" font-family="Times,serif" font-size="14.00" fill="#000000">write_mutex_</text>
</g>
<!-- PutUntil&#45;&gt;write_mutex_ -->
<g id="edge7" class="edge">
<title>PutUntil&#45;&gt;write_mutex_</title>
<path fill="none" stroke="#666666" d="M236.6343,-339.2144C244.5374,-338.5249 253.2476,-337.765 261.9595,-337.0049"/>
<polygon fill="#666666" stroke="#666666" points="262.4811,-340.4728 272.139,-336.1168 261.8726,-333.4993 262.4811,-340.4728"/>
</g>
<!-- PutBlobValue -->
<g id="node17" class="node">
<title>PutBlobValue</title>
<polygon fill="none" stroke="#000000" points="366.1038,-404 272.5447,-404 272.5447,-368 366.1038,-368 366.1038,-404"/>
<text text-anchor="middle" x="319.3242" y="-381.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutBlobValue</text>
</g>
<!-- PutUntil&#45;&gt;PutBlobValue -->
<g id="edge8" class="edge">
<title>PutUntil&#45;&gt;PutBlobValue</title>
<path fill="none" stroke="#666666" d="M236.6343,-354.2565C244.7092,-357.3563 253.6267,-360.7796 262.5276,-364.1966"/>
<polygon fill="#666666" stroke="#666666" points="261.5489,-367.5698 272.139,-367.8862 264.0576,-361.0348 261.5489,-367.5698"/>
</g>
<!-- PutWithTTL -->
<g id="node15" class="node">
<title>PutWithTTL</title>
<polygon fill="none" stroke="#000000" points="120.2606,-316 32.7189,-316 32.7189,-280 120.2606,-280 120.2606,-316"/>
<text text-anchor="middle" x="76.4897" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutWithTTL</text>
</g>
<!-- PutWithTTL&#45;&gt;PutUntil -->
<g id="edge6" class="edge">
<title>PutWithTTL&#45;&gt;PutUntil</title>
<path fill="none" stroke="#666666" d="M120.6149,-313.1423C134.3715,-317.8631 149.4921,-323.052 163.0723,-327.7123"/>
<polygon fill="#666666" stroke="#666666" points="162.0524,-331.0626 172.647,-330.998 164.3245,-324.4416 162.0524,-331.0626"/>
</g>
<!-- PutBlobValue&#45;&gt;ExtendExpirationRange -->
<g id="edge9" class="edge">
<title>PutBlobValue&#45;&gt;ExtendExpirationRange</title>
<path fill="none" stroke="#666666" d="M320.5035,-404.1354C325.5249,-475.8206 347.4289,-738.3572 402.2139,-797 409.1876,-804.4648 417.8236,-810.1376 427.1649,-814.4377"/>
<polygon fill="#666666" stroke="#666666" points="426.123,-817.7917 436.7058,-818.2959 428.7472,-811.3022 426.123,-817.7917"/>
</g>
<!-- PutBlobValue&#45;&gt;EncodeInlinedTTL -->
<g id="edge10" class="edge">
<title>PutBlobValue&#45;&gt;EncodeInlinedTTL</title>
<path fill="none" stroke="#666666" d="M356.6061,-367.9819C360.1407,-365.3005 363.4349,-362.309 366.2139,-359 396.3237,-323.1476 371.4636,-295.3047 402.2139,-260 415.2848,-244.9931 433.2069,-233.2636 450.7759,-224.4005"/>
<polygon fill="#666666" stroke="#666666" points="452.3992,-227.5038 459.9036,-220.0248 449.3732,-221.1916 452.3992,-227.5038"/>
</g>
<!-- PutBlobValue&#45;&gt;PutBlobIndex -->
<g id="edge11" class="edge">
<title>PutBlobValue&#45;&gt;PutBlobIndex</title>
<path fill="none" stroke="#666666" d="M358.1831,-367.7759C361.2365,-365.177 363.9916,-362.26 366.2139,-359 427.2136,-269.5135 320.1725,-188.6965 402.2139,-118 615.0225,65.381 988.5344,-43.4749 1143.4811,-100.6593"/>
<polygon fill="#666666" stroke="#666666" points="1142.3299,-103.9654 1152.9226,-104.1801 1144.7758,-97.4066 1142.3299,-103.9654"/>
</g>
<!-- ConstructBlobHeader -->
<g id="node18" class="node">
<title>ConstructBlobHeader</title>
<polygon fill="none" stroke="#000000" points="580.9712,-564 442.8052,-564 442.8052,-528 580.9712,-528 580.9712,-564"/>
<text text-anchor="middle" x="511.8882" y="-541.8" font-family="Times,serif" font-size="14.00" fill="#000000">ConstructBlobHeader</text>
</g>
<!-- PutBlobValue&#45;&gt;ConstructBlobHeader -->
<g id="edge12" class="edge">
<title>PutBlobValue&#45;&gt;ConstructBlobHeader</title>
<path fill="none" stroke="#666666" d="M325.5123,-404.1975C336.3242,-433.1526 361.4665,-489.4508 402.2139,-519 411.4223,-525.6778 422.0887,-530.7156 433.0797,-534.5137"/>
<polygon fill="#666666" stroke="#666666" points="432.2048,-537.9071 442.7934,-537.5425 434.2885,-531.2244 432.2048,-537.9071"/>
</g>
<!-- CheckSizeAndEvictBlobFiles -->
<g id="node19" class="node">
<title>CheckSizeAndEvictBlobFiles</title>
<polygon fill="none" stroke="#000000" points="603.8677,-314 419.9087,-314 419.9087,-278 603.8677,-278 603.8677,-314"/>
<text text-anchor="middle" x="511.8882" y="-291.8" font-family="Times,serif" font-size="14.00" fill="#000000">CheckSizeAndEvictBlobFiles</text>
</g>
<!-- PutBlobValue&#45;&gt;CheckSizeAndEvictBlobFiles -->
<g id="edge13" class="edge">
<title>PutBlobValue&#45;&gt;CheckSizeAndEvictBlobFiles</title>
<path fill="none" stroke="#666666" d="M353.3148,-367.8609C357.7738,-365.071 362.1877,-362.0857 366.2139,-359 384.1733,-345.2356 382.5035,-334.1131 402.2139,-323 405.2965,-321.262 408.4895,-319.6348 411.7621,-318.1115"/>
<polygon fill="#666666" stroke="#666666" points="413.3519,-321.2383 421.1698,-314.0877 410.5991,-314.8023 413.3519,-321.2383"/>
</g>
<!-- SelectBlobFileTTL -->
<g id="node20" class="node">
<title>SelectBlobFileTTL</title>
<polygon fill="none" stroke="#000000" points="574.2574,-456 449.519,-456 449.519,-420 574.2574,-420 574.2574,-456"/>
<text text-anchor="middle" x="511.8882" y="-433.8" font-family="Times,serif" font-size="14.00" fill="#000000">SelectBlobFileTTL</text>
</g>
<!-- PutBlobValue&#45;&gt;SelectBlobFileTTL -->
<g id="edge14" class="edge">
<title>PutBlobValue&#45;&gt;SelectBlobFileTTL</title>
<path fill="none" stroke="#666666" d="M366.1075,-400.5695C377.8605,-404.1029 390.4708,-407.7859 402.2139,-411 414.2277,-414.2882 427.0318,-417.6069 439.4944,-420.7385"/>
<polygon fill="#666666" stroke="#666666" points="438.8447,-424.1835 449.3943,-423.2057 440.5375,-417.3913 438.8447,-424.1835"/>
</g>
<!-- SelectBlobFile -->
<g id="node21" class="node">
<title>SelectBlobFile</title>
<polygon fill="none" stroke="#000000" points="561.6023,-510 462.1741,-510 462.1741,-474 561.6023,-474 561.6023,-510"/>
<text text-anchor="middle" x="511.8882" y="-487.8" font-family="Times,serif" font-size="14.00" fill="#000000">SelectBlobFile</text>
</g>
<!-- PutBlobValue&#45;&gt;SelectBlobFile -->
<g id="edge15" class="edge">
<title>PutBlobValue&#45;&gt;SelectBlobFile</title>
<path fill="none" stroke="#666666" d="M333.5014,-404.2077C348.5983,-422.3364 374.1471,-449.6167 402.2139,-465 417.5227,-473.3907 435.4478,-479.2108 452.318,-483.2335"/>
<polygon fill="#666666" stroke="#666666" points="451.581,-486.655 462.1013,-485.4001 453.0946,-479.8206 451.581,-486.655"/>
</g>
<!-- AppendBlob -->
<g id="node22" class="node">
<title>AppendBlob</title>
<polygon fill="none" stroke="#000000" points="402.2139,-332.4001 402.2139,-401.5999 621.5625,-401.5999 621.5625,-332.4001 402.2139,-332.4001"/>
<text text-anchor="middle" x="511.8882" y="-386.3999" font-family="Times,serif" font-size="14.00" fill="#000000">AppendBlob</text>
<polyline fill="none" stroke="#000000" points="402.2139,-379.5999 621.5625,-379.5999 "/>
<text text-anchor="start" x="410.2139" y="-364.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将blob写入blob日志</text>
<text text-anchor="start" x="410.2139" y="-344.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 并生成blockIndex, Encode为string</text>
</g>
<!-- PutBlobValue&#45;&gt;AppendBlob -->
<g id="edge16" class="edge">
<title>PutBlobValue&#45;&gt;AppendBlob</title>
<path fill="none" stroke="#666666" d="M366.4307,-381.3521C374.4396,-380.5618 383.0691,-379.7104 391.9868,-378.8305"/>
<polygon fill="#666666" stroke="#666666" points="392.5518,-382.2918 402.1597,-377.8267 391.8644,-375.3257 392.5518,-382.2918"/>
</g>
<!-- CreateBlobFileAndWriter -->
<g id="node24" class="node">
<title>CreateBlobFileAndWriter</title>
<polygon fill="none" stroke="#000000" points="657.5625,-509.4001 657.5625,-578.5999 819.1885,-578.5999 819.1885,-509.4001 657.5625,-509.4001"/>
<text text-anchor="middle" x="738.3755" y="-563.3999" font-family="Times,serif" font-size="14.00" fill="#000000">CreateBlobFileAndWriter</text>
<polyline fill="none" stroke="#000000" points="657.5625,-556.5999 819.1885,-556.5999 "/>
<text text-anchor="start" x="665.5625" y="-541.3999" font-family="Times,serif" font-size="14.00" fill="#000000">新建blobFile</text>
<text text-anchor="start" x="665.5625" y="-521.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 写入blob header</text>
</g>
<!-- SelectBlobFileTTL&#45;&gt;CreateBlobFileAndWriter -->
<g id="edge26" class="edge">
<title>SelectBlobFileTTL&#45;&gt;CreateBlobFileAndWriter</title>
<path fill="none" stroke="#3f72af" d="M574.3603,-449.3457C590.1321,-453.2943 606.7778,-458.4328 621.5625,-465 644.2725,-475.0876 667.3372,-489.5948 686.9053,-503.4313"/>
<polygon fill="#3f72af" stroke="#3f72af" points="684.9054,-506.3041 695.0663,-509.3053 688.9947,-500.6227 684.9054,-506.3041"/>
</g>
<!-- RegisterBlobFile -->
<g id="node25" class="node">
<title>RegisterBlobFile</title>
<polygon fill="none" stroke="#000000" points="1018.3858,-463 907.0605,-463 907.0605,-427 1018.3858,-427 1018.3858,-463"/>
<text text-anchor="middle" x="962.7231" y="-440.8" font-family="Times,serif" font-size="14.00" fill="#000000">RegisterBlobFile</text>
</g>
<!-- SelectBlobFileTTL&#45;&gt;RegisterBlobFile -->
<g id="edge27" class="edge">
<title>SelectBlobFileTTL&#45;&gt;RegisterBlobFile</title>
<path fill="none" stroke="#3f72af" d="M574.5749,-438.9733C659.436,-440.2909 810.182,-442.6315 896.7208,-443.9752"/>
<polygon fill="#3f72af" stroke="#3f72af" points="896.8941,-447.4782 906.9473,-444.134 897.0029,-440.4791 896.8941,-447.4782"/>
</g>
<!-- FindBlobFileLocked -->
<g id="node27" class="node">
<title>FindBlobFileLocked</title>
<polygon fill="none" stroke="#000000" points="804.538,-404 672.2129,-404 672.2129,-368 804.538,-368 804.538,-404"/>
<text text-anchor="middle" x="738.3755" y="-381.8" font-family="Times,serif" font-size="14.00" fill="#000000">FindBlobFileLocked</text>
</g>
<!-- SelectBlobFileTTL&#45;&gt;FindBlobFileLocked -->
<g id="edge28" class="edge">
<title>SelectBlobFileTTL&#45;&gt;FindBlobFileLocked</title>
<path fill="none" stroke="#3f72af" d="M574.3764,-423.6531C601.5496,-417.4143 633.6387,-410.0469 662.1941,-403.4907"/>
<polygon fill="#3f72af" stroke="#3f72af" points="663.1701,-406.8578 672.1333,-401.2088 661.6036,-400.0353 663.1701,-406.8578"/>
</g>
<!-- SelectBlobFile&#45;&gt;CreateBlobFileAndWriter -->
<g id="edge23" class="edge">
<title>SelectBlobFile&#45;&gt;CreateBlobFileAndWriter</title>
<path fill="none" stroke="#666666" d="M561.5918,-503.4116C586.7447,-509.1866 618.0811,-516.3812 647.3552,-523.1023"/>
<polygon fill="#666666" stroke="#666666" points="646.6623,-526.5342 657.1919,-525.3608 648.2287,-519.7117 646.6623,-526.5342"/>
</g>
<!-- SelectBlobFile&#45;&gt;RegisterBlobFile -->
<g id="edge24" class="edge">
<title>SelectBlobFile&#45;&gt;RegisterBlobFile</title>
<path fill="none" stroke="#666666" d="M561.858,-486.7906C643.5358,-478.2756 805.6401,-461.3761 896.6953,-451.8835"/>
<polygon fill="#666666" stroke="#666666" points="897.3146,-455.338 906.8977,-450.8199 896.5887,-448.3757 897.3146,-455.338"/>
</g>
<!-- open_non_ttl_file_ -->
<g id="node26" class="node">
<title>open_non_ttl_file_</title>
<polygon fill="#95e1d3" stroke="#000000" points="880.7207,-698 880.7207,-756 1044.7256,-756 1044.7256,-698 880.7207,-698"/>
<text text-anchor="middle" x="962.7231" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#000000">open_non_ttl_file_</text>
<polyline fill="none" stroke="#000000" points="880.7207,-734 1044.7256,-734 "/>
<text text-anchor="start" x="888.7207" y="-718.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::shared_ptr&lt;BlobFile&gt;</text>
<text text-anchor="middle" x="962.7231" y="-704.8" font-family="Times,serif" font-size="14.00" fill="#000000"> open_non_ttl_file_;</text>
</g>
<!-- SelectBlobFile&#45;&gt;open_non_ttl_file_ -->
<g id="edge25" class="edge">
<title>SelectBlobFile&#45;&gt;open_non_ttl_file_</title>
<path fill="none" stroke="#666666" d="M561.6621,-495.3307C581.9622,-498.8207 604.5972,-505.679 621.5625,-519 648.7679,-540.3614 632.9522,-563.6941 657.5625,-588 727.6006,-657.1718 764.8375,-648.9259 855.1885,-688 860.4431,-690.2725 865.878,-692.5277 871.3858,-694.7408"/>
<polygon fill="#666666" stroke="#666666" points="870.1185,-698.0033 880.7051,-698.421 872.6896,-691.4925 870.1185,-698.0033"/>
</g>
<!-- AppendBlob&#45;&gt;EmitPhysicalRecord -->
<g id="edge17" class="edge">
<title>AppendBlob&#45;&gt;EmitPhysicalRecord</title>
<path fill="none" stroke="#b83b5e" d="M613.402,-401.8524C616.3683,-404.6685 619.1084,-407.7116 621.5625,-411 724.6155,-549.0847 558.5576,-655.9846 657.5625,-797 661.453,-802.5414 666.368,-807.298 671.8446,-811.3763"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="669.9375,-814.3112 680.2166,-816.8787 673.7822,-808.4615 669.9375,-814.3112"/>
</g>
<!-- AppendBlob&#45;&gt;EncodeBlob -->
<g id="edge18" class="edge">
<title>AppendBlob&#45;&gt;EncodeBlob</title>
<path fill="none" stroke="#b83b5e" d="M609.443,-332.2311C613.7032,-329.3739 617.7724,-326.3014 621.5625,-323 645.8799,-301.8183 635.9675,-283.9511 657.5625,-260 669.246,-247.0418 684.2944,-235.2781 698.2319,-225.7842"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="700.3097,-228.6065 706.7265,-220.1759 696.4529,-222.7648 700.3097,-228.6065"/>
</g>
<!-- AppendBlob&#45;&gt;EncodeBlobTTL -->
<g id="edge19" class="edge">
<title>AppendBlob&#45;&gt;EncodeBlobTTL</title>
<path fill="none" stroke="#b83b5e" d="M612.3377,-332.0713C615.645,-329.2742 618.7413,-326.2562 621.5625,-323 665.8907,-271.8363 611.7423,-224.832 657.5625,-175 662.1369,-170.0251 667.6524,-165.966 673.6275,-162.6542"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="675.1565,-165.8026 682.6544,-158.3171 672.125,-159.4931 675.1565,-165.8026"/>
</g>
<!-- index_entry&#45;&gt;PutBlobIndex -->
<g id="edge22" class="edge">
<title>index_entry&#45;&gt;PutBlobIndex</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M996.0805,-272.9565C1040.1455,-243.837 1117.9701,-192.4081 1167.6879,-159.5531"/>
<polygon fill="#666666" stroke="#666666" points="1169.9126,-162.2782 1176.3259,-153.8449 1166.0533,-156.4381 1169.9126,-162.2782"/>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;BlobFile_ctor -->
<g id="edge31" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;BlobFile_ctor</title>
<path fill="none" stroke="#666666" d="M745.2249,-578.6181C757.6911,-632.7286 789.1412,-737.3178 855.1885,-797 865.7384,-806.5332 878.8632,-813.6309 892.279,-818.9089"/>
<polygon fill="#666666" stroke="#666666" points="891.4723,-822.3386 902.0667,-822.4393 893.8475,-815.7538 891.4723,-822.3386"/>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;RegisterBlobFile -->
<g id="edge38" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;RegisterBlobFile</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M787.1577,-509.2887C807.4419,-496.1109 831.7021,-481.9073 855.1885,-472 868.3182,-466.4615 882.8469,-461.8683 896.8676,-458.137"/>
<polygon fill="#ff0000" stroke="#ff0000" points="898.1305,-461.4273 906.9597,-455.571 896.4056,-454.6431 898.1305,-461.4273"/>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;open_non_ttl_file_ -->
<g id="edge36" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;open_non_ttl_file_</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M758.7992,-578.8009C779.4072,-611.1719 814.0135,-658.6923 855.1885,-688 860.2849,-691.6276 865.7553,-694.9529 871.4304,-697.9954"/>
<polygon fill="#ff0000" stroke="#ff0000" points="869.9855,-701.1863 880.4926,-702.5466 873.127,-694.9309 869.9855,-701.1863"/>
</g>
<!-- open_ttl_files_ -->
<g id="node29" class="node">
<title>open_ttl_files_</title>
<polygon fill="#95e1d3" stroke="#000000" points="855.1885,-336 855.1885,-408 1070.2578,-408 1070.2578,-336 855.1885,-336"/>
<text text-anchor="middle" x="962.7231" y="-392.8" font-family="Times,serif" font-size="14.00" fill="#000000">open_ttl_files_</text>
<polyline fill="none" stroke="#000000" points="855.1885,-386 1070.2578,-386 "/>
<text text-anchor="start" x="863.1885" y="-370.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::set&lt;std::shared_ptr&lt;BlobFile&gt;,</text>
<text text-anchor="start" x="863.1885" y="-356.8" font-family="Times,serif" font-size="14.00" fill="#000000"> BlobFileComparatorTTL&gt;</text>
<text text-anchor="middle" x="962.7231" y="-342.8" font-family="Times,serif" font-size="14.00" fill="#000000"> open_ttl_files_;</text>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;open_ttl_files_ -->
<g id="edge37" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;open_ttl_files_</title>
<path fill="none" stroke="#ff0000" stroke-dasharray="5,2" d="M763.934,-509.2207C785.6942,-481.5651 819.0972,-443.425 855.1885,-418 857.3672,-416.4651 859.6053,-414.9668 861.8907,-413.5051"/>
<polygon fill="#ff0000" stroke="#ff0000" points="864.1683,-416.2183 870.9163,-408.0504 860.5476,-410.2274 864.1683,-416.2183"/>
</g>
<!-- NewBlobFile -->
<g id="node30" class="node">
<title>NewBlobFile</title>
<polygon fill="none" stroke="#000000" points="1008.6656,-625 916.7807,-625 916.7807,-589 1008.6656,-589 1008.6656,-625"/>
<text text-anchor="middle" x="962.7231" y="-602.8" font-family="Times,serif" font-size="14.00" fill="#000000">NewBlobFile</text>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;NewBlobFile -->
<g id="edge32" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;NewBlobFile</title>
<path fill="none" stroke="#666666" d="M819.2753,-569.5395C831.2855,-573.1544 843.5386,-576.7448 855.1885,-580 871.8457,-584.6544 890.0572,-589.3677 906.6799,-593.5251"/>
<polygon fill="#666666" stroke="#666666" points="906.2478,-597.024 916.7965,-596.0364 907.9343,-590.2302 906.2478,-597.024"/>
</g>
<!-- CheckOrCreateWriterLocked -->
<g id="node31" class="node">
<title>CheckOrCreateWriterLocked</title>
<polygon fill="none" stroke="#000000" points="1053.2495,-679 872.1968,-679 872.1968,-643 1053.2495,-643 1053.2495,-679"/>
<text text-anchor="middle" x="962.7231" y="-656.8" font-family="Times,serif" font-size="14.00" fill="#000000">CheckOrCreateWriterLocked</text>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;CheckOrCreateWriterLocked -->
<g id="edge33" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;CheckOrCreateWriterLocked</title>
<path fill="none" stroke="#666666" d="M775.1778,-578.7268C796.9519,-597.5611 825.9292,-619.8217 855.1885,-634 859.1942,-635.9411 863.3537,-637.7518 867.6065,-639.4399"/>
<polygon fill="#666666" stroke="#666666" points="866.4494,-642.7436 877.0423,-642.9424 868.8854,-636.1811 866.4494,-642.7436"/>
</g>
<!-- WriteHeader -->
<g id="node32" class="node">
<title>WriteHeader</title>
<polygon fill="none" stroke="#000000" points="1006.4531,-517 918.9932,-517 918.9932,-481 1006.4531,-481 1006.4531,-517"/>
<text text-anchor="middle" x="962.7231" y="-494.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteHeader</text>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;WriteHeader -->
<g id="edge34" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;WriteHeader</title>
<path fill="none" stroke="#666666" d="M819.3701,-527.754C849.0854,-521.7936 881.9715,-515.1973 908.7423,-509.8276"/>
<polygon fill="#666666" stroke="#666666" points="909.5673,-513.2319 918.6837,-507.8335 908.1906,-506.3686 909.5673,-513.2319"/>
</g>
<!-- SetFileSize -->
<g id="node33" class="node">
<title>SetFileSize</title>
<polygon fill="none" stroke="#000000" points="1002.4959,-571 922.9504,-571 922.9504,-535 1002.4959,-535 1002.4959,-571"/>
<text text-anchor="middle" x="962.7231" y="-548.8" font-family="Times,serif" font-size="14.00" fill="#000000">SetFileSize</text>
</g>
<!-- CreateBlobFileAndWriter&#45;&gt;SetFileSize -->
<g id="edge35" class="edge">
<title>CreateBlobFileAndWriter&#45;&gt;SetFileSize</title>
<path fill="none" stroke="#666666" d="M819.3701,-547.2492C850.5322,-548.4993 885.1815,-549.8893 912.6081,-550.9896"/>
<polygon fill="#666666" stroke="#666666" points="912.6113,-554.4924 922.7436,-551.3962 912.892,-547.498 912.6113,-554.4924"/>
</g>
<!-- blob_files_ -->
<g id="node28" class="node">
<title>blob_files_</title>
<polygon fill="none" stroke="#000000" points="1253.1502,-463 1174.6945,-463 1174.6945,-427 1253.1502,-427 1253.1502,-463"/>
<text text-anchor="middle" x="1213.9224" y="-440.8" font-family="Times,serif" font-size="14.00" fill="#000000">blob_files_</text>
</g>
<!-- RegisterBlobFile&#45;&gt;blob_files_ -->
<g id="edge29" class="edge">
<title>RegisterBlobFile&#45;&gt;blob_files_</title>
<path fill="none" stroke="#666666" d="M1018.4724,-445C1062.1782,-445 1122.4299,-445 1164.4405,-445"/>
<polygon fill="#666666" stroke="#666666" points="1164.707,-448.5001 1174.707,-445 1164.7069,-441.5001 1164.707,-448.5001"/>
</g>
<!-- FindBlobFileLocked&#45;&gt;open_ttl_files_ -->
<g id="edge30" class="edge">
<title>FindBlobFileLocked&#45;&gt;open_ttl_files_</title>
<path fill="none" stroke="#666666" d="M804.7766,-381.8564C817.4612,-381.0648 831.0884,-380.2144 844.8303,-379.3569"/>
<polygon fill="#666666" stroke="#666666" points="845.0825,-382.8481 854.845,-378.7319 844.6464,-375.8616 845.0825,-382.8481"/>
</g>
</g>
</svg>
