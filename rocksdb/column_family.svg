<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: ColumnFamily Pages: 1 -->
<svg width="2777pt" height="1314pt"
 viewBox="0.00 0.00 2776.94 1314.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1310)">
<title>ColumnFamily</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1310 2772.9434,-1310 2772.9434,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_MemTable</title>
<polygon fill="none" stroke="#000000" points="1862.7441,-1086 1862.7441,-1220 2552.0518,-1220 2552.0518,-1086 1862.7441,-1086"/>
<text text-anchor="middle" x="2207.3979" y="-1200" font-family="Times,serif" font-size="20.00" fill="#000000">MemTable</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Cache</title>
<polygon fill="none" stroke="#000000" points="1147.8574,-536 1147.8574,-736 2760.9434,-736 2760.9434,-536 1147.8574,-536"/>
<text text-anchor="middle" x="1954.4004" y="-716" font-family="Times,serif" font-size="20.00" fill="#000000">Cache</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_Table</title>
<polygon fill="none" stroke="#000000" points="1922.8149,-340 1922.8149,-528 2367.6328,-528 2367.6328,-340 1922.8149,-340"/>
<text text-anchor="middle" x="2145.2239" y="-508" font-family="Times,serif" font-size="20.00" fill="#000000">Table</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_Version</title>
<polygon fill="none" stroke="#000000" points="495.5845,-8 495.5845,-332 2126.103,-332 2126.103,-8 495.5845,-8"/>
<text text-anchor="middle" x="1310.8438" y="-312" font-family="Times,serif" font-size="20.00" fill="#000000">Version</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ColumnFamily</title>
<polygon fill="none" stroke="#000000" points="8,-774 8,-1298 1766.8208,-1298 1766.8208,-774 8,-774"/>
<text text-anchor="middle" x="887.4104" y="-1278" font-family="Times,serif" font-size="20.00" fill="#000000">ColumnFamily</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_ColumnFamilyHandle</title>
<path fill="none" stroke="#000000" d="M436.2959,-1106C436.2959,-1106 1401.8311,-1106 1401.8311,-1106 1407.8311,-1106 1413.8311,-1112 1413.8311,-1118 1413.8311,-1118 1413.8311,-1250 1413.8311,-1250 1413.8311,-1256 1407.8311,-1262 1401.8311,-1262 1401.8311,-1262 436.2959,-1262 436.2959,-1262 430.2959,-1262 424.2959,-1256 424.2959,-1250 424.2959,-1250 424.2959,-1118 424.2959,-1118 424.2959,-1112 430.2959,-1106 436.2959,-1106"/>
<text text-anchor="middle" x="919.0635" y="-1242" font-family="Times,serif" font-size="20.00" fill="#000000">ColumnFamilyHandle</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_ColumnFamilyMemTables</title>
<path fill="none" stroke="#000000" d="M28,-920C28,-920 1099.8887,-920 1099.8887,-920 1105.8887,-920 1111.8887,-926 1111.8887,-932 1111.8887,-932 1111.8887,-1086 1111.8887,-1086 1111.8887,-1092 1105.8887,-1098 1099.8887,-1098 1099.8887,-1098 28,-1098 28,-1098 22,-1098 16,-1092 16,-1086 16,-1086 16,-932 16,-932 16,-926 22,-920 28,-920"/>
<text text-anchor="middle" x="563.9443" y="-1078" font-family="Times,serif" font-size="20.00" fill="#000000">ColumnFamilyMemTables</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_DBImpl</title>
<path fill="none" stroke="#000000" d="M483.1733,-640C483.1733,-640 768.856,-640 768.856,-640 774.856,-640 780.856,-646 780.856,-652 780.856,-652 780.856,-754 780.856,-754 780.856,-760 774.856,-766 768.856,-766 768.856,-766 483.1733,-766 483.1733,-766 477.1733,-766 471.1733,-760 471.1733,-754 471.1733,-754 471.1733,-652 471.1733,-652 471.1733,-646 477.1733,-640 483.1733,-640"/>
<text text-anchor="middle" x="626.0146" y="-746" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<!-- MemTable -->
<g id="node1" class="node">
<title>MemTable</title>
<polygon fill="none" stroke="#000000" points="1870.7441,-1095 1870.7441,-1183 2174.0928,-1183 2174.0928,-1095 1870.7441,-1095"/>
<text text-anchor="middle" x="2022.4185" y="-1167.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable</text>
<polyline fill="none" stroke="#000000" points="1870.7441,-1161 2174.0928,-1161 "/>
<text text-anchor="start" x="1878.7441" y="-1145.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;MemTableRep&gt; table_;</text>
<polyline fill="none" stroke="#000000" points="1870.7441,-1139 2174.0928,-1139 "/>
<text text-anchor="start" x="1878.7441" y="-1123.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;MemTableRep&gt; range_del_table_;</text>
<polyline fill="none" stroke="#000000" points="1870.7441,-1117 2174.0928,-1117 "/>
<text text-anchor="start" x="1878.7441" y="-1101.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::atomic_bool is_range_del_table_empty_;</text>
</g>
<!-- MemTableRep -->
<g id="node2" class="node">
<title>MemTableRep</title>
<polygon fill="none" stroke="#000000" points="2210.0928,-1103.2 2210.0928,-1174.8 2379.0879,-1174.8 2379.0879,-1103.2 2210.0928,-1103.2"/>
<text text-anchor="middle" x="2294.5903" y="-1159.6" font-family="Times,serif" font-size="14.00" fill="#000000">MemTableRep</text>
<polyline fill="none" stroke="#000000" points="2210.0928,-1152.8 2379.0879,-1152.8 "/>
<text text-anchor="start" x="2218.0928" y="-1137.6" font-family="Times,serif" font-size="14.00" fill="#000000">定义了MemTableRep接口</text>
<polyline fill="none" stroke="#000000" points="2210.0928,-1125.2 2379.0879,-1125.2 "/>
<text text-anchor="middle" x="2294.5903" y="-1110" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- MemTable&#45;&gt;MemTableRep -->
<g id="edge1" class="edge">
<title>MemTable&#45;&gt;MemTableRep</title>
<path fill="none" stroke="#666666" d="M2174.4195,-1139C2174.4195,-1139 2200.0352,-1139 2200.0352,-1139"/>
<polygon fill="#666666" stroke="#666666" points="2200.0352,-1142.5001 2210.0352,-1139 2200.0351,-1135.5001 2200.0352,-1142.5001"/>
</g>
<!-- VectorRep -->
<g id="node3" class="node">
<title>VectorRep</title>
<polygon fill="none" stroke="#000000" points="2538.6382,-1130 2463.4584,-1130 2463.4584,-1094 2538.6382,-1094 2538.6382,-1130"/>
<text text-anchor="middle" x="2501.0483" y="-1107.8" font-family="Times,serif" font-size="14.00" fill="#000000">VectorRep</text>
</g>
<!-- MemTableRep&#45;&gt;VectorRep -->
<g id="edge2" class="edge">
<title>MemTableRep&#45;&gt;VectorRep</title>
<path fill="none" stroke="#666666" d="M2379.1604,-1116.35C2379.1604,-1116.35 2453.3843,-1116.35 2453.3843,-1116.35"/>
<polygon fill="#666666" stroke="#666666" points="2453.3843,-1119.8501 2463.3843,-1116.35 2453.3843,-1112.8501 2453.3843,-1119.8501"/>
</g>
<!-- SkipListRep -->
<g id="node4" class="node">
<title>SkipListRep</title>
<polygon fill="none" stroke="#000000" points="2544.0552,-1184 2458.0415,-1184 2458.0415,-1148 2544.0552,-1148 2544.0552,-1184"/>
<text text-anchor="middle" x="2501.0483" y="-1161.8" font-family="Times,serif" font-size="14.00" fill="#000000">SkipListRep</text>
</g>
<!-- MemTableRep&#45;&gt;SkipListRep -->
<g id="edge3" class="edge">
<title>MemTableRep&#45;&gt;SkipListRep</title>
<path fill="none" stroke="#666666" d="M2379.1604,-1161.65C2379.1604,-1161.65 2447.875,-1161.65 2447.875,-1161.65"/>
<polygon fill="#666666" stroke="#666666" points="2447.8751,-1165.1501 2457.875,-1161.65 2447.875,-1158.1501 2447.8751,-1165.1501"/>
</g>
<!-- TableCache -->
<g id="node5" class="node">
<title>TableCache</title>
<polygon fill="none" stroke="#000000" points="1155.8574,-545 1155.8574,-699 1439.5664,-699 1439.5664,-545 1155.8574,-545"/>
<text text-anchor="middle" x="1297.7119" y="-683.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableCache</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-677 1439.5664,-677 "/>
<text text-anchor="start" x="1163.8574" y="-661.8" font-family="Times,serif" font-size="14.00" fill="#000000">const ImmutableCFOptions&amp; ioptions_;</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-655 1439.5664,-655 "/>
<text text-anchor="start" x="1163.8574" y="-639.8" font-family="Times,serif" font-size="14.00" fill="#000000">const FileOptions&amp; file_options_;</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-633 1439.5664,-633 "/>
<text text-anchor="start" x="1163.8574" y="-617.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cache* const cache_;</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-611 1439.5664,-611 "/>
<text text-anchor="start" x="1163.8574" y="-595.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::string row_cache_id_;</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-589 1439.5664,-589 "/>
<text text-anchor="start" x="1163.8574" y="-573.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool immortal_tables_;</text>
<polyline fill="none" stroke="#000000" points="1155.8574,-567 1439.5664,-567 "/>
<text text-anchor="start" x="1163.8574" y="-551.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockCacheTracer* const block_cache_tracer_;</text>
</g>
<!-- Cache -->
<g id="node6" class="node">
<title>Cache</title>
<polygon fill="none" stroke="#000000" points="1604.2119,-603.2 1604.2119,-652.8 1722.0674,-652.8 1722.0674,-603.2 1604.2119,-603.2"/>
<text text-anchor="middle" x="1663.1396" y="-637.6" font-family="Times,serif" font-size="14.00" fill="#000000">Cache</text>
<polyline fill="none" stroke="#000000" points="1604.2119,-630.8 1722.0674,-630.8 "/>
<text text-anchor="middle" x="1663.1396" y="-615.6" font-family="Times,serif" font-size="14.00" fill="#000000">定义了cache接口</text>
</g>
<!-- TableCache&#45;&gt;Cache -->
<g id="edge4" class="edge">
<title>TableCache&#45;&gt;Cache</title>
<path fill="none" stroke="#666666" d="M1439.7805,-619.5667C1439.7805,-619.5667 1594.055,-619.5667 1594.055,-619.5667"/>
<polygon fill="#666666" stroke="#666666" points="1594.055,-623.0668 1604.055,-619.5667 1594.0549,-616.0668 1594.055,-623.0668"/>
</g>
<!-- ShardedCache -->
<g id="node7" class="node">
<title>ShardedCache</title>
<polygon fill="none" stroke="#000000" points="1905.1699,-559.2 1905.1699,-696.8 2139.667,-696.8 2139.667,-559.2 1905.1699,-559.2"/>
<text text-anchor="middle" x="2022.4185" y="-681.6" font-family="Times,serif" font-size="14.00" fill="#000000">ShardedCache</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-674.8 2139.667,-674.8 "/>
<text text-anchor="start" x="1913.1699" y="-659.6" font-family="Times,serif" font-size="14.00" fill="#000000">分片cache 接口</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-647.2 2139.667,-647.2 "/>
<text text-anchor="start" x="1913.1699" y="-632" font-family="Times,serif" font-size="14.00" fill="#000000">int num_shard_bits_;</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-625.2 2139.667,-625.2 "/>
<text text-anchor="start" x="1913.1699" y="-610" font-family="Times,serif" font-size="14.00" fill="#000000">mutable port::Mutex capacity_mutex_;</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-603.2 2139.667,-603.2 "/>
<text text-anchor="start" x="1913.1699" y="-588" font-family="Times,serif" font-size="14.00" fill="#000000">size_t capacity_;</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-581.2 2139.667,-581.2 "/>
<text text-anchor="start" x="1913.1699" y="-566" font-family="Times,serif" font-size="14.00" fill="#000000">bool strict_capacity_limit_;</text>
<polyline fill="none" stroke="#000000" points="1905.1699,-559.2 2139.667,-559.2 "/>
</g>
<!-- Cache&#45;&gt;ShardedCache -->
<g id="edge5" class="edge">
<title>Cache&#45;&gt;ShardedCache</title>
<path fill="none" stroke="#666666" d="M1722.4672,-628C1722.4672,-628 1894.8393,-628 1894.8393,-628"/>
<polygon fill="#666666" stroke="#666666" points="1894.8393,-631.5001 1904.8393,-628 1894.8393,-624.5001 1894.8393,-631.5001"/>
</g>
<!-- LRUCache -->
<g id="node8" class="node">
<title>LRUCache</title>
<polygon fill="none" stroke="#000000" points="2212.1333,-595 2212.1333,-661 2377.0474,-661 2377.0474,-595 2212.1333,-595"/>
<text text-anchor="middle" x="2294.5903" y="-645.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUCache</text>
<polyline fill="none" stroke="#000000" points="2212.1333,-639 2377.0474,-639 "/>
<text text-anchor="start" x="2220.1333" y="-623.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUCacheShard* shards_</text>
<polyline fill="none" stroke="#000000" points="2212.1333,-617 2377.0474,-617 "/>
<text text-anchor="start" x="2220.1333" y="-601.8" font-family="Times,serif" font-size="14.00" fill="#000000">int num_shards_ = 0;</text>
</g>
<!-- ShardedCache&#45;&gt;LRUCache -->
<g id="edge6" class="edge">
<title>ShardedCache&#45;&gt;LRUCache</title>
<path fill="none" stroke="#666666" d="M2139.8186,-628C2139.8186,-628 2202.0113,-628 2202.0113,-628"/>
<polygon fill="#666666" stroke="#666666" points="2202.0114,-631.5001 2212.0113,-628 2202.0113,-624.5001 2202.0114,-631.5001"/>
</g>
<!-- LRUCacheShard -->
<g id="node9" class="node">
<title>LRUCacheShard</title>
<polygon fill="none" stroke="#000000" points="2415.0879,-584 2415.0879,-672 2587.0088,-672 2587.0088,-584 2415.0879,-584"/>
<text text-anchor="middle" x="2501.0483" y="-656.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUCacheShard</text>
<polyline fill="none" stroke="#000000" points="2415.0879,-650 2587.0088,-650 "/>
<text text-anchor="start" x="2423.0879" y="-634.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle lru_;</text>
<polyline fill="none" stroke="#000000" points="2415.0879,-628 2587.0088,-628 "/>
<text text-anchor="start" x="2423.0879" y="-612.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle* lru_low_pri_;</text>
<polyline fill="none" stroke="#000000" points="2415.0879,-606 2587.0088,-606 "/>
<text text-anchor="start" x="2423.0879" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandleTable table_;</text>
</g>
<!-- LRUCache&#45;&gt;LRUCacheShard -->
<g id="edge7" class="edge">
<title>LRUCache:LRUCacheShard&#45;&gt;LRUCacheShard</title>
<path fill="none" stroke="#666666" d="M2377.0781,-628C2377.0781,-628 2404.9743,-628 2404.9743,-628"/>
<polygon fill="#666666" stroke="#666666" points="2404.9743,-631.5001 2414.9743,-628 2404.9743,-624.5001 2404.9743,-631.5001"/>
</g>
<!-- LRUHandleTable -->
<g id="node10" class="node">
<title>LRUHandleTable</title>
<polygon fill="none" stroke="#000000" points="2623.0088,-549 2623.0088,-637 2752.9434,-637 2752.9434,-549 2623.0088,-549"/>
<text text-anchor="middle" x="2687.9761" y="-621.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandleTable</text>
<polyline fill="none" stroke="#000000" points="2623.0088,-615 2752.9434,-615 "/>
<text text-anchor="start" x="2631.0088" y="-599.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle** list_;</text>
<polyline fill="none" stroke="#000000" points="2623.0088,-593 2752.9434,-593 "/>
<text text-anchor="start" x="2631.0088" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t length_;</text>
<polyline fill="none" stroke="#000000" points="2623.0088,-571 2752.9434,-571 "/>
<text text-anchor="start" x="2631.0088" y="-555.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t elems_;</text>
</g>
<!-- LRUCacheShard&#45;&gt;LRUHandleTable -->
<g id="edge8" class="edge">
<title>LRUCacheShard:LRUHandleTable&#45;&gt;LRUHandleTable</title>
<path fill="none" stroke="#666666" d="M2501.1838,-610.5C2501.1838,-610.5 2612.9791,-610.5 2612.9791,-610.5"/>
<polygon fill="#666666" stroke="#666666" points="2612.9791,-614.0001 2622.9791,-610.5 2612.979,-607.0001 2612.9791,-614.0001"/>
</g>
<!-- LRUHandle -->
<g id="node11" class="node">
<title>LRUHandle</title>
<polygon fill="none" stroke="#000000" points="2730.4049,-692 2645.5473,-692 2645.5473,-656 2730.4049,-656 2730.4049,-692"/>
<text text-anchor="middle" x="2687.9761" y="-669.8" font-family="Times,serif" font-size="14.00" fill="#000000">LRUHandle</text>
</g>
<!-- LRUCacheShard&#45;&gt;LRUHandle -->
<g id="edge9" class="edge">
<title>LRUCacheShard:LRUHandle&#45;&gt;LRUHandle</title>
<path fill="none" stroke="#666666" d="M2501.1838,-664.25C2501.1838,-664.25 2635.3327,-664.25 2635.3327,-664.25"/>
<polygon fill="#666666" stroke="#666666" points="2635.3327,-667.7501 2645.3327,-664.25 2635.3327,-660.7501 2635.3327,-667.7501"/>
</g>
<!-- TableReader -->
<g id="node12" class="node">
<title>TableReader</title>
<polygon fill="none" stroke="#000000" points="1930.8149,-366.2 1930.8149,-437.8 2114.022,-437.8 2114.022,-366.2 1930.8149,-366.2"/>
<text text-anchor="middle" x="2022.4185" y="-422.6" font-family="Times,serif" font-size="14.00" fill="#000000">TableReader</text>
<polyline fill="none" stroke="#000000" points="1930.8149,-415.8 2114.022,-415.8 "/>
<text text-anchor="start" x="1938.8149" y="-400.6" font-family="Times,serif" font-size="14.00" fill="#000000">定义了从table中一些读接口</text>
<polyline fill="none" stroke="#000000" points="1930.8149,-388.2 2114.022,-388.2 "/>
<text text-anchor="start" x="1938.8149" y="-373" font-family="Times,serif" font-size="14.00" fill="#000000">Get/Iter/MultiGet</text>
</g>
<!-- BlockBasedTable -->
<g id="node13" class="node">
<title>BlockBasedTable</title>
<polygon fill="none" stroke="#000000" points="2351.6381,-492 2237.5426,-492 2237.5426,-456 2351.6381,-456 2351.6381,-492"/>
<text text-anchor="middle" x="2294.5903" y="-469.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlockBasedTable</text>
</g>
<!-- TableReader&#45;&gt;BlockBasedTable -->
<g id="edge10" class="edge">
<title>TableReader&#45;&gt;BlockBasedTable</title>
<path fill="none" stroke="#666666" d="M2022.9434,-438C2022.9434,-456 2022.9434,-474 2022.9434,-474 2022.9434,-474 2227.3129,-474 2227.3129,-474"/>
<polygon fill="#666666" stroke="#666666" points="2227.313,-477.5001 2237.3129,-474 2227.3129,-470.5001 2227.313,-477.5001"/>
</g>
<!-- PlainTableReader -->
<g id="node14" class="node">
<title>PlainTableReader</title>
<polygon fill="none" stroke="#000000" points="2352.4033,-384 2236.7774,-384 2236.7774,-348 2352.4033,-348 2352.4033,-384"/>
<text text-anchor="middle" x="2294.5903" y="-361.8" font-family="Times,serif" font-size="14.00" fill="#000000">PlainTableReader</text>
</g>
<!-- TableReader&#45;&gt;PlainTableReader -->
<g id="edge11" class="edge">
<title>TableReader&#45;&gt;PlainTableReader</title>
<path fill="none" stroke="#666666" d="M2114.184,-374.85C2114.184,-374.85 2226.8846,-374.85 2226.8846,-374.85"/>
<polygon fill="#666666" stroke="#666666" points="2226.8847,-378.3501 2236.8846,-374.85 2226.8846,-371.3501 2226.8847,-378.3501"/>
</g>
<!-- CuckooTableReader -->
<g id="node15" class="node">
<title>CuckooTableReader</title>
<polygon fill="none" stroke="#000000" points="2359.6753,-438 2229.5053,-438 2229.5053,-402 2359.6753,-402 2359.6753,-438"/>
<text text-anchor="middle" x="2294.5903" y="-415.8" font-family="Times,serif" font-size="14.00" fill="#000000">CuckooTableReader</text>
</g>
<!-- TableReader&#45;&gt;CuckooTableReader -->
<g id="edge12" class="edge">
<title>TableReader&#45;&gt;CuckooTableReader</title>
<path fill="none" stroke="#666666" d="M2114.184,-420C2114.184,-420 2219.4234,-420 2219.4234,-420"/>
<polygon fill="#666666" stroke="#666666" points="2219.4234,-423.5001 2229.4234,-420 2219.4234,-416.5001 2219.4234,-423.5001"/>
</g>
<!-- Version -->
<g id="node16" class="node">
<title>Version</title>
<polygon fill="none" stroke="#000000" points="503.5845,-75 503.5845,-295 748.4448,-295 748.4448,-75 503.5845,-75"/>
<text text-anchor="middle" x="626.0146" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">Version</text>
<polyline fill="none" stroke="#000000" points="503.5845,-273 748.4448,-273 "/>
<text text-anchor="start" x="511.5845" y="-257.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* env_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-251 748.4448,-251 "/>
<text text-anchor="start" x="511.5845" y="-235.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileSystem* fs_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-229 748.4448,-229 "/>
<text text-anchor="start" x="511.5845" y="-213.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* cfd_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-207 748.4448,-207 "/>
<text text-anchor="start" x="511.5845" y="-191.8" font-family="Times,serif" font-size="14.00" fill="#000000">Logger* info_log_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-185 748.4448,-185 "/>
<text text-anchor="start" x="511.5845" y="-169.8" font-family="Times,serif" font-size="14.00" fill="#000000">Statistics* db_statistics_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-163 748.4448,-163 "/>
<text text-anchor="start" x="511.5845" y="-147.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableCache* table_cache_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-141 748.4448,-141 "/>
<text text-anchor="start" x="511.5845" y="-125.8" font-family="Times,serif" font-size="14.00" fill="#000000">const MergeOperator* merge_operator_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-119 748.4448,-119 "/>
<text text-anchor="start" x="511.5845" y="-103.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionStorageInfo storage_info_;</text>
<polyline fill="none" stroke="#000000" points="503.5845,-97 748.4448,-97 "/>
<text text-anchor="start" x="511.5845" y="-81.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet* vset_;</text>
</g>
<!-- Version&#45;&gt;TableCache -->
<g id="edge13" class="edge">
<title>Version:TableCache&#45;&gt;TableCache</title>
<path fill="none" stroke="#666666" d="M626.1135,-139.3C634.4648,-139.3 1168.9434,-139.3 1168.9434,-139.3 1168.9434,-139.3 1168.9434,-534.981 1168.9434,-534.981"/>
<polygon fill="#666666" stroke="#666666" points="1165.4435,-534.981 1168.9434,-544.981 1172.4435,-534.981 1165.4435,-534.981"/>
</g>
<!-- VersionSet -->
<g id="node17" class="node">
<title>VersionSet</title>
<polygon fill="none" stroke="#000000" points="870.1914,-149 870.1914,-295 1089.4307,-295 1089.4307,-149 870.1914,-149"/>
<text text-anchor="middle" x="979.811" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#000000">VersionSet</text>
<polyline fill="none" stroke="#000000" points="870.1914,-273 1089.4307,-273 "/>
<text text-anchor="start" x="878.1914" y="-257.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;ColumnFamilySet&gt;</text>
<text text-anchor="start" x="878.1914" y="-243.8" font-family="Times,serif" font-size="14.00" fill="#000000"> column_family_set_;</text>
<polyline fill="none" stroke="#000000" points="870.1914,-237 1089.4307,-237 "/>
<text text-anchor="start" x="878.1914" y="-221.8" font-family="Times,serif" font-size="14.00" fill="#000000">Env* const env_;</text>
<polyline fill="none" stroke="#000000" points="870.1914,-215 1089.4307,-215 "/>
<text text-anchor="start" x="878.1914" y="-199.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileSystem* const fs_;</text>
<polyline fill="none" stroke="#000000" points="870.1914,-193 1089.4307,-193 "/>
<text text-anchor="start" x="878.1914" y="-177.8" font-family="Times,serif" font-size="14.00" fill="#000000">const std::string dbname_;</text>
<polyline fill="none" stroke="#000000" points="870.1914,-171 1089.4307,-171 "/>
<polyline fill="none" stroke="#000000" points="870.1914,-171 1089.4307,-171 "/>
<polyline fill="none" stroke="#000000" points="870.1914,-171 1089.4307,-171 "/>
<text text-anchor="start" x="878.1914" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#000000">...</text>
</g>
<!-- Version&#45;&gt;VersionSet -->
<g id="edge14" class="edge">
<title>Version:VersionSet&#45;&gt;VersionSet</title>
<path fill="none" stroke="#666666" d="M626.0791,-222C626.0791,-222 859.8032,-222 859.8032,-222"/>
<polygon fill="#666666" stroke="#666666" points="859.8033,-225.5001 869.8032,-222 859.8032,-218.5001 859.8033,-225.5001"/>
</g>
<!-- VersionStorageInfo -->
<g id="node18" class="node">
<title>VersionStorageInfo</title>
<polygon fill="#f38181" stroke="#000000" points="871.9619,-16.4001 871.9619,-129.5999 1087.6602,-129.5999 1087.6602,-16.4001 871.9619,-16.4001"/>
<text text-anchor="middle" x="979.811" y="-114.3999" font-family="Times,serif" font-size="14.00" fill="#000000">VersionStorageInfo</text>
<polyline fill="none" stroke="#000000" points="871.9619,-107.5999 1087.6602,-107.5999 "/>
<text text-anchor="start" x="879.9619" y="-92.3999" font-family="Times,serif" font-size="14.00" fill="#000000">存储了各个level sstable</text>
<text text-anchor="start" x="879.9619" y="-72.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 文件的FileMetadata</text>
<polyline fill="none" stroke="#000000" points="871.9619,-60.4001 1087.6602,-60.4001 "/>
<text text-anchor="start" x="879.9619" y="-45.2001" font-family="Times,serif" font-size="14.00" fill="#000000">std::vector&lt;FileMetaData*&gt;* files_</text>
<polyline fill="none" stroke="#000000" points="871.9619,-38.4001 1087.6602,-38.4001 "/>
<text text-anchor="start" x="879.9619" y="-23.2001" font-family="Times,serif" font-size="14.00" fill="#000000">BlobFiles blob_files_</text>
</g>
<!-- Version&#45;&gt;VersionStorageInfo -->
<g id="edge15" class="edge">
<title>Version:VesionStorageInfo&#45;&gt;VersionStorageInfo</title>
<path fill="none" stroke="#666666" d="M748.7625,-102.3C748.7625,-102.3 861.7427,-102.3 861.7427,-102.3"/>
<polygon fill="#666666" stroke="#666666" points="861.7428,-105.8001 871.7427,-102.3 861.7427,-98.8001 861.7428,-105.8001"/>
</g>
<!-- ColumnFamilySet -->
<g id="node24" class="node">
<title>ColumnFamilySet</title>
<polygon fill="none" stroke="#000000" points="1139.8887,-782.4001 1139.8887,-1077.5999 1455.5352,-1077.5999 1455.5352,-782.4001 1139.8887,-782.4001"/>
<text text-anchor="middle" x="1297.7119" y="-1062.3999" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilySet</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-1055.5999 1455.5352,-1055.5999 "/>
<text text-anchor="start" x="1147.8887" y="-1040.3999" font-family="Times,serif" font-size="14.00" fill="#000000">管理columnFamily</text>
<text text-anchor="start" x="1147.8887" y="-1020.8" font-family="Times,serif" font-size="14.00" fill="#000000"> name 到id到cfd的映射</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-1008.4001 1455.5352,-1008.4001 "/>
<text text-anchor="start" x="1147.8887" y="-993.2001" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;std::string, uint32_t&gt;</text>
<text text-anchor="start" x="1147.8887" y="-979.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> column_families_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-972.4001 1455.5352,-972.4001 "/>
<text text-anchor="start" x="1147.8887" y="-957.2001" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;uint32_t, ColumnFamilyData*&gt;</text>
<text text-anchor="start" x="1147.8887" y="-943.2001" font-family="Times,serif" font-size="14.00" fill="#000000"> column_family_data_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-936.4001 1455.5352,-936.4001 "/>
<text text-anchor="start" x="1147.8887" y="-921.2001" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t max_column_family_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-914.4001 1455.5352,-914.4001 "/>
<text text-anchor="start" x="1147.8887" y="-899.2001" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* dummy_cfd_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-892.4001 1455.5352,-892.4001 "/>
<text text-anchor="start" x="1147.8887" y="-877.2001" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* default_cfd_cache_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-870.4001 1455.5352,-870.4001 "/>
<text text-anchor="start" x="1147.8887" y="-855.2001" font-family="Times,serif" font-size="14.00" fill="#000000">Cache* table_cache_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-848.4001 1455.5352,-848.4001 "/>
<text text-anchor="start" x="1147.8887" y="-833.2001" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBufferManager* write_buffer_manager_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-826.4001 1455.5352,-826.4001 "/>
<text text-anchor="start" x="1147.8887" y="-811.2001" font-family="Times,serif" font-size="14.00" fill="#000000">WriteController* write_controller_;</text>
<polyline fill="none" stroke="#000000" points="1139.8887,-804.4001 1455.5352,-804.4001 "/>
<text text-anchor="start" x="1147.8887" y="-789.2001" font-family="Times,serif" font-size="14.00" fill="#000000">BlockCacheTracer* const block_cache_tracer_;</text>
</g>
<!-- VersionSet&#45;&gt;ColumnFamilySet -->
<g id="edge22" class="edge">
<title>VersionSet:ColumnFamilySet&#45;&gt;ColumnFamilySet</title>
<path fill="none" stroke="#666666" d="M979.9329,-273.5C985.0241,-273.5 1147.9434,-273.5 1147.9434,-273.5 1147.9434,-273.5 1147.9434,-772.2595 1147.9434,-772.2595"/>
<polygon fill="#666666" stroke="#666666" points="1144.4435,-772.2594 1147.9434,-782.2595 1151.4435,-772.2595 1144.4435,-772.2594"/>
</g>
<!-- FileMetaData -->
<g id="node19" class="node">
<title>FileMetaData</title>
<polygon fill="none" stroke="#000000" points="1219.7188,-101 1219.7188,-255 1375.7051,-255 1375.7051,-101 1219.7188,-101"/>
<text text-anchor="middle" x="1297.7119" y="-239.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileMetaData</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-233 1375.7051,-233 "/>
<text text-anchor="start" x="1227.7188" y="-217.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileDescriptor fd</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-211 1375.7051,-211 "/>
<text text-anchor="start" x="1227.7188" y="-195.8" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey smallest</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-189 1375.7051,-189 "/>
<text text-anchor="start" x="1227.7188" y="-173.8" font-family="Times,serif" font-size="14.00" fill="#000000">InternalKey largest</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-167 1375.7051,-167 "/>
<text text-anchor="start" x="1227.7188" y="-151.8" font-family="Times,serif" font-size="14.00" fill="#000000">oldest_blob_file_number</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-145 1375.7051,-145 "/>
<text text-anchor="start" x="1227.7188" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileSampledStats stats</text>
<polyline fill="none" stroke="#000000" points="1219.7188,-123 1375.7051,-123 "/>
<text text-anchor="middle" x="1297.7119" y="-107.8" font-family="Times,serif" font-size="14.00" fill="#000000">...</text>
</g>
<!-- VersionStorageInfo&#45;&gt;FileMetaData -->
<g id="edge16" class="edge">
<title>VersionStorageInfo:FileMetaData&#45;&gt;FileMetaData</title>
<path fill="none" stroke="#666666" d="M979.8689,-115.3C979.8689,-115.3 1209.3782,-115.3 1209.3782,-115.3"/>
<polygon fill="#666666" stroke="#666666" points="1209.3783,-118.8001 1219.3782,-115.3 1209.3782,-111.8001 1209.3783,-118.8001"/>
</g>
<!-- BlobFiles -->
<g id="node20" class="node">
<title>BlobFiles</title>
<polygon fill="none" stroke="#000000" points="1180.4702,-17 1180.4702,-75 1414.9536,-75 1414.9536,-17 1180.4702,-17"/>
<text text-anchor="middle" x="1297.7119" y="-59.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobFiles</text>
<polyline fill="none" stroke="#000000" points="1180.4702,-53 1414.9536,-53 "/>
<text text-anchor="start" x="1188.4702" y="-37.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::map&lt;uint64_t,</text>
<text text-anchor="middle" x="1297.7119" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000"> std::shared_ptr&lt;BlobFileMetaData&gt;&gt;;</text>
</g>
<!-- VersionStorageInfo&#45;&gt;BlobFiles -->
<g id="edge17" class="edge">
<title>VersionStorageInfo:BlobFiles&#45;&gt;BlobFiles</title>
<path fill="none" stroke="#666666" d="M979.8689,-46C979.8689,-46 1170.3851,-46 1170.3851,-46"/>
<polygon fill="#666666" stroke="#666666" points="1170.3851,-49.5001 1180.3851,-46 1170.3851,-42.5001 1170.3851,-49.5001"/>
</g>
<!-- FileDescriptor -->
<g id="node21" class="node">
<title>FileDescriptor</title>
<polygon fill="none" stroke="#000000" points="1547.248,-159 1547.248,-291 1779.0313,-291 1779.0313,-159 1547.248,-159"/>
<text text-anchor="middle" x="1663.1396" y="-275.8" font-family="Times,serif" font-size="14.00" fill="#000000">FileDescriptor</text>
<polyline fill="none" stroke="#000000" points="1547.248,-269 1779.0313,-269 "/>
<text text-anchor="start" x="1555.248" y="-253.8" font-family="Times,serif" font-size="14.00" fill="#000000">TableReader* table_reader</text>
<polyline fill="none" stroke="#000000" points="1547.248,-247 1779.0313,-247 "/>
<text text-anchor="start" x="1555.248" y="-231.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t packed_number_and_path_id</text>
<polyline fill="none" stroke="#000000" points="1547.248,-225 1779.0313,-225 "/>
<text text-anchor="start" x="1555.248" y="-209.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t file_size</text>
<polyline fill="none" stroke="#000000" points="1547.248,-203 1779.0313,-203 "/>
<text text-anchor="start" x="1555.248" y="-187.8" font-family="Times,serif" font-size="14.00" fill="#000000">SequenceNumber smallest_seqno;</text>
<polyline fill="none" stroke="#000000" points="1547.248,-181 1779.0313,-181 "/>
<text text-anchor="start" x="1555.248" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#000000">SequenceNumber largest_seqno;</text>
</g>
<!-- FileMetaData&#45;&gt;FileDescriptor -->
<g id="edge18" class="edge">
<title>FileMetaData:FileDescriptor&#45;&gt;FileDescriptor</title>
<path fill="none" stroke="#666666" d="M1297.7785,-207C1297.7785,-207 1537.0296,-207 1537.0296,-207"/>
<polygon fill="#666666" stroke="#666666" points="1537.0297,-210.5001 1547.0296,-207 1537.0296,-203.5001 1537.0297,-210.5001"/>
</g>
<!-- BlobFileMetaData -->
<g id="node22" class="node">
<title>BlobFileMetaData</title>
<polygon fill="none" stroke="#000000" points="1491.5352,-20 1491.5352,-108 1834.7441,-108 1834.7441,-20 1491.5352,-20"/>
<text text-anchor="middle" x="1663.1396" y="-92.8" font-family="Times,serif" font-size="14.00" fill="#000000">BlobFileMetaData</text>
<polyline fill="none" stroke="#000000" points="1491.5352,-86 1834.7441,-86 "/>
<text text-anchor="start" x="1499.5352" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::shared_ptr&lt;SharedBlobFileMetaData&gt; shared_meta_;</text>
<polyline fill="none" stroke="#000000" points="1491.5352,-64 1834.7441,-64 "/>
<text text-anchor="start" x="1499.5352" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t garbage_blob_count_;</text>
<polyline fill="none" stroke="#000000" points="1491.5352,-42 1834.7441,-42 "/>
<text text-anchor="start" x="1499.5352" y="-26.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t garbage_blob_bytes_;</text>
</g>
<!-- BlobFiles&#45;&gt;BlobFileMetaData -->
<g id="edge20" class="edge">
<title>BlobFiles:BlobFileMetaData&#45;&gt;BlobFileMetaData</title>
<path fill="none" stroke="#666666" d="M1297.7785,-47.5C1297.7785,-47.5 1481.3246,-47.5 1481.3246,-47.5"/>
<polygon fill="#666666" stroke="#666666" points="1481.3246,-51.0001 1491.3246,-47.5 1481.3245,-44.0001 1481.3246,-51.0001"/>
</g>
<!-- FileDescriptor&#45;&gt;TableReader -->
<g id="edge19" class="edge">
<title>FileDescriptor&#45;&gt;TableReader</title>
<path fill="none" stroke="#666666" d="M1768.9434,-291.16C1768.9434,-341.4343 1768.9434,-402 1768.9434,-402 1768.9434,-402 1920.5497,-402 1920.5497,-402"/>
<polygon fill="#666666" stroke="#666666" points="1920.5498,-405.5001 1930.5497,-402 1920.5497,-398.5001 1920.5498,-405.5001"/>
</g>
<!-- SharedBlobFileMetaData -->
<g id="node23" class="node">
<title>SharedBlobFileMetaData</title>
<polygon fill="none" stroke="#000000" points="1926.7339,-20 1926.7339,-130 2118.103,-130 2118.103,-20 1926.7339,-20"/>
<text text-anchor="middle" x="2022.4185" y="-114.8" font-family="Times,serif" font-size="14.00" fill="#000000">SharedBlobFileMetaData</text>
<polyline fill="none" stroke="#000000" points="1926.7339,-108 2118.103,-108 "/>
<text text-anchor="start" x="1934.7339" y="-92.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t blob_file_number_;</text>
<polyline fill="none" stroke="#000000" points="1926.7339,-86 2118.103,-86 "/>
<text text-anchor="start" x="1934.7339" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t total_blob_count_;</text>
<polyline fill="none" stroke="#000000" points="1926.7339,-64 2118.103,-64 "/>
<text text-anchor="start" x="1934.7339" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t total_blob_bytes_;</text>
<polyline fill="none" stroke="#000000" points="1926.7339,-42 2118.103,-42 "/>
<text text-anchor="start" x="1934.7339" y="-26.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::string checksum_method_;</text>
</g>
<!-- BlobFileMetaData&#45;&gt;SharedBlobFileMetaData -->
<g id="edge21" class="edge">
<title>BlobFileMetaData:SharedBlobFileMetaData&#45;&gt;SharedBlobFileMetaData</title>
<path fill="none" stroke="#666666" d="M1834.887,-64C1834.887,-64 1916.6702,-64 1916.6702,-64"/>
<polygon fill="#666666" stroke="#666666" points="1916.6702,-67.5001 1926.6702,-64 1916.6701,-60.5001 1916.6702,-67.5001"/>
</g>
<!-- ColumnFamilySet&#45;&gt;Cache -->
<g id="edge31" class="edge">
<title>ColumnFamilySet:Cache&#45;&gt;Cache</title>
<path fill="none" stroke="#666666" d="M1447.9434,-848.2651C1447.9434,-803.8066 1447.9434,-636.4333 1447.9434,-636.4333 1447.9434,-636.4333 1594.0517,-636.4333 1594.0517,-636.4333"/>
<polygon fill="#666666" stroke="#666666" points="1594.0517,-639.9334 1604.0517,-636.4333 1594.0516,-632.9334 1594.0517,-639.9334"/>
</g>
<!-- ColumnFamilyData -->
<g id="node29" class="node">
<title>ColumnFamilyData</title>
<polygon fill="#f38181" stroke="#000000" points="1567.4585,-990.6001 1567.4585,-1233.3999 1758.8208,-1233.3999 1758.8208,-990.6001 1567.4585,-990.6001"/>
<text text-anchor="middle" x="1663.1396" y="-1218.1999" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1211.3999 1758.8208,-1211.3999 "/>
<text text-anchor="start" x="1575.4585" y="-1196.1999" font-family="Times,serif" font-size="14.00" fill="#000000">主要数据结构</text>
<text text-anchor="start" x="1575.4585" y="-1176.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 将Memtable，Version</text>
<text text-anchor="start" x="1575.4585" y="-1157" font-family="Times,serif" font-size="14.00" fill="#000000"> 等等关联起来</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1144.6001 1758.8208,-1144.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1129.4001" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t id_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1122.6001 1758.8208,-1122.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1107.4001" font-family="Times,serif" font-size="14.00" fill="#000000">const std::string name_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1100.6001 1758.8208,-1100.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1085.4001" font-family="Times,serif" font-size="14.00" fill="#000000">Version* dummy_versions_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1078.6001 1758.8208,-1078.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1063.4001" font-family="Times,serif" font-size="14.00" fill="#000000">Version* current_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1056.6001 1758.8208,-1056.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1041.4001" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable* mem_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1034.6001 1758.8208,-1034.6001 "/>
<text text-anchor="start" x="1575.4585" y="-1019.4001" font-family="Times,serif" font-size="14.00" fill="#000000">MemTableList imm_;</text>
<polyline fill="none" stroke="#000000" points="1567.4585,-1012.6001 1758.8208,-1012.6001 "/>
<text text-anchor="start" x="1575.4585" y="-997.4001" font-family="Times,serif" font-size="14.00" fill="#000000">SuperVersion* super_version_;</text>
</g>
<!-- ColumnFamilySet&#45;&gt;ColumnFamilyData -->
<g id="edge30" class="edge">
<title>ColumnFamilySet:ColumnFamilyData&#45;&gt;ColumnFamilyData</title>
<path fill="none" stroke="#666666" d="M1297.7785,-1034.1C1297.7785,-1034.1 1556.9897,-1034.1 1556.9897,-1034.1"/>
<polygon fill="#666666" stroke="#666666" points="1556.9897,-1037.6001 1566.9897,-1034.1 1556.9897,-1030.6001 1556.9897,-1037.6001"/>
</g>
<!-- ColumnFamilyMemTables -->
<g id="node25" class="node">
<title>ColumnFamilyMemTables</title>
<polygon fill="#a8d8ea" stroke="#000000" points="24,-929 24,-1061 396.2959,-1061 396.2959,-929 24,-929"/>
<text text-anchor="middle" x="210.1479" y="-1045.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyMemTables</text>
<polyline fill="none" stroke="#000000" points="24,-1039 396.2959,-1039 "/>
<text text-anchor="start" x="32" y="-1023.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual bool Seek(uint32_t column_family_id) = 0;</text>
<polyline fill="none" stroke="#000000" points="24,-1017 396.2959,-1017 "/>
<text text-anchor="start" x="32" y="-1001.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual uint64_t GetLogNumber() const = 0;</text>
<polyline fill="none" stroke="#000000" points="24,-995 396.2959,-995 "/>
<text text-anchor="start" x="32" y="-979.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual MemTable* GetMemTable() const = 0;</text>
<polyline fill="none" stroke="#000000" points="24,-973 396.2959,-973 "/>
<text text-anchor="start" x="32" y="-957.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual ColumnFamilyHandle* GetColumnFamilyHandle() = 0;</text>
<polyline fill="none" stroke="#000000" points="24,-951 396.2959,-951 "/>
<text text-anchor="start" x="32" y="-935.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual ColumnFamilyData* current()</text>
</g>
<!-- ColumnFamilyMemTablesImpl -->
<g id="node26" class="node">
<title>ColumnFamilyMemTablesImpl</title>
<polygon fill="none" stroke="#000000" points="855.7334,-931 855.7334,-1019 1103.8887,-1019 1103.8887,-931 855.7334,-931"/>
<text text-anchor="middle" x="979.811" y="-1003.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyMemTablesImpl</text>
<polyline fill="none" stroke="#000000" points="855.7334,-997 1103.8887,-997 "/>
<text text-anchor="start" x="863.7334" y="-981.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilySet* column_family_set_;</text>
<polyline fill="none" stroke="#000000" points="855.7334,-975 1103.8887,-975 "/>
<text text-anchor="start" x="863.7334" y="-959.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* current_;</text>
<polyline fill="none" stroke="#000000" points="855.7334,-953 1103.8887,-953 "/>
<text text-anchor="start" x="863.7334" y="-937.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyHandleInternal handle_;</text>
</g>
<!-- ColumnFamilyMemTables&#45;&gt;ColumnFamilyMemTablesImpl -->
<g id="edge23" class="edge">
<title>ColumnFamilyMemTables&#45;&gt;ColumnFamilyMemTablesImpl</title>
<path fill="none" stroke="#b83b5e" d="M396.4619,-962.5C396.4619,-962.5 845.5869,-962.5 845.5869,-962.5"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="845.5869,-966.0001 855.5869,-962.5 845.5869,-959.0001 845.5869,-966.0001"/>
</g>
<!-- ColumnFamilyMemTablesDefault -->
<g id="node27" class="node">
<title>ColumnFamilyMemTablesDefault</title>
<polygon fill="none" stroke="#000000" points="521.686,-995 521.686,-1061 730.3433,-1061 730.3433,-995 521.686,-995"/>
<text text-anchor="middle" x="626.0146" y="-1045.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyMemTablesDefault</text>
<polyline fill="none" stroke="#000000" points="521.686,-1039 730.3433,-1039 "/>
<text text-anchor="middle" x="626.0146" y="-1023.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool ok_;</text>
<polyline fill="none" stroke="#000000" points="521.686,-1017 730.3433,-1017 "/>
<text text-anchor="middle" x="626.0146" y="-1001.8" font-family="Times,serif" font-size="14.00" fill="#000000">MemTable* mem_;</text>
</g>
<!-- ColumnFamilyMemTables&#45;&gt;ColumnFamilyMemTablesDefault -->
<g id="edge24" class="edge">
<title>ColumnFamilyMemTables&#45;&gt;ColumnFamilyMemTablesDefault</title>
<path fill="none" stroke="#b83b5e" d="M396.4901,-1016.8333C396.4901,-1016.8333 511.4837,-1016.8333 511.4837,-1016.8333"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="511.4837,-1020.3334 521.4837,-1016.8333 511.4836,-1013.3334 511.4837,-1020.3334"/>
</g>
<!-- ColumnFamilyHandle -->
<g id="node28" class="node">
<title>ColumnFamilyHandle</title>
<polygon fill="#a8d8ea" stroke="#000000" points="432.2959,-1115 432.2959,-1225 819.7334,-1225 819.7334,-1115 432.2959,-1115"/>
<text text-anchor="middle" x="626.0146" y="-1209.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyHandle</text>
<polyline fill="none" stroke="#000000" points="432.2959,-1203 819.7334,-1203 "/>
<text text-anchor="start" x="440.2959" y="-1187.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual const std::string&amp; GetName() const = 0;</text>
<polyline fill="none" stroke="#000000" points="432.2959,-1181 819.7334,-1181 "/>
<text text-anchor="start" x="440.2959" y="-1165.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual uint32_t GetID() const = 0;</text>
<polyline fill="none" stroke="#000000" points="432.2959,-1159 819.7334,-1159 "/>
<text text-anchor="start" x="440.2959" y="-1143.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual Status GetDescriptor(ColumnFamilyDescriptor* desc) = 0;</text>
<polyline fill="none" stroke="#000000" points="432.2959,-1137 819.7334,-1137 "/>
<text text-anchor="start" x="440.2959" y="-1121.8" font-family="Times,serif" font-size="14.00" fill="#000000">virtual const Comparator* GetComparator() const = 0;</text>
</g>
<!-- ColumnFamilyMemTables&#45;&gt;ColumnFamilyHandle -->
<g id="edge25" class="edge">
<title>ColumnFamilyMemTables&#45;&gt;ColumnFamilyHandle</title>
<path fill="none" stroke="#b83b5e" d="M396.4431,-1039.1667C430.7247,-1039.1667 455.9434,-1039.1667 455.9434,-1039.1667 455.9434,-1039.1667 455.9434,-1104.8941 455.9434,-1104.8941"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="452.4435,-1104.894 455.9434,-1114.8941 459.4435,-1104.8941 452.4435,-1104.894"/>
</g>
<!-- ColumnFamilyMemTablesImpl&#45;&gt;ColumnFamilySet -->
<g id="edge27" class="edge">
<title>ColumnFamilyMemTablesImpl:ColumnFamilySet&#45;&gt;ColumnFamilySet</title>
<path fill="none" stroke="#f08a5d" d="M1104.0856,-975C1104.0856,-975 1129.8734,-975 1129.8734,-975"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1129.8734,-978.5001 1139.8734,-975 1129.8733,-971.5001 1129.8734,-978.5001"/>
</g>
<!-- ColumnFamilyMemTablesImpl&#45;&gt;ColumnFamilyData -->
<g id="edge28" class="edge">
<title>ColumnFamilyMemTablesImpl:ColumnFamilyData&#45;&gt;ColumnFamilyData</title>
<path fill="none" stroke="#f08a5d" d="M1093.9434,-975.2798C1093.9434,-1007.2736 1093.9434,-1096.3 1093.9434,-1096.3 1093.9434,-1096.3 1557.2269,-1096.3 1557.2269,-1096.3"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1557.2269,-1099.8001 1567.2269,-1096.3 1557.2269,-1092.8001 1557.2269,-1099.8001"/>
</g>
<!-- ColumnFamilyHandleInternal -->
<g id="node30" class="node">
<title>ColumnFamilyHandleInternal</title>
<polygon fill="none" stroke="#000000" points="1189.5928,-1117 1189.5928,-1161 1405.8311,-1161 1405.8311,-1117 1189.5928,-1117"/>
<text text-anchor="middle" x="1297.7119" y="-1145.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyHandleInternal</text>
<polyline fill="none" stroke="#000000" points="1189.5928,-1139 1405.8311,-1139 "/>
<text text-anchor="start" x="1197.5928" y="-1123.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* internal_cfd_;</text>
</g>
<!-- ColumnFamilyMemTablesImpl&#45;&gt;ColumnFamilyHandleInternal -->
<g id="edge29" class="edge">
<title>ColumnFamilyMemTablesImpl:ColumnFamilyHandleInternal&#45;&gt;ColumnFamilyHandleInternal</title>
<path fill="none" stroke="#f08a5d" d="M1082.9434,-953.1236C1082.9434,-993.9944 1082.9434,-1133.5 1082.9434,-1133.5 1082.9434,-1133.5 1179.3838,-1133.5 1179.3838,-1133.5"/>
<polygon fill="#f08a5d" stroke="#f08a5d" points="1179.3839,-1137.0001 1189.3838,-1133.5 1179.3838,-1130.0001 1179.3839,-1137.0001"/>
</g>
<!-- ColumnFamilyMemTablesDefault&#45;&gt;MemTable -->
<g id="edge26" class="edge">
<title>ColumnFamilyMemTablesDefault:MemTable&#45;&gt;MemTable</title>
<path fill="none" stroke="#666666" d="M626.9434,-994.922C626.9434,-946.4814 626.9434,-755.7 626.9434,-755.7 626.9434,-755.7 1888.9434,-755.7 1888.9434,-755.7 1888.9434,-755.7 1888.9434,-1084.6562 1888.9434,-1084.6562"/>
<polygon fill="#666666" stroke="#666666" points="1885.4435,-1084.6561 1888.9434,-1094.6562 1892.4435,-1084.6562 1885.4435,-1084.6561"/>
</g>
<!-- ColumnFamilyHandleImpl -->
<g id="node31" class="node">
<title>ColumnFamilyHandleImpl</title>
<polygon fill="none" stroke="#000000" points="888.4092,-1120 888.4092,-1208 1071.2129,-1208 1071.2129,-1120 888.4092,-1120"/>
<text text-anchor="middle" x="979.811" y="-1192.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyHandleImpl</text>
<polyline fill="none" stroke="#000000" points="888.4092,-1186 1071.2129,-1186 "/>
<text text-anchor="start" x="896.4092" y="-1170.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData* cfd_;</text>
<polyline fill="none" stroke="#000000" points="888.4092,-1164 1071.2129,-1164 "/>
<text text-anchor="start" x="896.4092" y="-1148.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl* db_;</text>
<polyline fill="none" stroke="#000000" points="888.4092,-1142 1071.2129,-1142 "/>
<text text-anchor="start" x="896.4092" y="-1126.8" font-family="Times,serif" font-size="14.00" fill="#000000">InstrumentedMutex* mutex_;</text>
</g>
<!-- ColumnFamilyHandle&#45;&gt;ColumnFamilyHandleImpl -->
<g id="edge32" class="edge">
<title>ColumnFamilyHandle&#45;&gt;ColumnFamilyHandleImpl</title>
<path fill="none" stroke="#666666" d="M819.7336,-1178.8333C819.7336,-1178.8333 878.2881,-1178.8333 878.2881,-1178.8333"/>
<polygon fill="#666666" stroke="#666666" points="878.2882,-1182.3334 888.2881,-1178.8333 878.2881,-1175.3334 878.2882,-1182.3334"/>
</g>
<!-- ColumnFamilyData&#45;&gt;MemTable -->
<g id="edge36" class="edge">
<title>ColumnFamilyData:MemTable&#45;&gt;MemTable</title>
<path fill="none" stroke="#e84545" d="M1663.2051,-1139C1663.2051,-1139 1860.6316,-1139 1860.6316,-1139"/>
<polygon fill="#e84545" stroke="#e84545" points="1860.6317,-1142.5001 1870.6316,-1139 1860.6316,-1135.5001 1860.6317,-1142.5001"/>
</g>
<!-- ColumnFamilyData&#45;&gt;Version -->
<g id="edge37" class="edge">
<title>ColumnFamilyData:Version&#45;&gt;Version</title>
<path fill="none" stroke="#e84545" d="M1585.9434,-1056.5177C1585.9434,-977.5718 1585.9434,-518.25 1585.9434,-518.25 1585.9434,-518.25 626.9434,-518.25 626.9434,-518.25 626.9434,-518.25 626.9434,-305.0421 626.9434,-305.0421"/>
<polygon fill="#e84545" stroke="#e84545" points="630.4435,-305.0421 626.9434,-295.0421 623.4435,-305.0421 630.4435,-305.0421"/>
</g>
<!-- ColumnFamilyHandleInternal&#45;&gt;ColumnFamilyData -->
<g id="edge35" class="edge">
<title>ColumnFamilyHandleInternal:ColumnFamilyData&#45;&gt;ColumnFamilyData</title>
<path fill="none" stroke="#666666" d="M1405.8691,-1139C1405.8691,-1139 1557.3708,-1139 1557.3708,-1139"/>
<polygon fill="#666666" stroke="#666666" points="1557.3708,-1142.5001 1567.3708,-1139 1557.3707,-1135.5001 1557.3708,-1142.5001"/>
</g>
<!-- ColumnFamilyHandleImpl&#45;&gt;ColumnFamilyData -->
<g id="edge34" class="edge">
<title>ColumnFamilyHandleImpl:ColumnFamilyData&#45;&gt;ColumnFamilyData</title>
<path fill="none" stroke="#17b978" d="M1071.2587,-1185C1071.2587,-1185 1557.2845,-1185 1557.2845,-1185"/>
<polygon fill="#17b978" stroke="#17b978" points="1557.2845,-1188.5001 1567.2845,-1185 1557.2844,-1181.5001 1557.2845,-1188.5001"/>
</g>
<!-- ColumnFamilyHandleImpl&#45;&gt;ColumnFamilyHandleInternal -->
<g id="edge33" class="edge">
<title>ColumnFamilyHandleImpl&#45;&gt;ColumnFamilyHandleInternal</title>
<path fill="none" stroke="#17b978" d="M1071.3346,-1147.5C1071.3346,-1147.5 1179.417,-1147.5 1179.417,-1147.5"/>
<polygon fill="#17b978" stroke="#17b978" points="1179.4171,-1151.0001 1189.417,-1147.5 1179.417,-1144.0001 1179.4171,-1151.0001"/>
</g>
<!-- DBImpl -->
<g id="node32" class="node">
<title>DBImpl</title>
<polygon fill="none" stroke="#000000" points="479.1733,-649 479.1733,-729 772.856,-729 772.856,-649 479.1733,-649"/>
<text text-anchor="middle" x="626.0146" y="-713.8" font-family="Times,serif" font-size="14.00" fill="#000000">DBImpl</text>
<polyline fill="none" stroke="#000000" points="479.1733,-707 772.856,-707 "/>
<text text-anchor="start" x="487.1733" y="-691.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::unique_ptr&lt;ColumnFamilyMemTablesImpl&gt;</text>
<text text-anchor="start" x="487.1733" y="-677.8" font-family="Times,serif" font-size="14.00" fill="#000000"> column_family_memtables_;</text>
<polyline fill="none" stroke="#000000" points="479.1733,-671 772.856,-671 "/>
<text text-anchor="start" x="487.1733" y="-655.8" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyHandleImpl* default_cf_handle_;</text>
</g>
<!-- DBImpl&#45;&gt;ColumnFamilyMemTablesImpl -->
<g id="edge38" class="edge">
<title>DBImpl:ColumnFamilyMemTablesImpl&#45;&gt;ColumnFamilyMemTablesImpl</title>
<path fill="none" stroke="#3f72af" d="M626.058,-709.5C629.7178,-709.5 863.9434,-709.5 863.9434,-709.5 863.9434,-709.5 863.9434,-920.86 863.9434,-920.86"/>
<polygon fill="#3f72af" stroke="#3f72af" points="860.4435,-920.86 863.9434,-930.86 867.4435,-920.8601 860.4435,-920.86"/>
</g>
<!-- DBImpl&#45;&gt;ColumnFamilyHandleImpl -->
<g id="edge39" class="edge">
<title>DBImpl:ColumnFamilyHandleImpl&#45;&gt;ColumnFamilyHandleImpl</title>
<path fill="none" stroke="#3f72af" d="M626.1683,-719.5C632.5857,-719.5 837.9434,-719.5 837.9434,-719.5 837.9434,-719.5 837.9434,-1149.1667 837.9434,-1149.1667 837.9434,-1149.1667 878.36,-1149.1667 878.36,-1149.1667"/>
<polygon fill="#3f72af" stroke="#3f72af" points="878.3601,-1152.6668 888.36,-1149.1667 878.36,-1145.6668 878.3601,-1152.6668"/>
</g>
</g>
</svg>
