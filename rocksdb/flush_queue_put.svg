<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: flush_queue_put Pages: 1 -->
<svg width="1154pt" height="246pt"
 viewBox="0.00 0.00 1153.80 246.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 242)">
<title>flush_queue_put</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-242 1149.8047,-242 1149.8047,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_ColumnFamilyData</title>
<polygon fill="none" stroke="#000000" points="569.0391,-82 569.0391,-230 997.5771,-230 997.5771,-82 569.0391,-82"/>
<text text-anchor="middle" x="783.3081" y="-210" font-family="Times,serif" font-size="20.00" fill="#000000">ColumnFamilyData</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Disk</title>
<polygon fill="none" stroke="#000000" points="114.1948,-8 114.1948,-102 232.519,-102 232.519,-8 114.1948,-8"/>
<text text-anchor="middle" x="173.3569" y="-82" font-family="Times,serif" font-size="20.00" fill="#000000">Disk</text>
</g>
<!-- WriteInteralBatch -->
<g id="node1" class="node">
<title>WriteInteralBatch</title>
<polygon fill="none" stroke="#000000" points="109.7568,-110.2 109.7568,-173.8 236.957,-173.8 236.957,-110.2 109.7568,-110.2"/>
<text text-anchor="middle" x="173.3569" y="-158.6" font-family="Times,serif" font-size="14.00" fill="#000000">WriteInteralBatch</text>
<polyline fill="none" stroke="#000000" points="109.7568,-151.8 236.957,-151.8 "/>
<text text-anchor="start" x="117.7568" y="-136.6" font-family="Times,serif" font-size="14.00" fill="#000000">将put/delete等写入</text>
<text text-anchor="start" x="117.7568" y="-117" font-family="Times,serif" font-size="14.00" fill="#000000"> Rep buffer</text>
</g>
<!-- MemTableInsertor -->
<g id="node2" class="node">
<title>MemTableInsertor</title>
<polygon fill="none" stroke="#000000" points="272.957,-107.4001 272.957,-176.5999 541.0391,-176.5999 541.0391,-107.4001 272.957,-107.4001"/>
<text text-anchor="middle" x="406.998" y="-161.3999" font-family="Times,serif" font-size="14.00" fill="#000000">MemTableInsertor</text>
<polyline fill="none" stroke="#000000" points="272.957,-154.5999 541.0391,-154.5999 "/>
<text text-anchor="start" x="280.957" y="-139.3999" font-family="Times,serif" font-size="14.00" fill="#000000">遍历WriterInternalBatch</text>
<text text-anchor="middle" x="406.998" y="-119.8" font-family="Times,serif" font-size="14.00" fill="#000000"> Buffer插入columnFamilyData的mem_table</text>
</g>
<!-- WriteInteralBatch&#45;&gt;MemTableInsertor -->
<g id="edge3" class="edge">
<title>WriteInteralBatch&#45;&gt;MemTableInsertor</title>
<path fill="none" stroke="#666666" d="M237.2004,-142C245.3482,-142 253.9323,-142 262.7367,-142"/>
<polygon fill="#666666" stroke="#666666" points="262.7594,-145.5001 272.7594,-142 262.7594,-138.5001 262.7594,-145.5001"/>
</g>
<!-- ColumnFamilyData_mem -->
<g id="node3" class="node">
<title>ColumnFamilyData_mem</title>
<polygon fill="none" stroke="#000000" points="577.0391,-97.6001 577.0391,-186.3999 797.9873,-186.3999 797.9873,-97.6001 577.0391,-97.6001"/>
<text text-anchor="middle" x="687.5132" y="-171.1999" font-family="Times,serif" font-size="14.00" fill="#000000">ColumnFamilyData_mem</text>
<polyline fill="none" stroke="#000000" points="577.0391,-164.3999 797.9873,-164.3999 "/>
<text text-anchor="start" x="585.0391" y="-149.1999" font-family="Times,serif" font-size="14.00" fill="#000000">先插入mem_，如果mem_满了</text>
<text text-anchor="start" x="585.0391" y="-129.6" font-family="Times,serif" font-size="14.00" fill="#000000"> 将mem_转为imm, 加入imm_list中</text>
<text text-anchor="start" x="585.0391" y="-110" font-family="Times,serif" font-size="14.00" fill="#000000"> 并创建新的mem</text>
</g>
<!-- MemTableInsertor&#45;&gt;ColumnFamilyData_mem -->
<g id="edge4" class="edge">
<title>MemTableInsertor&#45;&gt;ColumnFamilyData_mem</title>
<path fill="none" stroke="#666666" d="M541.0937,-142C549.606,-142 558.1485,-142 566.5957,-142"/>
<polygon fill="#666666" stroke="#666666" points="566.8436,-145.5001 576.8436,-142 566.8436,-138.5001 566.8436,-145.5001"/>
</g>
<!-- ColumnFamilyData_imm_list -->
<g id="node4" class="node">
<title>ColumnFamilyData_imm_list</title>
<polygon fill="none" stroke="#000000" points="833.9873,-90.6001 833.9873,-193.3999 989.5771,-193.3999 989.5771,-90.6001 833.9873,-90.6001"/>
<text text-anchor="middle" x="911.7822" y="-178.1999" font-family="Times,serif" font-size="14.00" fill="#000000">imm_</text>
<polyline fill="none" stroke="#000000" points="833.9873,-171.3999 989.5771,-171.3999 "/>
<text text-anchor="start" x="841.9873" y="-156.1999" font-family="Times,serif" font-size="14.00" fill="#000000">imm_table list</text>
<text text-anchor="start" x="841.9873" y="-142.1999" font-family="Times,serif" font-size="14.00" fill="#000000"> 通过SchedulWorke,将</text>
<text text-anchor="start" x="841.9873" y="-122.6" font-family="Times,serif" font-size="14.00" fill="#000000"> columnFaimlyData放入</text>
<text text-anchor="start" x="841.9873" y="-103" font-family="Times,serif" font-size="14.00" fill="#000000"> flush_queue中</text>
</g>
<!-- ColumnFamilyData_mem&#45;&gt;ColumnFamilyData_imm_list -->
<g id="edge1" class="edge">
<title>ColumnFamilyData_mem&#45;&gt;ColumnFamilyData_imm_list</title>
<path fill="none" stroke="#666666" d="M798.0052,-142C806.5731,-142 815.1538,-142 823.5472,-142"/>
<polygon fill="#666666" stroke="#666666" points="823.6789,-145.5001 833.6789,-142 823.6789,-138.5001 823.6789,-145.5001"/>
</g>
<!-- flush_queue_ -->
<g id="node6" class="node">
<title>flush_queue_</title>
<polygon fill="#95e1d3" stroke="#000000" points="1025.5771,-117.2 1025.5771,-166.8 1145.8047,-166.8 1145.8047,-117.2 1025.5771,-117.2"/>
<text text-anchor="middle" x="1085.6909" y="-151.6" font-family="Times,serif" font-size="14.00" fill="#000000">flush_queue_</text>
<polyline fill="none" stroke="#000000" points="1025.5771,-144.8 1145.8047,-144.8 "/>
<text text-anchor="middle" x="1085.6909" y="-129.6" font-family="Times,serif" font-size="14.00" fill="#000000">FlushRequest队列</text>
</g>
<!-- ColumnFamilyData_imm_list&#45;&gt;flush_queue_ -->
<g id="edge6" class="edge">
<title>ColumnFamilyData_imm_list&#45;&gt;flush_queue_</title>
<path fill="none" stroke="#666666" d="M989.5807,-142C998.132,-142 1006.8028,-142 1015.2572,-142"/>
<polygon fill="#666666" stroke="#666666" points="1015.4399,-145.5001 1025.4399,-142 1015.4398,-138.5001 1015.4399,-145.5001"/>
</g>
<!-- WALLog -->
<g id="node5" class="node">
<title>WALLog</title>
<polygon fill="none" stroke="#000000" points="122.1948,-16.2 122.1948,-65.8 224.519,-65.8 224.519,-16.2 122.1948,-16.2"/>
<text text-anchor="middle" x="173.3569" y="-50.6" font-family="Times,serif" font-size="14.00" fill="#000000">WALLog</text>
<polyline fill="none" stroke="#000000" points="122.1948,-43.8 224.519,-43.8 "/>
<text text-anchor="middle" x="173.3569" y="-28.6" font-family="Times,serif" font-size="14.00" fill="#000000">写入WAL日志</text>
</g>
<!-- WriteImpl -->
<g id="node7" class="node">
<title>WriteImpl</title>
<polygon fill="none" stroke="#000000" points="73.6357,-109 .1212,-109 .1212,-73 73.6357,-73 73.6357,-109"/>
<text text-anchor="middle" x="36.8784" y="-86.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl</text>
</g>
<!-- WriteImpl&#45;&gt;WriteInteralBatch -->
<g id="edge2" class="edge">
<title>WriteImpl&#45;&gt;WriteInteralBatch</title>
<path fill="none" stroke="#666666" d="M73.8115,-104.8013C82.0141,-107.8665 90.9873,-111.2197 100.0803,-114.6176"/>
<polygon fill="#666666" stroke="#666666" points="98.9799,-117.9428 109.5724,-118.1647 101.4303,-111.3856 98.9799,-117.9428"/>
</g>
<!-- WriteImpl&#45;&gt;WALLog -->
<g id="edge5" class="edge">
<title>WriteImpl&#45;&gt;WALLog</title>
<path fill="none" stroke="#666666" d="M73.8115,-77.4693C85.754,-73.094 99.3299,-68.1204 112.5312,-63.284"/>
<polygon fill="#666666" stroke="#666666" points="113.8632,-66.5236 122.0489,-59.7971 111.4552,-59.9508 113.8632,-66.5236"/>
</g>
</g>
</svg>
