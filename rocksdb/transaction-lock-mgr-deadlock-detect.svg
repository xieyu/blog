<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: dead_lock_detect Pages: 1 -->
<svg width="1938pt" height="601pt"
 viewBox="0.00 0.00 1938.00 601.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 597)">
<title>dead_lock_detect</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-597 1934,-597 1934,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_PessimisticTransaction</title>
<polygon fill="none" stroke="#000000" points="339,-8 339,-264 1141,-264 1141,-8 339,-8"/>
<text text-anchor="middle" x="740" y="-244" font-family="Times,serif" font-size="20.00" fill="#000000">PessimisticTransaction</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_TransactionLockMgr</title>
<polygon fill="none" stroke="#000000" points="8,-272 8,-585 1922,-585 1922,-272 8,-272"/>
<text text-anchor="middle" x="965" y="-565" font-family="Times,serif" font-size="20.00" fill="#000000">TransactionLockMgr</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_wait_txn_map</title>
<polygon fill="none" stroke="#000000" points="1184,-340 1184,-502 1914,-502 1914,-340 1184,-340"/>
<text text-anchor="middle" x="1549" y="-482" font-family="Times,serif" font-size="20.00" fill="#000000">wait_txn_map</text>
</g>
<!-- ClearWaitingTxn -->
<g id="node1" class="node">
<title>ClearWaitingTxn</title>
<polygon fill="none" stroke="#000000" points="459,-178 347,-178 347,-142 459,-142 459,-178"/>
<text text-anchor="middle" x="403" y="-156.3" font-family="Times,serif" font-size="14.00" fill="#000000">ClearWaitingTxn</text>
</g>
<!-- waiting_txn_ids_ -->
<g id="node2" class="node">
<title>waiting_txn_ids_</title>
<polygon fill="none" stroke="#000000" points="1133,-52 1023,-52 1023,-16 1133,-16 1133,-52"/>
<text text-anchor="middle" x="1078" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#000000">waiting_txn_ids_</text>
</g>
<!-- ClearWaitingTxn&#45;&gt;waiting_txn_ids_ -->
<g id="edge1" class="edge">
<title>ClearWaitingTxn&#45;&gt;waiting_txn_ids_</title>
<path fill="none" stroke="#666666" d="M459.1104,-149.4337C526.6846,-136.7168 643.635,-114.7337 744,-96 837.3322,-78.579 945.3618,-58.5503 1012.6953,-46.0828"/>
<polygon fill="#666666" stroke="#666666" points="1013.54,-49.486 1022.7357,-44.2239 1012.2656,-42.603 1013.54,-49.486"/>
</g>
<!-- wait_mutex_ -->
<g id="node3" class="node">
<title>wait_mutex_</title>
<polygon fill="none" stroke="#000000" points="1122,-160 1034,-160 1034,-124 1122,-124 1122,-160"/>
<text text-anchor="middle" x="1078" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_mutex_</text>
</g>
<!-- ClearWaitingTxn&#45;&gt;wait_mutex_ -->
<g id="edge2" class="edge">
<title>ClearWaitingTxn&#45;&gt;wait_mutex_</title>
<path fill="none" stroke="#666666" d="M459.1666,-159.9688C560.2144,-159.6964 779.3405,-158.1195 964,-150 983.4836,-149.1433 1004.8124,-147.765 1023.6969,-146.392"/>
<polygon fill="#666666" stroke="#666666" points="1024.1964,-149.8646 1033.9096,-145.6331 1023.6776,-142.8839 1024.1964,-149.8646"/>
</g>
<!-- SetWaitingTxn -->
<g id="node4" class="node">
<title>SetWaitingTxn</title>
<polygon fill="none" stroke="#000000" points="904,-141 804,-141 804,-105 904,-105 904,-141"/>
<text text-anchor="middle" x="854" y="-119.3" font-family="Times,serif" font-size="14.00" fill="#000000">SetWaitingTxn</text>
</g>
<!-- SetWaitingTxn&#45;&gt;waiting_txn_ids_ -->
<g id="edge3" class="edge">
<title>SetWaitingTxn&#45;&gt;waiting_txn_ids_</title>
<path fill="none" stroke="#666666" d="M904.1455,-113.0428C923.5375,-108.022 945.4755,-100.855 964,-91 982.3872,-81.218 981.8638,-71.2399 1000,-61 1004.2232,-58.6156 1008.6929,-56.3897 1013.2703,-54.3221"/>
<polygon fill="#666666" stroke="#666666" points="1014.9276,-57.4213 1022.7726,-50.3004 1012.1992,-50.9749 1014.9276,-57.4213"/>
</g>
<!-- SetWaitingTxn&#45;&gt;wait_mutex_ -->
<g id="edge4" class="edge">
<title>SetWaitingTxn&#45;&gt;wait_mutex_</title>
<path fill="none" stroke="#666666" d="M904.27,-127.264C939.725,-130.2713 987.1823,-134.2967 1023.5367,-137.3803"/>
<polygon fill="#666666" stroke="#666666" points="1023.6957,-140.9063 1033.9557,-138.2641 1024.2874,-133.9314 1023.6957,-140.9063"/>
</g>
<!-- waiting_cf_id_ -->
<g id="node5" class="node">
<title>waiting_cf_id_</title>
<polygon fill="none" stroke="#000000" points="1127,-106 1029,-106 1029,-70 1127,-70 1127,-106"/>
<text text-anchor="middle" x="1078" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">waiting_cf_id_</text>
</g>
<!-- SetWaitingTxn&#45;&gt;waiting_cf_id_ -->
<g id="edge5" class="edge">
<title>SetWaitingTxn&#45;&gt;waiting_cf_id_</title>
<path fill="none" stroke="#666666" d="M904.27,-115.1453C938.0814,-109.8623 982.8081,-102.8737 1018.4115,-97.3107"/>
<polygon fill="#666666" stroke="#666666" points="1019.3292,-100.7099 1028.669,-95.708 1018.2485,-93.7938 1019.3292,-100.7099"/>
</g>
<!-- GetID -->
<g id="node6" class="node">
<title>GetID</title>
<polygon fill="none" stroke="#000000" points="1034,-179 1034,-225 1122,-225 1122,-179 1034,-179"/>
<text text-anchor="middle" x="1078" y="-209.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetID</text>
<polyline fill="none" stroke="#000000" points="1034,-202 1122,-202 "/>
<text text-anchor="start" x="1042" y="-186.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取事务ID</text>
</g>
<!-- LockInfo -->
<g id="node7" class="node">
<title>LockInfo</title>
<polygon fill="#95e1d3" stroke="#000000" points="746.5,-400 746.5,-492 961.5,-492 961.5,-400 746.5,-400"/>
<text text-anchor="start" x="754.5" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#000000">LockInfo</text>
<polyline fill="none" stroke="#000000" points="746.5,-469 961.5,-469 "/>
<text text-anchor="start" x="754.5" y="-453.8" font-family="Times,serif" font-size="14.00" fill="#000000">bool exclusive;</text>
<polyline fill="none" stroke="#000000" points="746.5,-446 961.5,-446 "/>
<text text-anchor="start" x="754.5" y="-430.8" font-family="Times,serif" font-size="14.00" fill="#000000">autovector&lt;TransactionID&gt; txn_ids;</text>
<polyline fill="none" stroke="#000000" points="746.5,-423 961.5,-423 "/>
<text text-anchor="start" x="754.5" y="-407.8" font-family="Times,serif" font-size="14.00" fill="#000000">uint64_t expiration_time;</text>
</g>
<!-- AcquireWithTimeout -->
<g id="node8" class="node">
<title>AcquireWithTimeout</title>
<polygon fill="none" stroke="#000000" points="16,-281 16,-395 243,-395 243,-281 16,-281"/>
<text text-anchor="middle" x="129.5" y="-379.8" font-family="Times,serif" font-size="14.00" fill="#000000">AcquireWithTimeout</text>
<polyline fill="none" stroke="#000000" points="16,-372 243,-372 "/>
<text text-anchor="start" x="24" y="-356.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取key对应的lock</text>
<polyline fill="none" stroke="#000000" points="16,-349 243,-349 "/>
<text text-anchor="start" x="24" y="-333.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.先获取key对应的stripe mutex lock</text>
<text text-anchor="start" x="24" y="-318.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 已方便对stripe操作</text>
<text text-anchor="start" x="24" y="-303.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.调用AcquireLocked获取key锁</text>
<text text-anchor="start" x="24" y="-288.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.未timeout，循环尝试获取key锁</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;ClearWaitingTxn -->
<g id="edge6" class="edge">
<title>AcquireWithTimeout&#45;&gt;ClearWaitingTxn</title>
<path fill="none" stroke="#3f72af" d="M217.1656,-280.9452C267.6482,-248.09 328.4204,-208.5381 366.3924,-183.8251"/>
<polygon fill="#3f72af" stroke="#3f72af" points="368.5961,-186.5669 375.0682,-178.1786 364.7778,-180.7 368.5961,-186.5669"/>
</g>
<!-- AcquireWithTimeout&#45;&gt;SetWaitingTxn -->
<g id="edge7" class="edge">
<title>AcquireWithTimeout&#45;&gt;SetWaitingTxn</title>
<path fill="none" stroke="#3f72af" d="M153.3497,-280.7136C177.1997,-231.661 218.9957,-164.1659 279,-133 448.0489,-45.1969 684.5037,-82.7164 793.9919,-107.5263"/>
<polygon fill="#3f72af" stroke="#3f72af" points="793.3376,-110.9673 803.8689,-109.8085 794.9136,-104.147 793.3376,-110.9673"/>
</g>
<!-- AcquireLocked -->
<g id="node9" class="node">
<title>AcquireLocked</title>
<polygon fill="none" stroke="#000000" points="279,-321 279,-511 527,-511 527,-321 279,-321"/>
<text text-anchor="middle" x="403" y="-495.8" font-family="Times,serif" font-size="14.00" fill="#000000">AcquireLocked</text>
<polyline fill="none" stroke="#000000" points="279,-488 527,-488 "/>
<text text-anchor="start" x="287" y="-472.8" font-family="Times,serif" font-size="14.00" fill="#000000">获取key锁:</text>
<text text-anchor="start" x="287" y="-457.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 1. 从stripe的keys中查找key</text>
<polyline fill="none" stroke="#000000" points="279,-450 527,-450 "/>
<text text-anchor="start" x="287" y="-434.8" font-family="Times,serif" font-size="14.00" fill="#000000">2. 如果stripe.keys中不存在该key，</text>
<text text-anchor="start" x="287" y="-419.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 就获取了key的lock 将自己插到map中</text>
<polyline fill="none" stroke="#000000" points="279,-412 527,-412 "/>
<text text-anchor="start" x="287" y="-396.8" font-family="Times,serif" font-size="14.00" fill="#000000">3. 如果key被占用，如果是排它锁 </text>
<text text-anchor="start" x="287" y="-381.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.1 检查key对应的事务是否是自己</text>
<text text-anchor="start" x="287" y="-366.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.2 检查key对应的事务是否过期了</text>
<polyline fill="none" stroke="#000000" points="279,-359 527,-359 "/>
<text text-anchor="start" x="287" y="-343.8" font-family="Times,serif" font-size="14.00" fill="#000000">4.非排它锁，把自己加到keys后面</text>
<text text-anchor="start" x="287" y="-328.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 5.返回等待该key的事务id列表</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;AcquireLocked -->
<g id="edge8" class="edge">
<title>AcquireWithTimeout&#45;&gt;AcquireLocked</title>
<path fill="none" stroke="#3f72af" d="M243.1126,-370.4014C251.6433,-372.8343 260.2978,-375.3025 268.9379,-377.7666"/>
<polygon fill="#3f72af" stroke="#3f72af" points="268.103,-381.1679 278.6794,-380.5448 270.0228,-374.4363 268.103,-381.1679"/>
</g>
<!-- IsDeadlockDetect -->
<g id="node10" class="node">
<title>IsDeadlockDetect</title>
<polygon fill="none" stroke="#000000" points="563,-301 563,-347 708,-347 708,-301 563,-301"/>
<text text-anchor="middle" x="635.5" y="-331.8" font-family="Times,serif" font-size="14.00" fill="#000000">IsDeadlockDetect</text>
<polyline fill="none" stroke="#000000" points="563,-324 708,-324 "/>
<text text-anchor="start" x="571" y="-308.8" font-family="Times,serif" font-size="14.00" fill="#000000">是否开启了死锁检测</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;IsDeadlockDetect -->
<g id="edge9" class="edge">
<title>AcquireWithTimeout&#45;&gt;IsDeadlockDetect</title>
<path fill="none" stroke="#3f72af" d="M243.1019,-316.148C255.1835,-314.4513 267.3201,-313.0081 279,-312 388.814,-302.5221 416.9449,-305.9325 527,-312 535.3645,-312.4611 544.0753,-313.1208 552.7635,-313.8967"/>
<polygon fill="#3f72af" stroke="#3f72af" points="552.6454,-317.401 562.93,-314.856 553.3031,-310.432 552.6454,-317.401"/>
</g>
<!-- IncrementWaiters -->
<g id="node11" class="node">
<title>IncrementWaiters</title>
<polygon fill="none" stroke="#000000" points="796.5,-280 796.5,-326 911.5,-326 911.5,-280 796.5,-280"/>
<text text-anchor="middle" x="854" y="-310.8" font-family="Times,serif" font-size="14.00" fill="#000000">IncrementWaiters</text>
<polyline fill="none" stroke="#000000" points="796.5,-303 911.5,-303 "/>
<text text-anchor="middle" x="854" y="-287.8" font-family="Times,serif" font-size="14.00" fill="#000000">Deadlock检测？</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;IncrementWaiters -->
<g id="edge10" class="edge">
<title>AcquireWithTimeout&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#3f72af" d="M243.3242,-308.0955C255.3073,-305.6964 267.3615,-303.5897 279,-302 460.8133,-277.1661 677.9912,-288.5116 786.0051,-296.8837"/>
<polygon fill="#3f72af" stroke="#3f72af" points="785.8675,-300.3836 796.1124,-297.6833 786.4196,-293.4054 785.8675,-300.3836"/>
</g>
<!-- DecrementWaiters -->
<g id="node12" class="node">
<title>DecrementWaiters</title>
<polygon fill="none" stroke="#000000" points="913.5,-381 794.5,-381 794.5,-345 913.5,-345 913.5,-381"/>
<text text-anchor="middle" x="854" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#000000">DecrementWaiters</text>
</g>
<!-- AcquireWithTimeout&#45;&gt;DecrementWaiters -->
<g id="edge11" class="edge">
<title>AcquireWithTimeout&#45;&gt;DecrementWaiters</title>
<path fill="none" stroke="#3f72af" d="M158.0946,-395.2201C183.3062,-438.651 224.5124,-495.1546 279,-521 378.5869,-568.2376 423.3612,-558.5224 527,-521 546.5833,-513.9098 545.4592,-502.2294 563,-491 623.107,-452.5204 648.2061,-460.9644 708,-422 725.6901,-410.4723 725.2722,-400.7518 744,-391 756.4473,-384.5185 770.4818,-379.4763 784.2572,-375.5742"/>
<polygon fill="#3f72af" stroke="#3f72af" points="785.4487,-378.8792 794.2156,-372.93 783.6523,-372.1136 785.4487,-378.8792"/>
</g>
<!-- IsLockExpired -->
<g id="node13" class="node">
<title>IsLockExpired</title>
<polygon fill="none" stroke="#000000" points="563,-500 563,-546 708,-546 708,-500 563,-500"/>
<text text-anchor="middle" x="635.5" y="-530.8" font-family="Times,serif" font-size="14.00" fill="#000000">IsLockExpired</text>
<polyline fill="none" stroke="#000000" points="563,-523 708,-523 "/>
<text text-anchor="start" x="571" y="-507.8" font-family="Times,serif" font-size="14.00" fill="#000000">检查事务是否过期了</text>
</g>
<!-- AcquireLocked&#45;&gt;IsLockExpired -->
<g id="edge12" class="edge">
<title>AcquireLocked&#45;&gt;IsLockExpired</title>
<path fill="none" stroke="#666666" d="M527.078,-473.1026C544.1933,-480.9793 561.0812,-488.7514 576.2489,-495.7317"/>
<polygon fill="#666666" stroke="#666666" points="574.9098,-498.9683 585.4572,-499.9696 577.8363,-492.6094 574.9098,-498.9683"/>
</g>
<!-- wait_ids -->
<g id="node14" class="node">
<title>wait_ids</title>
<polygon fill="#95e1d3" stroke="#000000" points="576.5,-366 576.5,-412 694.5,-412 694.5,-366 576.5,-366"/>
<text text-anchor="middle" x="635.5" y="-396.8" font-family="Times,serif" font-size="14.00" fill="#000000">wait_ids</text>
<polyline fill="none" stroke="#000000" points="576.5,-389 694.5,-389 "/>
<text text-anchor="start" x="584.5" y="-373.8" font-family="Times,serif" font-size="14.00" fill="#000000">等待key的事务id</text>
</g>
<!-- AcquireLocked&#45;&gt;wait_ids -->
<g id="edge13" class="edge">
<title>AcquireLocked&#45;&gt;wait_ids</title>
<path fill="none" stroke="#666666" d="M527.078,-401.5909C540.5193,-400.03 553.8204,-398.4854 566.2582,-397.041"/>
<polygon fill="#666666" stroke="#666666" points="566.9575,-400.4834 576.487,-395.8531 566.15,-393.5301 566.9575,-400.4834"/>
</g>
<!-- IsDeadlockDetect&#45;&gt;IncrementWaiters -->
<g id="edge19" class="edge">
<title>IsDeadlockDetect&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M708.2573,-317.0073C733.462,-314.5849 761.5943,-311.8811 786.3693,-309.5"/>
<polygon fill="#666666" stroke="#666666" points="786.7827,-312.9765 796.4019,-308.5357 786.1129,-306.0086 786.7827,-312.9765"/>
</g>
<!-- IncrementWaiters&#45;&gt;GetID -->
<g id="edge20" class="edge">
<title>IncrementWaiters&#45;&gt;GetID</title>
<path fill="none" stroke="#666666" d="M911.6814,-287.2279C928.8067,-281.8595 947.4132,-275.3362 964,-268 988.0652,-257.3562 1013.5275,-242.9473 1034.2694,-230.308"/>
<polygon fill="#666666" stroke="#666666" points="1036.1772,-233.2436 1042.852,-225.0157 1032.5031,-227.2853 1036.1772,-233.2436"/>
</g>
<!-- GetDeadlockDetectDepth -->
<g id="node16" class="node">
<title>GetDeadlockDetectDepth</title>
<polygon fill="none" stroke="#000000" points="1156,-336 1000,-336 1000,-300 1156,-300 1156,-336"/>
<text text-anchor="middle" x="1078" y="-314.3" font-family="Times,serif" font-size="14.00" fill="#000000">GetDeadlockDetectDepth</text>
</g>
<!-- IncrementWaiters&#45;&gt;GetDeadlockDetectDepth -->
<g id="edge21" class="edge">
<title>IncrementWaiters&#45;&gt;GetDeadlockDetectDepth</title>
<path fill="none" stroke="#666666" d="M911.6856,-306.8629C935.3741,-308.4492 963.3398,-310.3219 989.5118,-312.0744"/>
<polygon fill="#666666" stroke="#666666" points="989.6137,-315.589 999.8252,-312.7651 990.0814,-308.6047 989.6137,-315.589"/>
</g>
<!-- wait_txn_map_mutex_ -->
<g id="node17" class="node">
<title>wait_txn_map_mutex_</title>
<polygon fill="none" stroke="#000000" points="1006.5,-374.5 1006.5,-435.5 1149.5,-435.5 1149.5,-374.5 1006.5,-374.5"/>
<text text-anchor="middle" x="1078" y="-420.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_mutex_</text>
<polyline fill="none" stroke="#000000" points="1006.5,-412.5 1149.5,-412.5 "/>
<text text-anchor="start" x="1014.5" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#000000">用于guard访问</text>
<text text-anchor="start" x="1014.5" y="-382.3" font-family="Times,serif" font-size="14.00" fill="#000000"> wait_txn_map_</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_mutex_ -->
<g id="edge22" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_mutex_</title>
<path fill="none" stroke="#666666" d="M911.7228,-316.8293C928.9373,-321.8739 947.5824,-328.2763 964,-336 981.4002,-344.1859 983.6632,-349.8566 1000,-360 1004.935,-363.0641 1010.0806,-366.1867 1015.2718,-369.2864"/>
<polygon fill="#666666" stroke="#666666" points="1013.6337,-372.3839 1024.0219,-374.4666 1017.1999,-366.3604 1013.6337,-372.3839"/>
</g>
<!-- wait_txn_map_ -->
<g id="node18" class="node">
<title>wait_txn_map_</title>
<polygon fill="#95e1d3" stroke="#000000" points="1365,-368.5 1365,-429.5 1623,-429.5 1623,-368.5 1365,-368.5"/>
<text text-anchor="middle" x="1494" y="-414.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_</text>
<polyline fill="none" stroke="#000000" points="1365,-406.5 1623,-406.5 "/>
<text text-anchor="start" x="1373" y="-391.3" font-family="Times,serif" font-size="14.00" fill="#000000">HashMap&lt;TransactionID, TrackedTrxInfo&gt;</text>
<text text-anchor="middle" x="1494" y="-376.3" font-family="Times,serif" font-size="14.00" fill="#000000"> wait_txn_map_;</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_ -->
<g id="edge23" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M911.5565,-320.2084C948.3961,-331.1087 990.9349,-343.4401 1000,-345 1144.3702,-369.8433 1183.7816,-345.7241 1329,-365 1337.3356,-366.1064 1345.88,-367.3932 1354.4811,-368.8058"/>
<polygon fill="#666666" stroke="#666666" points="1354.151,-372.2996 1364.5951,-370.5186 1355.3199,-365.3979 1354.151,-372.2996"/>
</g>
<!-- wait_txn_map_Insert -->
<g id="node19" class="node">
<title>wait_txn_map_Insert</title>
<polygon fill="none" stroke="#000000" points="1326.5,-410 1194.5,-410 1194.5,-374 1326.5,-374 1326.5,-410"/>
<text text-anchor="middle" x="1260.5" y="-388.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_Insert</text>
</g>
<!-- IncrementWaiters&#45;&gt;wait_txn_map_Insert -->
<g id="edge24" class="edge">
<title>IncrementWaiters&#45;&gt;wait_txn_map_Insert</title>
<path fill="none" stroke="#666666" d="M911.7791,-287.033C974.407,-272.7855 1076.0974,-258.6976 1156,-291 1193.0369,-305.973 1224.234,-341.0597 1242.6474,-365.6525"/>
<polygon fill="#666666" stroke="#666666" points="1239.9051,-367.8326 1248.616,-373.8635 1245.5673,-363.7168 1239.9051,-367.8326"/>
</g>
<!-- DecrementWaiters&#45;&gt;wait_txn_map_mutex_ -->
<g id="edge28" class="edge">
<title>DecrementWaiters&#45;&gt;wait_txn_map_mutex_</title>
<path fill="none" stroke="#666666" d="M913.7336,-374.2001C939.1277,-378.9614 969.1428,-384.5893 996.523,-389.7231"/>
<polygon fill="#666666" stroke="#666666" points="996.0041,-393.1867 1006.4778,-391.5896 997.2941,-386.3066 996.0041,-393.1867"/>
</g>
<!-- DecrementWaitersImpl -->
<g id="node22" class="node">
<title>DecrementWaitersImpl</title>
<polygon fill="none" stroke="#000000" points="1151,-490 1005,-490 1005,-454 1151,-454 1151,-490"/>
<text text-anchor="middle" x="1078" y="-468.3" font-family="Times,serif" font-size="14.00" fill="#000000">DecrementWaitersImpl</text>
</g>
<!-- DecrementWaiters&#45;&gt;DecrementWaitersImpl -->
<g id="edge29" class="edge">
<title>DecrementWaiters&#45;&gt;DecrementWaitersImpl</title>
<path fill="none" stroke="#666666" d="M913.6578,-369.9206C931.0342,-374.0338 949.2833,-380.5817 964,-391 987.5423,-407.6661 977.1782,-427.3602 1000,-445 1001.6157,-446.2488 1003.2931,-447.4422 1005.0205,-448.5826"/>
<polygon fill="#666666" stroke="#666666" points="1003.6208,-451.8189 1014.0186,-453.8528 1007.1586,-445.7786 1003.6208,-451.8189"/>
</g>
<!-- IsLockExpired&#45;&gt;LockInfo -->
<g id="edge17" class="edge">
<title>IsLockExpired&#45;&gt;LockInfo</title>
<path fill="none" stroke="#666666" d="M701.0572,-499.8975C712.4766,-495.8732 724.6586,-491.5803 736.973,-487.2406"/>
<polygon fill="#666666" stroke="#666666" points="738.1371,-490.5414 746.4053,-483.9167 735.8105,-483.9394 738.1371,-490.5414"/>
</g>
<!-- TryStealingExpiredTransactionLocks -->
<g id="node15" class="node">
<title>TryStealingExpiredTransactionLocks</title>
<polygon fill="none" stroke="#000000" points="964,-547 744,-547 744,-511 964,-511 964,-547"/>
<text text-anchor="middle" x="854" y="-525.3" font-family="Times,serif" font-size="14.00" fill="#000000">TryStealingExpiredTransactionLocks</text>
</g>
<!-- IsLockExpired&#45;&gt;TryStealingExpiredTransactionLocks -->
<g id="edge18" class="edge">
<title>IsLockExpired&#45;&gt;TryStealingExpiredTransactionLocks</title>
<path fill="none" stroke="#666666" d="M708.2573,-524.9979C716.4664,-525.2233 724.986,-525.4573 733.599,-525.6938"/>
<polygon fill="#666666" stroke="#666666" points="733.6475,-529.1963 743.7398,-525.9723 733.8397,-522.199 733.6475,-529.1963"/>
</g>
<!-- wait_ids&#45;&gt;SetWaitingTxn -->
<g id="edge14" class="edge">
<title>wait_ids&#45;&gt;SetWaitingTxn</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M694.7096,-367.7707C699.5462,-364.6246 704.0742,-361.0506 708,-357 737.6959,-326.3602 722.9215,-305.099 744,-268 769.4303,-223.2416 807.0433,-176.7261 831.0336,-148.8173"/>
<polygon fill="#666666" stroke="#666666" points="833.8055,-150.9631 837.7149,-141.1159 828.518,-146.3759 833.8055,-150.9631"/>
</g>
<!-- wait_ids&#45;&gt;IncrementWaiters -->
<g id="edge15" class="edge">
<title>wait_ids&#45;&gt;IncrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M689.6596,-365.8982C695.8924,-363.003 702.1177,-360.0019 708,-357 724.499,-348.5802 727.0102,-343.3796 744,-336 757.447,-330.1593 772.2444,-324.9512 786.5071,-320.4943"/>
<polygon fill="#666666" stroke="#666666" points="787.7203,-323.7839 796.2726,-317.5303 785.6871,-317.0856 787.7203,-323.7839"/>
</g>
<!-- wait_ids&#45;&gt;DecrementWaiters -->
<g id="edge16" class="edge">
<title>wait_ids&#45;&gt;DecrementWaiters</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M694.6292,-381.964C722.3281,-378.6681 755.5147,-374.7191 784.4159,-371.28"/>
<polygon fill="#666666" stroke="#666666" points="784.9276,-374.7439 794.4439,-370.0868 784.1004,-367.793 784.9276,-374.7439"/>
</g>
<!-- TrackedTrxInfo -->
<g id="node21" class="node">
<title>TrackedTrxInfo</title>
<polygon fill="none" stroke="#000000" points="1659,-348.5 1659,-463.5 1906,-463.5 1906,-348.5 1659,-348.5"/>
<text text-anchor="middle" x="1782.5" y="-448.3" font-family="Times,serif" font-size="14.00" fill="#000000">TrackedTrxInfo</text>
<polyline fill="none" stroke="#000000" points="1659,-440.5 1906,-440.5 "/>
<text text-anchor="start" x="1667" y="-425.3" font-family="Times,serif" font-size="14.00" fill="#000000">autovector&lt;TransactionID&gt; m_neighbors;</text>
<polyline fill="none" stroke="#000000" points="1659,-417.5 1906,-417.5 "/>
<text text-anchor="start" x="1667" y="-402.3" font-family="Times,serif" font-size="14.00" fill="#000000">uint32_t m_cf_id;</text>
<polyline fill="none" stroke="#000000" points="1659,-394.5 1906,-394.5 "/>
<text text-anchor="start" x="1667" y="-379.3" font-family="Times,serif" font-size="14.00" fill="#000000">bool m_exclusive;</text>
<polyline fill="none" stroke="#000000" points="1659,-371.5 1906,-371.5 "/>
<text text-anchor="start" x="1667" y="-356.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::string m_waiting_key;</text>
</g>
<!-- wait_txn_map_&#45;&gt;TrackedTrxInfo -->
<g id="edge27" class="edge">
<title>wait_txn_map_&#45;&gt;TrackedTrxInfo</title>
<path fill="none" stroke="#666666" d="M1623.0612,-402.1315C1631.4874,-402.3359 1639.9835,-402.5421 1648.4328,-402.7471"/>
<polygon fill="#666666" stroke="#666666" points="1648.6261,-406.2527 1658.7081,-402.9964 1648.7959,-399.2548 1648.6261,-406.2527"/>
</g>
<!-- wait_txn_map_Insert&#45;&gt;wait_txn_map_ -->
<g id="edge26" class="edge">
<title>wait_txn_map_Insert&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M1326.7871,-393.9872C1335.6933,-394.2542 1345.0846,-394.5357 1354.6876,-394.8236"/>
<polygon fill="#666666" stroke="#666666" points="1354.6596,-398.3243 1364.7601,-395.1256 1354.8695,-391.3274 1354.6596,-398.3243"/>
</g>
<!-- wait_txn_map_Delete -->
<g id="node20" class="node">
<title>wait_txn_map_Delete</title>
<polygon fill="none" stroke="#000000" points="1329,-464 1192,-464 1192,-428 1329,-428 1329,-464"/>
<text text-anchor="middle" x="1260.5" y="-442.3" font-family="Times,serif" font-size="14.00" fill="#000000">wait_txn_map_Delete</text>
</g>
<!-- wait_txn_map_Delete&#45;&gt;wait_txn_map_ -->
<g id="edge25" class="edge">
<title>wait_txn_map_Delete&#45;&gt;wait_txn_map_</title>
<path fill="none" stroke="#666666" d="M1329.2948,-432.1527C1337.505,-430.5001 1346.0982,-428.7704 1354.8664,-427.0055"/>
<polygon fill="#666666" stroke="#666666" points="1355.7165,-430.4047 1364.8292,-425.0001 1354.3351,-423.5423 1355.7165,-430.4047"/>
</g>
<!-- DecrementWaitersImpl&#45;&gt;wait_txn_map_Delete -->
<g id="edge30" class="edge">
<title>DecrementWaitersImpl&#45;&gt;wait_txn_map_Delete</title>
<path fill="none" stroke="#666666" d="M1151.1782,-461.5746C1161.2187,-460.1442 1171.5633,-458.6704 1181.6992,-457.2264"/>
<polygon fill="#666666" stroke="#666666" points="1182.34,-460.6706 1191.7463,-455.795 1181.3526,-453.7405 1182.34,-460.6706"/>
</g>
</g>
</svg>
