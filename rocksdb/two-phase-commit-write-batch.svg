<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: two_phase_commit_write_batch Pages: 1 -->
<svg width="1065pt" height="1216pt"
 viewBox="0.00 0.00 1065.00 1216.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1212)">
<title>two_phase_commit_write_batch</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1212 1061,-1212 1061,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_DBImpl</title>
<polygon fill="none" stroke="#000000" points="254,-939 254,-1200 1049,-1200 1049,-939 254,-939"/>
<text text-anchor="middle" x="651.5" y="-1180" font-family="Times,serif" font-size="20.00" fill="#000000">DBImpl</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_WriteBatchInternal</title>
<polygon fill="none" stroke="#000000" points="202,-337 202,-931 815.5,-931 815.5,-337 202,-337"/>
<text text-anchor="middle" x="508.75" y="-911" font-family="Times,serif" font-size="20.00" fill="#000000">WriteBatchInternal</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_PessimisticTransactionDB</title>
<polygon fill="none" stroke="#000000" points="294,-8 294,-182 880,-182 880,-8 294,-8"/>
<text text-anchor="middle" x="587" y="-162" font-family="Times,serif" font-size="20.00" fill="#000000">PessimisticTransactionDB</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_PessmisticTransaction</title>
<polygon fill="none" stroke="#000000" points="49,-190 49,-329 427.5,-329 427.5,-190 49,-190"/>
<text text-anchor="middle" x="238.25" y="-309" font-family="Times,serif" font-size="20.00" fill="#000000">PessimisticTransaction</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_Transaction</title>
<polygon fill="none" stroke="#000000" points="309.5,-198 309.5,-291 419.5,-291 419.5,-198 309.5,-198"/>
<text text-anchor="middle" x="364.5" y="-271" font-family="Times,serif" font-size="20.00" fill="#000000">Transaction</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_WriteCommittedTxn</title>
<polygon fill="none" stroke="#000000" points="0,-815 0,-1005 182,-1005 182,-815 0,-815"/>
<text text-anchor="middle" x="91" y="-985" font-family="Times,serif" font-size="20.00" fill="#000000">WriteCommittedTxn</text>
</g>
<!-- WriteImpl_Prepare -->
<g id="node1" class="node">
<title>WriteImpl_Prepare</title>
<polygon fill="none" stroke="#000000" points="262,-1100.5 262,-1161.5 467,-1161.5 467,-1100.5 262,-1100.5"/>
<text text-anchor="middle" x="364.5" y="-1146.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl</text>
<polyline fill="none" stroke="#000000" points="262,-1138.5 467,-1138.5 "/>
<text text-anchor="start" x="270" y="-1123.3" font-family="Times,serif" font-size="14.00" fill="#000000">只将writebatch写入WAL日志中</text>
<text text-anchor="start" x="270" y="-1108.3" font-family="Times,serif" font-size="14.00" fill="#000000"> 不插入mem表中</text>
</g>
<!-- WriteImplWALOnly -->
<g id="node2" class="node">
<title>WriteImplWALOnly</title>
<polygon fill="none" stroke="#000000" points="1041,-1066 908,-1066 908,-1030 1041,-1030 1041,-1066"/>
<text text-anchor="middle" x="974.5" y="-1044.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImplWALOnly</text>
</g>
<!-- WriteImpl_Prepare&#45;&gt;WriteImplWALOnly -->
<g id="edge1" class="edge">
<title>WriteImpl_Prepare&#45;&gt;WriteImplWALOnly</title>
<path fill="none" stroke="#666666" d="M467.2884,-1117.014C588.9509,-1100.46 788.7412,-1073.2754 897.7206,-1058.447"/>
<polygon fill="#666666" stroke="#666666" points="898.2197,-1061.9115 907.6565,-1057.0951 897.2758,-1054.9754 898.2197,-1061.9115"/>
</g>
<!-- WriteImpl_Commited -->
<g id="node3" class="node">
<title>WriteImpl_Commited</title>
<polygon fill="none" stroke="#000000" points="267.5,-1012.5 267.5,-1081.5 461.5,-1081.5 461.5,-1012.5 267.5,-1012.5"/>
<text text-anchor="middle" x="364.5" y="-1066.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl</text>
<polyline fill="none" stroke="#000000" points="267.5,-1058.5 461.5,-1058.5 "/>
<text text-anchor="start" x="275.5" y="-1043.3" font-family="Times,serif" font-size="14.00" fill="#000000">Commit标记写入WAL日志中</text>
<polyline fill="none" stroke="#000000" points="267.5,-1035.5 461.5,-1035.5 "/>
<text text-anchor="start" x="275.5" y="-1020.3" font-family="Times,serif" font-size="14.00" fill="#000000">WriteBatch插入mem表中</text>
</g>
<!-- WriteImpl_Rollback -->
<g id="node4" class="node">
<title>WriteImpl_Rollback</title>
<polygon fill="none" stroke="#000000" points="299.5,-947 299.5,-993 429.5,-993 429.5,-947 299.5,-947"/>
<text text-anchor="middle" x="364.5" y="-977.8" font-family="Times,serif" font-size="14.00" fill="#000000">WriteImpl_Rollback</text>
<polyline fill="none" stroke="#000000" points="299.5,-970 429.5,-970 "/>
<text text-anchor="middle" x="364.5" y="-954.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rollback</text>
</g>
<!-- WAL_REP -->
<g id="node5" class="node">
<title>WAL_REP</title>
<polygon fill="#95e1d3" stroke="#000000" points="631.5,-600 631.5,-784 795.5,-784 795.5,-600 631.5,-600"/>
<text text-anchor="middle" x="713.5" y="-768.8" font-family="Times,serif" font-size="14.00" fill="#000000">Write batch Rep_</text>
<polyline fill="none" stroke="#000000" points="631.5,-761 795.5,-761 "/>
<text text-anchor="start" x="639.5" y="-745.8" font-family="Times,serif" font-size="14.00" fill="#000000">Seq</text>
<polyline fill="none" stroke="#000000" points="631.5,-738 795.5,-738 "/>
<text text-anchor="start" x="639.5" y="-722.8" font-family="Times,serif" font-size="14.00" fill="#000000">ktypeBeginPrepare(xid)</text>
<polyline fill="none" stroke="#000000" points="631.5,-715 795.5,-715 "/>
<text text-anchor="start" x="639.5" y="-699.8" font-family="Times,serif" font-size="14.00" fill="#000000">put(key1, value1)</text>
<polyline fill="none" stroke="#000000" points="631.5,-692 795.5,-692 "/>
<text text-anchor="start" x="639.5" y="-676.8" font-family="Times,serif" font-size="14.00" fill="#000000">delete(key2, value2)</text>
<polyline fill="none" stroke="#000000" points="631.5,-669 795.5,-669 "/>
<text text-anchor="start" x="639.5" y="-653.8" font-family="Times,serif" font-size="14.00" fill="#000000">...</text>
<polyline fill="none" stroke="#000000" points="631.5,-646 795.5,-646 "/>
<text text-anchor="start" x="639.5" y="-630.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeEndPrepareXID(xid)</text>
<polyline fill="none" stroke="#000000" points="631.5,-623 795.5,-623 "/>
<text text-anchor="start" x="639.5" y="-607.8" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeCommitXID(xid)</text>
</g>
<!-- WAL_REP&#45;&gt;WriteImplWALOnly -->
<g id="edge2" class="edge">
<title>WAL_REP&#45;&gt;WriteImplWALOnly</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M795.7653,-728.15C825.6103,-744.6311 857.4873,-766.6488 880,-794 936.828,-863.0416 961.3622,-969.5646 970.2313,-1019.8636"/>
<polygon fill="#666666" stroke="#666666" points="966.8246,-1020.7109 971.9371,-1029.9905 973.7273,-1019.5481 966.8246,-1020.7109"/>
</g>
<!-- MarkEndPrepare -->
<g id="node6" class="node">
<title>MarkEndPrepare</title>
<polygon fill="none" stroke="#000000" points="210,-718 210,-794 519,-794 519,-718 210,-718"/>
<text text-anchor="middle" x="364.5" y="-778.8" font-family="Times,serif" font-size="14.00" fill="#000000">MarkEndPrepare</text>
<polyline fill="none" stroke="#000000" points="210,-771 519,-771 "/>
<text text-anchor="start" x="218" y="-755.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.开始时rep_[12]这个char是TypeNoop</text>
<text text-anchor="start" x="218" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 2.将rep_[12]这个地方写入kTypeBeginPrepareXID</text>
<text text-anchor="start" x="218" y="-725.8" font-family="Times,serif" font-size="14.00" fill="#000000"> 3.在rep_结尾写入kTypeEndPrepareXID</text>
</g>
<!-- MarkEndPrepare&#45;&gt;WAL_REP -->
<g id="edge3" class="edge">
<title>MarkEndPrepare&#45;&gt;WAL_REP</title>
<path fill="none" stroke="#b83b5e" d="M519.1006,-727.6492C553.9791,-721.2531 589.9321,-714.66 621.2877,-708.91"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="622.0947,-712.3205 631.2993,-707.074 620.832,-705.4353 622.0947,-712.3205"/>
</g>
<!-- kTypeBeginPrepareXID -->
<g id="node7" class="node">
<title>kTypeBeginPrepareXID</title>
<polygon fill="none" stroke="#000000" points="788,-893 639,-893 639,-857 788,-857 788,-893"/>
<text text-anchor="middle" x="713.5" y="-871.3" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeBeginPrepareXID</text>
</g>
<!-- MarkEndPrepare&#45;&gt;kTypeBeginPrepareXID -->
<g id="edge4" class="edge">
<title>MarkEndPrepare&#45;&gt;kTypeBeginPrepareXID</title>
<path fill="none" stroke="#b83b5e" d="M431.36,-794.0206C467.0531,-812.8265 512.3186,-834.3601 555,-848 578.3817,-855.4722 604.4023,-860.9968 628.4899,-865.0302"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="628.2527,-868.5369 638.6815,-866.6688 629.3639,-861.6256 628.2527,-868.5369"/>
</g>
<!-- kTypeEndPrepareXID -->
<g id="node8" class="node">
<title>kTypeEndPrepareXID</title>
<polygon fill="none" stroke="#000000" points="782.5,-839 644.5,-839 644.5,-803 782.5,-803 782.5,-839"/>
<text text-anchor="middle" x="713.5" y="-817.3" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeEndPrepareXID</text>
</g>
<!-- MarkEndPrepare&#45;&gt;kTypeEndPrepareXID -->
<g id="edge5" class="edge">
<title>MarkEndPrepare&#45;&gt;kTypeEndPrepareXID</title>
<path fill="none" stroke="#b83b5e" d="M519.111,-786.2586C531.2498,-788.5643 543.323,-790.8348 555,-793 580.8319,-797.7899 609.0685,-802.8383 634.4592,-807.3091"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="633.953,-810.7737 644.4078,-809.057 635.1643,-803.8793 633.953,-810.7737"/>
</g>
<!-- PutLengthPrefixedSlice -->
<g id="node9" class="node">
<title>PutLengthPrefixedSlice</title>
<polygon fill="none" stroke="#000000" points="619.5,-400 619.5,-446 807.5,-446 807.5,-400 619.5,-400"/>
<text text-anchor="middle" x="713.5" y="-430.8" font-family="Times,serif" font-size="14.00" fill="#000000">PutLengthPrefixedSlice</text>
<polyline fill="none" stroke="#000000" points="619.5,-423 807.5,-423 "/>
<text text-anchor="middle" x="713.5" y="-407.8" font-family="Times,serif" font-size="14.00" fill="#000000">向writeBatch的rep_中写入xid</text>
</g>
<!-- MarkEndPrepare&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge6" class="edge">
<title>MarkEndPrepare&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#b83b5e" d="M410.4878,-717.9216C445.1231,-686.8788 491.2357,-640.1058 519,-590 548.8889,-536.06 510.1657,-498.3409 555,-456 570.015,-441.8201 589.468,-433.0614 609.5744,-427.7801"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="610.5433,-431.148 619.4808,-425.4583 608.9459,-424.3327 610.5433,-431.148"/>
</g>
<!-- content_flags_ -->
<g id="node10" class="node">
<title>content_flags_</title>
<polygon fill="#95e1d3" stroke="#000000" points="620,-465.5 620,-526.5 807,-526.5 807,-465.5 620,-465.5"/>
<text text-anchor="middle" x="713.5" y="-511.3" font-family="Times,serif" font-size="14.00" fill="#000000">content_flags_</text>
<polyline fill="none" stroke="#000000" points="620,-503.5 807,-503.5 "/>
<text text-anchor="start" x="628" y="-488.3" font-family="Times,serif" font-size="14.00" fill="#000000">mutable std::atomic&lt;uint32_t&gt;</text>
<text text-anchor="middle" x="713.5" y="-473.3" font-family="Times,serif" font-size="14.00" fill="#000000"> content_flags_;</text>
</g>
<!-- MarkEndPrepare&#45;&gt;content_flags_ -->
<g id="edge7" class="edge">
<title>MarkEndPrepare&#45;&gt;content_flags_</title>
<path fill="none" stroke="#b83b5e" d="M403.5219,-717.6923C435.9459,-685.0353 482.5064,-636.1798 519,-590 536.8841,-567.3691 531.4406,-552.642 555,-536 571.2605,-524.5138 590.5107,-516.319 609.8913,-510.4743"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="611.0349,-513.7884 619.7117,-507.7086 609.1373,-507.0506 611.0349,-513.7884"/>
</g>
<!-- MarkCommit -->
<g id="node11" class="node">
<title>MarkCommit</title>
<polygon fill="none" stroke="#000000" points="410.5,-581 318.5,-581 318.5,-545 410.5,-545 410.5,-581"/>
<text text-anchor="middle" x="364.5" y="-559.3" font-family="Times,serif" font-size="14.00" fill="#000000">MarkCommit</text>
</g>
<!-- MarkCommit&#45;&gt;WAL_REP -->
<g id="edge8" class="edge">
<title>MarkCommit&#45;&gt;WAL_REP</title>
<path fill="none" stroke="#3f72af" d="M410.8445,-580.1302C464.5028,-599.9638 554.1923,-633.1155 622.0404,-658.194"/>
<polygon fill="#3f72af" stroke="#3f72af" points="620.8699,-661.4927 631.4631,-661.6769 623.2968,-654.9269 620.8699,-661.4927"/>
</g>
<!-- MarkCommit&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge9" class="edge">
<title>MarkCommit&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#3f72af" d="M407.2594,-544.9343C439.1148,-530.7141 483.118,-509.4342 519,-486 536.4379,-474.6115 536.2461,-465.0592 555,-456 571.9186,-447.8273 590.8089,-441.6726 609.4877,-437.0394"/>
<polygon fill="#3f72af" stroke="#3f72af" points="610.2897,-440.4463 619.2246,-434.7525 608.6892,-433.6317 610.2897,-440.4463"/>
</g>
<!-- MarkCommit&#45;&gt;content_flags_ -->
<g id="edge10" class="edge">
<title>MarkCommit&#45;&gt;content_flags_</title>
<path fill="none" stroke="#3f72af" d="M410.8445,-554.1029C461.2852,-544.4195 543.5652,-528.6236 609.6115,-515.9442"/>
<polygon fill="#3f72af" stroke="#3f72af" points="610.4873,-519.3401 619.6481,-514.0174 609.1675,-512.4656 610.4873,-519.3401"/>
</g>
<!-- kTypeCommitXID -->
<g id="node12" class="node">
<title>kTypeCommitXID</title>
<polygon fill="none" stroke="#000000" points="774,-581 653,-581 653,-545 774,-545 774,-581"/>
<text text-anchor="middle" x="713.5" y="-559.3" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeCommitXID</text>
</g>
<!-- MarkCommit&#45;&gt;kTypeCommitXID -->
<g id="edge11" class="edge">
<title>MarkCommit&#45;&gt;kTypeCommitXID</title>
<path fill="none" stroke="#3f72af" d="M410.8445,-563C470.1034,-563 573.3076,-563 642.5058,-563"/>
<polygon fill="#3f72af" stroke="#3f72af" points="642.8833,-566.5001 652.8833,-563 642.8832,-559.5001 642.8833,-566.5001"/>
</g>
<!-- MarkRollback -->
<g id="node13" class="node">
<title>MarkRollback</title>
<polygon fill="none" stroke="#000000" points="412,-477 317,-477 317,-441 412,-441 412,-477"/>
<text text-anchor="middle" x="364.5" y="-455.3" font-family="Times,serif" font-size="14.00" fill="#000000">MarkRollback</text>
</g>
<!-- MarkRollback&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge12" class="edge">
<title>MarkRollback&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#17b978" d="M412.2952,-454.0698C462.7098,-448.8695 543.7375,-440.5113 609.0595,-433.7732"/>
<polygon fill="#17b978" stroke="#17b978" points="609.8133,-437.2141 619.4013,-432.7065 609.095,-430.2511 609.8133,-437.2141"/>
</g>
<!-- MarkRollback&#45;&gt;content_flags_ -->
<g id="edge13" class="edge">
<title>MarkRollback&#45;&gt;content_flags_</title>
<path fill="none" stroke="#17b978" d="M412.2952,-464.0671C462.9023,-469.4323 544.3568,-478.0679 609.8071,-485.0068"/>
<polygon fill="#17b978" stroke="#17b978" points="609.4406,-488.4874 619.7539,-486.0613 610.1787,-481.5265 609.4406,-488.4874"/>
</g>
<!-- kTypeRollbackXID -->
<g id="node14" class="node">
<title>kTypeRollbackXID</title>
<polygon fill="none" stroke="#000000" points="775.5,-381 651.5,-381 651.5,-345 775.5,-345 775.5,-381"/>
<text text-anchor="middle" x="713.5" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#000000">kTypeRollbackXID</text>
</g>
<!-- MarkRollback&#45;&gt;kTypeRollbackXID -->
<g id="edge14" class="edge">
<title>MarkRollback&#45;&gt;kTypeRollbackXID</title>
<path fill="none" stroke="#17b978" d="M407.3036,-440.9988C445.4605,-425.5574 503.1344,-403.6928 555,-390 582.7608,-382.671 613.8013,-376.8726 641.0044,-372.5581"/>
<polygon fill="#17b978" stroke="#17b978" points="641.88,-375.9644 651.2275,-370.9771 640.8101,-369.0467 641.88,-375.9644"/>
</g>
<!-- RegisterTransaction -->
<g id="node15" class="node">
<title>RegisterTransaction</title>
<polygon fill="none" stroke="#000000" points="427,-138 302,-138 302,-102 427,-102 427,-138"/>
<text text-anchor="middle" x="364.5" y="-116.3" font-family="Times,serif" font-size="14.00" fill="#000000">RegisterTransaction</text>
</g>
<!-- transactions_ -->
<g id="node16" class="node">
<title>transactions_</title>
<polygon fill="#95e1d3" stroke="#000000" points="555,-16.5 555,-77.5 872,-77.5 872,-16.5 555,-16.5"/>
<text text-anchor="middle" x="713.5" y="-62.3" font-family="Times,serif" font-size="14.00" fill="#000000">transactions_</text>
<polyline fill="none" stroke="#000000" points="555,-54.5 872,-54.5 "/>
<text text-anchor="start" x="563" y="-39.3" font-family="Times,serif" font-size="14.00" fill="#000000">std::unordered_map&lt;TransactionName, Transaction*&gt;</text>
<text text-anchor="start" x="563" y="-24.3" font-family="Times,serif" font-size="14.00" fill="#000000"> transactions_;</text>
</g>
<!-- RegisterTransaction&#45;&gt;transactions_ -->
<g id="edge15" class="edge">
<title>RegisterTransaction&#45;&gt;transactions_</title>
<path fill="none" stroke="#666666" d="M427.2973,-106.8648C463.849,-99.2193 511.6811,-89.2143 557.7497,-79.5781"/>
<polygon fill="#666666" stroke="#666666" points="558.4772,-83.0018 567.5488,-77.5285 557.044,-76.1501 558.4772,-83.0018"/>
</g>
<!-- name_map_mutex_ -->
<g id="node17" class="node">
<title>name_map_mutex_</title>
<polygon fill="#95e1d3" stroke="#000000" points="618,-97 618,-143 809,-143 809,-97 618,-97"/>
<text text-anchor="middle" x="713.5" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#000000">name_map_mutex_</text>
<polyline fill="none" stroke="#000000" points="618,-120 809,-120 "/>
<text text-anchor="middle" x="713.5" y="-104.8" font-family="Times,serif" font-size="14.00" fill="#000000">std::mutex name_map_mutex_;</text>
</g>
<!-- RegisterTransaction&#45;&gt;name_map_mutex_ -->
<g id="edge16" class="edge">
<title>RegisterTransaction&#45;&gt;name_map_mutex_</title>
<path fill="none" stroke="#666666" d="M427.2973,-120C477.4794,-120 548.9239,-120 607.8758,-120"/>
<polygon fill="#666666" stroke="#666666" points="607.9752,-123.5001 617.9752,-120 607.9751,-116.5001 607.9752,-123.5001"/>
</g>
<!-- name_ -->
<g id="node18" class="node">
<title>name_</title>
<polygon fill="#95e1d3" stroke="#000000" points="336.5,-206 336.5,-252 392.5,-252 392.5,-206 336.5,-206"/>
<text text-anchor="middle" x="364.5" y="-236.8" font-family="Times,serif" font-size="14.00" fill="#000000">name_</text>
<polyline fill="none" stroke="#000000" points="336.5,-229 392.5,-229 "/>
<text text-anchor="middle" x="364.5" y="-213.8" font-family="Times,serif" font-size="14.00" fill="#000000">事务id</text>
</g>
<!-- name_&#45;&gt;PutLengthPrefixedSlice -->
<g id="edge17" class="edge">
<title>name_&#45;&gt;PutLengthPrefixedSlice</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M392.712,-243.2886C425.791,-261.0336 480.9281,-293.8017 519,-333 539.8759,-354.4936 530.3789,-372.9244 555,-390 571.103,-401.168 590.1912,-408.7006 609.4441,-413.7496"/>
<polygon fill="#666666" stroke="#666666" points="608.6612,-417.161 619.2029,-416.1015 610.3014,-410.3559 608.6612,-417.161"/>
</g>
<!-- SetName -->
<g id="node19" class="node">
<title>SetName</title>
<polygon fill="none" stroke="#000000" points="124,-240 57,-240 57,-204 124,-204 124,-240"/>
<text text-anchor="middle" x="90.5" y="-218.3" font-family="Times,serif" font-size="14.00" fill="#000000">SetName</text>
</g>
<!-- SetName&#45;&gt;RegisterTransaction -->
<g id="edge18" class="edge">
<title>SetName&#45;&gt;RegisterTransaction</title>
<path fill="none" stroke="#666666" d="M124.0978,-209.4928C169.3933,-192.631 250.7422,-162.3478 306.1447,-141.7235"/>
<polygon fill="#666666" stroke="#666666" points="307.6794,-144.8869 315.83,-138.118 305.2372,-138.3267 307.6794,-144.8869"/>
</g>
<!-- SetName&#45;&gt;name_ -->
<g id="edge19" class="edge">
<title>SetName&#45;&gt;name_</title>
<path fill="none" stroke="#666666" d="M124.0978,-222.8583C175.2746,-224.1658 272.4752,-226.649 326.2776,-228.0235"/>
<polygon fill="#666666" stroke="#666666" points="326.3468,-231.5263 336.4329,-228.283 326.5256,-224.5286 326.3468,-231.5263"/>
</g>
<!-- PrepareInternal -->
<g id="node20" class="node">
<title>PrepareInternal</title>
<polygon fill="none" stroke="#000000" points="140.5,-967 40.5,-967 40.5,-931 140.5,-931 140.5,-967"/>
<text text-anchor="middle" x="90.5" y="-945.3" font-family="Times,serif" font-size="14.00" fill="#000000">PrepareInternal</text>
</g>
<!-- PrepareInternal&#45;&gt;WriteImpl_Prepare -->
<g id="edge20" class="edge">
<title>PrepareInternal&#45;&gt;WriteImpl_Prepare</title>
<path fill="none" stroke="#b83b5e" d="M99.7016,-967.4584C115.9595,-998.0941 152.7556,-1059.2098 202,-1091 217.1377,-1100.7723 234.4774,-1108.1573 252.064,-1113.7382"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="251.264,-1117.1519 261.8473,-1116.6568 253.2652,-1110.444 251.264,-1117.1519"/>
</g>
<!-- PrepareInternal&#45;&gt;MarkEndPrepare -->
<g id="edge21" class="edge">
<title>PrepareInternal&#45;&gt;MarkEndPrepare</title>
<path fill="none" stroke="#b83b5e" d="M140.5858,-938.612C154.5161,-934.5711 169.2976,-929.1472 182,-922 237.7576,-890.6273 290.5819,-839.3486 324.9123,-802.0755"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="327.8057,-804.0966 331.9518,-794.3466 322.6305,-799.383 327.8057,-804.0966"/>
</g>
<!-- CommitInternal -->
<g id="node21" class="node">
<title>CommitInternal</title>
<polygon fill="none" stroke="#000000" points="142.5,-913 38.5,-913 38.5,-877 142.5,-877 142.5,-913"/>
<text text-anchor="middle" x="90.5" y="-891.3" font-family="Times,serif" font-size="14.00" fill="#000000">CommitInternal</text>
</g>
<!-- CommitInternal&#45;&gt;WriteImpl_Commited -->
<g id="edge22" class="edge">
<title>CommitInternal&#45;&gt;WriteImpl_Commited</title>
<path fill="none" stroke="#3f72af" d="M142.5537,-900.6139C157.0117,-904.5455 171.5843,-911.1061 182,-922 207.6256,-948.8019 176.0744,-976.4882 202,-1003 216.9948,-1018.3339 236.7446,-1028.4923 257.2914,-1035.1824"/>
<polygon fill="#3f72af" stroke="#3f72af" points="256.5146,-1038.603 267.0978,-1038.1068 258.515,-1031.8949 256.5146,-1038.603"/>
</g>
<!-- CommitInternal&#45;&gt;MarkCommit -->
<g id="edge23" class="edge">
<title>CommitInternal&#45;&gt;MarkCommit</title>
<path fill="none" stroke="#3f72af" d="M142.8972,-890.2539C157.5444,-886.3674 172.1359,-879.6139 182,-868 228.3922,-813.378 168.6972,-771.4565 202,-708 229.8971,-654.8438 285.6961,-611.8485 324.0568,-586.857"/>
<polygon fill="#3f72af" stroke="#3f72af" points="326.3772,-589.5282 332.9232,-581.1976 322.6109,-583.6278 326.3772,-589.5282"/>
</g>
<!-- RollbackInternal -->
<g id="node22" class="node">
<title>RollbackInternal</title>
<polygon fill="none" stroke="#000000" points="144,-859 37,-859 37,-823 144,-823 144,-859"/>
<text text-anchor="middle" x="90.5" y="-837.3" font-family="Times,serif" font-size="14.00" fill="#000000">RollbackInternal</text>
</g>
<!-- RollbackInternal&#45;&gt;WriteImpl_Rollback -->
<g id="edge24" class="edge">
<title>RollbackInternal&#45;&gt;WriteImpl_Rollback</title>
<path fill="none" stroke="#17b978" d="M144.1374,-847.4642C157.9585,-851.4502 171.795,-857.827 182,-868 204.0087,-889.9396 179.1864,-913.8987 202,-935 225.3168,-956.5667 258.6196,-966.0587 289.0125,-969.872"/>
<polygon fill="#17b978" stroke="#17b978" points="288.8749,-973.377 299.1895,-970.9567 289.6168,-966.4165 288.8749,-973.377"/>
</g>
<!-- RollbackInternal&#45;&gt;MarkRollback -->
<g id="edge25" class="edge">
<title>RollbackInternal&#45;&gt;MarkRollback</title>
<path fill="none" stroke="#17b978" d="M92.3661,-822.7372C98.5288,-771.2571 122.601,-623.0638 202,-536 229.9774,-505.3218 272.7436,-485.7372 307.3816,-473.9995"/>
<polygon fill="#17b978" stroke="#17b978" points="308.492,-477.3189 316.9167,-470.8942 306.3244,-470.6629 308.492,-477.3189"/>
</g>
</g>
</svg>
