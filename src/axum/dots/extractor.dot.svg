<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Title: Daemon Pages: 1 -->
<svg width="1647pt" height="632pt"
 viewBox="0.00 0.00 1647.00 632.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 628)">
<title>Daemon</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-628 1643,-628 1643,4 -4,4"/>
<!-- Handler -->
<g id="node1" class="node">
<title>Handler</title>
<path fill="#c5eb97" stroke="#c5eb97" d="M589,-197C589,-197 994,-197 994,-197 1000,-197 1006,-203 1006,-209 1006,-209 1006,-432 1006,-432 1006,-438 1000,-444 994,-444 994,-444 589,-444 589,-444 583,-444 577,-438 577,-432 577,-432 577,-209 577,-209 577,-203 583,-197 589,-197"/>
<text text-anchor="middle" x="791.5" y="-428.8" font-family="Times,serif" font-size="14.00" fill="#374052">trait Handler</text>
<polyline fill="none" stroke="#c5eb97" points="577,-421 1006,-421 "/>
<text text-anchor="start" x="585" y="-405.8" font-family="Times,serif" font-size="14.00" fill="#374052">#[async_trait]</text>
<text text-anchor="start" x="585" y="-390.8" font-family="Times,serif" font-size="14.00" fill="#374052">pub trait Handler&lt;T, B = Body&gt;: Clone + Send + Sized + &#39;static {</text>
<text text-anchor="start" x="585" y="-359.8" font-family="Times,serif" font-size="14.00" fill="#374052">type Sealed: sealed::HiddenTrait;</text>
<text text-anchor="start" x="585" y="-328.8" font-family="Times,serif" font-size="14.00" fill="#374052">async fn call(self, req: Request&lt;B&gt;) &#45;&gt; Response;</text>
<text text-anchor="start" x="585" y="-297.8" font-family="Times,serif" font-size="14.00" fill="#374052">fn layer&lt;L&gt;(self, layer: L) &#45;&gt; Layered&lt;L::Service, T&gt;</text>
<text text-anchor="start" x="585" y="-266.8" font-family="Times,serif" font-size="14.00" fill="#374052">fn into_service(self) &#45;&gt; IntoService&lt;Self, T, B&gt; </text>
<text text-anchor="start" x="585" y="-235.8" font-family="Times,serif" font-size="14.00" fill="#374052">fn into_make_service(self) &#45;&gt; IntoMakeService&lt;IntoService&lt;Self, T, B&gt;&gt; </text>
<text text-anchor="start" x="585" y="-204.8" font-family="Times,serif" font-size="14.00" fill="#374052">fn into_make_service_with_connect_info&lt;C, Target&gt;</text>
</g>
<!-- IntoService -->
<g id="node9" class="node">
<title>IntoService</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M1068,-291.5C1068,-291.5 1286,-291.5 1286,-291.5 1292,-291.5 1298,-297.5 1298,-303.5 1298,-303.5 1298,-447.5 1298,-447.5 1298,-453.5 1292,-459.5 1286,-459.5 1286,-459.5 1068,-459.5 1068,-459.5 1062,-459.5 1056,-453.5 1056,-447.5 1056,-447.5 1056,-303.5 1056,-303.5 1056,-297.5 1062,-291.5 1068,-291.5"/>
<text text-anchor="middle" x="1177" y="-444.3" font-family="Times,serif" font-size="14.00" fill="#434b54">IntoService</text>
<polyline fill="none" stroke="#eeeeee" points="1056,-436.5 1298,-436.5 "/>
<text text-anchor="start" x="1064" y="-421.3" font-family="Times,serif" font-size="14.00" fill="#434b54">pub struct IntoService&lt;H, T, B&gt; {</text>
<text text-anchor="start" x="1064" y="-406.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> handler: H,</text>
<text text-anchor="start" x="1064" y="-391.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> _marker: PhantomData&lt;fn() &#45;&gt; (T, B)&gt;,</text>
<text text-anchor="start" x="1064" y="-376.3" font-family="Times,serif" font-size="14.00" fill="#434b54">}</text>
<text text-anchor="start" x="1064" y="-345.3" font-family="Times,serif" font-size="14.00" fill="#434b54">An adapter that makes </text>
<text text-anchor="start" x="1064" y="-330.3" font-family="Times,serif" font-size="14.00" fill="#434b54">a [`Handler`] into a [`Service`].</text>
<text text-anchor="start" x="1064" y="-299.3" font-family="Times,serif" font-size="14.00" fill="#434b54">call接口会调用handler.call(...)</text>
</g>
<!-- Handler&#45;&gt;IntoService -->
<g id="edge8" class="edge">
<title>Handler&#45;&gt;IntoService</title>
<path fill="none" stroke="#55606a" d="M1006.12,-351.14C1019.55,-353.06 1032.84,-354.97 1045.72,-356.82"/>
<polygon fill="#55606a" stroke="#55606a" points="1045.56,-360.33 1055.95,-358.28 1046.55,-353.4 1045.56,-360.33"/>
</g>
<!-- Layered -->
<g id="node11" class="node">
<title>Layered</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M1402.5,-34C1402.5,-34 1584.5,-34 1584.5,-34 1590.5,-34 1596.5,-40 1596.5,-46 1596.5,-46 1596.5,-159 1596.5,-159 1596.5,-165 1590.5,-171 1584.5,-171 1584.5,-171 1402.5,-171 1402.5,-171 1396.5,-171 1390.5,-165 1390.5,-159 1390.5,-159 1390.5,-46 1390.5,-46 1390.5,-40 1396.5,-34 1402.5,-34"/>
<text text-anchor="middle" x="1493.5" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#434b54">Layered</text>
<polyline fill="none" stroke="#eeeeee" points="1390.5,-148 1596.5,-148 "/>
<text text-anchor="start" x="1398.5" y="-132.8" font-family="Times,serif" font-size="14.00" fill="#434b54">pub struct Layered&lt;S, T&gt; {</text>
<text text-anchor="start" x="1398.5" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#434b54"> svc: S,</text>
<text text-anchor="start" x="1398.5" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#434b54"> _input: PhantomData&lt;fn() &#45;&gt; T&gt;,</text>
<text text-anchor="start" x="1398.5" y="-87.8" font-family="Times,serif" font-size="14.00" fill="#434b54">}</text>
<text text-anchor="start" x="1398.5" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#434b54">用于apply Tower middleware</text>
<text text-anchor="start" x="1398.5" y="-41.8" font-family="Times,serif" font-size="14.00" fill="#434b54">Layered也实现了Hanlder trait</text>
</g>
<!-- Handler&#45;&gt;Layered -->
<g id="edge9" class="edge">
<title>Handler&#45;&gt;Layered</title>
<path fill="none" stroke="#55606a" d="M1006.32,-227.36C1018.29,-223.4 1030.24,-219.75 1042,-216.5 1158.88,-184.25 1195.1,-209.68 1312,-177.5 1334.62,-171.27 1358.18,-162.94 1380.53,-154.1"/>
<polygon fill="#55606a" stroke="#55606a" points="1382.05,-157.25 1390.03,-150.28 1379.44,-150.76 1382.05,-157.25"/>
</g>
<!-- Layer -->
<g id="node12" class="node">
<title>Layer</title>
<path fill="#c5eb97" stroke="#c5eb97" d="M1054,-0.5C1054,-0.5 1300,-0.5 1300,-0.5 1306,-0.5 1312,-6.5 1312,-12.5 1312,-12.5 1312,-156.5 1312,-156.5 1312,-162.5 1306,-168.5 1300,-168.5 1300,-168.5 1054,-168.5 1054,-168.5 1048,-168.5 1042,-162.5 1042,-156.5 1042,-156.5 1042,-12.5 1042,-12.5 1042,-6.5 1048,-0.5 1054,-0.5"/>
<text text-anchor="middle" x="1177" y="-153.3" font-family="Times,serif" font-size="14.00" fill="#374052">tower.Layer</text>
<polyline fill="none" stroke="#c5eb97" points="1042,-145.5 1312,-145.5 "/>
<text text-anchor="start" x="1050" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#374052">pub trait Layer&lt;S&gt; {</text>
<text text-anchor="start" x="1050" y="-115.3" font-family="Times,serif" font-size="14.00" fill="#374052"> type Service;</text>
<text text-anchor="start" x="1050" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#374052"> fn layer(&amp;self, inner: S) &#45;&gt; Self::Service;</text>
<text text-anchor="start" x="1050" y="-85.3" font-family="Times,serif" font-size="14.00" fill="#374052">}</text>
<text text-anchor="start" x="1050" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#374052"> Wrap the given service with the middleware, </text>
<text text-anchor="start" x="1050" y="-39.3" font-family="Times,serif" font-size="14.00" fill="#374052"> returning a new service</text>
<text text-anchor="start" x="1050" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#374052"> that has been decorated with the middleware.</text>
</g>
<!-- Handler&#45;&gt;Layer -->
<g id="edge17" class="edge">
<title>Handler&#45;&gt;Layer</title>
<path fill="none" stroke="#55606a" d="M993.24,-196.97C1006.76,-188.65 1020.23,-180.36 1033.37,-172.27"/>
<polygon fill="#55606a" stroke="#55606a" points="1035.27,-175.21 1041.95,-166.99 1031.6,-169.25 1035.27,-175.21"/>
</g>
<!-- IntoMakeService -->
<g id="node13" class="node">
<title>IntoMakeService</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M1087.5,-479C1087.5,-479 1266.5,-479 1266.5,-479 1272.5,-479 1278.5,-485 1278.5,-491 1278.5,-491 1278.5,-558 1278.5,-558 1278.5,-564 1272.5,-570 1266.5,-570 1266.5,-570 1087.5,-570 1087.5,-570 1081.5,-570 1075.5,-564 1075.5,-558 1075.5,-558 1075.5,-491 1075.5,-491 1075.5,-485 1081.5,-479 1087.5,-479"/>
<text text-anchor="middle" x="1177" y="-554.8" font-family="Times,serif" font-size="14.00" fill="#434b54">IntoMakeService</text>
<polyline fill="none" stroke="#eeeeee" points="1075.5,-547 1278.5,-547 "/>
<text text-anchor="start" x="1083.5" y="-531.8" font-family="Times,serif" font-size="14.00" fill="#434b54">#[derive(Debug, Clone)]</text>
<text text-anchor="start" x="1083.5" y="-516.8" font-family="Times,serif" font-size="14.00" fill="#434b54">pub struct IntoMakeService&lt;S&gt; {</text>
<text text-anchor="start" x="1083.5" y="-501.8" font-family="Times,serif" font-size="14.00" fill="#434b54"> svc: S,</text>
<text text-anchor="start" x="1083.5" y="-486.8" font-family="Times,serif" font-size="14.00" fill="#434b54">}</text>
</g>
<!-- Handler&#45;&gt;IntoMakeService -->
<g id="edge10" class="edge">
<title>Handler&#45;&gt;IntoMakeService</title>
<path fill="none" stroke="#55606a" d="M993.63,-444.05C1009.84,-452.95 1026.1,-461.54 1042,-469.5 1049.76,-473.38 1057.87,-477.22 1066.08,-480.95"/>
<polygon fill="#55606a" stroke="#55606a" points="1064.83,-484.22 1075.39,-485.11 1067.69,-477.84 1064.83,-484.22"/>
</g>
<!-- impl_hanlder -->
<g id="node2" class="node">
<title>impl_hanlder</title>
<path fill="#71cb92" stroke="#71cb92" d="M249,-252C249,-252 529,-252 529,-252 535,-252 541,-258 541,-264 541,-264 541,-377 541,-377 541,-383 535,-389 529,-389 529,-389 249,-389 249,-389 243,-389 237,-383 237,-377 237,-377 237,-264 237,-264 237,-258 243,-252 249,-252"/>
<text text-anchor="middle" x="389" y="-373.8" font-family="Times,serif" font-size="14.00" fill="#374052">impl_hanlder!</text>
<polyline fill="none" stroke="#71cb92" points="237,-366 541,-366 "/>
<text text-anchor="start" x="245" y="-350.8" font-family="Times,serif" font-size="14.00" fill="#374052">给Fnonce(T1,...Tn) &#45;&gt; Fut + Clone + Send + &#39;static </text>
<text text-anchor="start" x="245" y="-335.8" font-family="Times,serif" font-size="14.00" fill="#374052">实现Handler trait</text>
<text text-anchor="start" x="245" y="-320.8" font-family="Times,serif" font-size="14.00" fill="#374052">其中T1..Tn要实现FromRequest trait</text>
<text text-anchor="start" x="245" y="-289.8" font-family="Times,serif" font-size="14.00" fill="#374052">call 接口</text>
<text text-anchor="start" x="245" y="-274.8" font-family="Times,serif" font-size="14.00" fill="#374052">会调用FromRequest将参数extract出来</text>
<text text-anchor="start" x="245" y="-259.8" font-family="Times,serif" font-size="14.00" fill="#374052">然后使用它们调用FnOnce函数</text>
</g>
<!-- impl_hanlder&#45;&gt;Handler -->
<g id="edge4" class="edge">
<title>impl_hanlder&#45;&gt;Handler</title>
<path fill="none" stroke="#55606a" d="M541.13,-320.5C549.57,-320.5 558.14,-320.5 566.76,-320.5"/>
<polygon fill="#55606a" stroke="#55606a" points="566.91,-324 576.91,-320.5 566.91,-317 566.91,-324"/>
</g>
<!-- all_the_tuples -->
<g id="node3" class="node">
<title>all_the_tuples</title>
<path fill="#71cb92" stroke="#71cb92" d="M12,-222C12,-222 189,-222 189,-222 195,-222 201,-228 201,-234 201,-234 201,-407 201,-407 201,-413 195,-419 189,-419 189,-419 12,-419 12,-419 6,-419 0,-413 0,-407 0,-407 0,-234 0,-234 0,-228 6,-222 12,-222"/>
<text text-anchor="middle" x="100.5" y="-403.8" font-family="Times,serif" font-size="14.00" fill="#374052">all_the_tuples!</text>
<polyline fill="none" stroke="#71cb92" points="0,-396 201,-396 "/>
<text text-anchor="start" x="8" y="-380.8" font-family="Times,serif" font-size="14.00" fill="#374052">依次展开，支持1~16个参数</text>
<text text-anchor="start" x="8" y="-349.8" font-family="Times,serif" font-size="14.00" fill="#374052">macro_rules! all_the_tuples {</text>
<text text-anchor="start" x="8" y="-334.8" font-family="Times,serif" font-size="14.00" fill="#374052"> ($name:ident) =&gt; {</text>
<text text-anchor="start" x="8" y="-319.8" font-family="Times,serif" font-size="14.00" fill="#374052"> $name!(T1);</text>
<text text-anchor="start" x="8" y="-304.8" font-family="Times,serif" font-size="14.00" fill="#374052"> $name!(T1, T2);</text>
<text text-anchor="start" x="8" y="-289.8" font-family="Times,serif" font-size="14.00" fill="#374052"> ....</text>
<text text-anchor="start" x="8" y="-274.8" font-family="Times,serif" font-size="14.00" fill="#374052"> $name!(T1, T2, T3, T4, T5, T6, </text>
<text text-anchor="start" x="8" y="-259.8" font-family="Times,serif" font-size="14.00" fill="#374052"> T7, T8, T9, T10, T11, </text>
<text text-anchor="start" x="8" y="-244.8" font-family="Times,serif" font-size="14.00" fill="#374052"> T12, T13, T14, T15, T16);</text>
<text text-anchor="start" x="8" y="-229.8" font-family="Times,serif" font-size="14.00" fill="#374052">}</text>
</g>
<!-- all_the_tuples&#45;&gt;impl_hanlder -->
<g id="edge1" class="edge">
<title>all_the_tuples&#45;&gt;impl_hanlder</title>
<path fill="none" stroke="#55606a" d="M201.3,-320.5C209.6,-320.5 218.11,-320.5 226.72,-320.5"/>
<polygon fill="#55606a" stroke="#55606a" points="226.85,-324 236.85,-320.5 226.85,-317 226.85,-324"/>
</g>
<!-- impl_service -->
<g id="node4" class="node">
<title>impl_service</title>
<path fill="#71cb92" stroke="#71cb92" d="M302,-478C302,-478 476,-478 476,-478 482,-478 488,-484 488,-490 488,-490 488,-543 488,-543 488,-549 482,-555 476,-555 476,-555 302,-555 302,-555 296,-555 290,-549 290,-543 290,-543 290,-490 290,-490 290,-484 296,-478 302,-478"/>
<text text-anchor="middle" x="389" y="-539.8" font-family="Times,serif" font-size="14.00" fill="#374052">impl_service!</text>
<polyline fill="none" stroke="#71cb92" points="290,-532 488,-532 "/>
<text text-anchor="start" x="298" y="-516.8" font-family="Times,serif" font-size="14.00" fill="#374052">为HandleError&lt;S, F, (T1...Tn)&gt; </text>
<text text-anchor="start" x="298" y="-501.8" font-family="Times,serif" font-size="14.00" fill="#374052">实现Service trait</text>
</g>
<!-- all_the_tuples&#45;&gt;impl_service -->
<g id="edge3" class="edge">
<title>all_the_tuples&#45;&gt;impl_service</title>
<path fill="none" stroke="#55606a" d="M201.3,-388.78C241.67,-416.39 287.12,-447.49 323.07,-472.08"/>
<polygon fill="#55606a" stroke="#55606a" points="321.29,-475.11 331.52,-477.86 325.25,-469.33 321.29,-475.11"/>
</g>
<!-- impl_from_request -->
<g id="node5" class="node">
<title>impl_from_request</title>
<path fill="#71cb92" stroke="#71cb92" d="M253,-90.5C253,-90.5 525,-90.5 525,-90.5 531,-90.5 537,-96.5 537,-102.5 537,-102.5 537,-186.5 537,-186.5 537,-192.5 531,-198.5 525,-198.5 525,-198.5 253,-198.5 253,-198.5 247,-198.5 241,-192.5 241,-186.5 241,-186.5 241,-102.5 241,-102.5 241,-96.5 247,-90.5 253,-90.5"/>
<text text-anchor="middle" x="389" y="-183.3" font-family="Times,serif" font-size="14.00" fill="#374052">impl_from_request!</text>
<polyline fill="none" stroke="#71cb92" points="241,-175.5 537,-175.5 "/>
<text text-anchor="start" x="249" y="-160.3" font-family="Times,serif" font-size="14.00" fill="#374052">给(T1,...Tn) 实现FromRequest</text>
<text text-anchor="start" x="249" y="-129.3" font-family="Times,serif" font-size="14.00" fill="#374052">依次调用每个T的from_request</text>
<text text-anchor="start" x="249" y="-98.3" font-family="Times,serif" font-size="14.00" fill="#374052">impl&lt;B, $($ty,)*&gt; FromRequest&lt;B&gt; for ($($ty,)*)</text>
</g>
<!-- all_the_tuples&#45;&gt;impl_from_request -->
<g id="edge2" class="edge">
<title>all_the_tuples&#45;&gt;impl_from_request</title>
<path fill="none" stroke="#55606a" d="M201.3,-259.19C230.43,-241.3 262.2,-221.78 291.14,-204"/>
<polygon fill="#55606a" stroke="#55606a" points="293.33,-206.76 300.02,-198.55 289.67,-200.8 293.33,-206.76"/>
</g>
<!-- HandleError_Service_call -->
<g id="node7" class="node">
<title>HandleError_Service_call</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M692.5,-463C692.5,-463 890.5,-463 890.5,-463 896.5,-463 902.5,-469 902.5,-475 902.5,-475 902.5,-558 902.5,-558 902.5,-564 896.5,-570 890.5,-570 890.5,-570 692.5,-570 692.5,-570 686.5,-570 680.5,-564 680.5,-558 680.5,-558 680.5,-475 680.5,-475 680.5,-469 686.5,-463 692.5,-463"/>
<text text-anchor="middle" x="791.5" y="-554.8" font-family="Times,serif" font-size="14.00" fill="#434b54">HandleError.call</text>
<polyline fill="none" stroke="#eeeeee" points="680.5,-547 902.5,-547 "/>
<text text-anchor="start" x="688.5" y="-531.8" font-family="Times,serif" font-size="14.00" fill="#434b54">为HandlerError T类型为(T1, ... Tn)</text>
<text text-anchor="start" x="688.5" y="-516.8" font-family="Times,serif" font-size="14.00" fill="#434b54">实现的 Service call接口:</text>
<text text-anchor="start" x="688.5" y="-485.8" font-family="Times,serif" font-size="14.00" fill="#434b54">依次调用每个T的from_request</text>
<text text-anchor="start" x="688.5" y="-470.8" font-family="Times,serif" font-size="14.00" fill="#434b54">组合成参数后调用FnOnce(...)函数</text>
</g>
<!-- impl_service&#45;&gt;HandleError_Service_call -->
<g id="edge7" class="edge">
<title>impl_service&#45;&gt;HandleError_Service_call</title>
<path fill="none" stroke="#55606a" d="M488.23,-516.5C543.07,-516.5 611.83,-516.5 669.91,-516.5"/>
<polygon fill="#55606a" stroke="#55606a" points="670.25,-520 680.25,-516.5 670.25,-513 670.25,-520"/>
</g>
<!-- tower_Service -->
<g id="node8" class="node">
<title>tower_Service</title>
<path fill="#c5eb97" stroke="#c5eb97" d="M1360,-425.5C1360,-425.5 1627,-425.5 1627,-425.5 1633,-425.5 1639,-431.5 1639,-437.5 1639,-437.5 1639,-611.5 1639,-611.5 1639,-617.5 1633,-623.5 1627,-623.5 1627,-623.5 1360,-623.5 1360,-623.5 1354,-623.5 1348,-617.5 1348,-611.5 1348,-611.5 1348,-437.5 1348,-437.5 1348,-431.5 1354,-425.5 1360,-425.5"/>
<text text-anchor="middle" x="1493.5" y="-608.3" font-family="Times,serif" font-size="14.00" fill="#374052">trait tower.Service</text>
<polyline fill="none" stroke="#c5eb97" points="1348,-600.5 1639,-600.5 "/>
<text text-anchor="start" x="1356" y="-585.3" font-family="Times,serif" font-size="14.00" fill="#374052">pub trait Service&lt;Request&gt; {</text>
<text text-anchor="start" x="1356" y="-570.3" font-family="Times,serif" font-size="14.00" fill="#374052"> type Response;</text>
<text text-anchor="start" x="1356" y="-555.3" font-family="Times,serif" font-size="14.00" fill="#374052"> type Error;</text>
<text text-anchor="start" x="1356" y="-540.3" font-family="Times,serif" font-size="14.00" fill="#374052"> type Future: Future&lt;Output = </text>
<text text-anchor="start" x="1356" y="-525.3" font-family="Times,serif" font-size="14.00" fill="#374052"> Result&lt;Self::Response, Self::Error&gt;&gt;;</text>
<text text-anchor="start" x="1356" y="-494.3" font-family="Times,serif" font-size="14.00" fill="#374052"> fn poll_ready(&amp;mut self, cx: &amp;mut Context&lt;&#39;_&gt;)</text>
<text text-anchor="start" x="1356" y="-479.3" font-family="Times,serif" font-size="14.00" fill="#374052"> &#45;&gt; Poll&lt;Result&lt;(), Self::Error&gt;&gt;;</text>
<text text-anchor="start" x="1356" y="-448.3" font-family="Times,serif" font-size="14.00" fill="#374052"> fn call(&amp;mut self, req: Request) &#45;&gt; Self::Future;</text>
<text text-anchor="start" x="1356" y="-433.3" font-family="Times,serif" font-size="14.00" fill="#374052">}</text>
</g>
<!-- impl_service&#45;&gt;tower_Service -->
<g id="edge6" class="edge">
<title>impl_service&#45;&gt;tower_Service</title>
<path fill="none" stroke="#55606a" d="M485.05,-555.16C514.07,-565.14 546.4,-574.48 577,-579.5 899.36,-632.34 988.9,-627.63 1312,-579.5 1320.48,-578.24 1329.1,-576.66 1337.76,-574.84"/>
<polygon fill="#55606a" stroke="#55606a" points="1338.53,-578.26 1347.55,-572.69 1337.03,-571.42 1338.53,-578.26"/>
</g>
<!-- FromRequst -->
<g id="node6" class="node">
<title>FromRequst</title>
<path fill="#c5eb97" stroke="#c5eb97" d="M649,-41C649,-41 934,-41 934,-41 940,-41 946,-47 946,-53 946,-53 946,-166 946,-166 946,-172 940,-178 934,-178 934,-178 649,-178 649,-178 643,-178 637,-172 637,-166 637,-166 637,-53 637,-53 637,-47 643,-41 649,-41"/>
<text text-anchor="middle" x="791.5" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#374052">trait FromRequst</text>
<polyline fill="none" stroke="#c5eb97" points="637,-155 946,-155 "/>
<text text-anchor="start" x="645" y="-139.8" font-family="Times,serif" font-size="14.00" fill="#374052">#[async_trait]</text>
<text text-anchor="start" x="645" y="-124.8" font-family="Times,serif" font-size="14.00" fill="#374052">pub trait FromRequest&lt;B&gt;: Sized {</text>
<text text-anchor="start" x="645" y="-109.8" font-family="Times,serif" font-size="14.00" fill="#374052"> type Rejection: IntoResponse;</text>
<text text-anchor="start" x="645" y="-78.8" font-family="Times,serif" font-size="14.00" fill="#374052"> async fn from_request(req: &amp;mut RequestParts&lt;B&gt;)</text>
<text text-anchor="start" x="645" y="-63.8" font-family="Times,serif" font-size="14.00" fill="#374052"> &#45;&gt; Result&lt;Self, Self::Rejection&gt;;</text>
<text text-anchor="start" x="645" y="-48.8" font-family="Times,serif" font-size="14.00" fill="#374052">}</text>
</g>
<!-- impl_from_request&#45;&gt;FromRequst -->
<g id="edge5" class="edge">
<title>impl_from_request&#45;&gt;FromRequst</title>
<path fill="none" stroke="#55606a" d="M537.14,-131.64C566.31,-129.09 597.1,-126.4 626.78,-123.81"/>
<polygon fill="#55606a" stroke="#55606a" points="627.15,-127.29 636.8,-122.93 626.54,-120.32 627.15,-127.29"/>
</g>
<!-- IntoService&#45;&gt;tower_Service -->
<g id="edge13" class="edge">
<title>IntoService&#45;&gt;tower_Service</title>
<path fill="none" stroke="#55606a" d="M1298.25,-432.47C1311.42,-438.71 1324.96,-445.12 1338.47,-451.52"/>
<polygon fill="#55606a" stroke="#55606a" points="1337.28,-454.83 1347.81,-455.95 1340.27,-448.51 1337.28,-454.83"/>
</g>
<!-- IntoServiceFuture -->
<g id="node10" class="node">
<title>IntoServiceFuture</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M1367.5,-202.5C1367.5,-202.5 1619.5,-202.5 1619.5,-202.5 1625.5,-202.5 1631.5,-208.5 1631.5,-214.5 1631.5,-214.5 1631.5,-296.5 1631.5,-296.5 1631.5,-302.5 1625.5,-308.5 1619.5,-308.5 1619.5,-308.5 1367.5,-308.5 1367.5,-308.5 1361.5,-308.5 1355.5,-302.5 1355.5,-296.5 1355.5,-296.5 1355.5,-214.5 1355.5,-214.5 1355.5,-208.5 1361.5,-202.5 1367.5,-202.5"/>
<text text-anchor="middle" x="1493.5" y="-293.3" font-family="Times,serif" font-size="14.00" fill="#434b54">IntoServiceFuture</text>
<polyline fill="none" stroke="#eeeeee" points="1355.5,-285.5 1631.5,-285.5 "/>
<text text-anchor="start" x="1363.5" y="-270.3" font-family="Times,serif" font-size="14.00" fill="#434b54">pub type IntoServiceFuture =</text>
<text text-anchor="start" x="1363.5" y="-255.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> Map&lt;</text>
<text text-anchor="start" x="1363.5" y="-240.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> BoxFuture&lt;&#39;static, Response&gt;,</text>
<text text-anchor="start" x="1363.5" y="-225.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> fn(Response) &#45;&gt; Result&lt;Response, Infallible&gt;,</text>
<text text-anchor="start" x="1363.5" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#434b54"> &gt;;</text>
</g>
<!-- IntoService&#45;&gt;IntoServiceFuture -->
<g id="edge14" class="edge">
<title>IntoService&#45;&gt;IntoServiceFuture</title>
<path fill="none" stroke="#55606a" d="M1298.25,-329.62C1313.83,-323.67 1329.93,-317.53 1345.88,-311.45"/>
<polygon fill="#55606a" stroke="#55606a" points="1347.15,-314.71 1355.25,-307.87 1344.65,-308.17 1347.15,-314.71"/>
</g>
<!-- Layer&#45;&gt;Layered -->
<g id="edge18" class="edge">
<title>Layer&#45;&gt;Layered</title>
<path fill="none" stroke="#55606a" d="M1312.29,-92.19C1334.87,-93.48 1358.11,-94.81 1380.07,-96.06"/>
<polygon fill="#55606a" stroke="#55606a" points="1379.87,-99.56 1390.06,-96.64 1380.27,-92.57 1379.87,-99.56"/>
</g>
<!-- IntoMakeService&#45;&gt;tower_Service -->
<g id="edge11" class="edge">
<title>IntoMakeService&#45;&gt;tower_Service</title>
<path fill="none" stroke="#55606a" d="M1278.81,-524.5C1297.64,-524.5 1317.71,-524.5 1337.73,-524.5"/>
<polygon fill="#55606a" stroke="#55606a" points="1337.86,-528 1347.86,-524.5 1337.86,-521 1337.86,-528"/>
</g>
<!-- IntoMakeServiceFuture -->
<g id="node14" class="node">
<title>IntoMakeServiceFuture</title>
<path fill="#eeeeee" stroke="#eeeeee" d="M1378.5,-334C1378.5,-334 1608.5,-334 1608.5,-334 1614.5,-334 1620.5,-340 1620.5,-346 1620.5,-346 1620.5,-383 1620.5,-383 1620.5,-389 1614.5,-395 1608.5,-395 1608.5,-395 1378.5,-395 1378.5,-395 1372.5,-395 1366.5,-389 1366.5,-383 1366.5,-383 1366.5,-346 1366.5,-346 1366.5,-340 1372.5,-334 1378.5,-334"/>
<text text-anchor="middle" x="1493.5" y="-379.8" font-family="Times,serif" font-size="14.00" fill="#434b54">IntoMakeServiceFuture</text>
<polyline fill="none" stroke="#eeeeee" points="1366.5,-372 1620.5,-372 "/>
<text text-anchor="start" x="1374.5" y="-356.8" font-family="Times,serif" font-size="14.00" fill="#434b54">pub type IntoMakeServiceFuture&lt;S&gt; =</text>
<text text-anchor="start" x="1374.5" y="-341.8" font-family="Times,serif" font-size="14.00" fill="#434b54"> std::future::Ready&lt;Result&lt;S, Infallible&gt;&gt;;</text>
</g>
<!-- IntoMakeService&#45;&gt;IntoMakeServiceFuture -->
<g id="edge12" class="edge">
<title>IntoMakeService&#45;&gt;IntoMakeServiceFuture</title>
<path fill="none" stroke="#55606a" d="M1278.66,-490.91C1290.51,-484.77 1301.94,-477.66 1312,-469.5 1334.11,-451.55 1325.5,-433.95 1348,-416.5 1356.14,-410.18 1365.12,-404.59 1374.49,-399.64"/>
<polygon fill="#55606a" stroke="#55606a" points="1376.21,-402.7 1383.59,-395.1 1373.08,-396.44 1376.21,-402.7"/>
</g>
<!-- opaque_future -->
<g id="node15" class="node">
<title>opaque_future</title>
<path fill="#71cb92" stroke="#71cb92" d="M1109.5,-226.5C1109.5,-226.5 1244.5,-226.5 1244.5,-226.5 1250.5,-226.5 1256.5,-232.5 1256.5,-238.5 1256.5,-238.5 1256.5,-260.5 1256.5,-260.5 1256.5,-266.5 1250.5,-272.5 1244.5,-272.5 1244.5,-272.5 1109.5,-272.5 1109.5,-272.5 1103.5,-272.5 1097.5,-266.5 1097.5,-260.5 1097.5,-260.5 1097.5,-238.5 1097.5,-238.5 1097.5,-232.5 1103.5,-226.5 1109.5,-226.5"/>
<text text-anchor="middle" x="1177" y="-257.3" font-family="Times,serif" font-size="14.00" fill="#374052">opaque_future!</text>
<polyline fill="none" stroke="#71cb92" points="1097.5,-249.5 1256.5,-249.5 "/>
<text text-anchor="start" x="1105.5" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#374052">不太明白这个宏的作用</text>
</g>
<!-- opaque_future&#45;&gt;IntoServiceFuture -->
<g id="edge15" class="edge">
<title>opaque_future&#45;&gt;IntoServiceFuture</title>
<path fill="none" stroke="#55606a" d="M1256.55,-251C1283.44,-251.51 1314.47,-252.1 1345,-252.69"/>
<polygon fill="#55606a" stroke="#55606a" points="1345.26,-256.19 1355.33,-252.88 1345.4,-249.19 1345.26,-256.19"/>
</g>
<!-- opaque_future&#45;&gt;IntoMakeServiceFuture -->
<g id="edge16" class="edge">
<title>opaque_future&#45;&gt;IntoMakeServiceFuture</title>
<path fill="none" stroke="#55606a" d="M1256.55,-261.32C1275.47,-266.16 1295.1,-272.97 1312,-282.5 1331.71,-293.61 1328.67,-306.73 1348,-318.5 1354.64,-322.54 1361.67,-326.26 1368.92,-329.69"/>
<polygon fill="#55606a" stroke="#55606a" points="1367.64,-332.95 1378.19,-333.86 1370.51,-326.57 1367.64,-332.95"/>
</g>
</g>
</svg>
