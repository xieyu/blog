<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: cop_client2 Pages: 1 -->
<svg width="1934pt" height="1128pt"
 viewBox="0.00 0.00 1934.00 1128.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1124)">
<title>cop_client2</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1124 1929.9971,-1124 1929.9971,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_PD</title>
<path fill="none" stroke="#000000" d="M1475.9004,-8C1475.9004,-8 1570.2178,-8 1570.2178,-8 1576.2178,-8 1582.2178,-14 1582.2178,-20 1582.2178,-20 1582.2178,-130 1582.2178,-130 1582.2178,-136 1576.2178,-142 1570.2178,-142 1570.2178,-142 1475.9004,-142 1475.9004,-142 1469.9004,-142 1463.9004,-136 1463.9004,-130 1463.9004,-130 1463.9004,-20 1463.9004,-20 1463.9004,-14 1469.9004,-8 1475.9004,-8"/>
<text text-anchor="middle" x="1523.0591" y="-122" font-family="Times,serif" font-size="20.00" fill="#000000">PD</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_TiKV</title>
<path fill="none" stroke="#000000" d="M1828.0107,-638C1828.0107,-638 1905.9971,-638 1905.9971,-638 1911.9971,-638 1917.9971,-644 1917.9971,-650 1917.9971,-650 1917.9971,-706 1917.9971,-706 1917.9971,-712 1911.9971,-718 1905.9971,-718 1905.9971,-718 1828.0107,-718 1828.0107,-718 1822.0107,-718 1816.0107,-712 1816.0107,-706 1816.0107,-706 1816.0107,-650 1816.0107,-650 1816.0107,-644 1822.0107,-638 1828.0107,-638"/>
<text text-anchor="middle" x="1867.0039" y="-698" font-family="Times,serif" font-size="20.00" fill="#000000">TiKV</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_tidb</title>
<path fill="none" stroke="#000000" d="M20,-150C20,-150 1759.5488,-150 1759.5488,-150 1765.5488,-150 1771.5488,-156 1771.5488,-162 1771.5488,-162 1771.5488,-1100 1771.5488,-1100 1771.5488,-1106 1765.5488,-1112 1759.5488,-1112 1759.5488,-1112 20,-1112 20,-1112 14,-1112 8,-1106 8,-1100 8,-1100 8,-162 8,-162 8,-156 14,-150 20,-150"/>
<text text-anchor="middle" x="889.7744" y="-1092" font-family="Times,serif" font-size="20.00" fill="#000000">TiDB</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_kv</title>
<path fill="none" stroke="#000000" d="M28,-158C28,-158 583.8867,-158 583.8867,-158 589.8867,-158 595.8867,-164 595.8867,-170 595.8867,-170 595.8867,-280 595.8867,-280 595.8867,-286 589.8867,-292 583.8867,-292 583.8867,-292 28,-292 28,-292 22,-292 16,-286 16,-280 16,-280 16,-170 16,-170 16,-164 22,-158 28,-158"/>
<text text-anchor="middle" x="305.9434" y="-272" font-family="Times,serif" font-size="20.00" fill="#000000">kv</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_RegionCache</title>
<path fill="none" stroke="#000000" d="M656.3022,-888C656.3022,-888 1602.1006,-888 1602.1006,-888 1608.1006,-888 1614.1006,-894 1614.1006,-900 1614.1006,-900 1614.1006,-1064 1614.1006,-1064 1614.1006,-1070 1608.1006,-1076 1602.1006,-1076 1602.1006,-1076 656.3022,-1076 656.3022,-1076 650.3022,-1076 644.3022,-1070 644.3022,-1064 644.3022,-1064 644.3022,-900 644.3022,-900 644.3022,-894 650.3022,-888 656.3022,-888"/>
<text text-anchor="middle" x="1129.2014" y="-1056" font-family="Times,serif" font-size="20.00" fill="#000000">RegionCache</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_pdClient</title>
<path fill="none" stroke="#000000" d="M1255.7466,-896C1255.7466,-896 1350.064,-896 1350.064,-896 1356.064,-896 1362.064,-902 1362.064,-908 1362.064,-908 1362.064,-1018 1362.064,-1018 1362.064,-1024 1356.064,-1030 1350.064,-1030 1350.064,-1030 1255.7466,-1030 1255.7466,-1030 1249.7466,-1030 1243.7466,-1024 1243.7466,-1018 1243.7466,-1018 1243.7466,-908 1243.7466,-908 1243.7466,-902 1249.7466,-896 1255.7466,-896"/>
<text text-anchor="middle" x="1302.9053" y="-1010" font-family="Times,serif" font-size="20.00" fill="#000000">pdClient</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_rpcClient</title>
<path fill="none" stroke="#000000" d="M1482.5073,-638C1482.5073,-638 1751.5488,-638 1751.5488,-638 1757.5488,-638 1763.5488,-644 1763.5488,-650 1763.5488,-650 1763.5488,-706 1763.5488,-706 1763.5488,-712 1757.5488,-718 1751.5488,-718 1751.5488,-718 1482.5073,-718 1482.5073,-718 1476.5073,-718 1470.5073,-712 1470.5073,-706 1470.5073,-706 1470.5073,-650 1470.5073,-650 1470.5073,-644 1476.5073,-638 1482.5073,-638"/>
<text text-anchor="middle" x="1617.0281" y="-698" font-family="Times,serif" font-size="20.00" fill="#000000">rpcClient</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_RegionRequestSender</title>
<path fill="none" stroke="#000000" d="M1083.3159,-584C1083.3159,-584 1373.5557,-584 1373.5557,-584 1379.5557,-584 1385.5557,-590 1385.5557,-596 1385.5557,-596 1385.5557,-868 1385.5557,-868 1385.5557,-874 1379.5557,-880 1373.5557,-880 1373.5557,-880 1083.3159,-880 1083.3159,-880 1077.3159,-880 1071.3159,-874 1071.3159,-868 1071.3159,-868 1071.3159,-596 1071.3159,-596 1071.3159,-590 1077.3159,-584 1083.3159,-584"/>
<text text-anchor="middle" x="1228.4358" y="-860" font-family="Times,serif" font-size="20.00" fill="#000000">RegionRequestSender</text>
</g>
<g id="clust14" class="cluster">
<title>cluster_copIteratorWorker</title>
<path fill="none" stroke="#000000" d="M530.0557,-388C530.0557,-388 1146.5366,-388 1146.5366,-388 1152.5366,-388 1158.5366,-394 1158.5366,-400 1158.5366,-400 1158.5366,-564 1158.5366,-564 1158.5366,-570 1152.5366,-576 1146.5366,-576 1146.5366,-576 530.0557,-576 530.0557,-576 524.0557,-576 518.0557,-570 518.0557,-564 518.0557,-564 518.0557,-400 518.0557,-400 518.0557,-394 524.0557,-388 530.0557,-388"/>
<text text-anchor="middle" x="838.2961" y="-556" font-family="Times,serif" font-size="20.00" fill="#000000">copIteratorWorker</text>
</g>
<g id="clust16" class="cluster">
<title>cluster_copTaskIterTaskSender</title>
<path fill="none" stroke="#000000" d="M505.5107,-584C505.5107,-584 736.4111,-584 736.4111,-584 742.4111,-584 748.4111,-590 748.4111,-596 748.4111,-596 748.4111,-652 748.4111,-652 748.4111,-658 742.4111,-664 736.4111,-664 736.4111,-664 505.5107,-664 505.5107,-664 499.5107,-664 493.5107,-658 493.5107,-652 493.5107,-652 493.5107,-596 493.5107,-596 493.5107,-590 499.5107,-584 505.5107,-584"/>
<text text-anchor="middle" x="620.9609" y="-644" font-family="Times,serif" font-size="20.00" fill="#000000">copTaskIterTaskSender</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_copIterator</title>
<path fill="none" stroke="#000000" d="M335.4546,-300C335.4546,-300 889.7388,-300 889.7388,-300 895.7388,-300 901.7388,-306 901.7388,-312 901.7388,-312 901.7388,-368 901.7388,-368 901.7388,-374 895.7388,-380 889.7388,-380 889.7388,-380 335.4546,-380 335.4546,-380 329.4546,-380 323.4546,-374 323.4546,-368 323.4546,-368 323.4546,-312 323.4546,-312 323.4546,-306 329.4546,-300 335.4546,-300"/>
<text text-anchor="middle" x="612.5967" y="-360" font-family="Times,serif" font-size="20.00" fill="#000000">copIterator</text>
</g>
<g id="clust19" class="cluster">
<title>cluster_CopClient</title>
<path fill="none" stroke="#000000" d="M221.5537,-672C221.5537,-672 589.7212,-672 589.7212,-672 595.7212,-672 601.7212,-678 601.7212,-684 601.7212,-684 601.7212,-740 601.7212,-740 601.7212,-746 595.7212,-752 589.7212,-752 589.7212,-752 221.5537,-752 221.5537,-752 215.5537,-752 209.5537,-746 209.5537,-740 209.5537,-740 209.5537,-684 209.5537,-684 209.5537,-678 215.5537,-672 221.5537,-672"/>
<text text-anchor="middle" x="405.6375" y="-732" font-family="Times,serif" font-size="20.00" fill="#000000">CopClient</text>
</g>
<!-- PD_GetRegion -->
<g id="node1" class="node">
<title>PD_GetRegion</title>
<polygon fill="none" stroke="#000000" points="1561.2151,-106 1484.903,-106 1484.903,-70 1561.2151,-70 1561.2151,-106"/>
<text text-anchor="middle" x="1523.0591" y="-83.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetRegion</text>
</g>
<!-- PD_GetPrevRegion -->
<g id="node2" class="node">
<title>PD_GetPrevRegion</title>
<polygon fill="none" stroke="#000000" points="1574.377,-52 1471.7412,-52 1471.7412,-16 1574.377,-16 1574.377,-52"/>
<text text-anchor="middle" x="1523.0591" y="-29.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetPrevRegion</text>
</g>
<!-- TiKV_Coproccssor -->
<g id="node3" class="node">
<title>TiKV_Coproccssor</title>
<polygon fill="none" stroke="#000000" points="1909.9902,-682 1824.0176,-682 1824.0176,-646 1909.9902,-646 1909.9902,-682"/>
<text text-anchor="middle" x="1867.0039" y="-659.8" font-family="Times,serif" font-size="14.00" fill="#000000">Coprocessor</text>
</g>
<!-- Client -->
<g id="node4" class="node">
<title>Client</title>
<polygon fill="none" stroke="#000000" points="24,-167 24,-255 180.5537,-255 180.5537,-167 24,-167"/>
<text text-anchor="middle" x="102.2769" y="-239.8" font-family="Times,serif" font-size="14.00" fill="#000000">Client</text>
<polyline fill="none" stroke="#000000" points="24,-233 180.5537,-233 "/>
<text text-anchor="start" x="32" y="-217.8" font-family="Times,serif" font-size="14.00" fill="#000000">Send</text>
<polyline fill="none" stroke="#000000" points="24,-211 180.5537,-211 "/>
<text text-anchor="start" x="32" y="-195.8" font-family="Times,serif" font-size="14.00" fill="#000000">IsRequestTypeSupported</text>
<polyline fill="none" stroke="#000000" points="24,-189 180.5537,-189 "/>
<text text-anchor="middle" x="102.2769" y="-173.8" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- Send -->
<g id="node35" class="node">
<title>Send</title>
<polygon fill="none" stroke="#000000" points="271.5537,-716 217.5537,-716 217.5537,-680 271.5537,-680 271.5537,-716"/>
<text text-anchor="middle" x="244.5537" y="-693.8" font-family="Times,serif" font-size="14.00" fill="#000000">Send</text>
</g>
<!-- Client&#45;&gt;Send -->
<g id="edge36" class="edge">
<title>Client:Send&#45;&gt;Send</title>
<path fill="none" stroke="#000000" d="M180.2769,-222C230.8261,-222 183.6941,-632.5661 209.5537,-676 209.8015,-676.4163 210.0606,-676.8259 210.3302,-677.2289"/>
<polygon fill="#000000" stroke="#000000" points="207.9156,-679.773 217.272,-684.7438 213.0576,-675.0233 207.9156,-679.773"/>
</g>
<!-- Response -->
<g id="node5" class="node">
<title>Response</title>
<polygon fill="none" stroke="#000000" points="518.2246,-189 518.2246,-255 587.8867,-255 587.8867,-189 518.2246,-189"/>
<text text-anchor="middle" x="553.0557" y="-239.8" font-family="Times,serif" font-size="14.00" fill="#000000">Response</text>
<polyline fill="none" stroke="#000000" points="518.2246,-233 587.8867,-233 "/>
<text text-anchor="start" x="526.2246" y="-217.8" font-family="Times,serif" font-size="14.00" fill="#000000">Next</text>
<polyline fill="none" stroke="#000000" points="518.2246,-211 587.8867,-211 "/>
<text text-anchor="start" x="526.2246" y="-195.8" font-family="Times,serif" font-size="14.00" fill="#000000">Close</text>
</g>
<!-- Next -->
<g id="node33" class="node">
<title>Next</title>
<polygon fill="none" stroke="#000000" points="718.0059,-344 664.0059,-344 664.0059,-308 718.0059,-308 718.0059,-344"/>
<text text-anchor="middle" x="691.0059" y="-321.8" font-family="Times,serif" font-size="14.00" fill="#000000">Next</text>
</g>
<!-- Response&#45;&gt;Next -->
<g id="edge37" class="edge">
<title>Response:Next&#45;&gt;Next</title>
<path fill="none" stroke="#000000" d="M588.0557,-222C631.3409,-222 662.6105,-268.0644 678.6858,-298.8789"/>
<polygon fill="#000000" stroke="#000000" points="675.5841,-300.502 683.1833,-307.8846 681.8465,-297.3744 675.5841,-300.502"/>
</g>
<!-- LocateKey -->
<g id="node6" class="node">
<title>LocateKey</title>
<polygon fill="none" stroke="#000000" points="729.9142,-955 652.0976,-955 652.0976,-919 729.9142,-919 729.9142,-955"/>
<text text-anchor="middle" x="691.0059" y="-932.8" font-family="Times,serif" font-size="14.00" fill="#000000">LocateKey</text>
</g>
<!-- findRegionByKey -->
<g id="node7" class="node">
<title>findRegionByKey</title>
<polygon fill="none" stroke="#000000" points="895.2457,-973 777.4663,-973 777.4663,-937 895.2457,-937 895.2457,-973"/>
<text text-anchor="middle" x="836.356" y="-950.8" font-family="Times,serif" font-size="14.00" fill="#000000">findRegionByKey</text>
</g>
<!-- LocateKey&#45;&gt;findRegionByKey -->
<g id="edge1" class="edge">
<title>LocateKey&#45;&gt;findRegionByKey</title>
<path fill="none" stroke="#000000" d="M729.957,-941.8237C741.4361,-943.2452 754.3574,-944.8454 767.136,-946.4279"/>
<polygon fill="#000000" stroke="#000000" points="766.9689,-949.9338 777.3233,-947.6895 767.8293,-942.9869 766.9689,-949.9338"/>
</g>
<!-- searchCachedRegion -->
<g id="node8" class="node">
<title>searchCachedRegion</title>
<polygon fill="none" stroke="#000000" points="1189.8785,-932 1055.5326,-932 1055.5326,-896 1189.8785,-896 1189.8785,-932"/>
<text text-anchor="middle" x="1122.7056" y="-909.8" font-family="Times,serif" font-size="14.00" fill="#000000">searchCachedRegion</text>
</g>
<!-- findRegionByKey&#45;&gt;searchCachedRegion -->
<g id="edge2" class="edge">
<title>findRegionByKey&#45;&gt;searchCachedRegion</title>
<path fill="none" stroke="#000000" d="M895.3406,-946.5545C938.7351,-940.3412 998.1327,-931.8366 1045.335,-925.078"/>
<polygon fill="#000000" stroke="#000000" points="1046.1144,-928.5022 1055.5174,-923.6201 1045.1222,-921.5729 1046.1144,-928.5022"/>
</g>
<!-- loadRegion -->
<g id="node9" class="node">
<title>loadRegion</title>
<polygon fill="none" stroke="#000000" points="1162.7518,-986 1082.6594,-986 1082.6594,-950 1162.7518,-950 1162.7518,-986"/>
<text text-anchor="middle" x="1122.7056" y="-963.8" font-family="Times,serif" font-size="14.00" fill="#000000">loadRegion</text>
</g>
<!-- findRegionByKey&#45;&gt;loadRegion -->
<g id="edge3" class="edge">
<title>findRegionByKey&#45;&gt;loadRegion</title>
<path fill="none" stroke="#000000" d="M895.3406,-957.6778C947.462,-960.0441 1022.6704,-963.4585 1072.1042,-965.7027"/>
<polygon fill="#000000" stroke="#000000" points="1072.0955,-969.2059 1082.244,-966.1631 1072.413,-962.2131 1072.0955,-969.2059"/>
</g>
<!-- insertRegionToCache -->
<g id="node10" class="node">
<title>insertRegionToCache</title>
<polygon fill="none" stroke="#000000" points="1191.3042,-1040 1054.1069,-1040 1054.1069,-1004 1191.3042,-1004 1191.3042,-1040"/>
<text text-anchor="middle" x="1122.7056" y="-1017.8" font-family="Times,serif" font-size="14.00" fill="#000000">insertRegionToCache</text>
</g>
<!-- findRegionByKey&#45;&gt;insertRegionToCache -->
<g id="edge4" class="edge">
<title>findRegionByKey&#45;&gt;insertRegionToCache</title>
<path fill="none" stroke="#000000" d="M895.3406,-968.8012C938.3675,-978.8686 997.1276,-992.6173 1044.1329,-1003.6156"/>
<polygon fill="#000000" stroke="#000000" points="1043.4406,-1007.0481 1053.9751,-1005.9185 1045.0355,-1000.2322 1043.4406,-1007.0481"/>
</g>
<!-- GetPrevRegion -->
<g id="node14" class="node">
<title>GetPrevRegion</title>
<polygon fill="none" stroke="#000000" points="1354.2232,-940 1251.5874,-940 1251.5874,-904 1354.2232,-904 1354.2232,-940"/>
<text text-anchor="middle" x="1302.9053" y="-917.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetPrevRegion</text>
</g>
<!-- loadRegion&#45;&gt;GetPrevRegion -->
<g id="edge7" class="edge">
<title>loadRegion&#45;&gt;GetPrevRegion</title>
<path fill="none" stroke="#000000" d="M1163.1459,-957.6767C1186.333,-951.7577 1215.9013,-944.2097 1241.8644,-937.5821"/>
<polygon fill="#000000" stroke="#000000" points="1242.794,-940.9571 1251.6176,-935.0923 1241.0626,-934.1746 1242.794,-940.9571"/>
</g>
<!-- GetRegion -->
<g id="node15" class="node">
<title>GetRegion</title>
<polygon fill="none" stroke="#000000" points="1341.0613,-994 1264.7492,-994 1264.7492,-958 1341.0613,-958 1341.0613,-994"/>
<text text-anchor="middle" x="1302.9053" y="-971.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetRegion</text>
</g>
<!-- loadRegion&#45;&gt;GetRegion -->
<g id="edge8" class="edge">
<title>loadRegion&#45;&gt;GetRegion</title>
<path fill="none" stroke="#000000" d="M1163.1459,-969.7954C1190.1319,-970.9934 1225.7612,-972.5752 1254.2911,-973.8418"/>
<polygon fill="#000000" stroke="#000000" points="1254.3063,-977.3458 1264.4517,-974.2928 1254.6168,-970.3527 1254.3063,-977.3458"/>
</g>
<!-- cache_UpdateLeader -->
<g id="node11" class="node">
<title>cache_UpdateLeader</title>
<polygon fill="none" stroke="#000000" points="1570.8427,-932 1475.2755,-932 1475.2755,-896 1570.8427,-896 1570.8427,-932"/>
<text text-anchor="middle" x="1523.0591" y="-909.8" font-family="Times,serif" font-size="14.00" fill="#000000">UpdateLeader</text>
</g>
<!-- cache_OnRegionEpochNotMatch -->
<g id="node12" class="node">
<title>cache_OnRegionEpochNotMatch</title>
<polygon fill="none" stroke="#000000" points="1606.1421,-986 1439.9761,-986 1439.9761,-950 1606.1421,-950 1606.1421,-986"/>
<text text-anchor="middle" x="1523.0591" y="-963.8" font-family="Times,serif" font-size="14.00" fill="#000000">OnRegionEpochNotMatch</text>
</g>
<!-- cache_InvalidateCachedRegion -->
<g id="node13" class="node">
<title>cache_InvalidateCachedRegion</title>
<polygon fill="none" stroke="#000000" points="1600.4531,-1040 1445.665,-1040 1445.665,-1004 1600.4531,-1004 1600.4531,-1040"/>
<text text-anchor="middle" x="1523.0591" y="-1017.8" font-family="Times,serif" font-size="14.00" fill="#000000">InvalidateCachedRegion</text>
</g>
<!-- GetPrevRegion&#45;&gt;PD_GetPrevRegion -->
<g id="edge5" class="edge">
<title>GetPrevRegion&#45;&gt;PD_GetPrevRegion</title>
<path fill="none" stroke="#000000" d="M1354.4397,-908.8264C1366.6316,-903.2005 1378.2108,-895.2364 1385.5557,-884 1393.977,-871.1168 1394.1581,-345.3278 1395.5557,-330 1406.5588,-209.3229 1361.0187,-152.8869 1440.0176,-61 1446.0416,-53.9932 1453.9047,-48.7923 1462.3896,-44.9347"/>
<polygon fill="#000000" stroke="#000000" points="1463.7493,-48.1611 1471.7831,-41.254 1461.1954,-41.6436 1463.7493,-48.1611"/>
<text text-anchor="middle" x="1408.7866" y="-332.8" font-family="Times,serif" font-size="14.00" fill="#000000">RPC</text>
</g>
<!-- GetRegion&#45;&gt;PD_GetRegion -->
<g id="edge6" class="edge">
<title>GetRegion&#45;&gt;PD_GetRegion</title>
<path fill="none" stroke="#000000" d="M1341.0933,-972.2811C1357.078,-968.7533 1374.4796,-961.9724 1385.5557,-949 1392.5603,-940.7961 1496.1964,-263.993 1518.7483,-116.2686"/>
<polygon fill="#000000" stroke="#000000" points="1522.2374,-116.6046 1520.2862,-106.191 1515.3176,-115.5485 1522.2374,-116.6046"/>
<text text-anchor="middle" x="1408.7866" y="-888.8" font-family="Times,serif" font-size="14.00" fill="#000000">RPC</text>
</g>
<!-- SendRequest -->
<g id="node16" class="node">
<title>SendRequest</title>
<polygon fill="none" stroke="#000000" points="1567.6627,-682 1478.4555,-682 1478.4555,-646 1567.6627,-646 1567.6627,-682"/>
<text text-anchor="middle" x="1523.0591" y="-659.8" font-family="Times,serif" font-size="14.00" fill="#000000">SendRequest</text>
</g>
<!-- tikvrpc_CallRPC -->
<g id="node17" class="node">
<title>tikvrpc_CallRPC</title>
<polygon fill="none" stroke="#000000" points="1755.7738,-682 1642.8756,-682 1642.8756,-646 1755.7738,-646 1755.7738,-682"/>
<text text-anchor="middle" x="1699.3247" y="-659.8" font-family="Times,serif" font-size="14.00" fill="#000000">tikvrpc_CallRPC</text>
</g>
<!-- SendRequest&#45;&gt;tikvrpc_CallRPC -->
<g id="edge9" class="edge">
<title>SendRequest&#45;&gt;tikvrpc_CallRPC</title>
<path fill="none" stroke="#000000" d="M1567.9944,-664C1587.7183,-664 1611.2772,-664 1632.9606,-664"/>
<polygon fill="#000000" stroke="#000000" points="1633.0989,-667.5001 1643.0989,-664 1633.0988,-660.5001 1633.0989,-667.5001"/>
</g>
<!-- tikvrpc_CallRPC&#45;&gt;TiKV_Coproccssor -->
<g id="edge10" class="edge">
<title>tikvrpc_CallRPC&#45;&gt;TiKV_Coproccssor</title>
<path fill="none" stroke="#000000" d="M1755.6259,-664C1774.4105,-664 1795.2698,-664 1813.8105,-664"/>
<polygon fill="#000000" stroke="#000000" points="1813.8445,-667.5001 1823.8445,-664 1813.8444,-660.5001 1813.8445,-667.5001"/>
<text text-anchor="middle" x="1792.7798" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#000000">RPC</text>
</g>
<!-- RegionRequestSender_SendReqCtx -->
<g id="node18" class="node">
<title>RegionRequestSender_SendReqCtx</title>
<polygon fill="none" stroke="#000000" points="1165.9851,-709 1079.426,-709 1079.426,-673 1165.9851,-673 1165.9851,-709"/>
<text text-anchor="middle" x="1122.7056" y="-686.8" font-family="Times,serif" font-size="14.00" fill="#000000">SendReqCtx</text>
</g>
<!-- sendReqToRegion -->
<g id="node19" class="node">
<title>sendReqToRegion</title>
<polygon fill="none" stroke="#000000" points="1362.635,-682 1243.1756,-682 1243.1756,-646 1362.635,-646 1362.635,-682"/>
<text text-anchor="middle" x="1302.9053" y="-659.8" font-family="Times,serif" font-size="14.00" fill="#000000">sendReqToRegion</text>
</g>
<!-- RegionRequestSender_SendReqCtx&#45;&gt;sendReqToRegion -->
<g id="edge11" class="edge">
<title>RegionRequestSender_SendReqCtx&#45;&gt;sendReqToRegion</title>
<path fill="none" stroke="#000000" d="M1166.3269,-684.4641C1186.2892,-681.473 1210.4433,-677.8539 1232.8541,-674.496"/>
<polygon fill="#000000" stroke="#000000" points="1233.6361,-677.918 1243.007,-672.9748 1232.5987,-670.9953 1233.6361,-677.918"/>
</g>
<!-- onRegionError -->
<g id="node20" class="node">
<title>onRegionError</title>
<polygon fill="none" stroke="#000000" points="1352.8848,-736 1252.9258,-736 1252.9258,-700 1352.8848,-700 1352.8848,-736"/>
<text text-anchor="middle" x="1302.9053" y="-713.8" font-family="Times,serif" font-size="14.00" fill="#000000">onRegionError</text>
</g>
<!-- RegionRequestSender_SendReqCtx&#45;&gt;onRegionError -->
<g id="edge12" class="edge">
<title>RegionRequestSender_SendReqCtx&#45;&gt;onRegionError</title>
<path fill="none" stroke="#000000" d="M1166.3269,-697.5359C1189.2139,-700.9652 1217.6108,-705.22 1242.5733,-708.9602"/>
<polygon fill="#000000" stroke="#000000" points="1242.2639,-712.4529 1252.6722,-710.4734 1243.3012,-705.5301 1242.2639,-712.4529"/>
</g>
<!-- GetRegionError -->
<g id="node21" class="node">
<title>GetRegionError</title>
<polygon fill="none" stroke="#000000" points="1356.0988,-790 1249.7117,-790 1249.7117,-754 1356.0988,-754 1356.0988,-790"/>
<text text-anchor="middle" x="1302.9053" y="-767.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetRegionError</text>
</g>
<!-- RegionRequestSender_SendReqCtx&#45;&gt;GetRegionError -->
<g id="edge13" class="edge">
<title>RegionRequestSender_SendReqCtx&#45;&gt;GetRegionError</title>
<path fill="none" stroke="#000000" d="M1155.468,-709.1123C1176.0526,-720.152 1203.3362,-734.1705 1228.2549,-745 1232.347,-746.7784 1236.598,-748.5388 1240.9023,-750.2574"/>
<polygon fill="#000000" stroke="#000000" points="1239.7807,-753.5766 1250.3692,-753.9434 1242.3205,-747.0535 1239.7807,-753.5766"/>
</g>
<!-- GetTiFlashRPCContext -->
<g id="node22" class="node">
<title>GetTiFlashRPCContext</title>
<polygon fill="none" stroke="#000000" points="1377.7064,-844 1228.1042,-844 1228.1042,-808 1377.7064,-808 1377.7064,-844"/>
<text text-anchor="middle" x="1302.9053" y="-821.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetTiFlashRPCContext</text>
</g>
<!-- RegionRequestSender_SendReqCtx&#45;&gt;GetTiFlashRPCContext -->
<g id="edge14" class="edge">
<title>RegionRequestSender_SendReqCtx&#45;&gt;GetTiFlashRPCContext</title>
<path fill="none" stroke="#000000" d="M1136.1328,-709.1358C1154.5189,-732.8161 1189.6767,-774.1658 1228.2549,-799 1230.5653,-800.4873 1232.9686,-801.9067 1235.4364,-803.2598"/>
<polygon fill="#000000" stroke="#000000" points="1234.0966,-806.5037 1244.6028,-807.8716 1237.2428,-800.2505 1234.0966,-806.5037"/>
</g>
<!-- GetTiKVRPCContext -->
<g id="node23" class="node">
<title>GetTiKVRPCContext</title>
<polygon fill="none" stroke="#000000" points="1372.589,-628 1233.2216,-628 1233.2216,-592 1372.589,-592 1372.589,-628"/>
<text text-anchor="middle" x="1302.9053" y="-605.8" font-family="Times,serif" font-size="14.00" fill="#000000">GetTiKVRPCContext</text>
</g>
<!-- RegionRequestSender_SendReqCtx&#45;&gt;GetTiKVRPCContext -->
<g id="edge15" class="edge">
<title>RegionRequestSender_SendReqCtx&#45;&gt;GetTiKVRPCContext</title>
<path fill="none" stroke="#000000" d="M1155.468,-672.8877C1176.0526,-661.848 1203.3362,-647.8295 1228.2549,-637 1232.347,-635.2216 1236.598,-633.4612 1240.9023,-631.7426"/>
<polygon fill="#000000" stroke="#000000" points="1242.3205,-634.9465 1250.3692,-628.0566 1239.7807,-628.4234 1242.3205,-634.9465"/>
</g>
<!-- sendReqToRegion&#45;&gt;SendRequest -->
<g id="edge16" class="edge">
<title>sendReqToRegion&#45;&gt;SendRequest</title>
<path fill="none" stroke="#000000" d="M1362.7725,-664C1395.632,-664 1436.0887,-664 1468.1356,-664"/>
<polygon fill="#000000" stroke="#000000" points="1468.2247,-667.5001 1478.2247,-664 1468.2246,-660.5001 1468.2247,-667.5001"/>
</g>
<!-- onRegionError&#45;&gt;cache_UpdateLeader -->
<g id="edge17" class="edge">
<title>onRegionError&#45;&gt;cache_UpdateLeader</title>
<path fill="none" stroke="#000000" d="M1353.1356,-729.3403C1364.3855,-733.2243 1375.8497,-738.3345 1385.5557,-745 1441.0324,-783.0983 1485.8146,-849.8724 1507.9707,-887.0596"/>
<polygon fill="#000000" stroke="#000000" points="1505.0377,-888.9775 1513.1088,-895.8411 1511.0795,-885.4424 1505.0377,-888.9775"/>
</g>
<!-- onRegionError&#45;&gt;cache_OnRegionEpochNotMatch -->
<g id="edge18" class="edge">
<title>onRegionError&#45;&gt;cache_OnRegionEpochNotMatch</title>
<path fill="none" stroke="#000000" d="M1353.2619,-725.9198C1365.1643,-729.9231 1376.8966,-735.9447 1385.5557,-745 1401.177,-761.336 1424.3849,-924.6749 1440.0176,-941 1440.9317,-941.9546 1441.8799,-942.8756 1442.8588,-943.764"/>
<polygon fill="#000000" stroke="#000000" points="1440.8484,-946.6333 1450.9081,-949.9579 1445.1173,-941.0856 1440.8484,-946.6333"/>
</g>
<!-- onRegionError&#45;&gt;cache_InvalidateCachedRegion -->
<g id="edge19" class="edge">
<title>onRegionError&#45;&gt;cache_InvalidateCachedRegion</title>
<path fill="none" stroke="#000000" d="M1352.9602,-724.6177C1365.3055,-728.6125 1377.3315,-734.9554 1385.5557,-745 1397.6044,-759.7158 1391.9607,-811.3237 1395.5557,-830 1409.9114,-904.58 1387.7041,-939.9403 1440.0176,-995 1440.928,-995.9582 1441.8727,-996.8825 1442.8484,-997.774"/>
<polygon fill="#000000" stroke="#000000" points="1440.8268,-1000.6351 1450.8773,-1003.9873 1445.1108,-995.0992 1440.8268,-1000.6351"/>
</g>
<!-- worker_run -->
<g id="node24" class="node">
<title>worker_run</title>
<polygon fill="none" stroke="#000000" points="580.0557,-450 526.0557,-450 526.0557,-414 580.0557,-414 580.0557,-450"/>
<text text-anchor="middle" x="553.0557" y="-427.8" font-family="Times,serif" font-size="14.00" fill="#000000">run</text>
</g>
<!-- handleTask -->
<g id="node25" class="node">
<title>handleTask</title>
<polygon fill="none" stroke="#000000" points="730.5608,-450 651.4509,-450 651.4509,-414 730.5608,-414 730.5608,-450"/>
<text text-anchor="middle" x="691.0059" y="-427.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleTask</text>
</g>
<!-- worker_run&#45;&gt;handleTask -->
<g id="edge20" class="edge">
<title>worker_run&#45;&gt;handleTask</title>
<path fill="none" stroke="#000000" d="M580.3102,-432C597.6407,-432 620.5999,-432 641.1145,-432"/>
<polygon fill="#000000" stroke="#000000" points="641.264,-435.5001 651.264,-432 641.264,-428.5001 641.264,-435.5001"/>
</g>
<!-- taskCh -->
<g id="node28" class="node">
<title>taskCh</title>
<polygon fill="none" stroke="#000000" points="863.7457,-540 808.9662,-540 808.9662,-504 863.7457,-504 863.7457,-540"/>
<text text-anchor="middle" x="836.356" y="-517.8" font-family="Times,serif" font-size="14.00" fill="#000000">taskCh</text>
</g>
<!-- worker_run&#45;&gt;taskCh -->
<g id="edge23" class="edge">
<title>worker_run&#45;&gt;taskCh</title>
<path fill="none" stroke="#000000" d="M565.3007,-450.1586C577.6318,-466.7933 598.2781,-490.5204 622.6006,-502 679.5498,-528.8786 754.4347,-528.9899 798.7752,-525.9582"/>
<polygon fill="#000000" stroke="#000000" points="799.1253,-529.4416 808.8254,-525.1806 798.5852,-522.4625 799.1253,-529.4416"/>
<text text-anchor="middle" x="691.0059" y="-529.8" font-family="Times,serif" font-size="14.00" fill="#000000">range</text>
</g>
<!-- handleTaskOnce -->
<g id="node26" class="node">
<title>handleTaskOnce</title>
<polygon fill="none" stroke="#000000" points="890.9478,-486 781.7641,-486 781.7641,-450 890.9478,-450 890.9478,-486"/>
<text text-anchor="middle" x="836.356" y="-463.8" font-family="Times,serif" font-size="14.00" fill="#000000">handleTaskOnce</text>
</g>
<!-- handleTask&#45;&gt;handleTaskOnce -->
<g id="edge21" class="edge">
<title>handleTask&#45;&gt;handleTaskOnce</title>
<path fill="none" stroke="#000000" d="M730.7234,-441.8372C743.3715,-444.9698 757.7093,-448.521 771.6511,-451.974"/>
<polygon fill="#000000" stroke="#000000" points="771.1548,-455.4568 781.703,-454.4637 772.8378,-448.6621 771.1548,-455.4568"/>
</g>
<!-- sendToRespCh -->
<g id="node27" class="node">
<title>sendToRespCh</title>
<polygon fill="none" stroke="#000000" points="886.4311,-432 786.2808,-432 786.2808,-396 886.4311,-396 886.4311,-432"/>
<text text-anchor="middle" x="836.356" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#000000">sendToRespCh</text>
</g>
<!-- handleTask&#45;&gt;sendToRespCh -->
<g id="edge22" class="edge">
<title>handleTask&#45;&gt;sendToRespCh</title>
<path fill="none" stroke="#000000" d="M730.7234,-427.0814C744.587,-425.3646 760.4807,-423.3963 775.6577,-421.5168"/>
<polygon fill="#000000" stroke="#000000" points="776.5226,-424.9365 786.0166,-420.234 775.6622,-417.9896 776.5226,-424.9365"/>
</g>
<!-- handleTaskOnce&#45;&gt;RegionRequestSender_SendReqCtx -->
<g id="edge24" class="edge">
<title>handleTaskOnce&#45;&gt;RegionRequestSender_SendReqCtx</title>
<path fill="none" stroke="#000000" d="M885.4603,-486.1552C891.091,-488.853 896.6358,-491.8106 901.7388,-495 982.0122,-545.1718 1061.4153,-624.9036 1099.4619,-665.4749"/>
<polygon fill="#000000" stroke="#000000" points="1096.9167,-667.8776 1106.2919,-672.8129 1102.0407,-663.1083 1096.9167,-667.8776"/>
</g>
<!-- respCh -->
<g id="node29" class="node">
<title>respCh</title>
<polygon fill="none" stroke="#000000" points="1150.3687,-432 1095.0424,-432 1095.0424,-396 1150.3687,-396 1150.3687,-432"/>
<text text-anchor="middle" x="1122.7056" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#000000">respCh</text>
</g>
<!-- sendToRespCh&#45;&gt;respCh -->
<g id="edge25" class="edge">
<title>sendToRespCh&#45;&gt;respCh</title>
<path fill="none" stroke="#000000" d="M886.5619,-414C943.0164,-414 1033.4462,-414 1084.4617,-414"/>
<polygon fill="#000000" stroke="#000000" points="1084.7232,-417.5001 1094.7232,-414 1084.7232,-410.5001 1084.7232,-417.5001"/>
<text text-anchor="middle" x="974.7285" y="-422.3999" font-family="Times,serif" font-size="14.00" fill="#000000">将resp放入channel中</text>
</g>
<!-- taskSender_run -->
<g id="node30" class="node">
<title>taskSender_run</title>
<polygon fill="none" stroke="#000000" points="604.6455,-628 501.4658,-628 501.4658,-592 604.6455,-592 604.6455,-628"/>
<text text-anchor="middle" x="553.0557" y="-605.8" font-family="Times,serif" font-size="14.00" fill="#000000">taskSender_run</text>
</g>
<!-- sendToTaskCh -->
<g id="node31" class="node">
<title>sendToTaskCh</title>
<polygon fill="none" stroke="#000000" points="740.3166,-628 641.6951,-628 641.6951,-592 740.3166,-592 740.3166,-628"/>
<text text-anchor="middle" x="691.0059" y="-605.8" font-family="Times,serif" font-size="14.00" fill="#000000">sendToTaskCh</text>
</g>
<!-- taskSender_run&#45;&gt;sendToTaskCh -->
<g id="edge26" class="edge">
<title>taskSender_run&#45;&gt;sendToTaskCh</title>
<path fill="none" stroke="#000000" d="M604.8157,-610C613.388,-610 622.3393,-610 631.0924,-610"/>
<polygon fill="#000000" stroke="#000000" points="631.2423,-613.5001 641.2423,-610 631.2422,-606.5001 631.2423,-613.5001"/>
</g>
<!-- sendToTaskCh&#45;&gt;taskCh -->
<g id="edge27" class="edge">
<title>sendToTaskCh&#45;&gt;taskCh</title>
<path fill="none" stroke="#000000" d="M726.8358,-591.991C734.0527,-588.164 741.5318,-584.052 748.4111,-580 766.3618,-569.427 785.7494,-556.7801 801.7414,-545.9981"/>
<polygon fill="#000000" stroke="#000000" points="803.9378,-548.7374 810.2457,-540.225 800.0062,-542.9458 803.9378,-548.7374"/>
</g>
<!-- copIterator_open -->
<g id="node32" class="node">
<title>copIterator_open</title>
<polygon fill="none" stroke="#000000" points="385.4546,-344 331.4546,-344 331.4546,-308 385.4546,-308 385.4546,-344"/>
<text text-anchor="middle" x="358.4546" y="-321.8" font-family="Times,serif" font-size="14.00" fill="#000000">open</text>
</g>
<!-- copIterator_open&#45;&gt;worker_run -->
<g id="edge28" class="edge">
<title>copIterator_open&#45;&gt;worker_run</title>
<path fill="none" stroke="#000000" d="M383.9506,-344.0437C410.4574,-362.2713 453.5808,-390.4567 493.5107,-410 500.7491,-413.5427 508.7108,-416.8566 516.3918,-419.7833"/>
<polygon fill="#000000" stroke="#000000" points="515.3019,-423.1115 525.8956,-423.2714 517.7138,-416.5401 515.3019,-423.1115"/>
<text text-anchor="middle" x="454.9331" y="-406.8" font-family="Times,serif" font-size="14.00" fill="#000000">go routine</text>
</g>
<!-- copIterator_open&#45;&gt;taskSender_run -->
<g id="edge29" class="edge">
<title>copIterator_open&#45;&gt;taskSender_run</title>
<path fill="none" stroke="#000000" d="M362.1864,-344.0096C372.7821,-390.5231 407.5231,-515.6661 493.3905,-586.9172"/>
<polygon fill="#000000" stroke="#000000" points="491.302,-589.7281 501.3057,-593.2176 495.6614,-584.2513 491.302,-589.7281"/>
<text text-anchor="middle" x="454.9331" y="-579.8" font-family="Times,serif" font-size="14.00" fill="#000000">go routine</text>
</g>
<!-- recvFromRespCh -->
<g id="node34" class="node">
<title>recvFromRespCh</title>
<polygon fill="none" stroke="#000000" points="893.6218,-344 779.0901,-344 779.0901,-308 893.6218,-308 893.6218,-344"/>
<text text-anchor="middle" x="836.356" y="-321.8" font-family="Times,serif" font-size="14.00" fill="#000000">recvFromRespCh</text>
</g>
<!-- Next&#45;&gt;recvFromRespCh -->
<g id="edge30" class="edge">
<title>Next&#45;&gt;recvFromRespCh</title>
<path fill="none" stroke="#000000" d="M718.3451,-326C732.6437,-326 750.8407,-326 768.6392,-326"/>
<polygon fill="#000000" stroke="#000000" points="769.0402,-329.5001 779.0402,-326 769.0401,-322.5001 769.0402,-329.5001"/>
</g>
<!-- recvFromRespCh&#45;&gt;respCh -->
<g id="edge31" class="edge">
<title>recvFromRespCh&#45;&gt;respCh</title>
<path fill="none" stroke="#000000" d="M893.9586,-343.7023C950.8309,-361.1801 1036.1566,-387.4021 1084.9229,-402.3888"/>
<polygon fill="#000000" stroke="#000000" points="1084.1638,-405.817 1094.7508,-405.409 1086.2202,-399.1258 1084.1638,-405.817"/>
<text text-anchor="middle" x="974.7285" y="-393.3999" font-family="Times,serif" font-size="14.00" fill="#000000">从channel中获取resp</text>
</g>
<!-- Send&#45;&gt;copIterator_open -->
<g id="edge32" class="edge">
<title>Send&#45;&gt;copIterator_open</title>
<path fill="none" stroke="#000000" d="M268.7357,-679.8495C269.7622,-678.6124 270.7117,-677.3276 271.5537,-676 338.3023,-570.7607 353.789,-417.5798 357.3761,-354.6333"/>
<polygon fill="#000000" stroke="#000000" points="360.889,-354.4659 357.902,-344.3009 353.8981,-354.11 360.889,-354.4659"/>
</g>
<!-- buildCopTasks -->
<g id="node36" class="node">
<title>buildCopTasks</title>
<polygon fill="none" stroke="#000000" points="408.2565,-716 308.6526,-716 308.6526,-680 408.2565,-680 408.2565,-716"/>
<text text-anchor="middle" x="358.4546" y="-693.8" font-family="Times,serif" font-size="14.00" fill="#000000">buildCopTasks</text>
</g>
<!-- Send&#45;&gt;buildCopTasks -->
<g id="edge33" class="edge">
<title>Send&#45;&gt;buildCopTasks</title>
<path fill="none" stroke="#000000" d="M271.8358,-698C279.8589,-698 288.9719,-698 298.201,-698"/>
<polygon fill="#000000" stroke="#000000" points="298.215,-701.5001 308.215,-698 298.2149,-694.5001 298.215,-701.5001"/>
</g>
<!-- splitRanges -->
<g id="node37" class="node">
<title>splitRanges</title>
<polygon fill="none" stroke="#000000" points="593.8874,-716 512.2239,-716 512.2239,-680 593.8874,-680 593.8874,-716"/>
<text text-anchor="middle" x="553.0557" y="-693.8" font-family="Times,serif" font-size="14.00" fill="#000000">splitRanges</text>
</g>
<!-- buildCopTasks&#45;&gt;splitRanges -->
<g id="edge34" class="edge">
<title>buildCopTasks&#45;&gt;splitRanges</title>
<path fill="none" stroke="#000000" d="M408.3165,-698C437.001,-698 472.968,-698 501.872,-698"/>
<polygon fill="#000000" stroke="#000000" points="502.1748,-701.5001 512.1747,-698 502.1747,-694.5001 502.1748,-701.5001"/>
</g>
<!-- splitRanges&#45;&gt;LocateKey -->
<g id="edge35" class="edge">
<title>splitRanges&#45;&gt;LocateKey</title>
<path fill="none" stroke="#000000" d="M563.6513,-716.3571C587.834,-758.2538 647.1839,-861.0781 675.4938,-910.1252"/>
<polygon fill="#000000" stroke="#000000" points="672.5326,-911.9964 680.5629,-918.9075 678.5952,-908.497 672.5326,-911.9964"/>
</g>
</g>
</svg>
