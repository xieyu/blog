<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: agg_sum_distinct Pages: 1 -->
<svg width="1415pt" height="353pt"
 viewBox="0.00 0.00 1415.00 353.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 349)">
<title>agg_sum_distinct</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-349 1411,-349 1411,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_expression</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M369,-117C369,-117 446,-117 446,-117 452,-117 458,-123 458,-129 458,-129 458,-187 458,-187 458,-193 452,-199 446,-199 446,-199 369,-199 369,-199 363,-199 357,-193 357,-187 357,-187 357,-129 357,-129 357,-123 363,-117 369,-117"/>
<text text-anchor="middle" x="407.5" y="-179" font-family="Times,serif" font-size="20.00">expression</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_chunk</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M993,-86C993,-86 1387,-86 1387,-86 1393,-86 1399,-92 1399,-98 1399,-98 1399,-325 1399,-325 1399,-331 1393,-337 1387,-337 1387,-337 993,-337 993,-337 987,-337 981,-331 981,-325 981,-325 981,-98 981,-98 981,-92 987,-86 993,-86"/>
<text text-anchor="middle" x="1190" y="-317" font-family="Times,serif" font-size="20.00">chunk</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_Column</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1130,-160C1130,-160 1223,-160 1223,-160 1229,-160 1235,-166 1235,-172 1235,-172 1235,-287 1235,-287 1235,-293 1229,-299 1223,-299 1223,-299 1130,-299 1130,-299 1124,-299 1118,-293 1118,-287 1118,-287 1118,-172 1118,-172 1118,-166 1124,-160 1130,-160"/>
<text text-anchor="middle" x="1176.5" y="-279" font-family="Times,serif" font-size="20.00">Column</text>
</g>
<!-- EvalReal -->
<g id="node1" class="node">
<title>EvalReal</title>
<polygon fill="none" stroke="black" points="440,-161 374,-161 374,-125 440,-125 440,-161"/>
<text text-anchor="middle" x="407" y="-139.3" font-family="Times,serif" font-size="14.00">EvalReal</text>
</g>
<!-- partialResult4SumDistinctFloat64 -->
<g id="node9" class="node">
<title>partialResult4SumDistinctFloat64</title>
<polygon fill="none" stroke="black" points="522,-82 522,-174 724,-174 724,-82 522,-82"/>
<text text-anchor="middle" x="623" y="-158.8" font-family="Times,serif" font-size="14.00">partialResult4SumDistinctFloat64</text>
<polyline fill="none" stroke="black" points="522,-151 724,-151 "/>
<text text-anchor="start" x="530" y="-135.8" font-family="Times,serif" font-size="14.00">val float64</text>
<polyline fill="none" stroke="black" points="522,-128 724,-128 "/>
<text text-anchor="start" x="530" y="-112.8" font-family="Times,serif" font-size="14.00">isNull bool</text>
<polyline fill="none" stroke="black" points="522,-105 724,-105 "/>
<text text-anchor="start" x="530" y="-89.8" font-family="Times,serif" font-size="14.00">valSet set.Float64Set</text>
</g>
<!-- EvalReal&#45;&gt;partialResult4SumDistinctFloat64 -->
<g id="edge21" class="edge">
<title>EvalReal&#45;&gt;partialResult4SumDistinctFloat64:val</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M440.43,-141.69C460.47,-140.98 487.04,-140.21 511.86,-140.04"/>
<polygon fill="blue" stroke="blue" points="512.01,-143.54 522,-140 511.99,-136.54 512.01,-143.54"/>
</g>
<!-- Chunk -->
<g id="node2" class="node">
<title>Chunk</title>
<polygon fill="none" stroke="black" points="1263,-95 1263,-233 1391,-233 1391,-95 1263,-95"/>
<text text-anchor="middle" x="1327" y="-217.8" font-family="Times,serif" font-size="14.00">Chunk</text>
<polyline fill="none" stroke="black" points="1263,-210 1391,-210 "/>
<text text-anchor="start" x="1271" y="-194.8" font-family="Times,serif" font-size="14.00">sel []int</text>
<polyline fill="none" stroke="black" points="1263,-187 1391,-187 "/>
<text text-anchor="start" x="1271" y="-171.8" font-family="Times,serif" font-size="14.00">columns []*Column</text>
<polyline fill="none" stroke="black" points="1263,-164 1391,-164 "/>
<text text-anchor="start" x="1271" y="-148.8" font-family="Times,serif" font-size="14.00">numVirtualRows int</text>
<polyline fill="none" stroke="black" points="1263,-141 1391,-141 "/>
<text text-anchor="start" x="1271" y="-125.8" font-family="Times,serif" font-size="14.00">capacity int</text>
<polyline fill="none" stroke="black" points="1263,-118 1391,-118 "/>
<text text-anchor="middle" x="1327" y="-102.8" font-family="Times,serif" font-size="14.00">requiredRows int</text>
</g>
<!-- AppendNull -->
<g id="node3" class="node">
<title>AppendNull</title>
<polygon fill="none" stroke="black" points="1081,-150 998,-150 998,-114 1081,-114 1081,-150"/>
<text text-anchor="middle" x="1039.5" y="-128.3" font-family="Times,serif" font-size="14.00">AppendNull</text>
</g>
<!-- AppendNull&#45;&gt;Chunk -->
<g id="edge1" class="edge">
<title>AppendNull&#45;&gt;Chunk</title>
<path fill="none" stroke="#666666" d="M1081.25,-114.94C1092.91,-110.85 1105.78,-107.07 1118,-105 1169.27,-96.32 1185.14,-90.25 1235,-105 1241.37,-106.88 1247.71,-109.37 1253.91,-112.25"/>
<polygon fill="#666666" stroke="#666666" points="1252.37,-115.4 1262.88,-116.74 1255.5,-109.14 1252.37,-115.4"/>
</g>
<!-- appendSel -->
<g id="node4" class="node">
<title>appendSel</title>
<polygon fill="none" stroke="black" points="1213,-150 1140,-150 1140,-114 1213,-114 1213,-150"/>
<text text-anchor="middle" x="1176.5" y="-128.3" font-family="Times,serif" font-size="14.00">appendSel</text>
</g>
<!-- AppendNull&#45;&gt;appendSel -->
<g id="edge2" class="edge">
<title>AppendNull&#45;&gt;appendSel</title>
<path fill="none" stroke="#666666" d="M1081,-132C1096.29,-132 1113.8,-132 1129.55,-132"/>
<polygon fill="#666666" stroke="#666666" points="1129.61,-135.5 1139.61,-132 1129.61,-128.5 1129.61,-135.5"/>
</g>
<!-- Column_AppendNull -->
<g id="node5" class="node">
<title>Column_AppendNull</title>
<polygon fill="none" stroke="black" points="1135,-169 1135,-205 1218,-205 1218,-169 1135,-169"/>
<text text-anchor="middle" x="1176.5" y="-183.3" font-family="Times,serif" font-size="14.00">AppendNull</text>
</g>
<!-- AppendNull&#45;&gt;Column_AppendNull -->
<g id="edge3" class="edge">
<title>AppendNull&#45;&gt;Column_AppendNull</title>
<path fill="none" stroke="#666666" d="M1081.01,-149.58C1092.89,-154.65 1105.93,-160.12 1118,-165 1120.47,-166 1123,-167.01 1125.57,-168.02"/>
<polygon fill="#666666" stroke="#666666" points="1124.31,-171.29 1134.9,-171.68 1126.87,-164.78 1124.31,-171.29"/>
</g>
<!-- appendSel&#45;&gt;Chunk -->
<g id="edge4" class="edge">
<title>appendSel&#45;&gt;Chunk:sel</title>
<path fill="none" stroke="#666666" d="M1213.14,-142.97C1220.85,-146.37 1228.6,-150.67 1235,-156 1249.1,-167.75 1243.87,-188.43 1253.17,-196.06"/>
<polygon fill="#666666" stroke="#666666" points="1252.42,-199.49 1263,-199 1254.42,-192.78 1252.42,-199.49"/>
</g>
<!-- AppendFloat64 -->
<g id="node6" class="node">
<title>AppendFloat64</title>
<polygon fill="none" stroke="black" points="1090,-204 989,-204 989,-168 1090,-168 1090,-204"/>
<text text-anchor="middle" x="1039.5" y="-182.3" font-family="Times,serif" font-size="14.00">AppendFloat64</text>
</g>
<!-- AppendFloat64&#45;&gt;appendSel -->
<g id="edge5" class="edge">
<title>AppendFloat64&#45;&gt;appendSel</title>
<path fill="none" stroke="#666666" d="M1085.83,-167.87C1100.14,-162.14 1115.95,-155.82 1130.26,-150.1"/>
<polygon fill="#666666" stroke="#666666" points="1131.91,-153.21 1139.89,-146.24 1129.31,-146.71 1131.91,-153.21"/>
</g>
<!-- Column_AppendFloat64 -->
<g id="node7" class="node">
<title>Column_AppendFloat64</title>
<polygon fill="none" stroke="black" points="1126,-224 1126,-260 1227,-260 1227,-224 1126,-224"/>
<text text-anchor="middle" x="1176.5" y="-238.3" font-family="Times,serif" font-size="14.00">AppendFloat64</text>
</g>
<!-- AppendFloat64&#45;&gt;Column_AppendFloat64 -->
<g id="edge6" class="edge">
<title>AppendFloat64&#45;&gt;Column_AppendFloat64</title>
<path fill="none" stroke="#666666" d="M1083.96,-204.03C1096.12,-209.07 1109.48,-214.61 1122.14,-219.87"/>
<polygon fill="#666666" stroke="#666666" points="1121.08,-223.22 1131.66,-223.81 1123.76,-216.75 1121.08,-223.22"/>
</g>
<!-- rowsInGroup -->
<g id="node8" class="node">
<title>rowsInGroup</title>
<polygon fill="none" stroke="black" points="21,-101 21,-147 110,-147 110,-101 21,-101"/>
<text text-anchor="middle" x="65.5" y="-131.8" font-family="Times,serif" font-size="14.00">rowsInGroup</text>
<polyline fill="none" stroke="black" points="21,-124 110,-124 "/>
<text text-anchor="middle" x="65.5" y="-108.8" font-family="Times,serif" font-size="14.00">[]chunk.Row</text>
</g>
<!-- UpdatePartialResult -->
<g id="node14" class="node">
<title>UpdatePartialResult</title>
<polygon fill="none" stroke="black" points="167,-97 167,-143 292,-143 292,-97 167,-97"/>
<text text-anchor="middle" x="229.5" y="-127.8" font-family="Times,serif" font-size="14.00">UpdatePartialResult</text>
<polyline fill="none" stroke="black" points="167,-120 292,-120 "/>
<text text-anchor="middle" x="229.5" y="-104.8" font-family="Times,serif" font-size="14.00">使用valSet去重</text>
</g>
<!-- rowsInGroup&#45;&gt;UpdatePartialResult -->
<g id="edge19" class="edge">
<title>rowsInGroup&#45;&gt;UpdatePartialResult</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M110.34,-122.92C124.64,-122.56 140.91,-122.16 156.7,-121.77"/>
<polygon fill="blue" stroke="blue" points="157.08,-125.26 166.99,-121.52 156.91,-118.27 157.08,-125.26"/>
</g>
<!-- Float64Set -->
<g id="node10" class="node">
<title>Float64Set</title>
<polygon fill="none" stroke="black" points="760,-38.5 760,-107.5 953,-107.5 953,-38.5 760,-38.5"/>
<text text-anchor="middle" x="856.5" y="-92.3" font-family="Times,serif" font-size="14.00">Float64Set</text>
<polyline fill="none" stroke="black" points="760,-84.5 953,-84.5 "/>
<text text-anchor="start" x="768" y="-69.3" font-family="Times,serif" font-size="14.00">Float64Set map[float64]struct{}</text>
<polyline fill="none" stroke="black" points="760,-61.5 953,-61.5 "/>
<text text-anchor="middle" x="856.5" y="-46.3" font-family="Times,serif" font-size="14.00">使用map去重</text>
</g>
<!-- partialResult4SumDistinctFloat64&#45;&gt;Float64Set -->
<g id="edge7" class="edge">
<title>partialResult4SumDistinctFloat64:valSet&#45;&gt;Float64Set</title>
<path fill="none" stroke="#666666" d="M724,-93C732.38,-93 741.03,-92.6 749.7,-91.91"/>
<polygon fill="#666666" stroke="#666666" points="750.24,-95.37 759.88,-90.97 749.6,-88.4 750.24,-95.37"/>
</g>
<!-- AppendFinalResult2Chunk -->
<g id="node15" class="node">
<title>AppendFinalResult2Chunk</title>
<polygon fill="none" stroke="black" points="774.5,-136 774.5,-182 938.5,-182 938.5,-136 774.5,-136"/>
<text text-anchor="middle" x="856.5" y="-166.8" font-family="Times,serif" font-size="14.00">AppendFinalResult2Chunk</text>
<polyline fill="none" stroke="black" points="774.5,-159 938.5,-159 "/>
<text text-anchor="start" x="782.5" y="-143.8" font-family="Times,serif" font-size="14.00">将结果写入chunk中</text>
</g>
<!-- partialResult4SumDistinctFloat64&#45;&gt;AppendFinalResult2Chunk -->
<g id="edge20" class="edge">
<title>partialResult4SumDistinctFloat64:val&#45;&gt;AppendFinalResult2Chunk</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M724,-140C737.05,-140 750.76,-140.93 764.19,-142.37"/>
<polygon fill="blue" stroke="blue" points="764.05,-145.88 774.39,-143.57 764.87,-138.93 764.05,-145.88"/>
</g>
<!-- sum4DistinctFloat64 -->
<g id="node11" class="node">
<title>sum4DistinctFloat64</title>
<polygon fill="none" stroke="black" points="131,-82 0,-82 0,-46 131,-46 131,-82"/>
<text text-anchor="middle" x="65.5" y="-60.3" font-family="Times,serif" font-size="14.00">sum4DistinctFloat64</text>
</g>
<!-- AllocPartialResult -->
<g id="node12" class="node">
<title>AllocPartialResult</title>
<polygon fill="none" stroke="black" points="328,-22 328,-68 486,-68 486,-22 328,-22"/>
<text text-anchor="middle" x="407" y="-52.8" font-family="Times,serif" font-size="14.00">AllocPartialResult</text>
<polyline fill="none" stroke="black" points="328,-45 486,-45 "/>
<text text-anchor="start" x="336" y="-29.8" font-family="Times,serif" font-size="14.00">分配初始的PartialResult</text>
</g>
<!-- sum4DistinctFloat64&#45;&gt;AllocPartialResult -->
<g id="edge8" class="edge">
<title>sum4DistinctFloat64&#45;&gt;AllocPartialResult</title>
<path fill="none" stroke="#b83b5e" d="M131.16,-60.38C183.97,-57.43 259.16,-53.22 317.55,-49.95"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="318.09,-53.43 327.88,-49.37 317.7,-46.44 318.09,-53.43"/>
</g>
<!-- ResetPartialResult -->
<g id="node13" class="node">
<title>ResetPartialResult</title>
<polygon fill="none" stroke="black" points="287.5,-36 171.5,-36 171.5,0 287.5,0 287.5,-36"/>
<text text-anchor="middle" x="229.5" y="-14.3" font-family="Times,serif" font-size="14.00">ResetPartialResult</text>
</g>
<!-- sum4DistinctFloat64&#45;&gt;ResetPartialResult -->
<g id="edge9" class="edge">
<title>sum4DistinctFloat64&#45;&gt;ResetPartialResult</title>
<path fill="none" stroke="#b83b5e" d="M130.06,-45.95C140.41,-43.01 151.15,-39.96 161.57,-37"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="162.78,-40.3 171.44,-34.2 160.87,-33.57 162.78,-40.3"/>
</g>
<!-- sum4DistinctFloat64&#45;&gt;UpdatePartialResult -->
<g id="edge10" class="edge">
<title>sum4DistinctFloat64&#45;&gt;UpdatePartialResult</title>
<path fill="none" stroke="#b83b5e" d="M118.65,-82.03C130.88,-86.26 144.13,-90.84 157.05,-95.3"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="156.24,-98.73 166.84,-98.69 158.53,-92.11 156.24,-98.73"/>
</g>
<!-- sum4DistinctFloat64&#45;&gt;AppendFinalResult2Chunk -->
<g id="edge11" class="edge">
<title>sum4DistinctFloat64&#45;&gt;AppendFinalResult2Chunk</title>
<path fill="none" stroke="#b83b5e" d="M117.01,-82.11C122.01,-85 126.79,-88.28 131,-92 154.59,-112.84 142.31,-133.47 167,-153 225.76,-199.49 253.92,-191.76 328,-203 480.05,-226.07 658.73,-200.17 764.25,-179.47"/>
<polygon fill="#b83b5e" stroke="#b83b5e" points="765.1,-182.87 774.22,-177.49 763.73,-176.01 765.1,-182.87"/>
</g>
<!-- AllocPartialResult&#45;&gt;partialResult4SumDistinctFloat64 -->
<g id="edge12" class="edge">
<title>AllocPartialResult&#45;&gt;partialResult4SumDistinctFloat64</title>
<path fill="none" stroke="#666666" d="M467.33,-68.01C481.36,-73.45 496.77,-79.43 512.25,-85.44"/>
<polygon fill="#666666" stroke="#666666" points="511.31,-88.82 521.9,-89.17 513.84,-82.3 511.31,-88.82"/>
</g>
<!-- NewFloat64Set -->
<g id="node16" class="node">
<title>NewFloat64Set</title>
<polygon fill="none" stroke="black" points="673.5,-63 572.5,-63 572.5,-27 673.5,-27 673.5,-63"/>
<text text-anchor="middle" x="623" y="-41.3" font-family="Times,serif" font-size="14.00">NewFloat64Set</text>
</g>
<!-- AllocPartialResult&#45;&gt;NewFloat64Set -->
<g id="edge13" class="edge">
<title>AllocPartialResult&#45;&gt;NewFloat64Set</title>
<path fill="none" stroke="#666666" d="M486.17,-45C511.23,-45 538.58,-45 562.12,-45"/>
<polygon fill="#666666" stroke="#666666" points="562.31,-48.5 572.31,-45 562.31,-41.5 562.31,-48.5"/>
</g>
<!-- UpdatePartialResult&#45;&gt;EvalReal -->
<g id="edge14" class="edge">
<title>UpdatePartialResult&#45;&gt;EvalReal</title>
<path fill="none" stroke="#666666" d="M292.37,-128.11C315.95,-131.2 342.27,-134.65 363.63,-137.45"/>
<polygon fill="#666666" stroke="#666666" points="363.31,-140.94 373.68,-138.76 364.22,-134 363.31,-140.94"/>
</g>
<!-- UpdatePartialResult&#45;&gt;partialResult4SumDistinctFloat64 -->
<g id="edge15" class="edge">
<title>UpdatePartialResult&#45;&gt;partialResult4SumDistinctFloat64</title>
<path fill="none" stroke="#666666" d="M292.1,-114.91C304,-114.11 316.38,-113.42 328,-113 398.18,-110.48 415.88,-109.14 486,-113 494.35,-113.46 502.98,-114.08 511.65,-114.8"/>
<polygon fill="#666666" stroke="#666666" points="511.57,-118.3 521.84,-115.69 512.18,-111.33 511.57,-118.3"/>
</g>
<!-- AppendFinalResult2Chunk&#45;&gt;AppendNull -->
<g id="edge17" class="edge">
<title>AppendFinalResult2Chunk&#45;&gt;AppendNull</title>
<path fill="none" stroke="#666666" d="M938.73,-146.88C955.38,-144.4 972.45,-141.85 987.66,-139.58"/>
<polygon fill="#666666" stroke="#666666" points="988.48,-143 997.86,-138.06 987.45,-136.08 988.48,-143"/>
</g>
<!-- AppendFinalResult2Chunk&#45;&gt;AppendFloat64 -->
<g id="edge18" class="edge">
<title>AppendFinalResult2Chunk&#45;&gt;AppendFloat64</title>
<path fill="none" stroke="#666666" d="M938.73,-171.12C952.23,-173.13 966.01,-175.19 978.84,-177.1"/>
<polygon fill="#666666" stroke="#666666" points="978.5,-180.59 988.91,-178.6 979.53,-173.67 978.5,-180.59"/>
</g>
<!-- NewFloat64Set&#45;&gt;Float64Set -->
<g id="edge16" class="edge">
<title>NewFloat64Set&#45;&gt;Float64Set</title>
<path fill="none" stroke="#666666" d="M673.66,-51.01C695.93,-53.7 723.1,-56.99 749.58,-60.19"/>
<polygon fill="#666666" stroke="#666666" points="749.34,-63.68 759.68,-61.41 750.18,-56.74 749.34,-63.68"/>
</g>
</g>
</svg>
