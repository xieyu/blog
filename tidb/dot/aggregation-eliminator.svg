<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: aggregation_eliminate Pages: 1 -->
<svg width="1415pt" height="265pt"
 viewBox="0.00 0.00 1415.00 264.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 260.5)">
<title>aggregation_eliminate</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-260.5 1411,-260.5 1411,4 -4,4"/>
<!-- LogicalProjection -->
<g id="node1" class="node">
<title>LogicalProjection</title>
<polygon fill="turquoise" stroke="black" points="1262,-95.5 1262,-131.5 1375,-131.5 1375,-95.5 1262,-95.5"/>
<text text-anchor="middle" x="1318.5" y="-109.8" font-family="Times,serif" font-size="14.00">LogicalProjection</text>
</g>
<!-- Schema -->
<g id="node2" class="node">
<title>Schema</title>
<polygon fill="turquoise" stroke="black" points="588,-61 588,-176 776,-176 776,-61 588,-61"/>
<text text-anchor="middle" x="682" y="-160.8" font-family="Times,serif" font-size="14.00">Schema</text>
<polyline fill="none" stroke="black" points="588,-153 776,-153 "/>
<text text-anchor="start" x="596" y="-137.8" font-family="Times,serif" font-size="14.00">Columns []*Column</text>
<polyline fill="none" stroke="black" points="588,-130 776,-130 "/>
<text text-anchor="start" x="596" y="-114.8" font-family="Times,serif" font-size="14.00">Keys []KeyInfo</text>
<polyline fill="none" stroke="black" points="588,-107 776,-107 "/>
<text text-anchor="start" x="596" y="-91.8" font-family="Times,serif" font-size="14.00">Keys unique key information</text>
<polyline fill="none" stroke="black" points="588,-84 776,-84 "/>
<text text-anchor="middle" x="682" y="-68.8" font-family="Times,serif" font-size="14.00">agg.children[0].Schema().Keys</text>
</g>
<!-- coveredByUniqueKey -->
<g id="node3" class="node">
<title>coveredByUniqueKey</title>
<polygon fill="turquoise" stroke="black" points="824,-100.5 824,-136.5 961,-136.5 961,-100.5 824,-100.5"/>
<text text-anchor="middle" x="892.5" y="-114.8" font-family="Times,serif" font-size="14.00">coveredByUniqueKey</text>
</g>
<!-- Schema&#45;&gt;coveredByUniqueKey -->
<g id="edge11" class="edge">
<title>Schema&#45;&gt;coveredByUniqueKey</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M776.27,-118.5C788.81,-118.5 801.56,-118.5 813.79,-118.5"/>
<polygon fill="#666666" stroke="#666666" points="813.92,-122 823.92,-118.5 813.92,-115 813.92,-122"/>
</g>
<!-- ConvertAggToProj -->
<g id="node5" class="node">
<title>ConvertAggToProj</title>
<polygon fill="none" stroke="black" points="997,-52.5 997,-98.5 1194,-98.5 1194,-52.5 997,-52.5"/>
<text text-anchor="middle" x="1095.5" y="-83.3" font-family="Times,serif" font-size="14.00">ConvertAggToProj</text>
<polyline fill="none" stroke="black" points="997,-75.5 1194,-75.5 "/>
<text text-anchor="start" x="1005" y="-60.3" font-family="Times,serif" font-size="14.00">convert aggregation to projection</text>
</g>
<!-- coveredByUniqueKey&#45;&gt;ConvertAggToProj -->
<g id="edge12" class="edge">
<title>coveredByUniqueKey&#45;&gt;ConvertAggToProj</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M961.27,-104C969.55,-102.23 978.16,-100.39 986.85,-98.53"/>
<polygon fill="#666666" stroke="#666666" points="987.62,-101.94 996.67,-96.43 986.16,-95.1 987.62,-101.94"/>
</g>
<!-- tryToEliminateAggregation -->
<g id="node4" class="node">
<title>tryToEliminateAggregation</title>
<polygon fill="none" stroke="black" points="101,-111 101,-172 268,-172 268,-111 101,-111"/>
<text text-anchor="middle" x="184.5" y="-156.8" font-family="Times,serif" font-size="14.00">tryToEliminateAggregation</text>
<polyline fill="none" stroke="black" points="101,-149 268,-149 "/>
<text text-anchor="start" x="109" y="-133.8" font-family="Times,serif" font-size="14.00">eliminate aggregation </text>
<text text-anchor="start" x="109" y="-118.8" font-family="Times,serif" font-size="14.00"> grouped by unique key</text>
</g>
<!-- tryToEliminateAggregation&#45;&gt;Schema -->
<g id="edge3" class="edge">
<title>tryToEliminateAggregation&#45;&gt;Schema</title>
<path fill="none" stroke="#666666" d="M268.02,-134.01C280.08,-133.07 292.36,-132.19 304,-131.5 396.6,-126 502.14,-122.61 577.95,-120.67"/>
<polygon fill="#666666" stroke="#666666" points="578.07,-124.17 587.98,-120.42 577.9,-117.17 578.07,-124.17"/>
</g>
<!-- tryToEliminateAggregation&#45;&gt;ConvertAggToProj -->
<g id="edge4" class="edge">
<title>tryToEliminateAggregation&#45;&gt;ConvertAggToProj</title>
<path fill="none" stroke="#666666" d="M268.34,-116.65C346.74,-94.5 468.16,-63.77 576,-51.5 669.62,-40.85 693.85,-47.82 788,-51.5 854.17,-54.09 928.2,-59.8 986.92,-65.01"/>
<polygon fill="#666666" stroke="#666666" points="986.68,-68.5 996.95,-65.91 987.31,-61.53 986.68,-68.5"/>
</g>
<!-- ColumnsIndices -->
<g id="node7" class="node">
<title>ColumnsIndices</title>
<polygon fill="none" stroke="black" points="576,-195 576,-256 788,-256 788,-195 576,-195"/>
<text text-anchor="middle" x="682" y="-240.8" font-family="Times,serif" font-size="14.00">ColumnsIndices</text>
<polyline fill="none" stroke="black" points="576,-233 788,-233 "/>
<text text-anchor="start" x="584" y="-217.8" font-family="Times,serif" font-size="14.00">return a slice which contains the</text>
<text text-anchor="start" x="584" y="-202.8" font-family="Times,serif" font-size="14.00"> position of each column in schema</text>
</g>
<!-- tryToEliminateAggregation&#45;&gt;ColumnsIndices -->
<g id="edge5" class="edge">
<title>tryToEliminateAggregation&#45;&gt;ColumnsIndices</title>
<path fill="none" stroke="#666666" d="M225.65,-172.03C247.57,-186.88 275.91,-203.26 304,-211.5 389.26,-236.51 490.02,-238.95 565.92,-235.71"/>
<polygon fill="#666666" stroke="#666666" points="566.16,-239.2 575.99,-235.24 565.84,-232.21 566.16,-239.2"/>
</g>
<!-- GetGroupByCols -->
<g id="node8" class="node">
<title>GetGroupByCols</title>
<polygon fill="none" stroke="black" points="304,-141 304,-202 540,-202 540,-141 304,-141"/>
<text text-anchor="middle" x="422" y="-186.8" font-family="Times,serif" font-size="14.00">GetGroupByCols</text>
<polyline fill="none" stroke="black" points="304,-179 540,-179 "/>
<text text-anchor="start" x="312" y="-163.8" font-family="Times,serif" font-size="14.00">return columns that aree group&#45;by items</text>
<text text-anchor="start" x="312" y="-148.8" font-family="Times,serif" font-size="14.00"> group by a, b, c+d will return [a,b]</text>
</g>
<!-- tryToEliminateAggregation&#45;&gt;GetGroupByCols -->
<g id="edge6" class="edge">
<title>tryToEliminateAggregation&#45;&gt;GetGroupByCols</title>
<path fill="none" stroke="#666666" d="M268.2,-152.03C276.48,-153.09 285.03,-154.18 293.64,-155.28"/>
<polygon fill="#666666" stroke="#666666" points="293.41,-158.77 303.77,-156.57 294.29,-151.83 293.41,-158.77"/>
</g>
<!-- ConvertAggToProj&#45;&gt;LogicalProjection -->
<g id="edge7" class="edge">
<title>ConvertAggToProj&#45;&gt;LogicalProjection</title>
<path fill="none" stroke="#666666" d="M1194.08,-92.28C1213.69,-95.65 1233.85,-99.12 1252.04,-102.24"/>
<polygon fill="#666666" stroke="#666666" points="1251.48,-105.7 1261.93,-103.95 1252.67,-98.8 1251.48,-105.7"/>
</g>
<!-- rewriteExpr -->
<g id="node6" class="node">
<title>rewriteExpr</title>
<polygon fill="none" stroke="black" points="1230,-0.5 1230,-76.5 1407,-76.5 1407,-0.5 1230,-0.5"/>
<text text-anchor="middle" x="1318.5" y="-61.3" font-family="Times,serif" font-size="14.00">rewriteExpr</text>
<polyline fill="none" stroke="black" points="1230,-53.5 1407,-53.5 "/>
<text text-anchor="start" x="1238" y="-38.3" font-family="Times,serif" font-size="14.00">rewite the aggregate function</text>
<text text-anchor="start" x="1238" y="-23.3" font-family="Times,serif" font-size="14.00"> to expression doesn&#39;t contain</text>
<text text-anchor="start" x="1238" y="-8.3" font-family="Times,serif" font-size="14.00"> agggregate function</text>
</g>
<!-- ConvertAggToProj&#45;&gt;rewriteExpr -->
<g id="edge8" class="edge">
<title>ConvertAggToProj&#45;&gt;rewriteExpr</title>
<path fill="none" stroke="#666666" d="M1194.08,-59.16C1202.64,-57.73 1211.3,-56.28 1219.86,-54.85"/>
<polygon fill="#666666" stroke="#666666" points="1220.57,-58.28 1229.85,-53.17 1219.41,-51.37 1220.57,-58.28"/>
</g>
<!-- ColumnsIndices&#45;&gt;coveredByUniqueKey -->
<g id="edge10" class="edge">
<title>ColumnsIndices&#45;&gt;coveredByUniqueKey</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M767.92,-194.93C774.79,-191.92 781.56,-188.76 788,-185.5 812.61,-173.02 838.68,-156.12 858.5,-142.41"/>
<polygon fill="#666666" stroke="#666666" points="860.68,-145.16 866.87,-136.56 856.67,-139.43 860.68,-145.16"/>
</g>
<!-- GetGroupByCols&#45;&gt;ColumnsIndices -->
<g id="edge9" class="edge">
<title>GetGroupByCols&#45;&gt;ColumnsIndices</title>
<path fill="none" stroke="#666666" stroke-dasharray="5,2" d="M540.3,-196.05C548.81,-197.83 557.4,-199.63 565.9,-201.41"/>
<polygon fill="#666666" stroke="#666666" points="565.33,-204.87 575.83,-203.49 566.76,-198.01 565.33,-204.87"/>
</g>
<!-- optimize -->
<g id="node9" class="node">
<title>optimize</title>
<polygon fill="none" stroke="black" points="65,-125.5 0,-125.5 0,-89.5 65,-89.5 65,-125.5"/>
<text text-anchor="middle" x="32.5" y="-103.8" font-family="Times,serif" font-size="14.00">optimize</text>
</g>
<!-- optimize&#45;&gt;tryToEliminateAggregation -->
<g id="edge1" class="edge">
<title>optimize&#45;&gt;tryToEliminateAggregation</title>
<path fill="none" stroke="#666666" d="M65.31,-114.71C73.08,-116.47 81.78,-118.44 90.86,-120.5"/>
<polygon fill="#666666" stroke="#666666" points="90.29,-123.96 100.81,-122.76 91.84,-117.13 90.29,-123.96"/>
</g>
<!-- child_optimize -->
<g id="node10" class="node">
<title>child_optimize</title>
<polygon fill="none" stroke="black" points="233.5,-92.5 135.5,-92.5 135.5,-56.5 233.5,-56.5 233.5,-92.5"/>
<text text-anchor="middle" x="184.5" y="-70.8" font-family="Times,serif" font-size="14.00">child_optimize</text>
</g>
<!-- optimize&#45;&gt;child_optimize -->
<g id="edge2" class="edge">
<title>optimize&#45;&gt;child_optimize</title>
<path fill="none" stroke="#666666" d="M65.31,-100.5C82.83,-96.65 105.11,-91.75 125.59,-87.24"/>
<polygon fill="#666666" stroke="#666666" points="126.46,-90.63 135.48,-85.06 124.96,-83.8 126.46,-90.63"/>
</g>
</g>
</svg>
