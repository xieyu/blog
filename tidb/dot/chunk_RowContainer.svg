<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: RowContainer Pages: 1 -->
<svg width="476pt" height="646pt"
 viewBox="0.00 0.00 476.00 645.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 641.5)">
<title>RowContainer</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-641.5 472,-641.5 472,4 -4,4"/>
<!-- RowContainer -->
<g id="node1" class="node">
<title>RowContainer</title>
<polygon fill="none" stroke="black" points="0,-158.5 0,-456.5 189,-456.5 189,-158.5 0,-158.5"/>
<text text-anchor="middle" x="94.5" y="-441.3" font-family="Times,serif" font-size="14.00">RowContainer</text>
<polyline fill="none" stroke="black" points="0,-433.5 189,-433.5 "/>
<text text-anchor="start" x="8" y="-418.3" font-family="Times,serif" font-size="14.00">provides a place for many rows</text>
<text text-anchor="start" x="8" y="-403.3" font-family="Times,serif" font-size="14.00"> so many that we might want</text>
<text text-anchor="start" x="8" y="-388.3" font-family="Times,serif" font-size="14.00"> to spill them into disk.</text>
<polyline fill="none" stroke="black" points="0,-380.5 189,-380.5 "/>
<text text-anchor="start" x="8" y="-365.3" font-family="Times,serif" font-size="14.00">m struct {</text>
<polyline fill="none" stroke="black" points="0,-357.5 189,-357.5 "/>
<polyline fill="none" stroke="black" points="0,-357.5 189,-357.5 "/>
<text text-anchor="start" x="8" y="-342.3" font-family="Times,serif" font-size="14.00">recordsInDisk *ListInDisk</text>
<polyline fill="none" stroke="black" points="0,-334.5 189,-334.5 "/>
<text text-anchor="start" x="8" y="-319.3" font-family="Times,serif" font-size="14.00">spillError error</text>
<text text-anchor="start" x="8" y="-304.3" font-family="Times,serif" font-size="14.00"> }</text>
<polyline fill="none" stroke="black" points="0,-296.5 189,-296.5 "/>
<text text-anchor="start" x="8" y="-281.3" font-family="Times,serif" font-size="14.00">fieldType []*types.FieldType</text>
<polyline fill="none" stroke="black" points="0,-273.5 189,-273.5 "/>
<text text-anchor="start" x="8" y="-258.3" font-family="Times,serif" font-size="14.00">chunkSize int</text>
<polyline fill="none" stroke="black" points="0,-250.5 189,-250.5 "/>
<text text-anchor="start" x="8" y="-235.3" font-family="Times,serif" font-size="14.00">numRow int</text>
<polyline fill="none" stroke="black" points="0,-227.5 189,-227.5 "/>
<text text-anchor="start" x="8" y="-212.3" font-family="Times,serif" font-size="14.00">memTracker *memory.Tracker</text>
<polyline fill="none" stroke="black" points="0,-204.5 189,-204.5 "/>
<text text-anchor="start" x="8" y="-189.3" font-family="Times,serif" font-size="14.00">diskTracker *disk.Tracker</text>
<polyline fill="none" stroke="black" points="0,-181.5 189,-181.5 "/>
<text text-anchor="start" x="8" y="-166.3" font-family="Times,serif" font-size="14.00">actionSpill *SpillDiskAction</text>
</g>
<!-- List -->
<g id="node2" class="node">
<title>List</title>
<polygon fill="none" stroke="black" points="252,-204 252,-411 441,-411 441,-204 252,-204"/>
<text text-anchor="middle" x="346.5" y="-395.8" font-family="Times,serif" font-size="14.00">List</text>
<polyline fill="none" stroke="black" points="252,-388 441,-388 "/>
<text text-anchor="start" x="260" y="-372.8" font-family="Times,serif" font-size="14.00">fieldTypes []*types.FieldType</text>
<polyline fill="none" stroke="black" points="252,-365 441,-365 "/>
<text text-anchor="start" x="260" y="-349.8" font-family="Times,serif" font-size="14.00">initChunkSize int</text>
<polyline fill="none" stroke="black" points="252,-342 441,-342 "/>
<text text-anchor="start" x="260" y="-326.8" font-family="Times,serif" font-size="14.00">maxChunkSize int</text>
<polyline fill="none" stroke="black" points="252,-319 441,-319 "/>
<text text-anchor="start" x="260" y="-303.8" font-family="Times,serif" font-size="14.00">length int</text>
<polyline fill="none" stroke="black" points="252,-296 441,-296 "/>
<text text-anchor="start" x="260" y="-280.8" font-family="Times,serif" font-size="14.00">chunks []*Chunk</text>
<polyline fill="none" stroke="black" points="252,-273 441,-273 "/>
<text text-anchor="start" x="260" y="-257.8" font-family="Times,serif" font-size="14.00">freelist []*Chunk</text>
<polyline fill="none" stroke="black" points="252,-250 441,-250 "/>
<text text-anchor="start" x="260" y="-234.8" font-family="Times,serif" font-size="14.00">memTracker *memory.Tracker</text>
<polyline fill="none" stroke="black" points="252,-227 441,-227 "/>
<text text-anchor="start" x="260" y="-211.8" font-family="Times,serif" font-size="14.00">consumedIdx int</text>
</g>
<!-- RowContainer&#45;&gt;List -->
<g id="edge1" class="edge">
<title>RowContainer:List&#45;&gt;List</title>
<path fill="none" stroke="#666666" d="M189.03,-307.5C206.23,-307.5 224.25,-307.5 241.69,-307.5"/>
<polygon fill="#666666" stroke="#666666" points="241.88,-311 251.88,-307.5 241.88,-304 241.88,-311"/>
</g>
<!-- ListInDisk -->
<g id="node3" class="node">
<title>ListInDisk</title>
<polygon fill="none" stroke="black" points="251,-430 251,-637 442,-637 442,-430 251,-430"/>
<text text-anchor="middle" x="346.5" y="-621.8" font-family="Times,serif" font-size="14.00">ListInDisk</text>
<polyline fill="none" stroke="black" points="251,-614 442,-614 "/>
<text text-anchor="start" x="259" y="-598.8" font-family="Times,serif" font-size="14.00">fieldTypes []*types.FieldType</text>
<polyline fill="none" stroke="black" points="251,-591 442,-591 "/>
<text text-anchor="start" x="259" y="-575.8" font-family="Times,serif" font-size="14.00">offsets [][]int64</text>
<polyline fill="none" stroke="black" points="251,-568 442,-568 "/>
<text text-anchor="start" x="259" y="-552.8" font-family="Times,serif" font-size="14.00">offWrite int64</text>
<polyline fill="none" stroke="black" points="251,-545 442,-545 "/>
<text text-anchor="start" x="259" y="-529.8" font-family="Times,serif" font-size="14.00">disk *os.File</text>
<polyline fill="none" stroke="black" points="251,-522 442,-522 "/>
<text text-anchor="start" x="259" y="-506.8" font-family="Times,serif" font-size="14.00">w io.WriteCloser</text>
<polyline fill="none" stroke="black" points="251,-499 442,-499 "/>
<text text-anchor="start" x="259" y="-483.8" font-family="Times,serif" font-size="14.00">bufFlushMutex sync.RWMutex</text>
<polyline fill="none" stroke="black" points="251,-476 442,-476 "/>
<text text-anchor="start" x="259" y="-460.8" font-family="Times,serif" font-size="14.00">diskTracker *disk.Tracker </text>
<polyline fill="none" stroke="black" points="251,-453 442,-453 "/>
<text text-anchor="start" x="259" y="-437.8" font-family="Times,serif" font-size="14.00">numRowsInDisk int</text>
</g>
<!-- RowContainer&#45;&gt;ListInDisk -->
<g id="edge2" class="edge">
<title>RowContainer:ListInDisk&#45;&gt;ListInDisk</title>
<path fill="none" stroke="#666666" d="M189,-346.5C225.57,-346.5 203.3,-391.06 225,-420.5 230.81,-428.38 237.21,-436.16 243.94,-443.74"/>
<polygon fill="#666666" stroke="#666666" points="241.45,-446.21 250.77,-451.25 246.63,-441.5 241.45,-446.21"/>
</g>
<!-- SpillDiskAction -->
<g id="node4" class="node">
<title>SpillDiskAction</title>
<polygon fill="none" stroke="black" points="225,-0.5 225,-184.5 468,-184.5 468,-0.5 225,-0.5"/>
<text text-anchor="middle" x="346.5" y="-169.3" font-family="Times,serif" font-size="14.00">SpillToDisk</text>
<polyline fill="none" stroke="black" points="225,-161.5 468,-161.5 "/>
<text text-anchor="start" x="233" y="-146.3" font-family="Times,serif" font-size="14.00">c *RowContainer</text>
<polyline fill="none" stroke="black" points="225,-138.5 468,-138.5 "/>
<text text-anchor="start" x="233" y="-123.3" font-family="Times,serif" font-size="14.00">fallbackAction memory.ActionOnExceed</text>
<polyline fill="none" stroke="black" points="225,-115.5 468,-115.5 "/>
<text text-anchor="start" x="233" y="-100.3" font-family="Times,serif" font-size="14.00">m sync.Mutex| once sync.Once</text>
<polyline fill="none" stroke="black" points="225,-92.5 468,-92.5 "/>
<text text-anchor="start" x="233" y="-77.3" font-family="Times,serif" font-size="14.00">cond spillStatusCond</text>
<polyline fill="none" stroke="black" points="225,-69.5 468,-69.5 "/>
<text text-anchor="start" x="233" y="-54.3" font-family="Times,serif" font-size="14.00">testSyncInputFunc func()</text>
<polyline fill="none" stroke="black" points="225,-46.5 468,-46.5 "/>
<text text-anchor="start" x="233" y="-31.3" font-family="Times,serif" font-size="14.00">testSyncOutputFunc func()</text>
<polyline fill="none" stroke="black" points="225,-23.5 468,-23.5 "/>
<text text-anchor="start" x="233" y="-8.3" font-family="Times,serif" font-size="14.00">testWg sync.WaitGroup</text>
</g>
<!-- RowContainer&#45;&gt;SpillDiskAction -->
<g id="edge3" class="edge">
<title>RowContainer&#45;&gt;SpillDiskAction</title>
<path fill="none" stroke="#666666" d="M189.08,-225.55C201.14,-215.08 213.35,-204.52 225,-194.5 226.17,-193.5 227.35,-192.49 228.53,-191.47"/>
<polygon fill="#666666" stroke="#666666" points="231.09,-193.88 236.41,-184.72 226.53,-188.57 231.09,-193.88"/>
</g>
</g>
</svg>
