<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: follower_step_msgs Pages: 1 -->
<svg width="906pt" height="387pt"
 viewBox="0.00 0.00 906.00 387.35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 383.35)">
<title>follower_step_msgs</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-383.35 902,-383.35 902,4 -4,4"/>
<!-- RaftCore__step_candidate -->
<g id="node1" class="node">
<title>RaftCore__step_candidate</title>
<path fill="none" stroke="#1c2123" d="M148,-144C148,-144 12,-144 12,-144 6,-144 0,-138 0,-132 0,-132 0,-120 0,-120 0,-114 6,-108 12,-108 12,-108 148,-108 148,-108 154,-108 160,-114 160,-120 160,-120 160,-132 160,-132 160,-138 154,-144 148,-144"/>
<text text-anchor="middle" x="80" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__step_candidate</text>
</g>
<!-- RaftCore__handle_append_entries -->
<g id="node2" class="node">
<title>RaftCore__handle_append_entries</title>
<path fill="none" stroke="#1c2123" d="M388,-283C388,-283 208,-283 208,-283 202,-283 196,-277 196,-271 196,-271 196,-259 196,-259 196,-253 202,-247 208,-247 208,-247 388,-247 388,-247 394,-247 400,-253 400,-259 400,-259 400,-271 400,-271 400,-277 394,-283 388,-283"/>
<text text-anchor="middle" x="298" y="-261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_append_entries</text>
</g>
<!-- RaftCore__step_candidate&#45;&gt;RaftCore__handle_append_entries -->
<g id="edge1" class="edge">
<title>RaftCore__step_candidate&#45;&gt;RaftCore__handle_append_entries</title>
<path fill="none" stroke="#666666" d="M105.23,-144.05C128.2,-160.92 163.87,-186.52 196,-207 214.96,-219.09 236.51,-231.62 254.82,-241.93"/>
<polygon fill="#666666" stroke="#666666" points="253.36,-245.12 263.79,-246.95 256.78,-239.01 253.36,-245.12"/>
</g>
<!-- RaftCore__handle_heartbeat -->
<g id="node3" class="node">
<title>RaftCore__handle_heartbeat</title>
<path fill="none" stroke="#1c2123" d="M372,-198C372,-198 224,-198 224,-198 218,-198 212,-192 212,-186 212,-186 212,-174 212,-174 212,-168 218,-162 224,-162 224,-162 372,-162 372,-162 378,-162 384,-168 384,-174 384,-174 384,-186 384,-186 384,-192 378,-198 372,-198"/>
<text text-anchor="middle" x="298" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_heartbeat</text>
</g>
<!-- RaftCore__step_candidate&#45;&gt;RaftCore__handle_heartbeat -->
<g id="edge2" class="edge">
<title>RaftCore__step_candidate&#45;&gt;RaftCore__handle_heartbeat</title>
<path fill="none" stroke="#666666" d="M153.23,-144.06C173.04,-149.01 194.67,-154.42 214.99,-159.5"/>
<polygon fill="#666666" stroke="#666666" points="214.29,-162.93 224.84,-161.96 215.99,-156.14 214.29,-162.93"/>
</g>
<!-- RaftCore__handle_snapshot -->
<g id="node4" class="node">
<title>RaftCore__handle_snapshot</title>
<path fill="none" stroke="#1c2123" d="M371,-144C371,-144 225,-144 225,-144 219,-144 213,-138 213,-132 213,-132 213,-120 213,-120 213,-114 219,-108 225,-108 225,-108 371,-108 371,-108 377,-108 383,-114 383,-120 383,-120 383,-132 383,-132 383,-138 377,-144 371,-144"/>
<text text-anchor="middle" x="298" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_snapshot</text>
</g>
<!-- RaftCore__step_candidate&#45;&gt;RaftCore__handle_snapshot -->
<g id="edge3" class="edge">
<title>RaftCore__step_candidate&#45;&gt;RaftCore__handle_snapshot</title>
<path fill="none" stroke="#666666" d="M160.2,-126C173.96,-126 188.39,-126 202.51,-126"/>
<polygon fill="#666666" stroke="#666666" points="202.72,-129.5 212.72,-126 202.72,-122.5 202.72,-129.5"/>
</g>
<!-- RaftCore__poll -->
<g id="node5" class="node">
<title>RaftCore__poll</title>
<path fill="none" stroke="#1c2123" d="M336.5,-90C336.5,-90 259.5,-90 259.5,-90 253.5,-90 247.5,-84 247.5,-78 247.5,-78 247.5,-66 247.5,-66 247.5,-60 253.5,-54 259.5,-54 259.5,-54 336.5,-54 336.5,-54 342.5,-54 348.5,-60 348.5,-66 348.5,-66 348.5,-78 348.5,-78 348.5,-84 342.5,-90 336.5,-90"/>
<text text-anchor="middle" x="298" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__poll</text>
</g>
<!-- RaftCore__step_candidate&#45;&gt;RaftCore__poll -->
<g id="edge4" class="edge">
<title>RaftCore__step_candidate&#45;&gt;RaftCore__poll</title>
<path fill="none" stroke="#666666" d="M153.23,-107.94C180.63,-101.09 211.5,-93.38 237.59,-86.85"/>
<polygon fill="#666666" stroke="#666666" points="238.48,-90.24 247.34,-84.42 236.79,-83.45 238.48,-90.24"/>
</g>
<!-- RaftCore__hup -->
<g id="node6" class="node">
<title>RaftCore__hup</title>
<path fill="none" stroke="#1c2123" d="M336,-36C336,-36 260,-36 260,-36 254,-36 248,-30 248,-24 248,-24 248,-12 248,-12 248,-6 254,0 260,0 260,0 336,0 336,0 342,0 348,-6 348,-12 348,-12 348,-24 348,-24 348,-30 342,-36 336,-36"/>
<text text-anchor="middle" x="298" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__hup</text>
</g>
<!-- RaftCore__step_candidate&#45;&gt;RaftCore__hup -->
<g id="edge5" class="edge">
<title>RaftCore__step_candidate&#45;&gt;RaftCore__hup</title>
<path fill="none" stroke="#666666" d="M102.04,-107.7C124.08,-89.4 160.38,-61.66 196,-45 209.23,-38.82 224.11,-33.85 238.31,-29.95"/>
<polygon fill="#666666" stroke="#666666" points="239.21,-33.33 248,-27.42 237.44,-26.56 239.21,-33.33"/>
</g>
<!-- RaftCore__send_request_snapshot -->
<g id="node7" class="node">
<title>RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#1c2123" d="M448,-170.5C448,-170.5 628,-170.5 628,-170.5 634,-170.5 640,-176.5 640,-182.5 640,-182.5 640,-219.5 640,-219.5 640,-225.5 634,-231.5 628,-231.5 628,-231.5 448,-231.5 448,-231.5 442,-231.5 436,-225.5 436,-219.5 436,-219.5 436,-182.5 436,-182.5 436,-176.5 442,-170.5 448,-170.5"/>
<text text-anchor="middle" x="538" y="-216.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__send_request_snapshot</text>
<polyline fill="none" stroke="#1c2123" points="436,-208.5 640,-208.5 "/>
<text text-anchor="start" x="444" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">follower日志落后太多了</text>
<text text-anchor="start" x="444" y="-178.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 让leader发送snapshot过来</text>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftCore__send_request_snapshot -->
<g id="edge6" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#666666" d="M366.25,-246.92C384.88,-241.91 405.61,-236.33 426.03,-230.84"/>
<polygon fill="#666666" stroke="#666666" points="426.94,-234.22 435.69,-228.24 425.13,-227.46 426.94,-234.22"/>
</g>
<!-- RaftCore__send -->
<g id="node8" class="node">
<title>RaftCore__send</title>
<path fill="none" stroke="#1c2123" d="M768,-189C768,-189 688,-189 688,-189 682,-189 676,-183 676,-177 676,-177 676,-165 676,-165 676,-159 682,-153 688,-153 688,-153 768,-153 768,-153 774,-153 780,-159 780,-165 780,-165 780,-177 780,-177 780,-183 774,-189 768,-189"/>
<text text-anchor="middle" x="728" y="-167.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__send</text>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftCore__send -->
<g id="edge7" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M319.46,-283.12C344.76,-304.2 390.12,-337.79 436,-351 523.13,-376.08 563.2,-399.18 640,-351 693.42,-317.49 714.83,-240.88 722.77,-199.23"/>
<polygon fill="#666666" stroke="#666666" points="726.25,-199.65 724.54,-189.2 719.35,-198.43 726.25,-199.65"/>
</g>
<!-- RaftLog__maybe_append -->
<g id="node9" class="node">
<title>RaftLog__maybe_append</title>
<path fill="none" stroke="#1c2123" d="M460.5,-250.5C460.5,-250.5 615.5,-250.5 615.5,-250.5 621.5,-250.5 627.5,-256.5 627.5,-262.5 627.5,-262.5 627.5,-329.5 627.5,-329.5 627.5,-335.5 621.5,-341.5 615.5,-341.5 615.5,-341.5 460.5,-341.5 460.5,-341.5 454.5,-341.5 448.5,-335.5 448.5,-329.5 448.5,-329.5 448.5,-262.5 448.5,-262.5 448.5,-256.5 454.5,-250.5 460.5,-250.5"/>
<text text-anchor="middle" x="538" y="-326.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLog__maybe_append</text>
<polyline fill="none" stroke="#1c2123" points="448.5,-318.5 627.5,-318.5 "/>
<text text-anchor="start" x="456.5" y="-303.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">append leade发来的log entry</text>
<text text-anchor="start" x="456.5" y="-288.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果不能append</text>
<text text-anchor="start" x="456.5" y="-273.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 就handle_append_entries</text>
<text text-anchor="start" x="456.5" y="-258.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 就会发送reject消息</text>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftLog__maybe_append -->
<g id="edge8" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftLog__maybe_append</title>
<path fill="none" stroke="#666666" d="M400.28,-278.19C412.86,-279.83 425.71,-281.5 438.25,-283.14"/>
<polygon fill="#666666" stroke="#666666" points="437.86,-286.62 448.23,-284.44 438.76,-279.67 437.86,-286.62"/>
</g>
<!-- RaftCore__handle_heartbeat&#45;&gt;RaftCore__send_request_snapshot -->
<g id="edge9" class="edge">
<title>RaftCore__handle_heartbeat&#45;&gt;RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#666666" d="M384.25,-187.52C397.67,-188.71 411.71,-189.94 425.61,-191.17"/>
<polygon fill="#666666" stroke="#666666" points="425.43,-194.67 435.7,-192.06 426.04,-187.7 425.43,-194.67"/>
</g>
<!-- RaftCore__handle_heartbeat&#45;&gt;RaftCore__send -->
<g id="edge10" class="edge">
<title>RaftCore__handle_heartbeat&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M384.32,-166.32C401.39,-164.1 419.23,-162.16 436,-161 526.45,-154.76 549.48,-155.81 640,-161 648.29,-161.47 657.01,-162.2 665.58,-163.05"/>
<polygon fill="#666666" stroke="#666666" points="665.25,-166.54 675.56,-164.1 665.98,-159.58 665.25,-166.54"/>
</g>
<!-- RaftCore__handle_snapshot&#45;&gt;RaftCore__send -->
<g id="edge11" class="edge">
<title>RaftCore__handle_snapshot&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M383.09,-129.16C452.33,-132.53 552.91,-139.23 640,-152 648.36,-153.22 657.11,-154.79 665.7,-156.5"/>
<polygon fill="#666666" stroke="#666666" points="665.19,-159.97 675.69,-158.56 666.6,-153.11 665.19,-159.97"/>
</g>
<!-- RaftCore__send_request_snapshot&#45;&gt;RaftCore__send -->
<g id="edge12" class="edge">
<title>RaftCore__send_request_snapshot&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M640.15,-184.86C648.93,-183.46 657.62,-182.07 665.92,-180.75"/>
<polygon fill="#666666" stroke="#666666" points="666.5,-184.2 675.82,-179.17 665.4,-177.29 666.5,-184.2"/>
</g>
<!-- Raft__msgs -->
<g id="node10" class="node">
<title>Raft__msgs</title>
<path fill="none" stroke="#1c2123" d="M886,-189C886,-189 828,-189 828,-189 822,-189 816,-183 816,-177 816,-177 816,-165 816,-165 816,-159 822,-153 828,-153 828,-153 886,-153 886,-153 892,-153 898,-159 898,-165 898,-165 898,-177 898,-177 898,-183 892,-189 886,-189"/>
<text text-anchor="middle" x="857" y="-167.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Raft__msgs</text>
</g>
<!-- RaftCore__send&#45;&gt;Raft__msgs -->
<g id="edge13" class="edge">
<title>RaftCore__send&#45;&gt;Raft__msgs</title>
<path fill="none" stroke="#666666" d="M780.29,-171C788.71,-171 797.42,-171 805.81,-171"/>
<polygon fill="#666666" stroke="#666666" points="805.85,-174.5 815.85,-171 805.85,-167.5 805.85,-174.5"/>
</g>
</g>
</svg>
