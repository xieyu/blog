<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: sql_to_resultset Pages: 1 -->
<svg width="1347pt" height="118pt"
 viewBox="0.00 0.00 1347.00 118.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 114)">
<title>sql_to_resultset</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-114 1343,-114 1343,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Compile</title>
<polygon fill="none" stroke="black" points="339,-8 339,-102 954,-102 954,-8 339,-8"/>
<text text-anchor="middle" x="646.5" y="-82" font-family="Times,serif" font-size="20.00">Compile: 制定并优化查询计划</text>
</g>
<!-- SQLString -->
<g id="node1" class="node">
<title>SQLString</title>
<polygon fill="none" stroke="black" points="76,-58 0,-58 0,-22 76,-22 76,-58"/>
<text text-anchor="middle" x="38" y="-36.3" font-family="Times,serif" font-size="14.00">SQL string</text>
</g>
<!-- StmtNode -->
<g id="node2" class="node">
<title>StmtNode</title>
<polygon fill="none" stroke="black" points="310,-58 210,-58 210,-22 310,-22 310,-58"/>
<text text-anchor="middle" x="260" y="-36.3" font-family="Times,serif" font-size="14.00">[]ast.StmtNode</text>
</g>
<!-- SQLString&#45;&gt;StmtNode -->
<g id="edge1" class="edge">
<title>SQLString&#45;&gt;StmtNode</title>
<path fill="none" stroke="black" d="M76.32,-40C110.08,-40 160.37,-40 199.65,-40"/>
<polygon fill="black" stroke="black" points="199.89,-43.5 209.89,-40 199.89,-36.5 199.89,-43.5"/>
<text text-anchor="start" x="94" y="-58.8" font-family="Times,serif" font-size="14.00">session.ParseSQL</text>
<text text-anchor="middle" x="143" y="-43.8" font-family="Times,serif" font-size="14.00">词法语法分析</text>
</g>
<!-- PlanBuilder -->
<g id="node7" class="node">
<title>PlanBuilder</title>
<polygon fill="none" stroke="black" points="347,-17 347,-63 524,-63 524,-17 347,-17"/>
<text text-anchor="middle" x="435.5" y="-47.8" font-family="Times,serif" font-size="14.00">PlanBuilder.Build</text>
<polyline fill="none" stroke="black" points="347,-40 524,-40 "/>
<text text-anchor="middle" x="435.5" y="-24.8" font-family="Times,serif" font-size="14.00">将AST树转换为logical plan</text>
</g>
<!-- StmtNode&#45;&gt;PlanBuilder -->
<g id="edge6" class="edge">
<title>StmtNode&#45;&gt;PlanBuilder</title>
<path fill="none" stroke="black" d="M310.25,-40C318.55,-40 327.42,-40 336.45,-40"/>
<polygon fill="black" stroke="black" points="336.69,-43.5 346.69,-40 336.69,-36.5 336.69,-43.5"/>
</g>
<!-- recordSet -->
<g id="node3" class="node">
<title>recordSet</title>
<polygon fill="none" stroke="black" points="1339,-58 1222,-58 1222,-22 1339,-22 1339,-58"/>
<text text-anchor="middle" x="1280.5" y="-36.3" font-family="Times,serif" font-size="14.00">sqlexec.RecordSet</text>
</g>
<!-- ExecStmt -->
<g id="node4" class="node">
<title>ExecStmt</title>
<polygon fill="none" stroke="black" points="1053,-58 983,-58 983,-22 1053,-22 1053,-58"/>
<text text-anchor="middle" x="1018" y="-36.3" font-family="Times,serif" font-size="14.00">ExecStmt</text>
</g>
<!-- ExecStmt&#45;&gt;recordSet -->
<g id="edge2" class="edge">
<title>ExecStmt&#45;&gt;recordSet</title>
<path fill="none" stroke="black" d="M1053.06,-40C1093.05,-40 1160.39,-40 1211.27,-40"/>
<polygon fill="black" stroke="black" points="1211.53,-43.5 1221.53,-40 1211.53,-36.5 1211.53,-43.5"/>
<text text-anchor="start" x="1071" y="-58.8" font-family="Times,serif" font-size="14.00">session.executeStatment</text>
<text text-anchor="middle" x="1137.5" y="-43.8" font-family="Times,serif" font-size="14.00">生成执行器</text>
</g>
<!-- LogicalOptimize -->
<g id="node5" class="node">
<title>LogicalOptimize</title>
<polygon fill="none" stroke="black" points="680,-17 680,-63 796,-63 796,-17 680,-17"/>
<text text-anchor="middle" x="738" y="-47.8" font-family="Times,serif" font-size="14.00">LogicalOptimize</text>
<polyline fill="none" stroke="black" points="680,-40 796,-40 "/>
<text text-anchor="start" x="688" y="-24.8" font-family="Times,serif" font-size="14.00">基于规则的优化</text>
</g>
<!-- PhysicalOptimize -->
<g id="node6" class="node">
<title>PhysicalOptimize</title>
<polygon fill="none" stroke="black" points="833,-17 833,-63 946,-63 946,-17 833,-17"/>
<text text-anchor="middle" x="889.5" y="-47.8" font-family="Times,serif" font-size="14.00">PhysicalOptimize</text>
<polyline fill="none" stroke="black" points="833,-40 946,-40 "/>
<text text-anchor="start" x="841" y="-24.8" font-family="Times,serif" font-size="14.00">物理优化</text>
</g>
<!-- LogicalOptimize&#45;&gt;PhysicalOptimize -->
<g id="edge5" class="edge">
<title>LogicalOptimize&#45;&gt;PhysicalOptimize</title>
<path fill="none" stroke="black" d="M796.37,-40C804.9,-40 813.74,-40 822.42,-40"/>
<polygon fill="black" stroke="black" points="822.51,-43.5 832.51,-40 822.51,-36.5 822.51,-43.5"/>
</g>
<!-- PhysicalOptimize&#45;&gt;ExecStmt -->
<g id="edge7" class="edge">
<title>PhysicalOptimize&#45;&gt;ExecStmt</title>
<path fill="none" stroke="black" d="M946.35,-40C955.2,-40 964.24,-40 972.77,-40"/>
<polygon fill="black" stroke="black" points="972.88,-43.5 982.88,-40 972.88,-36.5 972.88,-43.5"/>
</g>
<!-- LogicalPlan -->
<g id="node8" class="node">
<title>LogicalPlan</title>
<polygon fill="none" stroke="black" points="643,-58 561,-58 561,-22 643,-22 643,-58"/>
<text text-anchor="middle" x="602" y="-36.3" font-family="Times,serif" font-size="14.00">LogicalPlan</text>
</g>
<!-- PlanBuilder&#45;&gt;LogicalPlan -->
<g id="edge3" class="edge">
<title>PlanBuilder&#45;&gt;LogicalPlan</title>
<path fill="none" stroke="black" d="M524.05,-40C533.21,-40 542.29,-40 550.82,-40"/>
<polygon fill="black" stroke="black" points="550.92,-43.5 560.92,-40 550.92,-36.5 550.92,-43.5"/>
</g>
<!-- LogicalPlan&#45;&gt;LogicalOptimize -->
<g id="edge4" class="edge">
<title>LogicalPlan&#45;&gt;LogicalOptimize</title>
<path fill="none" stroke="black" d="M643.2,-40C651.61,-40 660.68,-40 669.76,-40"/>
<polygon fill="black" stroke="black" points="669.98,-43.5 679.98,-40 669.98,-36.5 669.98,-43.5"/>
</g>
</g>
</svg>
