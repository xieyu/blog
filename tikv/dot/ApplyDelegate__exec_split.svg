<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: ApplyDelegate__exec_split Pages: 1 -->
<svg width="1480pt" height="784pt"
 viewBox="0.00 0.00 1480.00 784.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 780)">
<title>ApplyDelegate__exec_split</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-780 1476,-780 1476,4 -4,4"/>
<!-- ApplyDelegate__exec_batch_split -->
<g id="node1" class="node">
<title>ApplyDelegate__exec_batch_split</title>
<path fill="none" stroke="#1c2123" d="M12,-398C12,-398 143,-398 143,-398 149,-398 155,-404 155,-410 155,-410 155,-462 155,-462 155,-468 149,-474 143,-474 143,-474 12,-474 12,-474 6,-474 0,-468 0,-462 0,-462 0,-410 0,-410 0,-404 6,-398 12,-398"/>
<text text-anchor="start" x="8" y="-458.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyDelegate</text>
<text text-anchor="start" x="8" y="-443.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> exec_batch_split</text>
<polyline fill="none" stroke="#1c2123" points="0,-436 155,-436 "/>
<text text-anchor="start" x="8" y="-420.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">将原region根据split key</text>
<text text-anchor="start" x="8" y="-405.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 划分为多个region</text>
</g>
<!-- check_key_in_region -->
<g id="node2" class="node">
<title>check_key_in_region</title>
<path fill="none" stroke="#1c2123" d="M357.5,-776C357.5,-776 248.5,-776 248.5,-776 242.5,-776 236.5,-770 236.5,-764 236.5,-764 236.5,-752 236.5,-752 236.5,-746 242.5,-740 248.5,-740 248.5,-740 357.5,-740 357.5,-740 363.5,-740 369.5,-746 369.5,-752 369.5,-752 369.5,-764 369.5,-764 369.5,-770 363.5,-776 357.5,-776"/>
<text text-anchor="middle" x="303" y="-754.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_key_in_region</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;check_key_in_region -->
<g id="edge1" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;check_key_in_region</title>
<path fill="none" stroke="#666666" d="M82.54,-474.24C91.14,-536.17 116.97,-658.31 191,-726 201.12,-735.26 213.76,-741.85 226.85,-746.55"/>
<polygon fill="#666666" stroke="#666666" points="225.83,-749.9 236.43,-749.64 227.98,-743.24 225.83,-749.9"/>
</g>
<!-- write_peer_state -->
<g id="node3" class="node">
<title>write_peer_state</title>
<path fill="none" stroke="#1c2123" d="M1158.5,-638C1158.5,-638 1076.5,-638 1076.5,-638 1070.5,-638 1064.5,-632 1064.5,-626 1064.5,-626 1064.5,-614 1064.5,-614 1064.5,-608 1070.5,-602 1076.5,-602 1076.5,-602 1158.5,-602 1158.5,-602 1164.5,-602 1170.5,-608 1170.5,-614 1170.5,-614 1170.5,-626 1170.5,-626 1170.5,-632 1164.5,-638 1158.5,-638"/>
<text text-anchor="middle" x="1117.5" y="-616.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_peer_state</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;write_peer_state -->
<g id="edge2" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;write_peer_state</title>
<path fill="none" stroke="#666666" d="M85.08,-474.15C96.47,-527.64 125.3,-623.68 191,-671 310.57,-757.11 372.65,-712 520,-712 520,-712 520,-712 722.5,-712 845.69,-712 985,-668.82 1060.53,-641.63"/>
<polygon fill="#666666" stroke="#666666" points="1062.11,-644.78 1070.31,-638.07 1059.72,-638.2 1062.11,-644.78"/>
</g>
<!-- ApplyDelegate__region_clone -->
<g id="node4" class="node">
<title>ApplyDelegate__region_clone</title>
<path fill="none" stroke="#1c2123" d="M253.5,-527C253.5,-527 352.5,-527 352.5,-527 358.5,-527 364.5,-533 364.5,-539 364.5,-539 364.5,-591 364.5,-591 364.5,-597 358.5,-603 352.5,-603 352.5,-603 253.5,-603 253.5,-603 247.5,-603 241.5,-597 241.5,-591 241.5,-591 241.5,-539 241.5,-539 241.5,-533 247.5,-527 253.5,-527"/>
<text text-anchor="start" x="249.5" y="-587.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyDelegate</text>
<text text-anchor="start" x="249.5" y="-572.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> region.clone</text>
<polyline fill="none" stroke="#1c2123" points="241.5,-565 364.5,-565 "/>
<text text-anchor="start" x="249.5" y="-549.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">clone原有的region</text>
<text text-anchor="start" x="249.5" y="-534.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 作为derived</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;ApplyDelegate__region_clone -->
<g id="edge3" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;ApplyDelegate__region_clone</title>
<path fill="none" stroke="#666666" d="M131.25,-474C149.77,-486.7 170.95,-500.53 191,-512 204.08,-519.48 218.37,-526.87 232.23,-533.64"/>
<polygon fill="#666666" stroke="#666666" points="230.72,-536.8 241.25,-537.99 233.77,-530.49 230.72,-536.8"/>
</g>
<!-- derived -->
<g id="node5" class="node">
<title>derived</title>
<path fill="none" stroke="#1c2123" d="M537.5,-611C537.5,-611 504.5,-611 504.5,-611 498.5,-611 492.5,-605 492.5,-599 492.5,-599 492.5,-587 492.5,-587 492.5,-581 498.5,-575 504.5,-575 504.5,-575 537.5,-575 537.5,-575 543.5,-575 549.5,-581 549.5,-587 549.5,-587 549.5,-599 549.5,-599 549.5,-605 543.5,-611 537.5,-611"/>
<text text-anchor="middle" x="521" y="-589.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">derived</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;derived -->
<g id="edge4" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;derived</title>
<path fill="none" stroke="#666666" d="M90.37,-474.31C105.88,-516.92 137.55,-583.64 191,-613 285.26,-664.78 418.45,-629.75 482.6,-607.47"/>
<polygon fill="#666666" stroke="#666666" points="484.04,-610.67 492.28,-604.01 481.69,-604.07 484.04,-610.67"/>
</g>
<!-- derived__mut_region_epoch__set_version -->
<g id="node6" class="node">
<title>derived__mut_region_epoch__set_version</title>
<path fill="none" stroke="#1c2123" d="M467.5,-131C467.5,-131 574.5,-131 574.5,-131 580.5,-131 586.5,-137 586.5,-143 586.5,-143 586.5,-195 586.5,-195 586.5,-201 580.5,-207 574.5,-207 574.5,-207 467.5,-207 467.5,-207 461.5,-207 455.5,-201 455.5,-195 455.5,-195 455.5,-143 455.5,-143 455.5,-137 461.5,-131 467.5,-131"/>
<text text-anchor="start" x="463.5" y="-191.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">derived</text>
<text text-anchor="start" x="463.5" y="-176.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> mut_region_epoch</text>
<text text-anchor="start" x="463.5" y="-161.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_version</text>
<polyline fill="none" stroke="#1c2123" points="455.5,-154 586.5,-154 "/>
<text text-anchor="start" x="463.5" y="-138.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">+= split change num</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;derived__mut_region_epoch__set_version -->
<g id="edge5" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;derived__mut_region_epoch__set_version</title>
<path fill="none" stroke="#666666" d="M87.36,-397.74C100.86,-348.65 131.53,-264.75 191,-222 211.35,-207.37 354.84,-188.27 445.48,-177.45"/>
<polygon fill="#666666" stroke="#666666" points="445.93,-180.92 455.44,-176.27 445.1,-173.97 445.93,-180.92"/>
</g>
<!-- derived__get_region_epoch__get_version -->
<g id="node7" class="node">
<title>derived__get_region_epoch__get_version</title>
<path fill="none" stroke="#1c2123" d="M235.5,-93C235.5,-93 370.5,-93 370.5,-93 376.5,-93 382.5,-99 382.5,-105 382.5,-105 382.5,-157 382.5,-157 382.5,-163 376.5,-169 370.5,-169 370.5,-169 235.5,-169 235.5,-169 229.5,-169 223.5,-163 223.5,-157 223.5,-157 223.5,-105 223.5,-105 223.5,-99 229.5,-93 235.5,-93"/>
<text text-anchor="start" x="231.5" y="-153.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">derived</text>
<text text-anchor="start" x="231.5" y="-138.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_region_epoch</text>
<text text-anchor="middle" x="303" y="-123.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_version</text>
<polyline fill="none" stroke="#1c2123" points="223.5,-116 382.5,-116 "/>
<text text-anchor="start" x="231.5" y="-100.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">获取region epoch version</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;derived__get_region_epoch__get_version -->
<g id="edge6" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;derived__get_region_epoch__get_version</title>
<path fill="none" stroke="#666666" d="M86.66,-397.99C99.99,-344.15 131.14,-245.41 191,-184 197.93,-176.89 206.01,-170.61 214.58,-165.1"/>
<polygon fill="#666666" stroke="#666666" points="216.54,-168.01 223.3,-159.85 212.93,-162.01 216.54,-168.01"/>
</g>
<!-- derived__set_end_key -->
<g id="node8" class="node">
<title>derived__set_end_key</title>
<path fill="none" stroke="#1c2123" d="M778.5,-684C778.5,-684 664.5,-684 664.5,-684 658.5,-684 652.5,-678 652.5,-672 652.5,-672 652.5,-660 652.5,-660 652.5,-654 658.5,-648 664.5,-648 664.5,-648 778.5,-648 778.5,-648 784.5,-648 790.5,-654 790.5,-660 790.5,-660 790.5,-672 790.5,-672 790.5,-678 784.5,-684 778.5,-684"/>
<text text-anchor="middle" x="721.5" y="-662.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">derived__set_end_key</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;derived__set_end_key -->
<g id="edge7" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;derived__set_end_key</title>
<path fill="none" stroke="#666666" d="M87.47,-474.33C100.96,-522.35 131.47,-602.85 191,-640 264.08,-685.61 513.37,-678.42 642.12,-671.26"/>
<polygon fill="#666666" stroke="#666666" points="642.52,-674.74 652.31,-670.68 642.13,-667.75 642.52,-674.74"/>
</g>
<!-- Region__default -->
<g id="node9" class="node">
<title>Region__default</title>
<path fill="none" stroke="#1c2123" d="M463,-302.5C463,-302.5 579,-302.5 579,-302.5 585,-302.5 591,-308.5 591,-314.5 591,-314.5 591,-419.5 591,-419.5 591,-425.5 585,-431.5 579,-431.5 579,-431.5 463,-431.5 463,-431.5 457,-431.5 451,-425.5 451,-419.5 451,-419.5 451,-314.5 451,-314.5 451,-308.5 457,-302.5 463,-302.5"/>
<text text-anchor="middle" x="521" y="-416.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Region::default</text>
<polyline fill="none" stroke="#1c2123" points="451,-408.5 591,-408.5 "/>
<text text-anchor="start" x="459" y="-393.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">给每个新的region</text>
<text text-anchor="start" x="459" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> new_region创建</text>
<text text-anchor="start" x="459" y="-363.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 一个新的Region</text>
<polyline fill="none" stroke="#1c2123" points="451,-355.5 591,-355.5 "/>
<text text-anchor="start" x="459" y="-340.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">然后设置它的属性</text>
<text text-anchor="start" x="459" y="-325.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 会复用原有region的</text>
<text text-anchor="start" x="459" y="-310.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> store_id</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;Region__default -->
<g id="edge8" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;Region__default</title>
<path fill="none" stroke="#666666" d="M155.15,-424.02C235.07,-411.53 359.75,-392.05 440.65,-379.4"/>
<polygon fill="#666666" stroke="#666666" points="441.45,-382.82 450.79,-377.82 440.37,-375.9 441.45,-382.82"/>
</g>
<!-- new_region__set_region_epoch -->
<g id="node10" class="node">
<title>new_region__set_region_epoch</title>
<path fill="none" stroke="#1c2123" d="M804,-212C804,-212 639,-212 639,-212 633,-212 627,-206 627,-200 627,-200 627,-188 627,-188 627,-182 633,-176 639,-176 639,-176 804,-176 804,-176 810,-176 816,-182 816,-188 816,-188 816,-200 816,-200 816,-206 810,-212 804,-212"/>
<text text-anchor="middle" x="721.5" y="-190.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region__set_region_epoch</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_region_epoch -->
<g id="edge9" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_region_epoch</title>
<path fill="none" stroke="#666666" d="M99.36,-397.83C118.82,-366 150.84,-322.09 191,-298 209.23,-287.06 467.99,-239.32 616.89,-212.48"/>
<polygon fill="#666666" stroke="#666666" points="617.76,-215.88 626.98,-210.67 616.52,-209 617.76,-215.88"/>
</g>
<!-- new_region__set_start_key -->
<g id="node11" class="node">
<title>new_region__set_start_key</title>
<path fill="none" stroke="#1c2123" d="M662,-382.5C662,-382.5 781,-382.5 781,-382.5 787,-382.5 793,-388.5 793,-394.5 793,-394.5 793,-431.5 793,-431.5 793,-437.5 787,-443.5 781,-443.5 781,-443.5 662,-443.5 662,-443.5 656,-443.5 650,-437.5 650,-431.5 650,-431.5 650,-394.5 650,-394.5 650,-388.5 656,-382.5 662,-382.5"/>
<text text-anchor="start" x="658" y="-428.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region</text>
<text text-anchor="start" x="658" y="-413.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_start_key</text>
<polyline fill="none" stroke="#1c2123" points="650,-405.5 793,-405.5 "/>
<text text-anchor="start" x="658" y="-390.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">设置region的start_key</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_start_key -->
<g id="edge10" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_start_key</title>
<path fill="none" stroke="#666666" d="M155.18,-442.27C255.61,-449.23 437.05,-457.45 591,-441 606.91,-439.3 623.74,-436.46 639.8,-433.22"/>
<polygon fill="#666666" stroke="#666666" points="640.62,-436.62 649.7,-431.15 639.19,-429.77 640.62,-436.62"/>
</g>
<!-- new_region__set_end_key -->
<g id="node12" class="node">
<title>new_region__set_end_key</title>
<path fill="none" stroke="#1c2123" d="M669,-230.5C669,-230.5 774,-230.5 774,-230.5 780,-230.5 786,-236.5 786,-242.5 786,-242.5 786,-279.5 786,-279.5 786,-285.5 780,-291.5 774,-291.5 774,-291.5 669,-291.5 669,-291.5 663,-291.5 657,-285.5 657,-279.5 657,-279.5 657,-242.5 657,-242.5 657,-236.5 663,-230.5 669,-230.5"/>
<text text-anchor="start" x="665" y="-276.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region</text>
<text text-anchor="start" x="665" y="-261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_end_key</text>
<polyline fill="none" stroke="#1c2123" points="657,-253.5 786,-253.5 "/>
<text text-anchor="start" x="665" y="-238.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">设置region end_key</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_end_key -->
<g id="edge11" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_end_key</title>
<path fill="none" stroke="#666666" d="M151.35,-397.91C164.41,-391.61 178,-385.38 191,-380 303.59,-333.4 332.1,-319.66 451,-293 516.33,-278.35 592.16,-270.11 646.71,-265.67"/>
<polygon fill="#666666" stroke="#666666" points="647.29,-269.13 656.99,-264.86 646.74,-262.16 647.29,-269.13"/>
</g>
<!-- new_region__set_peers -->
<g id="node13" class="node">
<title>new_region__set_peers</title>
<path fill="none" stroke="#1c2123" d="M647.5,-462.5C647.5,-462.5 795.5,-462.5 795.5,-462.5 801.5,-462.5 807.5,-468.5 807.5,-474.5 807.5,-474.5 807.5,-579.5 807.5,-579.5 807.5,-585.5 801.5,-591.5 795.5,-591.5 795.5,-591.5 647.5,-591.5 647.5,-591.5 641.5,-591.5 635.5,-585.5 635.5,-579.5 635.5,-579.5 635.5,-474.5 635.5,-474.5 635.5,-468.5 641.5,-462.5 647.5,-462.5"/>
<text text-anchor="start" x="643.5" y="-576.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region</text>
<text text-anchor="start" x="643.5" y="-561.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_peers</text>
<polyline fill="none" stroke="#1c2123" points="635.5,-553.5 807.5,-553.5 "/>
<text text-anchor="start" x="643.5" y="-538.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">复用region peers</text>
<text text-anchor="start" x="643.5" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 包括store_id，peer_role等</text>
<polyline fill="none" stroke="#1c2123" points="635.5,-515.5 807.5,-515.5 "/>
<text text-anchor="start" x="643.5" y="-500.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">但每个peer_id会用</text>
<text text-anchor="start" x="643.5" y="-485.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> SplitRequest中的</text>
<text text-anchor="start" x="643.5" y="-470.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> new_peer_ids</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_peers -->
<g id="edge12" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;new_region__set_peers</title>
<path fill="none" stroke="#666666" d="M155.14,-454.84C167.1,-457.46 179.35,-459.95 191,-462 341.87,-488.62 518.84,-507.98 625.19,-518.34"/>
<polygon fill="#666666" stroke="#666666" points="624.97,-521.84 635.26,-519.32 625.65,-514.87 624.97,-521.84"/>
</g>
<!-- ExecResult__SplitRegion -->
<g id="node14" class="node">
<title>ExecResult__SplitRegion</title>
<path fill="none" stroke="#1c2123" d="M980,-151C980,-151 1255,-151 1255,-151 1261,-151 1267,-157 1267,-163 1267,-163 1267,-231 1267,-231 1267,-237 1261,-243 1255,-243 1255,-243 980,-243 980,-243 974,-243 968,-237 968,-231 968,-231 968,-163 968,-163 968,-157 974,-151 980,-151"/>
<text text-anchor="middle" x="1117.5" y="-227.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ExecResult__SplitRegion</text>
<polyline fill="none" stroke="#1c2123" points="968,-220 1267,-220 "/>
<text text-anchor="start" x="976" y="-204.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">regions: Vec&lt;Region&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="968,-197 1267,-197 "/>
<text text-anchor="start" x="976" y="-181.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">derived: Region,</text>
<polyline fill="none" stroke="#1c2123" points="968,-174 1267,-174 "/>
<text text-anchor="start" x="976" y="-158.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_split_regions: HashMap&lt;u64, NewSplitPeer&gt;,</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;ExecResult__SplitRegion -->
<g id="edge13" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;ExecResult__SplitRegion</title>
<path fill="none" stroke="#666666" d="M77.75,-397.95C78.57,-323.62 92.17,-159.7 191,-83 248.85,-38.1 446.77,-64 520,-64 520,-64 520,-64 722.5,-64 829.68,-64 945.06,-108.73 1023.08,-146.31"/>
<polygon fill="#666666" stroke="#666666" points="1021.88,-149.62 1032.41,-150.86 1024.95,-143.33 1021.88,-149.62"/>
</g>
<!-- ApplyContext__pending_create_peers -->
<g id="node15" class="node">
<title>ApplyContext__pending_create_peers</title>
<path fill="none" stroke="#1c2123" d="M403,-36C403,-36 203,-36 203,-36 197,-36 191,-30 191,-24 191,-24 191,-12 191,-12 191,-6 197,0 203,0 203,0 403,0 403,0 409,0 415,-6 415,-12 415,-12 415,-24 415,-24 415,-30 409,-36 403,-36"/>
<text text-anchor="middle" x="303" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyContext__pending_create_peers</text>
</g>
<!-- ApplyDelegate__exec_batch_split&#45;&gt;ApplyContext__pending_create_peers -->
<g id="edge14" class="edge">
<title>ApplyDelegate__exec_batch_split&#45;&gt;ApplyContext__pending_create_peers</title>
<path fill="none" stroke="#666666" d="M78.18,-397.95C79.68,-321.1 94.24,-146.48 191,-50 194.12,-46.89 197.51,-44.08 201.12,-41.54"/>
<polygon fill="#666666" stroke="#666666" points="203.24,-44.35 209.88,-36.09 199.54,-38.4 203.24,-44.35"/>
</g>
<!-- ApplyDelegate__region_clone&#45;&gt;derived -->
<g id="edge15" class="edge">
<title>ApplyDelegate__region_clone&#45;&gt;derived</title>
<path fill="none" stroke="#666666" d="M364.74,-572.87C402.57,-577.78 450.04,-583.93 482.47,-588.13"/>
<polygon fill="#666666" stroke="#666666" points="482.07,-591.61 492.44,-589.43 482.97,-584.67 482.07,-591.61"/>
</g>
<!-- derived&#45;&gt;write_peer_state -->
<g id="edge32" class="edge">
<title>derived&#45;&gt;write_peer_state</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M549.62,-595.39C570.78,-597.15 600.72,-599.49 627,-601 780.45,-609.82 961.2,-615.66 1054.22,-618.33"/>
<polygon fill="green" stroke="green" points="1054.21,-621.83 1064.31,-618.61 1054.41,-614.83 1054.21,-621.83"/>
</g>
<!-- derived&#45;&gt;derived__set_end_key -->
<g id="edge18" class="edge">
<title>derived&#45;&gt;derived__set_end_key</title>
<path fill="none" stroke="#666666" d="M549.51,-604.11C570.62,-612.55 600.54,-624.31 627,-634 636.65,-637.53 646.89,-641.16 656.93,-644.65"/>
<polygon fill="#666666" stroke="#666666" points="655.87,-647.99 666.47,-647.95 658.16,-641.37 655.87,-647.99"/>
</g>
<!-- derived&#45;&gt;new_region__set_region_epoch -->
<g id="edge19" class="edge">
<title>derived&#45;&gt;new_region__set_region_epoch</title>
<path fill="none" stroke="#666666" d="M532.13,-574.89C547.28,-547.01 575.71,-491.48 591,-441 619.73,-346.18 561.23,-295.1 627,-221 627.64,-220.28 628.29,-219.58 628.97,-218.9"/>
<polygon fill="#666666" stroke="#666666" points="631.41,-221.41 636.76,-212.27 626.88,-216.08 631.41,-221.41"/>
</g>
<!-- derived&#45;&gt;new_region__set_peers -->
<g id="edge20" class="edge">
<title>derived&#45;&gt;new_region__set_peers</title>
<path fill="none" stroke="#666666" d="M549.6,-583.82C569.52,-577.2 597.67,-567.84 625.4,-558.62"/>
<polygon fill="#666666" stroke="#666666" points="626.79,-561.85 635.18,-555.37 624.58,-555.2 626.79,-561.85"/>
</g>
<!-- derived__mut_region_epoch__set_version&#45;&gt;new_region__set_region_epoch -->
<g id="edge17" class="edge">
<title>derived__mut_region_epoch__set_version&#45;&gt;new_region__set_region_epoch</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M586.72,-177.15C596.31,-178.36 606.39,-179.63 616.53,-180.91"/>
<polygon fill="green" stroke="green" points="616.33,-184.41 626.69,-182.18 617.2,-177.46 616.33,-184.41"/>
</g>
<!-- derived__get_region_epoch__get_version&#45;&gt;derived__mut_region_epoch__set_version -->
<g id="edge16" class="edge">
<title>derived__get_region_epoch__get_version&#45;&gt;derived__mut_region_epoch__set_version</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M382.59,-144.83C403.02,-148.42 424.98,-152.28 445.21,-155.84"/>
<polygon fill="green" stroke="green" points="444.84,-159.33 455.3,-157.62 446.05,-152.44 444.84,-159.33"/>
</g>
<!-- Region__default&#45;&gt;new_region__set_region_epoch -->
<g id="edge21" class="edge">
<title>Region__default&#45;&gt;new_region__set_region_epoch</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M555.31,-302.49C573.07,-273.81 597.4,-241.87 627,-221 629.11,-219.51 631.31,-218.1 633.57,-216.77"/>
<polygon fill="green" stroke="green" points="635.37,-219.78 642.57,-212 632.09,-213.59 635.37,-219.78"/>
</g>
<!-- Region__default&#45;&gt;new_region__set_start_key -->
<g id="edge22" class="edge">
<title>Region__default&#45;&gt;new_region__set_start_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M591.15,-383.02C606.9,-386.67 623.77,-390.58 639.95,-394.33"/>
<polygon fill="green" stroke="green" points="639.39,-397.8 649.92,-396.64 640.97,-390.98 639.39,-397.8"/>
</g>
<!-- Region__default&#45;&gt;new_region__set_end_key -->
<g id="edge23" class="edge">
<title>Region__default&#45;&gt;new_region__set_end_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M591.14,-321.41C602.92,-314.26 615.18,-307.2 627,-301 633.45,-297.62 640.25,-294.29 647.12,-291.08"/>
<polygon fill="green" stroke="green" points="648.86,-294.13 656.5,-286.79 645.95,-287.77 648.86,-294.13"/>
</g>
<!-- Region__default&#45;&gt;new_region__set_peers -->
<g id="edge24" class="edge">
<title>Region__default&#45;&gt;new_region__set_peers</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M591.05,-423.83C603.01,-433.6 615.35,-443.62 627,-453 628.18,-453.95 629.38,-454.91 630.58,-455.88"/>
<polygon fill="green" stroke="green" points="628.6,-458.78 638.6,-462.31 632.98,-453.32 628.6,-458.78"/>
</g>
<!-- new_region__set_id -->
<g id="node16" class="node">
<title>new_region__set_id</title>
<path fill="none" stroke="#1c2123" d="M683,-310.5C683,-310.5 760,-310.5 760,-310.5 766,-310.5 772,-316.5 772,-322.5 772,-322.5 772,-351.5 772,-351.5 772,-357.5 766,-363.5 760,-363.5 760,-363.5 683,-363.5 683,-363.5 677,-363.5 671,-357.5 671,-351.5 671,-351.5 671,-322.5 671,-322.5 671,-316.5 677,-310.5 683,-310.5"/>
<text text-anchor="start" x="679" y="-348.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region</text>
<text text-anchor="start" x="679" y="-333.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_id</text>
<text text-anchor="start" x="679" y="-318.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 设置region_id</text>
</g>
<!-- Region__default&#45;&gt;new_region__set_id -->
<g id="edge25" class="edge">
<title>Region__default&#45;&gt;new_region__set_id</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M591.15,-356.55C613.85,-353.12 638.87,-349.34 660.8,-346.02"/>
<polygon fill="green" stroke="green" points="661.61,-349.44 670.97,-344.49 660.56,-342.52 661.61,-349.44"/>
</g>
<!-- new_region -->
<g id="node17" class="node">
<title>new_region</title>
<path fill="none" stroke="#1c2123" d="M920,-355C920,-355 864,-355 864,-355 858,-355 852,-349 852,-343 852,-343 852,-331 852,-331 852,-325 858,-319 864,-319 864,-319 920,-319 920,-319 926,-319 932,-325 932,-331 932,-331 932,-343 932,-343 932,-349 926,-355 920,-355"/>
<text text-anchor="middle" x="892" y="-333.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_region</text>
</g>
<!-- new_region__set_region_epoch&#45;&gt;new_region -->
<g id="edge26" class="edge">
<title>new_region__set_region_epoch&#45;&gt;new_region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M801.55,-212.2C806.65,-214.76 811.52,-217.67 816,-221 846.55,-243.7 868.05,-282.84 879.98,-309.31"/>
<polygon fill="green" stroke="green" points="876.89,-310.99 884.08,-318.78 883.31,-308.21 876.89,-310.99"/>
</g>
<!-- new_region__set_start_key&#45;&gt;new_region -->
<g id="edge27" class="edge">
<title>new_region__set_start_key&#45;&gt;new_region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M793.1,-383.18C800.85,-379.8 808.6,-376.36 816,-373 825.37,-368.75 835.34,-364.08 844.84,-359.54"/>
<polygon fill="green" stroke="green" points="846.64,-362.56 854.15,-355.08 843.62,-356.25 846.64,-362.56"/>
</g>
<!-- new_region__set_end_key&#45;&gt;new_region -->
<g id="edge28" class="edge">
<title>new_region__set_end_key&#45;&gt;new_region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M786.03,-287.74C796.09,-292.1 806.35,-296.62 816,-301 825.37,-305.25 835.34,-309.92 844.84,-314.46"/>
<polygon fill="green" stroke="green" points="843.62,-317.75 854.15,-318.92 846.64,-311.44 843.62,-317.75"/>
</g>
<!-- new_region__set_peers&#45;&gt;new_region -->
<g id="edge29" class="edge">
<title>new_region__set_peers&#45;&gt;new_region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M807.28,-462.1C810.3,-459.1 813.22,-456.06 816,-453 841.03,-425.46 863.27,-388.69 876.91,-363.99"/>
<polygon fill="green" stroke="green" points="880.01,-365.62 881.7,-355.16 873.86,-362.28 880.01,-365.62"/>
</g>
<!-- NewSplitPeer -->
<g id="node18" class="node">
<title>NewSplitPeer</title>
<path fill="none" stroke="#1c2123" d="M1315,-162.5C1315,-162.5 1460,-162.5 1460,-162.5 1466,-162.5 1472,-168.5 1472,-174.5 1472,-174.5 1472,-219.5 1472,-219.5 1472,-225.5 1466,-231.5 1460,-231.5 1460,-231.5 1315,-231.5 1315,-231.5 1309,-231.5 1303,-225.5 1303,-219.5 1303,-219.5 1303,-174.5 1303,-174.5 1303,-168.5 1309,-162.5 1315,-162.5"/>
<text text-anchor="middle" x="1387.5" y="-216.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">NewSplitPeer</text>
<polyline fill="none" stroke="#1c2123" points="1303,-208.5 1472,-208.5 "/>
<text text-anchor="start" x="1311" y="-193.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub peer_id: u64,</text>
<polyline fill="none" stroke="#1c2123" points="1303,-185.5 1472,-185.5 "/>
<text text-anchor="start" x="1311" y="-170.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub result: Option&lt;String&gt;,</text>
</g>
<!-- ExecResult__SplitRegion&#45;&gt;NewSplitPeer -->
<g id="edge33" class="edge">
<title>ExecResult__SplitRegion&#45;&gt;NewSplitPeer</title>
<path fill="none" stroke="#666666" d="M1267,-197C1275.67,-197 1284.26,-197 1292.62,-197"/>
<polygon fill="#666666" stroke="#666666" points="1292.7,-200.5 1302.7,-197 1292.7,-193.5 1292.7,-200.5"/>
</g>
<!-- new_region__set_id&#45;&gt;new_region -->
<g id="edge30" class="edge">
<title>new_region__set_id&#45;&gt;new_region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M772.14,-337C794.1,-337 819.85,-337 841.76,-337"/>
<polygon fill="green" stroke="green" points="841.85,-340.5 851.85,-337 841.85,-333.5 841.85,-340.5"/>
</g>
<!-- new_region&#45;&gt;write_peer_state -->
<g id="edge31" class="edge">
<title>new_region&#45;&gt;write_peer_state</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M907.32,-355.13C945.63,-403.64 1050.58,-536.53 1095.57,-593.5"/>
<polygon fill="green" stroke="green" points="1093.06,-595.97 1102.01,-601.65 1098.56,-591.63 1093.06,-595.97"/>
</g>
<!-- new_region&#45;&gt;ExecResult__SplitRegion -->
<g id="edge34" class="edge">
<title>new_region&#45;&gt;ExecResult__SplitRegion:regions</title>
<path fill="none" stroke="#666666" d="M895.15,-318.93C900.09,-286.13 915.29,-219.3 957.86,-210.07"/>
<polygon fill="#666666" stroke="#666666" points="958.42,-213.53 968,-209 957.69,-206.57 958.42,-213.53"/>
</g>
</g>
</svg>
