<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: last_kv_policy Pages: 1 -->
<svg width="1685pt" height="735pt"
 viewBox="0.00 0.00 1685.00 735.46" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 731.46)">
<title>last_kv_policy</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-731.46 1681,-731.46 1681,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Cursors</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1440,-93.46C1440,-93.46 1657,-93.46 1657,-93.46 1663,-93.46 1669,-99.46 1669,-105.46 1669,-105.46 1669,-175.46 1669,-175.46 1669,-181.46 1663,-187.46 1657,-187.46 1657,-187.46 1440,-187.46 1440,-187.46 1434,-187.46 1428,-181.46 1428,-175.46 1428,-175.46 1428,-105.46 1428,-105.46 1428,-99.46 1434,-93.46 1440,-93.46"/>
<text text-anchor="middle" x="1548.5" y="-167.46" font-family="Times,serif" font-size="20.00">Cursors</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_LastKvPolicy</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M223,-37.46C223,-37.46 1396,-37.46 1396,-37.46 1402,-37.46 1408,-43.46 1408,-49.46 1408,-49.46 1408,-591.46 1408,-591.46 1408,-597.46 1402,-603.46 1396,-603.46 1396,-603.46 223,-603.46 223,-603.46 217,-603.46 211,-597.46 211,-591.46 211,-591.46 211,-49.46 211,-49.46 211,-43.46 217,-37.46 223,-37.46"/>
<text text-anchor="middle" x="809.5" y="-583.46" font-family="Times,serif" font-size="20.00">LastKvPolicy</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_loop</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M465,-145.46C465,-145.46 1025,-145.46 1025,-145.46 1031,-145.46 1037,-151.46 1037,-157.46 1037,-157.46 1037,-323.46 1037,-323.46 1037,-329.46 1031,-335.46 1025,-335.46 1025,-335.46 465,-335.46 465,-335.46 459,-335.46 453,-329.46 453,-323.46 453,-323.46 453,-157.46 453,-157.46 453,-151.46 459,-145.46 465,-145.46"/>
<text text-anchor="middle" x="745" y="-315.46" font-family="Times,serif" font-size="20.00">loop</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_ForwardScanner</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-611.46C20,-611.46 391,-611.46 391,-611.46 397,-611.46 403,-617.46 403,-623.46 403,-623.46 403,-707.46 403,-707.46 403,-713.46 397,-719.46 391,-719.46 391,-719.46 20,-719.46 20,-719.46 14,-719.46 8,-713.46 8,-707.46 8,-707.46 8,-623.46 8,-623.46 8,-617.46 14,-611.46 20,-611.46"/>
<text text-anchor="middle" x="205.5" y="-699.46" font-family="Times,serif" font-size="20.00">ForwardScanner</text>
</g>
<!-- move_write_cursor_to_next_user_key -->
<g id="node1" class="node">
<title>move_write_cursor_to_next_user_key</title>
<path fill="none" stroke="#1c2123" d="M1448,-102.46C1448,-102.46 1649,-102.46 1649,-102.46 1655,-102.46 1661,-108.46 1661,-114.46 1661,-114.46 1661,-136.46 1661,-136.46 1661,-142.46 1655,-148.46 1649,-148.46 1649,-148.46 1448,-148.46 1448,-148.46 1442,-148.46 1436,-142.46 1436,-136.46 1436,-136.46 1436,-114.46 1436,-114.46 1436,-108.46 1442,-102.46 1448,-102.46"/>
<text text-anchor="middle" x="1548.5" y="-133.26" font-family="Times,serif" font-size="14.00" fill="#2f3638">move_write_cursor_to_next_user_key</text>
<polyline fill="none" stroke="#1c2123" points="1436,-125.46 1661,-125.46 "/>
<text text-anchor="start" x="1444" y="-110.26" font-family="Times,serif" font-size="14.00" fill="#2f3638">移动write_cursor 直到下一个key</text>
</g>
<!-- handle_lock -->
<g id="node2" class="node">
<title>handle_lock</title>
<path fill="none" stroke="#1c2123" d="M347,-515.46C347,-515.46 288,-515.46 288,-515.46 282,-515.46 276,-509.46 276,-503.46 276,-503.46 276,-491.46 276,-491.46 276,-485.46 282,-479.46 288,-479.46 288,-479.46 347,-479.46 347,-479.46 353,-479.46 359,-485.46 359,-491.46 359,-491.46 359,-503.46 359,-503.46 359,-509.46 353,-515.46 347,-515.46"/>
<text text-anchor="middle" x="317.5" y="-493.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_lock</text>
</g>
<!-- scan_latest_handle_lock -->
<g id="node3" class="node">
<title>scan_latest_handle_lock</title>
<path fill="none" stroke="#1c2123" d="M464,-402.96C464,-402.96 661,-402.96 661,-402.96 667,-402.96 673,-408.96 673,-414.96 673,-414.96 673,-481.96 673,-481.96 673,-487.96 667,-493.96 661,-493.96 661,-493.96 464,-493.96 464,-493.96 458,-493.96 452,-487.96 452,-481.96 452,-481.96 452,-414.96 452,-414.96 452,-408.96 458,-402.96 464,-402.96"/>
<text text-anchor="middle" x="562.5" y="-478.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">scan_latest_handle_lock</text>
<polyline fill="none" stroke="#1c2123" points="452,-470.96 673,-470.96 "/>
<text text-anchor="start" x="460" y="-455.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">读取lock info</text>
<text text-anchor="start" x="460" y="-440.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 检查check_ts_conflict</text>
<text text-anchor="start" x="460" y="-425.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果有冲突则skip掉这个user key </text>
<text text-anchor="start" x="460" y="-410.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 移动write cursor到下一个key</text>
</g>
<!-- handle_lock&#45;&gt;scan_latest_handle_lock -->
<g id="edge1" class="edge">
<title>handle_lock&#45;&gt;scan_latest_handle_lock</title>
<path fill="none" stroke="#666666" d="M359.17,-489.26C382.05,-484.64 411.94,-478.62 441.68,-472.62"/>
<polygon fill="#666666" stroke="#666666" points="442.64,-476 451.75,-470.59 441.26,-469.14 442.64,-476"/>
</g>
<!-- scan_latest_handle_lock&#45;&gt;move_write_cursor_to_next_user_key -->
<g id="edge2" class="edge">
<title>scan_latest_handle_lock&#45;&gt;move_write_cursor_to_next_user_key</title>
<path fill="none" stroke="#666666" d="M622.03,-402.82C641.09,-385.03 660.52,-363.21 673,-339.46 714.6,-260.28 642.12,-200.85 709,-141.46 795.73,-64.44 853.5,-125.46 969.5,-125.46 969.5,-125.46 969.5,-125.46 1121.5,-125.46 1224.02,-125.46 1340.41,-125.46 1425.6,-125.46"/>
<polygon fill="#666666" stroke="#666666" points="1425.83,-128.96 1435.83,-125.46 1425.83,-121.96 1425.83,-128.96"/>
</g>
<!-- cfg_isolation_level -->
<g id="node4" class="node">
<title>cfg_isolation_level</title>
<path fill="none" stroke="#1c2123" d="M730,-417.96C730,-417.96 855,-417.96 855,-417.96 861,-417.96 867,-423.96 867,-429.96 867,-429.96 867,-466.96 867,-466.96 867,-472.96 861,-478.96 855,-478.96 855,-478.96 730,-478.96 730,-478.96 724,-478.96 718,-472.96 718,-466.96 718,-466.96 718,-429.96 718,-429.96 718,-423.96 724,-417.96 730,-417.96"/>
<text text-anchor="middle" x="792.5" y="-463.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">cfg_isolation_level</text>
<polyline fill="none" stroke="#1c2123" points="718,-455.96 867,-455.96 "/>
<text text-anchor="start" x="726" y="-440.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">只有IsolationLevel为SI</text>
<text text-anchor="start" x="726" y="-425.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 的需要检查lock</text>
</g>
<!-- scan_latest_handle_lock&#45;&gt;cfg_isolation_level -->
<g id="edge3" class="edge">
<title>scan_latest_handle_lock&#45;&gt;cfg_isolation_level</title>
<path fill="none" stroke="#666666" d="M673.16,-448.46C684.78,-448.46 696.45,-448.46 707.71,-448.46"/>
<polygon fill="#666666" stroke="#666666" points="707.91,-451.96 717.91,-448.46 707.91,-444.96 707.91,-451.96"/>
</g>
<!-- check_ts_conflict -->
<g id="node5" class="node">
<title>check_ts_conflict</title>
<path fill="none" stroke="#1c2123" d="M1164,-389.46C1164,-389.46 1077,-389.46 1077,-389.46 1071,-389.46 1065,-383.46 1065,-377.46 1065,-377.46 1065,-365.46 1065,-365.46 1065,-359.46 1071,-353.46 1077,-353.46 1077,-353.46 1164,-353.46 1164,-353.46 1170,-353.46 1176,-359.46 1176,-365.46 1176,-365.46 1176,-377.46 1176,-377.46 1176,-383.46 1170,-389.46 1164,-389.46"/>
<text text-anchor="middle" x="1120.5" y="-367.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_ts_conflict</text>
</g>
<!-- scan_latest_handle_lock&#45;&gt;check_ts_conflict -->
<g id="edge4" class="edge">
<title>scan_latest_handle_lock&#45;&gt;check_ts_conflict</title>
<path fill="none" stroke="#666666" d="M673.28,-481.97C685.25,-484.63 697.32,-486.88 709,-488.46 782.56,-498.39 803.63,-504.94 876,-488.46 954.88,-470.49 1038.02,-423.62 1083.86,-394.95"/>
<polygon fill="#666666" stroke="#666666" points="1085.94,-397.77 1092.52,-389.47 1082.2,-391.86 1085.94,-397.77"/>
</g>
<!-- cursors_lock_next -->
<g id="node6" class="node">
<title>cursors_lock_next</title>
<path fill="none" stroke="#1c2123" d="M721,-518.46C721,-518.46 864,-518.46 864,-518.46 870,-518.46 876,-524.46 876,-530.46 876,-530.46 876,-552.46 876,-552.46 876,-558.46 870,-564.46 864,-564.46 864,-564.46 721,-564.46 721,-564.46 715,-564.46 709,-558.46 709,-552.46 709,-552.46 709,-530.46 709,-530.46 709,-524.46 715,-518.46 721,-518.46"/>
<text text-anchor="middle" x="792.5" y="-549.26" font-family="Times,serif" font-size="14.00" fill="#2f3638">cursors.lock.next</text>
<polyline fill="none" stroke="#1c2123" points="709,-541.46 876,-541.46 "/>
<text text-anchor="middle" x="792.5" y="-526.26" font-family="Times,serif" font-size="14.00" fill="#2f3638">移动Lock cursor到下一个</text>
</g>
<!-- scan_latest_handle_lock&#45;&gt;cursors_lock_next -->
<g id="edge5" class="edge">
<title>scan_latest_handle_lock&#45;&gt;cursors_lock_next</title>
<path fill="none" stroke="#666666" d="M673.16,-493.19C691.09,-500.5 709.16,-507.87 725.6,-514.58"/>
<polygon fill="#666666" stroke="#666666" points="724.49,-517.91 735.07,-518.44 727.14,-511.43 724.49,-517.91"/>
</g>
<!-- cursors_lock_value -->
<g id="node7" class="node">
<title>cursors_lock_value</title>
<path fill="none" stroke="#1c2123" d="M841.5,-399.46C841.5,-399.46 743.5,-399.46 743.5,-399.46 737.5,-399.46 731.5,-393.46 731.5,-387.46 731.5,-387.46 731.5,-375.46 731.5,-375.46 731.5,-369.46 737.5,-363.46 743.5,-363.46 743.5,-363.46 841.5,-363.46 841.5,-363.46 847.5,-363.46 853.5,-369.46 853.5,-375.46 853.5,-375.46 853.5,-387.46 853.5,-387.46 853.5,-393.46 847.5,-399.46 841.5,-399.46"/>
<text text-anchor="middle" x="792.5" y="-377.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">cursors_lock_value</text>
</g>
<!-- scan_latest_handle_lock&#45;&gt;cursors_lock_value -->
<g id="edge6" class="edge">
<title>scan_latest_handle_lock&#45;&gt;cursors_lock_value</title>
<path fill="none" stroke="#666666" d="M673.16,-416.24C689.63,-411.4 706.22,-406.52 721.56,-402.01"/>
<polygon fill="#666666" stroke="#666666" points="722.83,-405.29 731.44,-399.11 720.86,-398.57 722.83,-405.29"/>
</g>
<!-- Lock_parse -->
<g id="node8" class="node">
<title>Lock_parse</title>
<path fill="none" stroke="#1c2123" d="M998.5,-389.46C998.5,-389.46 942.5,-389.46 942.5,-389.46 936.5,-389.46 930.5,-383.46 930.5,-377.46 930.5,-377.46 930.5,-365.46 930.5,-365.46 930.5,-359.46 936.5,-353.46 942.5,-353.46 942.5,-353.46 998.5,-353.46 998.5,-353.46 1004.5,-353.46 1010.5,-359.46 1010.5,-365.46 1010.5,-365.46 1010.5,-377.46 1010.5,-377.46 1010.5,-383.46 1004.5,-389.46 998.5,-389.46"/>
<text text-anchor="middle" x="970.5" y="-367.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">Lock_parse</text>
</g>
<!-- scan_latest_handle_lock&#45;&gt;Lock_parse -->
<g id="edge7" class="edge">
<title>scan_latest_handle_lock&#45;&gt;Lock_parse</title>
<path fill="none" stroke="#666666" d="M617.79,-402.73C643.67,-383.86 676.12,-364.16 709,-354.46 780.26,-333.44 867.08,-346.31 920.31,-358.29"/>
<polygon fill="#666666" stroke="#666666" points="919.64,-361.73 930.17,-360.59 921.22,-354.91 919.64,-361.73"/>
</g>
<!-- result_err -->
<g id="node9" class="node">
<title>result_err</title>
<path fill="none" stroke="#1c2123" d="M1224,-247.96C1224,-247.96 1388,-247.96 1388,-247.96 1394,-247.96 1400,-253.96 1400,-259.96 1400,-259.96 1400,-296.96 1400,-296.96 1400,-302.96 1394,-308.96 1388,-308.96 1388,-308.96 1224,-308.96 1224,-308.96 1218,-308.96 1212,-302.96 1212,-296.96 1212,-296.96 1212,-259.96 1212,-259.96 1212,-253.96 1218,-247.96 1224,-247.96"/>
<text text-anchor="middle" x="1306" y="-293.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">result_err</text>
<polyline fill="none" stroke="#1c2123" points="1212,-285.96 1400,-285.96 "/>
<text text-anchor="start" x="1220" y="-270.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">有lock err</text>
<text text-anchor="start" x="1220" y="-255.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 移动cursor到下一个user_key</text>
</g>
<!-- check_ts_conflict&#45;&gt;result_err -->
<g id="edge10" class="edge">
<title>check_ts_conflict&#45;&gt;result_err</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1157.32,-353.31C1179.62,-342 1209.05,-327.09 1235.77,-313.55"/>
<polygon fill="green" stroke="green" points="1237.37,-316.66 1244.71,-309.02 1234.21,-310.41 1237.37,-316.66"/>
</g>
<!-- cursors_lock_value&#45;&gt;Lock_parse -->
<g id="edge8" class="edge">
<title>cursors_lock_value&#45;&gt;Lock_parse</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M853.58,-378.05C875.3,-376.81 899.56,-375.43 920.24,-374.26"/>
<polygon fill="green" stroke="green" points="920.61,-377.74 930.39,-373.68 920.21,-370.76 920.61,-377.74"/>
</g>
<!-- Lock_parse&#45;&gt;check_ts_conflict -->
<g id="edge9" class="edge">
<title>Lock_parse&#45;&gt;check_ts_conflict</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1010.77,-371.46C1024.27,-371.46 1039.76,-371.46 1054.74,-371.46"/>
<polygon fill="green" stroke="green" points="1055,-374.96 1065,-371.46 1055,-367.96 1055,-374.96"/>
</g>
<!-- result_err&#45;&gt;move_write_cursor_to_next_user_key -->
<g id="edge11" class="edge">
<title>result_err&#45;&gt;move_write_cursor_to_next_user_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1355.09,-247.87C1398.09,-220.51 1460.62,-180.73 1502.62,-154.01"/>
<polygon fill="green" stroke="green" points="1504.69,-156.84 1511.25,-148.52 1500.93,-150.94 1504.69,-156.84"/>
</g>
<!-- handle_write -->
<g id="node10" class="node">
<title>handle_write</title>
<path fill="none" stroke="#1c2123" d="M231,-152.96C231,-152.96 404,-152.96 404,-152.96 410,-152.96 416,-158.96 416,-164.96 416,-164.96 416,-231.96 416,-231.96 416,-237.96 410,-243.96 404,-243.96 404,-243.96 231,-243.96 231,-243.96 225,-243.96 219,-237.96 219,-231.96 219,-231.96 219,-164.96 219,-164.96 219,-158.96 225,-152.96 231,-152.96"/>
<text text-anchor="middle" x="317.5" y="-228.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_write</text>
<polyline fill="none" stroke="#1c2123" points="219,-220.96 416,-220.96 "/>
<text text-anchor="start" x="227" y="-205.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">解析write ref</text>
<text text-anchor="start" x="227" y="-190.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 通过loop查找到user key</text>
<text text-anchor="start" x="227" y="-175.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 最新commit ts</text>
<text text-anchor="start" x="227" y="-160.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 这块的逻辑类似于PointGetter</text>
</g>
<!-- handle_write&#45;&gt;move_write_cursor_to_next_user_key -->
<g id="edge12" class="edge">
<title>handle_write&#45;&gt;move_write_cursor_to_next_user_key</title>
<path fill="none" stroke="#666666" d="M342.01,-152.74C364.53,-114.25 402.42,-61.57 452,-36.46 586.83,31.81 640.38,-17.46 791.5,-17.46 791.5,-17.46 791.5,-17.46 1121.5,-17.46 1253.29,-17.46 1401.17,-66.63 1483.43,-98.61"/>
<polygon fill="#666666" stroke="#666666" points="1482.55,-102.03 1493.14,-102.42 1485.11,-95.51 1482.55,-102.03"/>
</g>
<!-- check_gc_fence_as_latest_version -->
<g id="node11" class="node">
<title>check_gc_fence_as_latest_version</title>
<path fill="none" stroke="#1c2123" d="M652,-243.46C652,-243.46 473,-243.46 473,-243.46 467,-243.46 461,-237.46 461,-231.46 461,-231.46 461,-219.46 461,-219.46 461,-213.46 467,-207.46 473,-207.46 473,-207.46 652,-207.46 652,-207.46 658,-207.46 664,-213.46 664,-219.46 664,-219.46 664,-231.46 664,-231.46 664,-237.46 658,-243.46 652,-243.46"/>
<text text-anchor="middle" x="562.5" y="-221.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_gc_fence_as_latest_version</text>
</g>
<!-- handle_write&#45;&gt;check_gc_fence_as_latest_version -->
<g id="edge13" class="edge">
<title>handle_write&#45;&gt;check_gc_fence_as_latest_version</title>
<path fill="none" stroke="#666666" d="M416.29,-209.33C427.61,-210.58 439.22,-211.87 450.7,-213.15"/>
<polygon fill="#666666" stroke="#666666" points="450.42,-216.64 460.74,-214.26 451.19,-209.68 450.42,-216.64"/>
</g>
<!-- WriteRef_parse -->
<g id="node12" class="node">
<title>WriteRef_parse</title>
<path fill="none" stroke="#1c2123" d="M601.5,-189.46C601.5,-189.46 523.5,-189.46 523.5,-189.46 517.5,-189.46 511.5,-183.46 511.5,-177.46 511.5,-177.46 511.5,-165.46 511.5,-165.46 511.5,-159.46 517.5,-153.46 523.5,-153.46 523.5,-153.46 601.5,-153.46 601.5,-153.46 607.5,-153.46 613.5,-159.46 613.5,-165.46 613.5,-165.46 613.5,-177.46 613.5,-177.46 613.5,-183.46 607.5,-189.46 601.5,-189.46"/>
<text text-anchor="middle" x="562.5" y="-167.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteRef_parse</text>
</g>
<!-- handle_write&#45;&gt;WriteRef_parse -->
<g id="edge14" class="edge">
<title>handle_write&#45;&gt;WriteRef_parse</title>
<path fill="none" stroke="#666666" d="M416.29,-187.59C445.04,-184.4 475.65,-181 501.3,-178.15"/>
<polygon fill="#666666" stroke="#666666" points="501.69,-181.63 511.25,-177.04 500.92,-174.67 501.69,-181.63"/>
</g>
<!-- write_type -->
<g id="node13" class="node">
<title>write_type</title>
<path fill="none" stroke="#1c2123" d="M817.5,-243.46C817.5,-243.46 767.5,-243.46 767.5,-243.46 761.5,-243.46 755.5,-237.46 755.5,-231.46 755.5,-231.46 755.5,-219.46 755.5,-219.46 755.5,-213.46 761.5,-207.46 767.5,-207.46 767.5,-207.46 817.5,-207.46 817.5,-207.46 823.5,-207.46 829.5,-213.46 829.5,-219.46 829.5,-219.46 829.5,-231.46 829.5,-231.46 829.5,-237.46 823.5,-243.46 817.5,-243.46"/>
<text text-anchor="middle" x="792.5" y="-221.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_type</text>
</g>
<!-- handle_write&#45;&gt;write_type -->
<g id="edge15" class="edge">
<title>handle_write&#45;&gt;write_type</title>
<path fill="none" stroke="#666666" d="M359.42,-244.03C383.7,-267.57 416.59,-293.93 452,-306.46 544.6,-339.23 587.35,-354.54 673,-306.46 699.79,-291.42 684.39,-265.85 709,-247.46 719.49,-239.62 732.57,-234.57 745.2,-231.32"/>
<polygon fill="#666666" stroke="#666666" points="746.19,-234.68 755.18,-229.08 744.66,-227.85 746.19,-234.68"/>
</g>
<!-- ensure_default_cursor -->
<g id="node14" class="node">
<title>ensure_default_cursor</title>
<path fill="none" stroke="#1c2123" d="M619,-81.46C619,-81.46 506,-81.46 506,-81.46 500,-81.46 494,-75.46 494,-69.46 494,-69.46 494,-57.46 494,-57.46 494,-51.46 500,-45.46 506,-45.46 506,-45.46 619,-45.46 619,-45.46 625,-45.46 631,-51.46 631,-57.46 631,-57.46 631,-69.46 631,-69.46 631,-75.46 625,-81.46 619,-81.46"/>
<text text-anchor="middle" x="562.5" y="-59.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">ensure_default_cursor</text>
</g>
<!-- handle_write&#45;&gt;ensure_default_cursor -->
<g id="edge16" class="edge">
<title>handle_write&#45;&gt;ensure_default_cursor</title>
<path fill="none" stroke="#666666" d="M364.37,-152.88C388.62,-131.1 419.96,-106.37 452,-90.46 462.04,-85.48 473.06,-81.37 484.12,-78"/>
<polygon fill="#666666" stroke="#666666" points="485.18,-81.34 493.84,-75.22 483.26,-74.61 485.18,-81.34"/>
</g>
<!-- near_load_data_by_write -->
<g id="node15" class="node">
<title>near_load_data_by_write</title>
<path fill="none" stroke="#1c2123" d="M627.5,-135.46C627.5,-135.46 497.5,-135.46 497.5,-135.46 491.5,-135.46 485.5,-129.46 485.5,-123.46 485.5,-123.46 485.5,-111.46 485.5,-111.46 485.5,-105.46 491.5,-99.46 497.5,-99.46 497.5,-99.46 627.5,-99.46 627.5,-99.46 633.5,-99.46 639.5,-105.46 639.5,-111.46 639.5,-111.46 639.5,-123.46 639.5,-123.46 639.5,-129.46 633.5,-135.46 627.5,-135.46"/>
<text text-anchor="middle" x="562.5" y="-113.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">near_load_data_by_write</text>
</g>
<!-- handle_write&#45;&gt;near_load_data_by_write -->
<g id="edge17" class="edge">
<title>handle_write&#45;&gt;near_load_data_by_write</title>
<path fill="none" stroke="#666666" d="M416.13,-154.31C428.09,-149.63 440.24,-145.22 452,-141.46 459.58,-139.04 467.53,-136.77 475.54,-134.68"/>
<polygon fill="#666666" stroke="#666666" points="476.47,-138.06 485.32,-132.22 474.76,-131.27 476.47,-138.06"/>
</g>
<!-- cursors_wirte_next -->
<g id="node16" class="node">
<title>cursors_wirte_next</title>
<path fill="none" stroke="#1c2123" d="M610.5,-297.46C610.5,-297.46 514.5,-297.46 514.5,-297.46 508.5,-297.46 502.5,-291.46 502.5,-285.46 502.5,-285.46 502.5,-273.46 502.5,-273.46 502.5,-267.46 508.5,-261.46 514.5,-261.46 514.5,-261.46 610.5,-261.46 610.5,-261.46 616.5,-261.46 622.5,-267.46 622.5,-273.46 622.5,-273.46 622.5,-285.46 622.5,-285.46 622.5,-291.46 616.5,-297.46 610.5,-297.46"/>
<text text-anchor="middle" x="562.5" y="-275.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">cursors_wirte_next</text>
</g>
<!-- handle_write&#45;&gt;cursors_wirte_next -->
<g id="edge18" class="edge">
<title>handle_write&#45;&gt;cursors_wirte_next</title>
<path fill="none" stroke="#666666" d="M416.34,-239.88C428.26,-244.38 440.34,-248.69 452,-252.46 464.97,-256.66 478.98,-260.57 492.5,-264.04"/>
<polygon fill="#666666" stroke="#666666" points="491.7,-267.44 502.25,-266.48 493.4,-260.65 491.7,-267.44"/>
</g>
<!-- WriteRef_parse&#45;&gt;write_type -->
<g id="edge19" class="edge">
<title>WriteRef_parse&#45;&gt;write_type</title>
<path fill="none" stroke="#666666" d="M613.54,-183.31C652.88,-192.63 707.26,-205.51 745.53,-214.57"/>
<polygon fill="#666666" stroke="#666666" points="744.84,-218.01 755.38,-216.9 746.45,-211.19 744.84,-218.01"/>
</g>
<!-- WriteType_PUT -->
<g id="node17" class="node">
<title>WriteType_PUT</title>
<path fill="none" stroke="#1c2123" d="M1012,-243.46C1012,-243.46 929,-243.46 929,-243.46 923,-243.46 917,-237.46 917,-231.46 917,-231.46 917,-219.46 917,-219.46 917,-213.46 923,-207.46 929,-207.46 929,-207.46 1012,-207.46 1012,-207.46 1018,-207.46 1024,-213.46 1024,-219.46 1024,-219.46 1024,-231.46 1024,-231.46 1024,-237.46 1018,-243.46 1012,-243.46"/>
<text text-anchor="middle" x="970.5" y="-221.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteType_PUT</text>
</g>
<!-- write_type&#45;&gt;WriteType_PUT -->
<g id="edge20" class="edge">
<title>write_type&#45;&gt;WriteType_PUT</title>
<path fill="none" stroke="#666666" d="M829.54,-225.46C851.74,-225.46 880.8,-225.46 906.69,-225.46"/>
<polygon fill="#666666" stroke="#666666" points="906.81,-228.96 916.81,-225.46 906.81,-221.96 906.81,-228.96"/>
</g>
<!-- WriteType_Delete -->
<g id="node18" class="node">
<title>WriteType_Delete</title>
<path fill="none" stroke="#1c2123" d="M1017,-297.46C1017,-297.46 924,-297.46 924,-297.46 918,-297.46 912,-291.46 912,-285.46 912,-285.46 912,-273.46 912,-273.46 912,-267.46 918,-261.46 924,-261.46 924,-261.46 1017,-261.46 1017,-261.46 1023,-261.46 1029,-267.46 1029,-273.46 1029,-273.46 1029,-285.46 1029,-285.46 1029,-291.46 1023,-297.46 1017,-297.46"/>
<text text-anchor="middle" x="970.5" y="-275.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteType_Delete</text>
</g>
<!-- write_type&#45;&gt;WriteType_Delete -->
<g id="edge21" class="edge">
<title>write_type&#45;&gt;WriteType_Delete</title>
<path fill="none" stroke="#666666" d="M829.8,-234.56C844.24,-238.33 860.97,-242.89 876,-247.46 886.79,-250.74 898.21,-254.45 909.21,-258.14"/>
<polygon fill="#666666" stroke="#666666" points="908.16,-261.48 918.75,-261.38 910.41,-254.85 908.16,-261.48"/>
</g>
<!-- WriteType_Lock -->
<g id="node19" class="node">
<title>WriteType_Lock</title>
<path fill="none" stroke="#1c2123" d="M1013.5,-189.46C1013.5,-189.46 927.5,-189.46 927.5,-189.46 921.5,-189.46 915.5,-183.46 915.5,-177.46 915.5,-177.46 915.5,-165.46 915.5,-165.46 915.5,-159.46 921.5,-153.46 927.5,-153.46 927.5,-153.46 1013.5,-153.46 1013.5,-153.46 1019.5,-153.46 1025.5,-159.46 1025.5,-165.46 1025.5,-165.46 1025.5,-177.46 1025.5,-177.46 1025.5,-183.46 1019.5,-189.46 1013.5,-189.46"/>
<text text-anchor="middle" x="970.5" y="-167.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteType_Lock</text>
</g>
<!-- write_type&#45;&gt;WriteType_Lock -->
<g id="edge22" class="edge">
<title>write_type&#45;&gt;WriteType_Lock</title>
<path fill="none" stroke="#666666" d="M829.8,-216.36C844.24,-212.59 860.97,-208.03 876,-203.46 886.79,-200.18 898.21,-196.47 909.21,-192.78"/>
<polygon fill="#666666" stroke="#666666" points="910.41,-196.07 918.75,-189.54 908.16,-189.44 910.41,-196.07"/>
</g>
<!-- read_next -->
<g id="node20" class="node">
<title>read_next</title>
<path fill="none" stroke="#1c2123" d="M28,-619.96C28,-619.96 171,-619.96 171,-619.96 177,-619.96 183,-625.96 183,-631.96 183,-631.96 183,-668.96 183,-668.96 183,-674.96 177,-680.96 171,-680.96 171,-680.96 28,-680.96 28,-680.96 22,-680.96 16,-674.96 16,-668.96 16,-668.96 16,-631.96 16,-631.96 16,-625.96 22,-619.96 28,-619.96"/>
<text text-anchor="middle" x="99.5" y="-665.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">read_next</text>
<polyline fill="none" stroke="#1c2123" points="16,-657.96 183,-657.96 "/>
<text text-anchor="start" x="24" y="-642.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">使用归并思路，移动</text>
<text text-anchor="start" x="24" y="-627.76" font-family="Times,serif" font-size="14.00" fill="#2f3638"> write_cursor和lock_cursor</text>
</g>
<!-- read_next&#45;&gt;handle_lock -->
<g id="edge23" class="edge">
<title>read_next&#45;&gt;handle_lock</title>
<path fill="none" stroke="#666666" d="M143.69,-619.87C184.5,-590.96 244.88,-548.19 282.4,-521.61"/>
<polygon fill="#666666" stroke="#666666" points="284.83,-524.18 290.97,-515.55 280.78,-518.47 284.83,-524.18"/>
</g>
<!-- read_next&#45;&gt;handle_write -->
<g id="edge24" class="edge">
<title>read_next&#45;&gt;handle_write</title>
<path fill="none" stroke="#666666" d="M115.18,-619.75C151.2,-544.37 244.37,-349.4 290.22,-253.45"/>
<polygon fill="#666666" stroke="#666666" points="293.49,-254.73 294.64,-244.2 287.17,-251.72 293.49,-254.73"/>
</g>
<!-- move_write_cursor_to_ts -->
<g id="node21" class="node">
<title>move_write_cursor_to_ts</title>
<path fill="none" stroke="#1c2123" d="M383,-668.46C383,-668.46 252,-668.46 252,-668.46 246,-668.46 240,-662.46 240,-656.46 240,-656.46 240,-644.46 240,-644.46 240,-638.46 246,-632.46 252,-632.46 252,-632.46 383,-632.46 383,-632.46 389,-632.46 395,-638.46 395,-644.46 395,-644.46 395,-656.46 395,-656.46 395,-662.46 389,-668.46 383,-668.46"/>
<text text-anchor="middle" x="317.5" y="-646.76" font-family="Times,serif" font-size="14.00" fill="#2f3638">move_write_cursor_to_ts</text>
</g>
<!-- read_next&#45;&gt;move_write_cursor_to_ts -->
<g id="edge25" class="edge">
<title>read_next&#45;&gt;move_write_cursor_to_ts</title>
<path fill="none" stroke="#666666" d="M183.08,-650.46C198.42,-650.46 214.49,-650.46 229.94,-650.46"/>
<polygon fill="#666666" stroke="#666666" points="229.99,-653.96 239.99,-650.46 229.99,-646.96 229.99,-653.96"/>
</g>
</g>
</svg>
