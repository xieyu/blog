<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: PeerFsmDelegate__on_ready_split_region_new_region Pages: 1 -->
<svg width="1274pt" height="864pt"
 viewBox="0.00 0.00 1274.00 864.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 860)">
<title>PeerFsmDelegate__on_ready_split_region_new_region</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-860 1270,-860 1270,4 -4,4"/>
<!-- PeerFsmDelegate__on_ready_split_region -->
<g id="node1" class="node">
<title>PeerFsmDelegate__on_ready_split_region</title>
<path fill="none" stroke="#1c2123" d="M12,-347C12,-347 139,-347 139,-347 145,-347 151,-353 151,-359 151,-359 151,-411 151,-411 151,-417 145,-423 139,-423 139,-423 12,-423 12,-423 6,-423 0,-417 0,-411 0,-411 0,-359 0,-359 0,-353 6,-347 12,-347"/>
<text text-anchor="start" x="8" y="-407.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="8" y="-392.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> on_ready_split_region</text>
<polyline fill="none" stroke="#1c2123" points="0,-385 151,-385 "/>
<text text-anchor="start" x="8" y="-369.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建新的region对应的</text>
<text text-anchor="start" x="8" y="-354.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> PeerFsm和ApplyFsm</text>
</g>
<!-- PeerStorage__clear_extra_split_data -->
<g id="node2" class="node">
<title>PeerStorage__clear_extra_split_data</title>
<path fill="none" stroke="#1c2123" d="M229,-733C229,-733 369,-733 369,-733 375,-733 381,-739 381,-745 381,-745 381,-797 381,-797 381,-803 375,-809 369,-809 369,-809 229,-809 229,-809 223,-809 217,-803 217,-797 217,-797 217,-745 217,-745 217,-739 223,-733 229,-733"/>
<text text-anchor="start" x="225" y="-793.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerStorage</text>
<text text-anchor="start" x="225" y="-778.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> clear_extra_split_data</text>
<polyline fill="none" stroke="#1c2123" points="217,-771 381,-771 "/>
<text text-anchor="start" x="225" y="-755.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Delete all extra split data</text>
<text text-anchor="middle" x="299" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> from start_key to end_key</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;PeerStorage__clear_extra_split_data -->
<g id="edge1" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;PeerStorage__clear_extra_split_data</title>
<path fill="none" stroke="#666666" d="M79.54,-423.21C86.78,-490.56 110.64,-631.44 187,-718 193.12,-724.94 200.35,-731.05 208.14,-736.41"/>
<polygon fill="#666666" stroke="#666666" points="206.47,-739.49 216.78,-741.93 210.24,-733.6 206.47,-739.49"/>
</g>
<!-- PeerFsm__create -->
<g id="node3" class="node">
<title>PeerFsm__create</title>
<path fill="none" stroke="#1c2123" d="M233,-499C233,-499 365,-499 365,-499 371,-499 377,-505 377,-511 377,-511 377,-533 377,-533 377,-539 371,-545 365,-545 365,-545 233,-545 233,-545 227,-545 221,-539 221,-533 221,-533 221,-511 221,-511 221,-505 227,-499 233,-499"/>
<text text-anchor="middle" x="299" y="-529.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsm::create</text>
<polyline fill="none" stroke="#1c2123" points="221,-522 377,-522 "/>
<text text-anchor="start" x="229" y="-506.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建新region的PeerFsm</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;PeerFsm__create -->
<g id="edge2" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;PeerFsm__create</title>
<path fill="none" stroke="#666666" d="M115.31,-423.02C135.49,-441.35 161.28,-462.63 187,-478 197.46,-484.25 208.97,-489.95 220.5,-495.02"/>
<polygon fill="#666666" stroke="#666666" points="219.15,-498.25 229.72,-498.95 221.9,-491.81 219.15,-498.25"/>
</g>
<!-- PollContext__global_replication_state -->
<g id="node4" class="node">
<title>PollContext__global_replication_state</title>
<path fill="none" stroke="#1c2123" d="M399,-90C399,-90 199,-90 199,-90 193,-90 187,-84 187,-78 187,-78 187,-66 187,-66 187,-60 193,-54 199,-54 199,-54 399,-54 399,-54 405,-54 411,-60 411,-66 411,-66 411,-78 411,-78 411,-84 405,-90 399,-90"/>
<text text-anchor="middle" x="299" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PollContext__global_replication_state</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;PollContext__global_replication_state -->
<g id="edge3" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;PollContext__global_replication_state</title>
<path fill="none" stroke="#666666" d="M80.81,-346.72C89.65,-286.32 115.47,-169.1 187,-104 190.61,-100.71 194.54,-97.76 198.69,-95.11"/>
<polygon fill="#666666" stroke="#666666" points="200.55,-98.08 207.5,-90.09 197.08,-92 200.55,-98.08"/>
</g>
<!-- Peer__insert_peer_cache -->
<g id="node5" class="node">
<title>Peer__insert_peer_cache</title>
<path fill="none" stroke="#1c2123" d="M604.5,-856C604.5,-856 476.5,-856 476.5,-856 470.5,-856 464.5,-850 464.5,-844 464.5,-844 464.5,-832 464.5,-832 464.5,-826 470.5,-820 476.5,-820 476.5,-820 604.5,-820 604.5,-820 610.5,-820 616.5,-826 616.5,-832 616.5,-832 616.5,-844 616.5,-844 616.5,-850 610.5,-856 604.5,-856"/>
<text text-anchor="middle" x="540.5" y="-834.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer__insert_peer_cache</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__insert_peer_cache -->
<g id="edge4" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__insert_peer_cache</title>
<path fill="none" stroke="#666666" d="M78.79,-423.11C84.83,-487.7 106.86,-618.17 187,-685 264.61,-749.72 332.13,-660.82 411,-724 443.66,-750.16 415.85,-783.06 447,-811 449.63,-813.36 452.46,-815.52 455.44,-817.49"/>
<polygon fill="#666666" stroke="#666666" points="453.76,-820.56 464.16,-822.55 457.27,-814.5 453.76,-820.56"/>
</g>
<!-- Region__get_peers -->
<g id="node6" class="node">
<title>Region__get_peers</title>
<path fill="none" stroke="#1c2123" d="M347.5,-676C347.5,-676 250.5,-676 250.5,-676 244.5,-676 238.5,-670 238.5,-664 238.5,-664 238.5,-652 238.5,-652 238.5,-646 244.5,-640 250.5,-640 250.5,-640 347.5,-640 347.5,-640 353.5,-640 359.5,-646 359.5,-652 359.5,-652 359.5,-664 359.5,-664 359.5,-670 353.5,-676 347.5,-676"/>
<text text-anchor="middle" x="299" y="-654.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Region__get_peers</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;Region__get_peers -->
<g id="edge5" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;Region__get_peers</title>
<path fill="none" stroke="#666666" d="M83.63,-423.15C95.58,-476.38 124.73,-572.4 187,-626 198.78,-636.14 213.61,-643.08 228.55,-647.82"/>
<polygon fill="#666666" stroke="#666666" points="227.78,-651.24 238.36,-650.63 229.71,-644.51 227.78,-651.24"/>
</g>
<!-- Peer__maybe_campaign -->
<g id="node7" class="node">
<title>Peer__maybe_campaign</title>
<path fill="none" stroke="#1c2123" d="M474,-710.5C474,-710.5 607,-710.5 607,-710.5 613,-710.5 619,-716.5 619,-722.5 619,-722.5 619,-789.5 619,-789.5 619,-795.5 613,-801.5 607,-801.5 607,-801.5 474,-801.5 474,-801.5 468,-801.5 462,-795.5 462,-789.5 462,-789.5 462,-722.5 462,-722.5 462,-716.5 468,-710.5 474,-710.5"/>
<text text-anchor="start" x="470" y="-786.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="470" y="-771.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> maybe_campaign</text>
<polyline fill="none" stroke="#1c2123" points="462,-763.5 619,-763.5 "/>
<text text-anchor="start" x="470" y="-748.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果new region peers &gt;1</text>
<text text-anchor="start" x="470" y="-733.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 且parent 为leader</text>
<text text-anchor="start" x="470" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 则发起campaign</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__maybe_campaign -->
<g id="edge6" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__maybe_campaign</title>
<path fill="none" stroke="#666666" d="M86.1,-423.11C100.03,-470.16 130.59,-548.98 187,-590 268.86,-649.52 329.72,-570.69 411,-631 439.09,-651.85 423.03,-675.51 447,-701 449.24,-703.38 451.61,-705.7 454.07,-707.94"/>
<polygon fill="#666666" stroke="#666666" points="451.85,-710.64 461.73,-714.45 456.38,-705.31 451.85,-710.64"/>
</g>
<!-- Peer__hearbeat_pd -->
<g id="node8" class="node">
<title>Peer__hearbeat_pd</title>
<path fill="none" stroke="#1c2123" d="M474,-600.5C474,-600.5 607,-600.5 607,-600.5 613,-600.5 619,-606.5 619,-612.5 619,-612.5 619,-679.5 619,-679.5 619,-685.5 613,-691.5 607,-691.5 607,-691.5 474,-691.5 474,-691.5 468,-691.5 462,-685.5 462,-679.5 462,-679.5 462,-612.5 462,-612.5 462,-606.5 468,-600.5 474,-600.5"/>
<text text-anchor="start" x="470" y="-676.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="470" y="-661.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> heartbeat_pd</text>
<polyline fill="none" stroke="#1c2123" points="462,-653.5 619,-653.5 "/>
<text text-anchor="start" x="470" y="-638.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果当前节点是leader</text>
<text text-anchor="start" x="470" y="-623.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 新创建的peer向pd发起</text>
<text text-anchor="start" x="470" y="-608.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> hearbeat</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__hearbeat_pd -->
<g id="edge7" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__hearbeat_pd</title>
<path fill="none" stroke="#666666" d="M90.8,-423.33C107.61,-462.82 139.39,-522.98 187,-555 271.12,-611.57 313.4,-570.61 411,-598 424.38,-601.75 438.33,-606.29 451.9,-611.06"/>
<polygon fill="#666666" stroke="#666666" points="451.11,-614.49 461.7,-614.56 453.47,-607.9 451.11,-614.49"/>
</g>
<!-- Peer__activate -->
<g id="node9" class="node">
<title>Peer__activate</title>
<path fill="none" stroke="#1c2123" d="M465,-475C465,-475 616,-475 616,-475 622,-475 628,-481 628,-487 628,-487 628,-569 628,-569 628,-575 622,-581 616,-581 616,-581 465,-581 465,-581 459,-581 453,-575 453,-569 453,-569 453,-487 453,-487 453,-481 459,-475 465,-475"/>
<text text-anchor="start" x="461" y="-565.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="461" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> activate</text>
<polyline fill="none" stroke="#1c2123" points="453,-543 628,-543 "/>
<text text-anchor="start" x="461" y="-527.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">register self to </text>
<text text-anchor="start" x="461" y="-512.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> apply scheduler</text>
<text text-anchor="start" x="461" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Aslo trigger </text>
<text text-anchor="middle" x="540.5" y="-482.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> RegionChangeEvent::Create</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__activate -->
<g id="edge8" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;Peer__activate</title>
<path fill="none" stroke="#666666" d="M151.15,-408.05C230.53,-432.57 356.38,-471.44 443.18,-498.25"/>
<polygon fill="#666666" stroke="#666666" points="442.19,-501.61 452.78,-501.22 444.26,-494.92 442.19,-501.61"/>
</g>
<!-- StoreMeta__region_ranges__insert -->
<g id="node10" class="node">
<title>StoreMeta__region_ranges__insert</title>
<path fill="none" stroke="#1c2123" d="M702,-223C702,-223 814,-223 814,-223 820,-223 826,-229 826,-235 826,-235 826,-287 826,-287 826,-293 820,-299 814,-299 814,-299 702,-299 702,-299 696,-299 690,-293 690,-287 690,-287 690,-235 690,-235 690,-229 696,-223 702,-223"/>
<text text-anchor="start" x="698" y="-283.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta</text>
<text text-anchor="start" x="698" y="-268.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> region_ranges</text>
<text text-anchor="start" x="698" y="-253.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> insert</text>
<polyline fill="none" stroke="#1c2123" points="690,-246 826,-246 "/>
<text text-anchor="start" x="698" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">插入到region_ranges</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__region_ranges__insert -->
<g id="edge9" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__region_ranges__insert</title>
<path fill="none" stroke="#666666" d="M124.75,-346.87C143.22,-334.26 165.12,-321.54 187,-314 198.51,-310.03 526.51,-281.07 679.63,-267.72"/>
<polygon fill="#666666" stroke="#666666" points="680.25,-271.18 689.9,-266.82 679.64,-264.2 680.25,-271.18"/>
</g>
<!-- StoreMeta__regions__insert -->
<g id="node11" class="node">
<title>StoreMeta__regions__insert</title>
<path fill="none" stroke="#1c2123" d="M720.5,-33C720.5,-33 795.5,-33 795.5,-33 801.5,-33 807.5,-39 807.5,-45 807.5,-45 807.5,-97 807.5,-97 807.5,-103 801.5,-109 795.5,-109 795.5,-109 720.5,-109 720.5,-109 714.5,-109 708.5,-103 708.5,-97 708.5,-97 708.5,-45 708.5,-45 708.5,-39 714.5,-33 720.5,-33"/>
<text text-anchor="start" x="716.5" y="-93.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta</text>
<text text-anchor="start" x="716.5" y="-78.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> regions</text>
<text text-anchor="start" x="716.5" y="-63.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> insert</text>
<polyline fill="none" stroke="#1c2123" points="708.5,-56 807.5,-56 "/>
<text text-anchor="start" x="716.5" y="-40.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">插到regions中</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__regions__insert -->
<g id="edge10" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__regions__insert</title>
<path fill="none" stroke="#666666" d="M82.23,-346.7C92.6,-291.88 120.02,-192.25 187,-143 227.68,-113.09 560.57,-85.45 698,-75.2"/>
<polygon fill="#666666" stroke="#666666" points="698.62,-78.67 708.34,-74.44 698.1,-71.69 698.62,-78.67"/>
</g>
<!-- StoreMeta__readers__insert -->
<g id="node12" class="node">
<title>StoreMeta__readers__insert</title>
<path fill="none" stroke="#1c2123" d="M721,-128C721,-128 795,-128 795,-128 801,-128 807,-134 807,-140 807,-140 807,-192 807,-192 807,-198 801,-204 795,-204 795,-204 721,-204 721,-204 715,-204 709,-198 709,-192 709,-192 709,-140 709,-140 709,-134 715,-128 721,-128"/>
<text text-anchor="start" x="717" y="-188.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta</text>
<text text-anchor="start" x="717" y="-173.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> readers</text>
<text text-anchor="start" x="717" y="-158.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> insert</text>
<polyline fill="none" stroke="#1c2123" points="709,-151 807,-151 "/>
<text text-anchor="start" x="717" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">插入到readers</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__readers__insert -->
<g id="edge11" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__readers__insert</title>
<path fill="none" stroke="#666666" d="M91.04,-346.96C107.96,-308.19 139.75,-249.53 187,-219 347.68,-115.17 588.99,-137.52 698.83,-155"/>
<polygon fill="#666666" stroke="#666666" points="698.29,-158.46 708.73,-156.62 699.42,-151.55 698.29,-158.46"/>
</g>
<!-- BasicMailbox__new -->
<g id="node13" class="node">
<title>BasicMailbox__new</title>
<path fill="none" stroke="#1c2123" d="M470.5,-394.5C470.5,-394.5 610.5,-394.5 610.5,-394.5 616.5,-394.5 622.5,-400.5 622.5,-406.5 622.5,-406.5 622.5,-443.5 622.5,-443.5 622.5,-449.5 616.5,-455.5 610.5,-455.5 610.5,-455.5 470.5,-455.5 470.5,-455.5 464.5,-455.5 458.5,-449.5 458.5,-443.5 458.5,-443.5 458.5,-406.5 458.5,-406.5 458.5,-400.5 464.5,-394.5 470.5,-394.5"/>
<text text-anchor="middle" x="540.5" y="-440.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BasicMailbox__new</text>
<polyline fill="none" stroke="#1c2123" points="458.5,-432.5 622.5,-432.5 "/>
<text text-anchor="start" x="466.5" y="-417.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建新的PeerFsm对应的</text>
<text text-anchor="start" x="466.5" y="-402.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Mailbox</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;BasicMailbox__new -->
<g id="edge12" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;BasicMailbox__new</title>
<path fill="none" stroke="#666666" d="M151.15,-391.45C232.09,-398.44 361.34,-409.61 448.26,-417.12"/>
<polygon fill="#666666" stroke="#666666" points="448.12,-420.62 458.38,-417.99 448.72,-413.64 448.12,-420.62"/>
</g>
<!-- ReadDelegate__from_peer -->
<g id="node14" class="node">
<title>ReadDelegate__from_peer</title>
<path fill="none" stroke="#1c2123" d="M459,-185C459,-185 622,-185 622,-185 628,-185 634,-191 634,-197 634,-197 634,-249 634,-249 634,-255 628,-261 622,-261 622,-261 459,-261 459,-261 453,-261 447,-255 447,-249 447,-249 447,-197 447,-197 447,-191 453,-185 459,-185"/>
<text text-anchor="start" x="455" y="-245.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ReadDelegate</text>
<text text-anchor="start" x="455" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> from_peer</text>
<polyline fill="none" stroke="#1c2123" points="447,-223 634,-223 "/>
<text text-anchor="start" x="455" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建peer对应的ReadDelegate</text>
<text text-anchor="start" x="455" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 用于后续的LocalReader</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;ReadDelegate__from_peer -->
<g id="edge13" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;ReadDelegate__from_peer</title>
<path fill="none" stroke="#666666" d="M104.53,-346.95C124.66,-322.57 153.98,-292.52 187,-276 264.84,-237.06 363.53,-224.91 436.68,-221.86"/>
<polygon fill="#666666" stroke="#666666" points="436.96,-225.36 446.83,-221.49 436.71,-218.36 436.96,-225.36"/>
</g>
<!-- RaftRouter__register -->
<g id="node15" class="node">
<title>RaftRouter__register</title>
<path fill="none" stroke="#1c2123" d="M718,-357C718,-357 798,-357 798,-357 804,-357 810,-363 810,-369 810,-369 810,-421 810,-421 810,-427 804,-433 798,-433 798,-433 718,-433 718,-433 712,-433 706,-427 706,-421 706,-421 706,-369 706,-369 706,-363 712,-357 718,-357"/>
<text text-anchor="start" x="714" y="-417.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftRouter</text>
<text text-anchor="start" x="714" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> register</text>
<polyline fill="none" stroke="#1c2123" points="706,-395 810,-395 "/>
<text text-anchor="start" x="714" y="-379.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">将mailbox注册</text>
<text text-anchor="start" x="714" y="-364.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> RaftRouter上</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;RaftRouter__register -->
<g id="edge14" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;RaftRouter__register</title>
<path fill="none" stroke="#666666" d="M151.38,-383.07C258.44,-380.76 461.38,-377.99 634,-385 654.14,-385.82 676.1,-387.39 695.81,-389.04"/>
<polygon fill="#666666" stroke="#666666" points="695.63,-392.54 705.89,-389.91 696.23,-385.56 695.63,-392.54"/>
</g>
<!-- RaftRouter__force_send__PeerMsg__Start -->
<g id="node16" class="node">
<title>RaftRouter__force_send__PeerMsg__Start</title>
<path fill="none" stroke="#1c2123" d="M936,-300.5C936,-300.5 1025,-300.5 1025,-300.5 1031,-300.5 1037,-306.5 1037,-312.5 1037,-312.5 1037,-379.5 1037,-379.5 1037,-385.5 1031,-391.5 1025,-391.5 1025,-391.5 936,-391.5 936,-391.5 930,-391.5 924,-385.5 924,-379.5 924,-379.5 924,-312.5 924,-312.5 924,-306.5 930,-300.5 936,-300.5"/>
<text text-anchor="start" x="932" y="-376.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftRouter</text>
<text text-anchor="start" x="932" y="-361.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> force_send</text>
<text text-anchor="middle" x="980.5" y="-346.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> PeerMsg::Start</text>
<polyline fill="none" stroke="#1c2123" points="924,-338.5 1037,-338.5 "/>
<text text-anchor="start" x="932" y="-323.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送Start消息给</text>
<text text-anchor="start" x="932" y="-308.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> PeerFsm</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;RaftRouter__force_send__PeerMsg__Start -->
<g id="edge15" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;RaftRouter__force_send__PeerMsg__Start</title>
<path fill="none" stroke="#666666" d="M151.08,-378.69C163.09,-377.74 175.38,-376.81 187,-376 401.51,-361.05 455.08,-354.92 670,-348 754.07,-345.29 851.05,-345.15 913.71,-345.45"/>
<polygon fill="#666666" stroke="#666666" points="913.83,-348.95 923.85,-345.5 913.87,-341.95 913.83,-348.95"/>
</g>
<!-- StoreMeta__pending_msg -->
<g id="node17" class="node">
<title>StoreMeta__pending_msg</title>
<path fill="none" stroke="#1c2123" d="M367.5,-36C367.5,-36 230.5,-36 230.5,-36 224.5,-36 218.5,-30 218.5,-24 218.5,-24 218.5,-12 218.5,-12 218.5,-6 224.5,0 230.5,0 230.5,0 367.5,0 367.5,0 373.5,0 379.5,-6 379.5,-12 379.5,-12 379.5,-24 379.5,-24 379.5,-30 373.5,-36 367.5,-36"/>
<text text-anchor="middle" x="299" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta__pending_msg</text>
</g>
<!-- PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__pending_msg -->
<g id="edge16" class="edge">
<title>PeerFsmDelegate__on_ready_split_region&#45;&gt;StoreMeta__pending_msg</title>
<path fill="none" stroke="#666666" d="M77.39,-346.79C81.2,-276.37 99.72,-125.91 187,-45 193.45,-39.02 200.99,-34.31 209.05,-30.59"/>
<polygon fill="#666666" stroke="#666666" points="210.4,-33.82 218.35,-26.81 207.76,-27.34 210.4,-33.82"/>
</g>
<!-- PeerFsm__create&#45;&gt;Peer__insert_peer_cache -->
<g id="edge27" class="edge">
<title>PeerFsm__create&#45;&gt;Peer__insert_peer_cache</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M332.44,-545.06C357.85,-564.91 391.98,-595.84 411,-631 449.82,-702.76 391.86,-750.87 447,-811 449.72,-813.97 452.75,-816.61 456,-818.98"/>
<polygon fill="green" stroke="green" points="454.16,-821.95 464.49,-824.28 457.86,-816.02 454.16,-821.95"/>
</g>
<!-- PeerFsm__create&#45;&gt;Peer__maybe_campaign -->
<g id="edge28" class="edge">
<title>PeerFsm__create&#45;&gt;Peer__maybe_campaign</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M346.83,-545.04C368.93,-557.96 394.11,-575.93 411,-598 440.48,-636.51 416.31,-663.46 447,-701 449.19,-703.68 451.54,-706.25 454.03,-708.73"/>
<polygon fill="green" stroke="green" points="452.1,-711.71 461.84,-715.87 456.82,-706.54 452.1,-711.71"/>
</g>
<!-- PeerFsm__create&#45;&gt;Peer__hearbeat_pd -->
<g id="edge29" class="edge">
<title>PeerFsm__create&#45;&gt;Peer__hearbeat_pd</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M377.21,-544.15C388.86,-548.7 400.48,-553.97 411,-560 429.32,-570.5 429.86,-578.67 447,-591 449.06,-592.48 451.16,-593.96 453.29,-595.43"/>
<polygon fill="green" stroke="green" points="451.39,-598.37 461.64,-601.06 455.3,-592.57 451.39,-598.37"/>
</g>
<!-- PeerFsm__create&#45;&gt;Peer__activate -->
<g id="edge30" class="edge">
<title>PeerFsm__create&#45;&gt;Peer__activate</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M377.1,-523.93C397.99,-524.45 420.88,-525.03 442.71,-525.58"/>
<polygon fill="green" stroke="green" points="442.91,-529.08 452.99,-525.83 443.08,-522.08 442.91,-529.08"/>
</g>
<!-- PeerFsm__create&#45;&gt;BasicMailbox__new -->
<g id="edge31" class="edge">
<title>PeerFsm__create&#45;&gt;BasicMailbox__new</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M357.06,-498.89C386.15,-487.11 422.11,-472.54 454.4,-459.47"/>
<polygon fill="green" stroke="green" points="455.89,-462.64 463.84,-455.64 453.26,-456.15 455.89,-462.64"/>
</g>
<!-- PeerFsm__create&#45;&gt;ReadDelegate__from_peer -->
<g id="edge17" class="edge">
<title>PeerFsm__create&#45;&gt;ReadDelegate__from_peer</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M318.79,-498.54C358.34,-449.16 450.79,-333.75 502.61,-269.05"/>
<polygon fill="green" stroke="green" points="505.51,-271.03 509.03,-261.04 500.05,-266.66 505.51,-271.03"/>
</g>
<!-- Region__get_peers&#45;&gt;Peer__insert_peer_cache -->
<g id="edge22" class="edge">
<title>Region__get_peers&#45;&gt;Peer__insert_peer_cache</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M359.57,-663.92C378.1,-668.47 397.26,-676.37 411,-690 450.84,-729.5 407.22,-771.43 447,-811 449.57,-813.56 452.36,-815.87 455.33,-817.97"/>
<polygon fill="green" stroke="green" points="453.74,-821.1 464.09,-823.33 457.39,-815.13 453.74,-821.1"/>
</g>
<!-- RawNode__campaign -->
<g id="node20" class="node">
<title>RawNode__campaign</title>
<path fill="none" stroke="#1c2123" d="M717,-718C717,-718 799,-718 799,-718 805,-718 811,-724 811,-730 811,-730 811,-782 811,-782 811,-788 805,-794 799,-794 799,-794 717,-794 717,-794 711,-794 705,-788 705,-782 705,-782 705,-730 705,-730 705,-724 711,-718 717,-718"/>
<text text-anchor="start" x="713" y="-778.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RawNode</text>
<text text-anchor="start" x="713" y="-763.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> campaign</text>
<polyline fill="none" stroke="#1c2123" points="705,-756 811,-756 "/>
<text text-anchor="start" x="713" y="-740.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">新的region</text>
<text text-anchor="start" x="713" y="-725.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 开始竞选投票</text>
</g>
<!-- Peer__maybe_campaign&#45;&gt;RawNode__campaign -->
<g id="edge23" class="edge">
<title>Peer__maybe_campaign&#45;&gt;RawNode__campaign</title>
<path fill="none" stroke="#666666" d="M619.3,-756C644.09,-756 671.17,-756 694.7,-756"/>
<polygon fill="#666666" stroke="#666666" points="694.9,-759.5 704.9,-756 694.9,-752.5 694.9,-759.5"/>
</g>
<!-- ApplyRouter__schedule_task__ApplyTask__register -->
<g id="node19" class="node">
<title>ApplyRouter__schedule_task__ApplyTask__register</title>
<path fill="none" stroke="#1c2123" d="M682,-485.5C682,-485.5 834,-485.5 834,-485.5 840,-485.5 846,-491.5 846,-497.5 846,-497.5 846,-564.5 846,-564.5 846,-570.5 840,-576.5 834,-576.5 834,-576.5 682,-576.5 682,-576.5 676,-576.5 670,-570.5 670,-564.5 670,-564.5 670,-497.5 670,-497.5 670,-491.5 676,-485.5 682,-485.5"/>
<text text-anchor="start" x="678" y="-561.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyRouter</text>
<text text-anchor="start" x="678" y="-546.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task</text>
<text text-anchor="middle" x="758" y="-531.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ApplyTask::register(self)</text>
<polyline fill="none" stroke="#1c2123" points="670,-523.5 846,-523.5 "/>
<text text-anchor="start" x="678" y="-508.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建ApplyFsm以及mailbox</text>
<text text-anchor="start" x="678" y="-493.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 然后注册到apply router上</text>
</g>
<!-- Peer__activate&#45;&gt;ApplyRouter__schedule_task__ApplyTask__register -->
<g id="edge21" class="edge">
<title>Peer__activate&#45;&gt;ApplyRouter__schedule_task__ApplyTask__register</title>
<path fill="none" stroke="#666666" d="M628.22,-529.21C638.59,-529.35 649.23,-529.5 659.74,-529.65"/>
<polygon fill="#666666" stroke="#666666" points="659.71,-533.15 669.76,-529.79 659.8,-526.15 659.71,-533.15"/>
</g>
<!-- StoreMeta -->
<g id="node21" class="node">
<title>StoreMeta</title>
<path fill="#feed9b" stroke="#f7e495" d="M894,-144.5C894,-144.5 1067,-144.5 1067,-144.5 1073,-144.5 1079,-150.5 1079,-156.5 1079,-156.5 1079,-269.5 1079,-269.5 1079,-275.5 1073,-281.5 1067,-281.5 1067,-281.5 894,-281.5 894,-281.5 888,-281.5 882,-275.5 882,-269.5 882,-269.5 882,-156.5 882,-156.5 882,-150.5 888,-144.5 894,-144.5"/>
<text text-anchor="middle" x="980.5" y="-266.3" font-family="Times,serif" font-size="14.00" fill="#40575d">StoreMeta</text>
<polyline fill="none" stroke="#f7e495" points="882,-258.5 1079,-258.5 "/>
<text text-anchor="start" x="890" y="-243.3" font-family="Times,serif" font-size="14.00" fill="#40575d">pub region_ranges:</text>
<text text-anchor="start" x="890" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> BTreeMap&lt;Vec&lt;u8&gt;, u64&gt;,</text>
<polyline fill="none" stroke="#f7e495" points="882,-220.5 1079,-220.5 "/>
<text text-anchor="start" x="890" y="-205.3" font-family="Times,serif" font-size="14.00" fill="#40575d">pub regions: </text>
<text text-anchor="start" x="890" y="-190.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> HashMap&lt;u64, Region&gt;,</text>
<polyline fill="none" stroke="#f7e495" points="882,-182.5 1079,-182.5 "/>
<text text-anchor="start" x="890" y="-167.3" font-family="Times,serif" font-size="14.00" fill="#40575d">pub readers:</text>
<text text-anchor="start" x="890" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> HashMap&lt;u64, ReadDelegate&gt;,</text>
</g>
<!-- StoreMeta__region_ranges__insert&#45;&gt;StoreMeta -->
<g id="edge25" class="edge">
<title>StoreMeta__region_ranges__insert&#45;&gt;StoreMeta:region_ranges</title>
<path fill="none" stroke="#666666" d="M826.32,-245.3C840.93,-242.83 856.54,-240.88 871.65,-240.23"/>
<polygon fill="#666666" stroke="#666666" points="872.08,-243.72 882,-240 871.93,-236.72 872.08,-243.72"/>
</g>
<!-- StoreMeta__regions__insert&#45;&gt;StoreMeta -->
<g id="edge26" class="edge">
<title>StoreMeta__regions__insert&#45;&gt;StoreMeta:regions</title>
<path fill="none" stroke="#666666" d="M807.67,-90.06C821.39,-97.22 835.44,-106.49 846,-118 870.42,-144.62 847.56,-190.4 871.83,-199.43"/>
<polygon fill="#666666" stroke="#666666" points="871.58,-202.93 882,-201 872.65,-196.01 871.58,-202.93"/>
</g>
<!-- StoreMeta__readers__insert&#45;&gt;StoreMeta -->
<g id="edge24" class="edge">
<title>StoreMeta__readers__insert&#45;&gt;StoreMeta:readers</title>
<path fill="none" stroke="#666666" d="M807.19,-164.28C826.78,-163.7 849.91,-163.17 871.74,-163.03"/>
<polygon fill="#666666" stroke="#666666" points="872.01,-166.53 882,-163 871.99,-159.53 872.01,-166.53"/>
</g>
<!-- BasicMailbox__new&#45;&gt;RaftRouter__register -->
<g id="edge19" class="edge">
<title>BasicMailbox__new&#45;&gt;RaftRouter__register</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M622.66,-413.7C646.88,-410.33 673,-406.69 695.71,-403.53"/>
<polygon fill="green" stroke="green" points="696.47,-406.96 705.89,-402.12 695.5,-400.03 696.47,-406.96"/>
</g>
<!-- ReadDelegate__from_peer&#45;&gt;StoreMeta__readers__insert -->
<g id="edge18" class="edge">
<title>ReadDelegate__from_peer&#45;&gt;StoreMeta__readers__insert</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M634.14,-198.5C656.2,-192.66 679.11,-186.6 699.1,-181.32"/>
<polygon fill="green" stroke="green" points="700.18,-184.65 708.96,-178.71 698.39,-177.88 700.18,-184.65"/>
</g>
<!-- RaftRouter__register&#45;&gt;RaftRouter__force_send__PeerMsg__Start -->
<g id="edge32" class="edge">
<title>RaftRouter__register&#45;&gt;RaftRouter__force_send__PeerMsg__Start</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M810.14,-383.64C840.93,-376.79 880.44,-368.01 913.55,-360.65"/>
<polygon fill="green" stroke="green" points="914.61,-364.01 923.61,-358.42 913.09,-357.17 914.61,-364.01"/>
</g>
<!-- PeerFsmDelegate__start -->
<g id="node18" class="node">
<title>PeerFsmDelegate__start</title>
<path fill="none" stroke="#1c2123" d="M1144.5,-308C1144.5,-308 1236.5,-308 1236.5,-308 1242.5,-308 1248.5,-314 1248.5,-320 1248.5,-320 1248.5,-372 1248.5,-372 1248.5,-378 1242.5,-384 1236.5,-384 1236.5,-384 1144.5,-384 1144.5,-384 1138.5,-384 1132.5,-378 1132.5,-372 1132.5,-372 1132.5,-320 1132.5,-320 1132.5,-314 1138.5,-308 1144.5,-308"/>
<text text-anchor="start" x="1140.5" y="-368.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="1140.5" y="-353.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> start</text>
<polyline fill="none" stroke="#1c2123" points="1132.5,-346 1248.5,-346 "/>
<text text-anchor="start" x="1140.5" y="-330.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">开始各周期性的</text>
<text text-anchor="start" x="1140.5" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> tick和check</text>
</g>
<!-- RaftRouter__force_send__PeerMsg__Start&#45;&gt;PeerFsmDelegate__start -->
<g id="edge20" class="edge">
<title>RaftRouter__force_send__PeerMsg__Start&#45;&gt;PeerFsmDelegate__start</title>
<path fill="none" stroke="#666666" d="M1037.24,-346C1063.28,-346 1094.5,-346 1121.87,-346"/>
<polygon fill="#666666" stroke="#666666" points="1122.16,-349.5 1132.16,-346 1122.16,-342.5 1122.16,-349.5"/>
</g>
<!-- ApplyFsm__from_registration -->
<g id="node22" class="node">
<title>ApplyFsm__from_registration</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M916,-411C916,-411 1045,-411 1045,-411 1051,-411 1057,-417 1057,-423 1057,-423 1057,-475 1057,-475 1057,-481 1051,-487 1045,-487 1045,-487 916,-487 916,-487 910,-487 904,-481 904,-475 904,-475 904,-423 904,-423 904,-417 910,-411 916,-411"/>
<text text-anchor="start" x="912" y="-471.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">ApplyFsm</text>
<text text-anchor="start" x="912" y="-456.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> from_registration</text>
<polyline fill="none" stroke="#8a8898" points="904,-449 1057,-449 "/>
<text text-anchor="start" x="912" y="-433.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">创建ApplyFsm, 以及向</text>
<text text-anchor="start" x="912" y="-418.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 它发消息的tx</text>
</g>
<!-- ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;ApplyFsm__from_registration -->
<g id="edge33" class="edge">
<title>ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;ApplyFsm__from_registration</title>
<path fill="none" stroke="#666666" d="M846.15,-498.59C861.9,-492.73 878.31,-486.63 894.01,-480.79"/>
<polygon fill="#666666" stroke="#666666" points="895.53,-483.96 903.68,-477.19 893.09,-477.4 895.53,-483.96"/>
</g>
<!-- BasicMailbox__new2 -->
<g id="node23" class="node">
<title>BasicMailbox__new2</title>
<path fill="none" stroke="#1c2123" d="M915.5,-506.5C915.5,-506.5 1045.5,-506.5 1045.5,-506.5 1051.5,-506.5 1057.5,-512.5 1057.5,-518.5 1057.5,-518.5 1057.5,-555.5 1057.5,-555.5 1057.5,-561.5 1051.5,-567.5 1045.5,-567.5 1045.5,-567.5 915.5,-567.5 915.5,-567.5 909.5,-567.5 903.5,-561.5 903.5,-555.5 903.5,-555.5 903.5,-518.5 903.5,-518.5 903.5,-512.5 909.5,-506.5 915.5,-506.5"/>
<text text-anchor="start" x="911.5" y="-552.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BasicMailbox</text>
<text text-anchor="middle" x="980.5" y="-537.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> new</text>
<polyline fill="none" stroke="#1c2123" points="903.5,-529.5 1057.5,-529.5 "/>
<text text-anchor="start" x="911.5" y="-514.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">将sender包装为mailbox</text>
</g>
<!-- ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;BasicMailbox__new2 -->
<g id="edge34" class="edge">
<title>ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;BasicMailbox__new2</title>
<path fill="none" stroke="#666666" d="M846.15,-533.37C861.65,-533.79 877.79,-534.23 893.27,-534.65"/>
<polygon fill="#666666" stroke="#666666" points="893.24,-538.15 903.33,-534.93 893.43,-531.16 893.24,-538.15"/>
</g>
<!-- ApplyRouter__register -->
<g id="node24" class="node">
<title>ApplyRouter__register</title>
<path fill="none" stroke="#1c2123" d="M1143,-528C1143,-528 1238,-528 1238,-528 1244,-528 1250,-534 1250,-540 1250,-540 1250,-592 1250,-592 1250,-598 1244,-604 1238,-604 1238,-604 1143,-604 1143,-604 1137,-604 1131,-598 1131,-592 1131,-592 1131,-540 1131,-540 1131,-534 1137,-528 1143,-528"/>
<text text-anchor="start" x="1139" y="-588.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyRouter</text>
<text text-anchor="start" x="1139" y="-573.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> register</text>
<polyline fill="none" stroke="#1c2123" points="1131,-566 1250,-566 "/>
<text text-anchor="start" x="1139" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">将mailbox注册到</text>
<text text-anchor="start" x="1139" y="-535.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ApplyRouter上</text>
</g>
<!-- ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;ApplyRouter__register -->
<g id="edge35" class="edge">
<title>ApplyRouter__schedule_task__ApplyTask__register&#45;&gt;ApplyRouter__register</title>
<path fill="none" stroke="#666666" d="M846.27,-567.95C858.1,-571.68 870.22,-574.87 882,-577 963.04,-591.66 1057.99,-584.67 1120.71,-576.8"/>
<polygon fill="#666666" stroke="#666666" points="1121.41,-580.23 1130.88,-575.47 1120.51,-573.29 1121.41,-580.23"/>
</g>
<!-- ApplyFsmDelegate__from_registration -->
<g id="node25" class="node">
<title>ApplyFsmDelegate__from_registration</title>
<path fill="none" stroke="#1c2123" d="M1127,-418.5C1127,-418.5 1254,-418.5 1254,-418.5 1260,-418.5 1266,-424.5 1266,-430.5 1266,-430.5 1266,-467.5 1266,-467.5 1266,-473.5 1260,-479.5 1254,-479.5 1254,-479.5 1127,-479.5 1127,-479.5 1121,-479.5 1115,-473.5 1115,-467.5 1115,-467.5 1115,-430.5 1115,-430.5 1115,-424.5 1121,-418.5 1127,-418.5"/>
<text text-anchor="start" x="1123" y="-464.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyFsmDelegate</text>
<text text-anchor="start" x="1123" y="-449.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> from_registration</text>
<polyline fill="none" stroke="#1c2123" points="1115,-441.5 1266,-441.5 "/>
<text text-anchor="start" x="1123" y="-426.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">新建ApplyFsmDelegate</text>
</g>
<!-- ApplyFsm__from_registration&#45;&gt;ApplyFsmDelegate__from_registration -->
<g id="edge37" class="edge">
<title>ApplyFsm__from_registration&#45;&gt;ApplyFsmDelegate__from_registration</title>
<path fill="none" stroke="#666666" d="M1057.18,-449C1072.62,-449 1088.95,-449 1104.69,-449"/>
<polygon fill="#666666" stroke="#666666" points="1104.92,-452.5 1114.92,-449 1104.92,-445.5 1104.92,-452.5"/>
</g>
<!-- BasicMailbox__new2&#45;&gt;ApplyRouter__register -->
<g id="edge36" class="edge">
<title>BasicMailbox__new2&#45;&gt;ApplyRouter__register</title>
<path fill="none" stroke="#666666" d="M1057.77,-547.63C1078.4,-550.51 1100.6,-553.61 1120.79,-556.42"/>
<polygon fill="#666666" stroke="#666666" points="1120.45,-559.91 1130.83,-557.82 1121.41,-552.97 1120.45,-559.91"/>
</g>
</g>
</svg>
