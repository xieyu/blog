<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: collect_ready Pages: 1 -->
<svg width="1271pt" height="933pt"
 viewBox="0.00 0.00 1271.00 933.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 929)">
<title>collect_ready</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-929 1267,-929 1267,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_RawNode</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M445,-296C445,-296 778.5,-296 778.5,-296 784.5,-296 790.5,-302 790.5,-308 790.5,-308 790.5,-423 790.5,-423 790.5,-429 784.5,-435 778.5,-435 778.5,-435 445,-435 445,-435 439,-435 433,-429 433,-423 433,-423 433,-308 433,-308 433,-302 439,-296 445,-296"/>
<text text-anchor="middle" x="611.75" y="-415" font-family="Times,serif" font-size="20.00">RawNode</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_PollContext</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M876,-296C876,-296 1243,-296 1243,-296 1249,-296 1255,-302 1255,-308 1255,-308 1255,-486 1255,-486 1255,-492 1249,-498 1243,-498 1243,-498 876,-498 876,-498 870,-498 864,-492 864,-486 864,-486 864,-308 864,-308 864,-302 870,-296 876,-296"/>
<text text-anchor="middle" x="1059.5" y="-478" font-family="Times,serif" font-size="20.00">PollContext</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_PeerStorage</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M423,-8C423,-8 991,-8 991,-8 997,-8 1003,-14 1003,-20 1003,-20 1003,-276 1003,-276 1003,-282 997,-288 991,-288 991,-288 423,-288 423,-288 417,-288 411,-282 411,-276 411,-276 411,-20 411,-20 411,-14 417,-8 423,-8"/>
<text text-anchor="middle" x="707" y="-268" font-family="Times,serif" font-size="20.00">PeerStorage</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_ApplyRouter</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M614.5,-443C614.5,-443 827.5,-443 827.5,-443 833.5,-443 839.5,-449 839.5,-455 839.5,-455 839.5,-627 839.5,-627 839.5,-633 833.5,-639 827.5,-639 827.5,-639 614.5,-639 614.5,-639 608.5,-639 602.5,-633 602.5,-627 602.5,-627 602.5,-455 602.5,-455 602.5,-449 608.5,-443 614.5,-443"/>
<text text-anchor="middle" x="721" y="-619" font-family="Times,serif" font-size="20.00">ApplyRouter</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M190,-647C190,-647 777,-647 777,-647 783,-647 789,-653 789,-659 789,-659 789,-905 789,-905 789,-911 783,-917 777,-917 777,-917 190,-917 190,-917 184,-917 178,-911 178,-905 178,-905 178,-659 178,-659 178,-653 184,-647 190,-647"/>
<text text-anchor="middle" x="483.5" y="-897" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M12,-647C12,-647 146,-647 146,-647 152,-647 158,-653 158,-659 158,-659 158,-717 158,-717 158,-723 152,-729 146,-729 146,-729 12,-729 12,-729 6,-729 0,-723 0,-717 0,-717 0,-659 0,-659 0,-653 6,-647 12,-647"/>
<text text-anchor="middle" x="79" y="-709" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<!-- RawNode_has_ready -->
<g id="node1" class="node">
<title>RawNode_has_ready</title>
<path fill="none" stroke="#1c2123" d="M453,-360C453,-360 500,-360 500,-360 506,-360 512,-366 512,-372 512,-372 512,-384 512,-384 512,-390 506,-396 500,-396 500,-396 453,-396 453,-396 447,-396 441,-390 441,-384 441,-384 441,-372 441,-372 441,-366 447,-360 453,-360"/>
<text text-anchor="middle" x="476.5" y="-374.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">has_ready</text>
</g>
<!-- RawNode_ready -->
<g id="node2" class="node">
<title>RawNode_ready</title>
<path fill="none" stroke="#1c2123" d="M461.5,-305C461.5,-305 491.5,-305 491.5,-305 497.5,-305 503.5,-311 503.5,-317 503.5,-317 503.5,-329 503.5,-329 503.5,-335 497.5,-341 491.5,-341 491.5,-341 461.5,-341 461.5,-341 455.5,-341 449.5,-335 449.5,-329 449.5,-329 449.5,-317 449.5,-317 449.5,-311 455.5,-305 461.5,-305"/>
<text text-anchor="middle" x="476.5" y="-319.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ready</text>
</g>
<!-- skip_bcast_commit -->
<g id="node3" class="node">
<title>skip_bcast_commit</title>
<path fill="none" stroke="#1c2123" d="M770.5,-397C770.5,-397 671.5,-397 671.5,-397 665.5,-397 659.5,-391 659.5,-385 659.5,-385 659.5,-373 659.5,-373 659.5,-367 665.5,-361 671.5,-361 671.5,-361 770.5,-361 770.5,-361 776.5,-361 782.5,-367 782.5,-373 782.5,-373 782.5,-385 782.5,-385 782.5,-391 776.5,-397 770.5,-397"/>
<text text-anchor="middle" x="721" y="-375.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">skip_bcast_commit</text>
</g>
<!-- raft_wb_mut_append -->
<g id="node4" class="node">
<title>raft_wb_mut_append</title>
<path fill="none" stroke="#1c2123" d="M996.5,-394C996.5,-394 887.5,-394 887.5,-394 881.5,-394 875.5,-388 875.5,-382 875.5,-382 875.5,-370 875.5,-370 875.5,-364 881.5,-358 887.5,-358 887.5,-358 996.5,-358 996.5,-358 1002.5,-358 1008.5,-364 1008.5,-370 1008.5,-370 1008.5,-382 1008.5,-382 1008.5,-388 1002.5,-394 996.5,-394"/>
<text text-anchor="middle" x="942" y="-372.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_wb_mut_append</text>
</g>
<!-- raft_wb_mut_cut_logs -->
<g id="node5" class="node">
<title>raft_wb_mut_cut_logs</title>
<path fill="none" stroke="#1c2123" d="M1000,-340C1000,-340 884,-340 884,-340 878,-340 872,-334 872,-328 872,-328 872,-316 872,-316 872,-310 878,-304 884,-304 884,-304 1000,-304 1000,-304 1006,-304 1012,-310 1012,-316 1012,-316 1012,-328 1012,-328 1012,-334 1006,-340 1000,-340"/>
<text text-anchor="middle" x="942" y="-318.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_wb_mut_cut_logs</text>
</g>
<!-- kv_wb_put_msg_cf -->
<g id="node6" class="node">
<title>kv_wb_put_msg_cf</title>
<path fill="none" stroke="#1c2123" d="M1060,-305C1060,-305 1235,-305 1235,-305 1241,-305 1247,-311 1247,-317 1247,-317 1247,-329 1247,-329 1247,-335 1241,-341 1235,-341 1235,-341 1060,-341 1060,-341 1054,-341 1048,-335 1048,-329 1048,-329 1048,-317 1048,-317 1048,-311 1054,-305 1060,-305"/>
<text text-anchor="middle" x="1147.5" y="-319.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">kv_wb.put_msg_cf(CF_RAFT...)</text>
</g>
<!-- trans_send -->
<g id="node7" class="node">
<title>trans_send</title>
<path fill="none" stroke="#1c2123" d="M905,-413C905,-413 979,-413 979,-413 985,-413 991,-419 991,-425 991,-425 991,-447 991,-447 991,-453 985,-459 979,-459 979,-459 905,-459 905,-459 899,-459 893,-453 893,-447 893,-447 893,-425 893,-425 893,-419 899,-413 905,-413"/>
<text text-anchor="middle" x="942" y="-443.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">trans_send</text>
<polyline fill="none" stroke="#1c2123" points="893,-436 991,-436 "/>
<text text-anchor="start" x="901" y="-420.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Transport.send</text>
</g>
<!-- PeerStorage_handle_raft_ready -->
<g id="node8" class="node">
<title>PeerStorage_handle_raft_ready</title>
<path fill="none" stroke="#1c2123" d="M431,-182C431,-182 522,-182 522,-182 528,-182 534,-188 534,-194 534,-194 534,-206 534,-206 534,-212 528,-218 522,-218 522,-218 431,-218 431,-218 425,-218 419,-212 419,-206 419,-206 419,-194 419,-194 419,-188 425,-182 431,-182"/>
<text text-anchor="middle" x="476.5" y="-196.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready</text>
</g>
<!-- append -->
<g id="node9" class="node">
<title>append</title>
<path fill="none" stroke="#1c2123" d="M618,-150.5C618,-150.5 824,-150.5 824,-150.5 830,-150.5 836,-156.5 836,-162.5 836,-162.5 836,-237.5 836,-237.5 836,-243.5 830,-249.5 824,-249.5 824,-249.5 618,-249.5 618,-249.5 612,-249.5 606,-243.5 606,-237.5 606,-237.5 606,-162.5 606,-162.5 606,-156.5 612,-150.5 618,-150.5"/>
<text text-anchor="middle" x="721" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">append</text>
<polyline fill="none" stroke="#1c2123" points="606,-226.5 836,-226.5 "/>
<text text-anchor="start" x="614" y="-211.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">将ready.entries写入</text>
<text text-anchor="start" x="614" y="-196.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> raft_wb write batch中</text>
<polyline fill="none" stroke="#1c2123" points="606,-188.5 836,-188.5 "/>
<text text-anchor="start" x="614" y="-173.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">最后会在RaftPoller.handle_raft_ready</text>
<text text-anchor="start" x="614" y="-158.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 中一起写入rocksdb</text>
</g>
<!-- PeerStorage_handle_raft_ready&#45;&gt;append -->
<g id="edge1" class="edge">
<title>PeerStorage_handle_raft_ready&#45;&gt;append</title>
<path fill="none" stroke="#666666" d="M534.05,-200C552.53,-200 573.86,-200 595.32,-200"/>
<polygon fill="#666666" stroke="#666666" points="595.52,-203.5 605.52,-200 595.52,-196.5 595.52,-203.5"/>
</g>
<!-- apply_snapshot -->
<g id="node10" class="node">
<title>apply_snapshot</title>
<path fill="none" stroke="#1c2123" d="M644.5,-17C644.5,-17 797.5,-17 797.5,-17 803.5,-17 809.5,-23 809.5,-29 809.5,-29 809.5,-119 809.5,-119 809.5,-125 803.5,-131 797.5,-131 797.5,-131 644.5,-131 644.5,-131 638.5,-131 632.5,-125 632.5,-119 632.5,-119 632.5,-29 632.5,-29 632.5,-23 638.5,-17 644.5,-17"/>
<text text-anchor="middle" x="721" y="-115.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_snapshot</text>
<polyline fill="none" stroke="#1c2123" points="632.5,-108 809.5,-108 "/>
<text text-anchor="middle" x="721" y="-92.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">install the snapshot</text>
<polyline fill="none" stroke="#1c2123" points="632.5,-85 809.5,-85 "/>
<text text-anchor="start" x="640.5" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">写入kv_wb中</text>
<text text-anchor="start" x="640.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 同样最后也会在</text>
<text text-anchor="start" x="640.5" y="-39.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> RaftPoller.handle_raft_ready</text>
<text text-anchor="start" x="640.5" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 中一起写入rocksdb</text>
</g>
<!-- PeerStorage_handle_raft_ready&#45;&gt;apply_snapshot -->
<g id="edge2" class="edge">
<title>PeerStorage_handle_raft_ready&#45;&gt;apply_snapshot</title>
<path fill="none" stroke="#666666" d="M512.24,-181.95C541.22,-166.89 583.95,-144.69 623.14,-124.33"/>
<polygon fill="#666666" stroke="#666666" points="625.23,-127.19 632.49,-119.47 622,-120.98 625.23,-127.19"/>
</g>
<!-- append&#45;&gt;raft_wb_mut_append -->
<g id="edge3" class="edge">
<title>append&#45;&gt;raft_wb_mut_append</title>
<path fill="none" stroke="#666666" d="M797.07,-249.6C812.45,-262.14 827.57,-276.5 839.5,-292 856.32,-313.85 843.84,-330.18 864,-349 865.13,-350.06 866.31,-351.07 867.52,-352.05"/>
<polygon fill="#666666" stroke="#666666" points="865.81,-355.12 876.03,-357.94 869.8,-349.37 865.81,-355.12"/>
</g>
<!-- append&#45;&gt;raft_wb_mut_cut_logs -->
<g id="edge4" class="edge">
<title>append&#45;&gt;raft_wb_mut_cut_logs</title>
<path fill="none" stroke="#666666" d="M792.55,-249.73C814.84,-264.34 839.94,-279.68 864,-292 869.32,-294.72 874.94,-297.35 880.63,-299.85"/>
<polygon fill="#666666" stroke="#666666" points="879.66,-303.24 890.23,-303.92 882.39,-296.79 879.66,-303.24"/>
</g>
<!-- write_peer_state -->
<g id="node11" class="node">
<title>write_peer_state</title>
<path fill="none" stroke="#1c2123" d="M983,-92C983,-92 901,-92 901,-92 895,-92 889,-86 889,-80 889,-80 889,-68 889,-68 889,-62 895,-56 901,-56 901,-56 983,-56 983,-56 989,-56 995,-62 995,-68 995,-68 995,-80 995,-80 995,-86 989,-92 983,-92"/>
<text text-anchor="middle" x="942" y="-70.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_peer_state</text>
</g>
<!-- apply_snapshot&#45;&gt;write_peer_state -->
<g id="edge5" class="edge">
<title>apply_snapshot&#45;&gt;write_peer_state</title>
<path fill="none" stroke="#666666" d="M809.81,-74C832.82,-74 857.16,-74 878.55,-74"/>
<polygon fill="#666666" stroke="#666666" points="878.79,-77.5 888.79,-74 878.79,-70.5 878.79,-77.5"/>
</g>
<!-- clear_meta -->
<g id="node12" class="node">
<title>clear_meta</title>
<path fill="none" stroke="#1c2123" d="M968.5,-146C968.5,-146 915.5,-146 915.5,-146 909.5,-146 903.5,-140 903.5,-134 903.5,-134 903.5,-122 903.5,-122 903.5,-116 909.5,-110 915.5,-110 915.5,-110 968.5,-110 968.5,-110 974.5,-110 980.5,-116 980.5,-122 980.5,-122 980.5,-134 980.5,-134 980.5,-140 974.5,-146 968.5,-146"/>
<text text-anchor="middle" x="942" y="-124.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">clear_meta</text>
</g>
<!-- apply_snapshot&#45;&gt;clear_meta -->
<g id="edge6" class="edge">
<title>apply_snapshot&#45;&gt;clear_meta</title>
<path fill="none" stroke="#666666" d="M809.81,-95.65C838.47,-102.72 869.19,-110.29 893.7,-116.34"/>
<polygon fill="#666666" stroke="#666666" points="892.9,-119.75 903.45,-118.74 894.58,-112.95 892.9,-119.75"/>
</g>
<!-- write_peer_state&#45;&gt;kv_wb_put_msg_cf -->
<g id="edge7" class="edge">
<title>write_peer_state&#45;&gt;kv_wb_put_msg_cf</title>
<path fill="none" stroke="#666666" d="M995.22,-90.09C1001.22,-93.16 1006.98,-96.78 1012,-101 1076.57,-155.33 1118.64,-248.96 1136.58,-295.33"/>
<polygon fill="#666666" stroke="#666666" points="1133.33,-296.62 1140.14,-304.74 1139.88,-294.15 1133.33,-296.62"/>
</g>
<!-- apply_router_schedule_task_ApplyTask_apply -->
<g id="node13" class="node">
<title>apply_router_schedule_task_ApplyTask_apply</title>
<path fill="none" stroke="#1c2123" d="M628.5,-509.5C628.5,-509.5 813.5,-509.5 813.5,-509.5 819.5,-509.5 825.5,-515.5 825.5,-521.5 825.5,-521.5 825.5,-588.5 825.5,-588.5 825.5,-594.5 819.5,-600.5 813.5,-600.5 813.5,-600.5 628.5,-600.5 628.5,-600.5 622.5,-600.5 616.5,-594.5 616.5,-588.5 616.5,-588.5 616.5,-521.5 616.5,-521.5 616.5,-515.5 622.5,-509.5 628.5,-509.5"/>
<text text-anchor="start" x="624.5" y="-585.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_router.</text>
<text text-anchor="start" x="624.5" y="-570.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task(ApplyTask::apply..)</text>
<polyline fill="none" stroke="#1c2123" points="616.5,-562.5 825.5,-562.5 "/>
<text text-anchor="start" x="624.5" y="-547.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向applyPoller</text>
<text text-anchor="start" x="624.5" y="-532.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送Apply消息</text>
<text text-anchor="start" x="624.5" y="-517.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> apply committed raft log</text>
</g>
<!-- apply_router_schedule_task_ApplyTask_Snapshot -->
<g id="node14" class="node">
<title>apply_router_schedule_task_ApplyTask_Snapshot</title>
<path fill="none" stroke="#1c2123" d="M622.5,-452C622.5,-452 819.5,-452 819.5,-452 825.5,-452 831.5,-458 831.5,-464 831.5,-464 831.5,-478 831.5,-478 831.5,-484 825.5,-490 819.5,-490 819.5,-490 622.5,-490 622.5,-490 616.5,-490 610.5,-484 610.5,-478 610.5,-478 610.5,-464 610.5,-464 610.5,-458 616.5,-452 622.5,-452"/>
<text text-anchor="start" x="618.5" y="-474.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_router.</text>
<text text-anchor="middle" x="721" y="-459.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task(ApplyTask_Snapshot)</text>
</g>
<!-- handle_raft_ready_append -->
<g id="node15" class="node">
<title>handle_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M335,-691C335,-691 198,-691 198,-691 192,-691 186,-685 186,-679 186,-679 186,-667 186,-667 186,-661 192,-655 198,-655 198,-655 335,-655 335,-655 341,-655 347,-661 347,-667 347,-667 347,-679 347,-679 347,-685 341,-691 335,-691"/>
<text text-anchor="middle" x="266.5" y="-669.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_append</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;RawNode_has_ready -->
<g id="edge8" class="edge">
<title>handle_raft_ready_append&#45;&gt;RawNode_has_ready</title>
<path fill="none" stroke="#666666" d="M280.2,-654.99C315.52,-604.9 415.06,-463.72 456.76,-404.58"/>
<polygon fill="#666666" stroke="#666666" points="459.8,-406.34 462.7,-396.15 454.08,-402.3 459.8,-406.34"/>
</g>
<!-- handle_raft_ready_append&#45;&gt;RawNode_ready -->
<g id="edge9" class="edge">
<title>handle_raft_ready_append&#45;&gt;RawNode_ready</title>
<path fill="none" stroke="#666666" d="M268.53,-654.65C272.61,-600.1 292.18,-437.35 383,-351 398.08,-336.66 420.26,-329.64 439.12,-326.22"/>
<polygon fill="#666666" stroke="#666666" points="439.85,-329.65 449.19,-324.66 438.78,-322.73 439.85,-329.65"/>
</g>
<!-- handle_raft_ready_append&#45;&gt;PeerStorage_handle_raft_ready -->
<g id="edge10" class="edge">
<title>handle_raft_ready_append&#45;&gt;PeerStorage_handle_raft_ready</title>
<path fill="none" stroke="#666666" d="M269.82,-654.64C277.7,-597.3 307.33,-417.88 383,-292 398.69,-265.9 423.42,-241.83 443.36,-224.87"/>
<polygon fill="#666666" stroke="#666666" points="445.84,-227.35 451.3,-218.27 441.37,-221.97 445.84,-227.35"/>
</g>
<!-- on_role_change -->
<g id="node16" class="node">
<title>on_role_change</title>
<path fill="none" stroke="#1c2123" d="M516,-691C516,-691 437,-691 437,-691 431,-691 425,-685 425,-679 425,-679 425,-667 425,-667 425,-661 431,-655 437,-655 437,-655 516,-655 516,-655 522,-655 528,-661 528,-667 528,-667 528,-679 528,-679 528,-685 522,-691 516,-691"/>
<text text-anchor="middle" x="476.5" y="-669.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_role_change</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;on_role_change -->
<g id="edge11" class="edge">
<title>handle_raft_ready_append&#45;&gt;on_role_change</title>
<path fill="none" stroke="#666666" d="M347.03,-673C369.5,-673 393.58,-673 414.76,-673"/>
<polygon fill="#666666" stroke="#666666" points="414.9,-676.5 424.9,-673 414.9,-669.5 414.9,-676.5"/>
</g>
<!-- apply_reads -->
<g id="node17" class="node">
<title>apply_reads</title>
<path fill="none" stroke="#1c2123" d="M505.5,-745C505.5,-745 447.5,-745 447.5,-745 441.5,-745 435.5,-739 435.5,-733 435.5,-733 435.5,-721 435.5,-721 435.5,-715 441.5,-709 447.5,-709 447.5,-709 505.5,-709 505.5,-709 511.5,-709 517.5,-715 517.5,-721 517.5,-721 517.5,-733 517.5,-733 517.5,-739 511.5,-745 505.5,-745"/>
<text text-anchor="middle" x="476.5" y="-723.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_reads</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;apply_reads -->
<g id="edge12" class="edge">
<title>handle_raft_ready_append&#45;&gt;apply_reads</title>
<path fill="none" stroke="#666666" d="M337.05,-691.06C366.06,-698.59 399.1,-707.16 425.62,-714.05"/>
<polygon fill="#666666" stroke="#666666" points="424.89,-717.48 435.45,-716.6 426.65,-710.7 424.89,-717.48"/>
</g>
<!-- send -->
<g id="node18" class="node">
<title>send</title>
<path fill="none" stroke="#1c2123" d="M411.5,-817.5C411.5,-817.5 541.5,-817.5 541.5,-817.5 547.5,-817.5 553.5,-823.5 553.5,-829.5 553.5,-829.5 553.5,-866.5 553.5,-866.5 553.5,-872.5 547.5,-878.5 541.5,-878.5 541.5,-878.5 411.5,-878.5 411.5,-878.5 405.5,-878.5 399.5,-872.5 399.5,-866.5 399.5,-866.5 399.5,-829.5 399.5,-829.5 399.5,-823.5 405.5,-817.5 411.5,-817.5"/>
<text text-anchor="middle" x="476.5" y="-863.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
<polyline fill="none" stroke="#1c2123" points="399.5,-855.5 553.5,-855.5 "/>
<text text-anchor="start" x="407.5" y="-840.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送收集到的Raft消息</text>
<text text-anchor="start" x="407.5" y="-825.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 给别的peer</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;send -->
<g id="edge13" class="edge">
<title>handle_raft_ready_append&#45;&gt;send</title>
<path fill="none" stroke="#666666" d="M278.93,-691.03C297.64,-719.31 337.33,-774.31 383,-808 385.46,-809.81 388,-811.56 390.63,-813.25"/>
<polygon fill="#666666" stroke="#666666" points="388.83,-816.26 399.2,-818.44 392.46,-810.27 388.83,-816.26"/>
</g>
<!-- handle_raft_committed_entries -->
<g id="node19" class="node">
<title>handle_raft_committed_entries</title>
<path fill="none" stroke="#1c2123" d="M558,-799C558,-799 395,-799 395,-799 389,-799 383,-793 383,-787 383,-787 383,-775 383,-775 383,-769 389,-763 395,-763 395,-763 558,-763 558,-763 564,-763 570,-769 570,-775 570,-775 570,-787 570,-787 570,-793 564,-799 558,-799"/>
<text text-anchor="middle" x="476.5" y="-777.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_committed_entries</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;handle_raft_committed_entries -->
<g id="edge14" class="edge">
<title>handle_raft_ready_append&#45;&gt;handle_raft_committed_entries</title>
<path fill="none" stroke="#666666" d="M288.73,-691.13C310.94,-709.29 347.46,-736.93 383,-754 386.82,-755.83 390.78,-757.57 394.83,-759.21"/>
<polygon fill="#666666" stroke="#666666" points="393.81,-762.56 404.4,-762.85 396.3,-756.02 393.81,-762.56"/>
</g>
<!-- send_raft_message -->
<g id="node20" class="node">
<title>send_raft_message</title>
<path fill="none" stroke="#1c2123" d="M769,-778C769,-778 673,-778 673,-778 667,-778 661,-772 661,-766 661,-766 661,-754 661,-754 661,-748 667,-742 673,-742 673,-742 769,-742 769,-742 775,-742 781,-748 781,-754 781,-754 781,-766 781,-766 781,-772 775,-778 769,-778"/>
<text text-anchor="middle" x="721" y="-756.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send_raft_message</text>
</g>
<!-- send&#45;&gt;send_raft_message -->
<g id="edge18" class="edge">
<title>send&#45;&gt;send_raft_message</title>
<path fill="none" stroke="#666666" d="M553.56,-820.4C588.05,-807.88 628.24,-793.3 660.48,-781.6"/>
<polygon fill="#666666" stroke="#666666" points="662.01,-784.77 670.22,-778.07 659.62,-778.19 662.01,-784.77"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;skip_bcast_commit -->
<g id="edge15" class="edge">
<title>handle_raft_committed_entries&#45;&gt;skip_bcast_commit</title>
<path fill="none" stroke="#666666" d="M560.59,-762.87C564.04,-760.28 567.22,-757.34 570,-754 660.11,-645.88 522.94,-555.1 602.5,-439 614.07,-422.11 631.89,-409.7 650.18,-400.7"/>
<polygon fill="#666666" stroke="#666666" points="651.85,-403.79 659.47,-396.42 648.92,-397.43 651.85,-403.79"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_apply -->
<g id="edge16" class="edge">
<title>handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_apply</title>
<path fill="none" stroke="#666666" d="M559.04,-762.78C562.99,-760.22 566.69,-757.31 570,-754 606.36,-717.67 573.2,-685.24 602.5,-643 611.64,-629.82 623.39,-617.8 635.91,-607.17"/>
<polygon fill="#666666" stroke="#666666" points="638.26,-609.77 643.79,-600.73 633.83,-604.35 638.26,-609.77"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_Snapshot -->
<g id="edge17" class="edge">
<title>handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_Snapshot</title>
<path fill="none" stroke="#666666" d="M560.49,-762.79C563.97,-760.22 567.17,-757.31 570,-754 643.93,-667.47 526.77,-584.96 602.5,-500 603.55,-498.82 604.64,-497.69 605.76,-496.6"/>
<polygon fill="#666666" stroke="#666666" points="608.23,-499.1 613.67,-490.01 603.75,-493.72 608.23,-499.1"/>
</g>
<!-- send_raft_message&#45;&gt;trans_send -->
<g id="edge19" class="edge">
<title>send_raft_message&#45;&gt;trans_send</title>
<path fill="none" stroke="#666666" d="M744.12,-741.97C769.53,-720.42 811.33,-682.31 839.5,-643 880.07,-586.37 912.39,-511.06 928.93,-468.65"/>
<polygon fill="#666666" stroke="#666666" points="932.27,-469.7 932.6,-459.11 925.74,-467.19 932.27,-469.7"/>
</g>
<!-- collect_ready -->
<g id="node21" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M111,-691C111,-691 46,-691 46,-691 40,-691 34,-685 34,-679 34,-679 34,-667 34,-667 34,-661 40,-655 46,-655 46,-655 111,-655 111,-655 117,-655 123,-661 123,-667 123,-667 123,-679 123,-679 123,-685 117,-691 111,-691"/>
<text text-anchor="middle" x="78.5" y="-669.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- collect_ready&#45;&gt;handle_raft_ready_append -->
<g id="edge20" class="edge">
<title>collect_ready&#45;&gt;handle_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M123.11,-673C138.87,-673 157.3,-673 175.58,-673"/>
<polygon fill="#666666" stroke="#666666" points="175.69,-676.5 185.69,-673 175.69,-669.5 175.69,-676.5"/>
</g>
</g>
</svg>
