<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: PollContext_wb Pages: 1 -->
<svg width="1013pt" height="456pt"
 viewBox="0.00 0.00 1013.00 456.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 452)">
<title>PollContext_wb</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-452 1009,-452 1009,4 -4,4"/>
<!-- Engine -->
<g id="node1" class="node">
<title>Engine</title>
<path fill="none" stroke="#1c2123" d="M98,-6.5C98,-6.5 154,-6.5 154,-6.5 160,-6.5 166,-12.5 166,-18.5 166,-18.5 166,-63.5 166,-63.5 166,-69.5 160,-75.5 154,-75.5 154,-75.5 98,-75.5 98,-75.5 92,-75.5 86,-69.5 86,-63.5 86,-63.5 86,-18.5 86,-18.5 86,-12.5 92,-6.5 98,-6.5"/>
<text text-anchor="middle" x="126" y="-60.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Engine</text>
<polyline fill="none" stroke="#1c2123" points="86,-52.5 166,-52.5 "/>
<text text-anchor="start" x="94" y="-37.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub kv: K,</text>
<polyline fill="none" stroke="#1c2123" points="86,-29.5 166,-29.5 "/>
<text text-anchor="start" x="94" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub raft: R,</text>
</g>
<!-- RocksEngine -->
<g id="node2" class="node">
<title>RocksEngine</title>
<path fill="none" stroke="#1c2123" d="M441,-0.5C441,-0.5 750,-0.5 750,-0.5 756,-0.5 762,-6.5 762,-12.5 762,-12.5 762,-103.5 762,-103.5 762,-109.5 756,-115.5 750,-115.5 750,-115.5 441,-115.5 441,-115.5 435,-115.5 429,-109.5 429,-103.5 429,-103.5 429,-12.5 429,-12.5 429,-6.5 435,-0.5 441,-0.5"/>
<text text-anchor="middle" x="595.5" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RocksEngine</text>
<polyline fill="none" stroke="#1c2123" points="429,-92.5 762,-92.5 "/>
<text text-anchor="start" x="437" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">core: Arc&lt;Mutex&lt;RocksEngineCore&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="429,-69.5 762,-69.5 "/>
<text text-anchor="start" x="437" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">sched: Scheduler&lt;Task&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="429,-46.5 762,-46.5 "/>
<text text-anchor="start" x="437" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">engines: Engines&lt;BaseRocksEngine, BaseRocksEngine&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="429,-23.5 762,-23.5 "/>
<text text-anchor="start" x="437" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">not_leader: Arc&lt;AtomicBool&gt;,</text>
</g>
<!-- RocksWriteBatch -->
<g id="node5" class="node">
<title>RocksWriteBatch</title>
<path fill="none" stroke="#1c2123" d="M848.5,-76.5C848.5,-76.5 955.5,-76.5 955.5,-76.5 961.5,-76.5 967.5,-82.5 967.5,-88.5 967.5,-88.5 967.5,-133.5 967.5,-133.5 967.5,-139.5 961.5,-145.5 955.5,-145.5 955.5,-145.5 848.5,-145.5 848.5,-145.5 842.5,-145.5 836.5,-139.5 836.5,-133.5 836.5,-133.5 836.5,-88.5 836.5,-88.5 836.5,-82.5 842.5,-76.5 848.5,-76.5"/>
<text text-anchor="middle" x="902" y="-130.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RocksWriteBatch</text>
<polyline fill="none" stroke="#1c2123" points="836.5,-122.5 967.5,-122.5 "/>
<text text-anchor="start" x="844.5" y="-107.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">db: Arc&lt;DB&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="836.5,-99.5 967.5,-99.5 "/>
<text text-anchor="start" x="844.5" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wb: RawWriteBatch,</text>
</g>
<!-- RocksEngine&#45;&gt;RocksWriteBatch -->
<g id="edge10" class="edge">
<title>RocksEngine&#45;&gt;RocksWriteBatch</title>
<path fill="none" stroke="#666666" d="M762.12,-86.83C784.57,-90.73 806.63,-94.57 826.32,-98"/>
<polygon fill="#666666" stroke="#666666" points="825.94,-101.49 836.4,-99.76 827.14,-94.59 825.94,-101.49"/>
</g>
<!-- BaseRocksEngine -->
<g id="node3" class="node">
<title>BaseRocksEngine</title>
<path fill="none" stroke="#1c2123" d="M57.5,-183C57.5,-183 194.5,-183 194.5,-183 200.5,-183 206.5,-189 206.5,-195 206.5,-195 206.5,-255 206.5,-255 206.5,-261 200.5,-267 194.5,-267 194.5,-267 57.5,-267 57.5,-267 51.5,-267 45.5,-261 45.5,-255 45.5,-255 45.5,-195 45.5,-195 45.5,-189 51.5,-183 57.5,-183"/>
<text text-anchor="start" x="53.5" y="-251.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">engine_rocks/src/engine/</text>
<text text-anchor="middle" x="126" y="-236.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> RocksEngine</text>
<polyline fill="none" stroke="#1c2123" points="45.5,-229 206.5,-229 "/>
<text text-anchor="start" x="53.5" y="-213.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">db: Arc&lt;DB&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="45.5,-206 206.5,-206 "/>
<text text-anchor="start" x="53.5" y="-190.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">shared_block_cache: bool,</text>
</g>
<!-- PollContext -->
<g id="node4" class="node">
<title>PollContext</title>
<path fill="none" stroke="#1c2123" d="M50,-94.5C50,-94.5 202,-94.5 202,-94.5 208,-94.5 214,-100.5 214,-106.5 214,-106.5 214,-151.5 214,-151.5 214,-157.5 208,-163.5 202,-163.5 202,-163.5 50,-163.5 50,-163.5 44,-163.5 38,-157.5 38,-151.5 38,-151.5 38,-106.5 38,-106.5 38,-100.5 44,-94.5 50,-94.5"/>
<text text-anchor="middle" x="126" y="-148.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PollContext</text>
<polyline fill="none" stroke="#1c2123" points="38,-140.5 214,-140.5 "/>
<text text-anchor="start" x="46" y="-125.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub kv_wb: EK::WriteBatch,</text>
<polyline fill="none" stroke="#1c2123" points="38,-117.5 214,-117.5 "/>
<text text-anchor="start" x="46" y="-102.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub raft_wb: ER::LogBatch</text>
</g>
<!-- RaftEngine -->
<g id="node8" class="node">
<title>RaftEngine</title>
<path fill="none" stroke="#1c2123" d="M355,-179C355,-179 301,-179 301,-179 295,-179 289,-173 289,-167 289,-167 289,-155 289,-155 289,-149 295,-143 301,-143 301,-143 355,-143 355,-143 361,-143 367,-149 367,-155 367,-155 367,-167 367,-167 367,-173 361,-179 355,-179"/>
<text text-anchor="middle" x="328" y="-157.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftEngine</text>
</g>
<!-- PollContext&#45;&gt;RaftEngine -->
<g id="edge1" class="edge">
<title>PollContext&#45;&gt;RaftEngine</title>
<path fill="none" stroke="#666666" d="M214.14,-142.94C236.27,-146.48 259.25,-150.16 278.66,-153.27"/>
<polygon fill="#666666" stroke="#666666" points="278.32,-156.76 288.75,-154.88 279.43,-149.84 278.32,-156.76"/>
</g>
<!-- KvEngine -->
<g id="node9" class="node">
<title>KvEngine</title>
<path fill="none" stroke="#1c2123" d="M351.5,-114C351.5,-114 304.5,-114 304.5,-114 298.5,-114 292.5,-108 292.5,-102 292.5,-102 292.5,-90 292.5,-90 292.5,-84 298.5,-78 304.5,-78 304.5,-78 351.5,-78 351.5,-78 357.5,-78 363.5,-84 363.5,-90 363.5,-90 363.5,-102 363.5,-102 363.5,-108 357.5,-114 351.5,-114"/>
<text text-anchor="middle" x="328" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">KvEngine</text>
</g>
<!-- PollContext&#45;&gt;KvEngine -->
<g id="edge2" class="edge">
<title>PollContext&#45;&gt;KvEngine</title>
<path fill="none" stroke="#666666" d="M214.14,-114.62C237.63,-110.75 262.07,-106.71 282.19,-103.39"/>
<polygon fill="#666666" stroke="#666666" points="282.98,-106.81 292.28,-101.73 281.84,-99.9 282.98,-106.81"/>
</g>
<!-- Engine_Entry_EntryExtTyped_PipLog -->
<g id="node6" class="node">
<title>Engine_Entry_EntryExtTyped_PipLog</title>
<path fill="none" stroke="#1c2123" d="M12,-286.5C12,-286.5 240,-286.5 240,-286.5 246,-286.5 252,-292.5 252,-298.5 252,-298.5 252,-435.5 252,-435.5 252,-441.5 246,-447.5 240,-447.5 240,-447.5 12,-447.5 12,-447.5 6,-447.5 0,-441.5 0,-435.5 0,-435.5 0,-298.5 0,-298.5 0,-292.5 6,-286.5 12,-286.5"/>
<text text-anchor="middle" x="126" y="-432.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Engine_Entry_EntryExtTyped_PipLog</text>
<polyline fill="none" stroke="#1c2123" points="0,-424.5 252,-424.5 "/>
<text text-anchor="start" x="8" y="-409.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cfg: Arc&lt;Config&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-401.5 252,-401.5 "/>
<text text-anchor="start" x="8" y="-386.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">memtables: MemTableAccessor&lt;E, W&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-378.5 252,-378.5 "/>
<text text-anchor="start" x="8" y="-363.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pipe_log: P,</text>
<polyline fill="none" stroke="#1c2123" points="0,-355.5 252,-355.5 "/>
<text text-anchor="start" x="8" y="-340.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">global_stats: Arc&lt;GlobalStats&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-332.5 252,-332.5 "/>
<text text-anchor="start" x="8" y="-317.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">purge_manager: PurgeManager&lt;E, W, P&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-309.5 252,-309.5 "/>
<text text-anchor="start" x="8" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">workers: Arc&lt;RwLock&lt;Workers&gt;&gt;,</text>
</g>
<!-- RaftLogBatch -->
<g id="node7" class="node">
<title>RaftLogBatch</title>
<path fill="none" stroke="#1c2123" d="M811,-183C811,-183 993,-183 993,-183 999,-183 1005,-189 1005,-195 1005,-195 1005,-217 1005,-217 1005,-223 999,-229 993,-229 993,-229 811,-229 811,-229 805,-229 799,-223 799,-217 799,-217 799,-195 799,-195 799,-189 805,-183 811,-183"/>
<text text-anchor="middle" x="902" y="-213.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLogBatch</text>
<polyline fill="none" stroke="#1c2123" points="799,-206 1005,-206 "/>
<text text-anchor="start" x="807" y="-190.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">LogBatch&lt;Entry, EntryExtTyped&gt;</text>
</g>
<!-- RaftEngine&#45;&gt;RocksEngine -->
<g id="edge5" class="edge">
<title>RaftEngine&#45;&gt;RocksEngine</title>
<path fill="none" stroke="#666666" d="M367.25,-145.94C373.19,-143.61 379.26,-141.24 385,-139 401.48,-132.58 418.69,-125.89 435.87,-119.23"/>
<polygon fill="#666666" stroke="#666666" points="437.34,-122.41 445.4,-115.53 434.81,-115.89 437.34,-122.41"/>
<text text-anchor="middle" x="398" y="-142.8" font-family="Times,serif" font-size="14.00">impl</text>
</g>
<!-- PanicEngine -->
<g id="node10" class="node">
<title>PanicEngine</title>
<path fill="none" stroke="#1c2123" d="M626,-170C626,-170 565,-170 565,-170 559,-170 553,-164 553,-158 553,-158 553,-146 553,-146 553,-140 559,-134 565,-134 565,-134 626,-134 626,-134 632,-134 638,-140 638,-146 638,-146 638,-158 638,-158 638,-164 632,-170 626,-170"/>
<text text-anchor="middle" x="595.5" y="-148.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PanicEngine</text>
</g>
<!-- RaftEngine&#45;&gt;PanicEngine -->
<g id="edge6" class="edge">
<title>RaftEngine&#45;&gt;PanicEngine</title>
<path fill="none" stroke="#666666" d="M367.04,-159.71C413.05,-158.15 490.74,-155.52 542.32,-153.77"/>
<polygon fill="#666666" stroke="#666666" points="542.71,-157.26 552.59,-153.42 542.48,-150.26 542.71,-157.26"/>
<text text-anchor="middle" x="398" y="-162.8" font-family="Times,serif" font-size="14.00">impl</text>
</g>
<!-- RaftLogEngine -->
<g id="node11" class="node">
<title>RaftLogEngine</title>
<path fill="none" stroke="#1c2123" d="M633.5,-278C633.5,-278 557.5,-278 557.5,-278 551.5,-278 545.5,-272 545.5,-266 545.5,-266 545.5,-254 545.5,-254 545.5,-248 551.5,-242 557.5,-242 557.5,-242 633.5,-242 633.5,-242 639.5,-242 645.5,-248 645.5,-254 645.5,-254 645.5,-266 645.5,-266 645.5,-272 639.5,-278 633.5,-278"/>
<text text-anchor="middle" x="595.5" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLogEngine</text>
</g>
<!-- RaftEngine&#45;&gt;RaftLogEngine -->
<g id="edge7" class="edge">
<title>RaftEngine&#45;&gt;RaftLogEngine</title>
<path fill="none" stroke="#666666" d="M348.38,-179.21C367.39,-195.97 397.97,-220.14 429,-233 462.61,-246.93 502.85,-253.69 535.23,-256.97"/>
<polygon fill="#666666" stroke="#666666" points="535.17,-260.48 545.45,-257.91 535.82,-253.51 535.17,-260.48"/>
<text text-anchor="middle" x="398" y="-227.8" font-family="Times,serif" font-size="14.00">impl</text>
</g>
<!-- KvEngine&#45;&gt;RocksEngine -->
<g id="edge3" class="edge">
<title>KvEngine&#45;&gt;RocksEngine</title>
<path fill="none" stroke="#666666" d="M350.1,-77.84C360.01,-70.48 372.4,-62.82 385,-59 395.84,-55.72 407.13,-53.21 418.62,-51.36"/>
<polygon fill="#666666" stroke="#666666" points="419.37,-54.78 428.76,-49.88 418.36,-47.86 419.37,-54.78"/>
<text text-anchor="middle" x="398" y="-62.8" font-family="Times,serif" font-size="14.00">impl</text>
</g>
<!-- KvEngine&#45;&gt;PanicEngine -->
<g id="edge4" class="edge">
<title>KvEngine&#45;&gt;PanicEngine</title>
<path fill="none" stroke="#666666" d="M363.59,-89.32C378.99,-88.08 396.8,-89.14 411,-97 423.94,-104.17 416.63,-116.89 429,-125 462.42,-146.92 507.6,-153.1 542.31,-154.11"/>
<polygon fill="#666666" stroke="#666666" points="542.67,-157.62 552.72,-154.27 542.77,-150.62 542.67,-157.62"/>
<text text-anchor="middle" x="398" y="-100.8" font-family="Times,serif" font-size="14.00">impl</text>
</g>
<!-- LogBatch -->
<g id="node12" class="node">
<title>LogBatch</title>
<path fill="none" stroke="#1c2123" d="M618.5,-224C618.5,-224 572.5,-224 572.5,-224 566.5,-224 560.5,-218 560.5,-212 560.5,-212 560.5,-200 560.5,-200 560.5,-194 566.5,-188 572.5,-188 572.5,-188 618.5,-188 618.5,-188 624.5,-188 630.5,-194 630.5,-200 630.5,-200 630.5,-212 630.5,-212 630.5,-218 624.5,-224 618.5,-224"/>
<text text-anchor="middle" x="595.5" y="-202.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">LogBatch</text>
</g>
<!-- LogBatch&#45;&gt;RocksWriteBatch -->
<g id="edge8" class="edge">
<title>LogBatch&#45;&gt;RocksWriteBatch</title>
<path fill="none" stroke="#666666" d="M630.78,-203.36C664.73,-200.06 717.89,-193.05 762,-179 785.18,-171.62 809.36,-160.95 830.92,-150.24"/>
<polygon fill="#666666" stroke="#666666" points="832.65,-153.29 839.99,-145.66 829.49,-147.04 832.65,-153.29"/>
</g>
<!-- LogBatch&#45;&gt;RaftLogBatch -->
<g id="edge9" class="edge">
<title>LogBatch&#45;&gt;RaftLogBatch</title>
<path fill="none" stroke="#666666" d="M630.54,-206C668.75,-206 732.76,-206 788.91,-206"/>
<polygon fill="#666666" stroke="#666666" points="788.94,-209.5 798.94,-206 788.94,-202.5 788.94,-209.5"/>
</g>
</g>
</svg>
