<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: async_snapshot Pages: 1 -->
<svg width="1448pt" height="822pt"
 viewBox="0.00 0.00 1448.00 821.66" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 817.66)">
<title>async_snapshot</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-817.66 1444,-817.66 1444,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-66.66C20,-66.66 1420,-66.66 1420,-66.66 1426,-66.66 1432,-72.66 1432,-78.66 1432,-78.66 1432,-793.66 1432,-793.66 1432,-799.66 1426,-805.66 1420,-805.66 1420,-805.66 20,-805.66 20,-805.66 14,-805.66 8,-799.66 8,-793.66 8,-793.66 8,-78.66 8,-78.66 8,-72.66 14,-66.66 20,-66.66"/>
<text text-anchor="middle" x="720" y="-785.66" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_raft_group</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M446,-499.66C446,-499.66 1073,-499.66 1073,-499.66 1079,-499.66 1085,-505.66 1085,-511.66 1085,-511.66 1085,-595.66 1085,-595.66 1085,-601.66 1079,-607.66 1073,-607.66 1073,-607.66 446,-607.66 446,-607.66 440,-607.66 434,-601.66 434,-595.66 434,-595.66 434,-511.66 434,-511.66 434,-505.66 440,-499.66 446,-499.66"/>
<text text-anchor="middle" x="759.5" y="-587.66" font-family="Times,serif" font-size="20.00">raft_group</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_follower</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M659,-86.66C659,-86.66 1259,-86.66 1259,-86.66 1265,-86.66 1271,-92.66 1271,-98.66 1271,-98.66 1271,-222.66 1271,-222.66 1271,-228.66 1265,-234.66 1259,-234.66 1259,-234.66 659,-234.66 659,-234.66 653,-234.66 647,-228.66 647,-222.66 647,-222.66 647,-98.66 647,-98.66 647,-92.66 653,-86.66 659,-86.66"/>
<text text-anchor="middle" x="959" y="-214.66" font-family="Times,serif" font-size="20.00">follower</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_leader</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M700.5,-320.66C700.5,-320.66 1062.5,-320.66 1062.5,-320.66 1068.5,-320.66 1074.5,-326.66 1074.5,-332.66 1074.5,-332.66 1074.5,-467.66 1074.5,-467.66 1074.5,-473.66 1068.5,-479.66 1062.5,-479.66 1062.5,-479.66 700.5,-479.66 700.5,-479.66 694.5,-479.66 688.5,-473.66 688.5,-467.66 688.5,-467.66 688.5,-332.66 688.5,-332.66 688.5,-326.66 694.5,-320.66 700.5,-320.66"/>
<text text-anchor="middle" x="881.5" y="-459.66" font-family="Times,serif" font-size="20.00">leader</text>
</g>
<!-- propose -->
<g id="node1" class="node">
<title>propose</title>
<path fill="none" stroke="#1c2123" d="M28,-665.16C28,-665.16 155,-665.16 155,-665.16 161,-665.16 167,-671.16 167,-677.16 167,-677.16 167,-714.16 167,-714.16 167,-720.16 161,-726.16 155,-726.16 155,-726.16 28,-726.16 28,-726.16 22,-726.16 16,-720.16 16,-714.16 16,-714.16 16,-677.16 16,-677.16 16,-671.16 22,-665.16 28,-665.16"/>
<text text-anchor="middle" x="91.5" y="-710.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose</text>
<polyline fill="none" stroke="#1c2123" points="16,-703.16 167,-703.16 "/>
<text text-anchor="start" x="24" y="-687.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">发起ReadIndex请求</text>
<text text-anchor="start" x="24" y="-672.96" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并带上了cb 回调函数</text>
</g>
<!-- read_index -->
<g id="node2" class="node">
<title>read_index</title>
<path fill="none" stroke="#1c2123" d="M412,-616.66C412,-616.66 607,-616.66 607,-616.66 613,-616.66 619,-622.66 619,-628.66 619,-628.66 619,-680.66 619,-680.66 619,-686.66 613,-692.66 607,-692.66 607,-692.66 412,-692.66 412,-692.66 406,-692.66 400,-686.66 400,-680.66 400,-680.66 400,-628.66 400,-628.66 400,-622.66 406,-616.66 412,-616.66"/>
<text text-anchor="middle" x="509.5" y="-677.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">read_index</text>
<polyline fill="none" stroke="#1c2123" points="400,-669.66 619,-669.66 "/>
<text text-anchor="start" x="408" y="-654.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">调用底层的raft_group的read_index</text>
<text text-anchor="start" x="408" y="-639.46" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 等底层OK了，在collect_ready时</text>
<text text-anchor="start" x="408" y="-624.46" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 会收到对应的ready</text>
</g>
<!-- propose&#45;&gt;read_index -->
<g id="edge1" class="edge">
<title>propose&#45;&gt;read_index</title>
<path fill="none" stroke="#666666" d="M167.35,-688.28C229.24,-682.18 318.25,-673.41 389.84,-666.35"/>
<polygon fill="#666666" stroke="#666666" points="390.21,-669.83 399.82,-665.37 389.52,-662.87 390.21,-669.83"/>
</g>
<!-- read_local -->
<g id="node3" class="node">
<title>read_local</title>
<path fill="none" stroke="#1c2123" d="M534,-767.66C534,-767.66 485,-767.66 485,-767.66 479,-767.66 473,-761.66 473,-755.66 473,-755.66 473,-743.66 473,-743.66 473,-737.66 479,-731.66 485,-731.66 485,-731.66 534,-731.66 534,-731.66 540,-731.66 546,-737.66 546,-743.66 546,-743.66 546,-755.66 546,-755.66 546,-761.66 540,-767.66 534,-767.66"/>
<text text-anchor="middle" x="509.5" y="-745.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">read_local</text>
</g>
<!-- propose&#45;&gt;read_local -->
<g id="edge2" class="edge">
<title>propose&#45;&gt;read_local</title>
<path fill="none" stroke="#666666" d="M167.35,-705.37C253.3,-716.53 391.58,-734.48 462.82,-743.73"/>
<polygon fill="#666666" stroke="#666666" points="462.46,-747.21 472.83,-745.03 463.36,-740.27 462.46,-747.21"/>
</g>
<!-- pending_reads -->
<g id="node4" class="node">
<title>pending_reads</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M933,-243.16C933,-243.16 1111,-243.16 1111,-243.16 1117,-243.16 1123,-249.16 1123,-255.16 1123,-255.16 1123,-300.16 1123,-300.16 1123,-306.16 1117,-312.16 1111,-312.16 1111,-312.16 933,-312.16 933,-312.16 927,-312.16 921,-306.16 921,-300.16 921,-300.16 921,-255.16 921,-255.16 921,-249.16 927,-243.16 933,-243.16"/>
<text text-anchor="middle" x="1022" y="-296.96" font-family="Times,serif" font-size="14.00" fill="#5d6179">pending_reads</text>
<polyline fill="none" stroke="#8a8898" points="921,-289.16 1123,-289.16 "/>
<text text-anchor="start" x="929" y="-273.96" font-family="Times,serif" font-size="14.00" fill="#5d6179">ReadIndexQueue&lt;EK::Snapshot&gt;</text>
<polyline fill="none" stroke="#8a8898" points="921,-266.16 1123,-266.16 "/>
<text text-anchor="start" x="929" y="-250.96" font-family="Times,serif" font-size="14.00" fill="#5d6179">reads等待队列</text>
</g>
<!-- read_index&#45;&gt;pending_reads -->
<g id="edge3" class="edge">
<title>read_index&#45;&gt;pending_reads</title>
<path fill="none" stroke="#666666" d="M615.15,-616.34C616.5,-614.84 617.78,-613.28 619,-611.66 658.54,-559 600.57,-363.36 647,-316.66 664.95,-298.6 849.68,-296.32 875,-293.66 886.59,-292.44 898.69,-291.14 910.76,-289.84"/>
<polygon fill="#666666" stroke="#666666" points="911.31,-293.3 920.88,-288.74 910.56,-286.34 911.31,-293.3"/>
</g>
<!-- Uuid_new_v4 -->
<g id="node5" class="node">
<title>Uuid_new_v4</title>
<path fill="none" stroke="#1c2123" d="M728,-624.16C728,-624.16 802,-624.16 802,-624.16 808,-624.16 814,-630.16 814,-636.16 814,-636.16 814,-673.16 814,-673.16 814,-679.16 808,-685.16 802,-685.16 802,-685.16 728,-685.16 728,-685.16 722,-685.16 716,-679.16 716,-673.16 716,-673.16 716,-636.16 716,-636.16 716,-630.16 722,-624.16 728,-624.16"/>
<text text-anchor="middle" x="765" y="-669.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">Uuid::new_v4</text>
<polyline fill="none" stroke="#1c2123" points="716,-662.16 814,-662.16 "/>
<text text-anchor="start" x="724" y="-646.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">生成唯一的id</text>
<text text-anchor="start" x="724" y="-631.96" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 传递给raft</text>
</g>
<!-- read_index&#45;&gt;Uuid_new_v4 -->
<g id="edge4" class="edge">
<title>read_index&#45;&gt;Uuid_new_v4</title>
<path fill="none" stroke="#666666" d="M619.11,-654.66C648.76,-654.66 679.75,-654.66 705.43,-654.66"/>
<polygon fill="#666666" stroke="#666666" points="705.73,-658.16 715.73,-654.66 705.73,-651.16 705.73,-658.16"/>
</g>
<!-- raft_group_read_index -->
<g id="node6" class="node">
<title>raft_group_read_index</title>
<path fill="none" stroke="#1c2123" d="M685.5,-508.16C685.5,-508.16 844.5,-508.16 844.5,-508.16 850.5,-508.16 856.5,-514.16 856.5,-520.16 856.5,-520.16 856.5,-557.16 856.5,-557.16 856.5,-563.16 850.5,-569.16 844.5,-569.16 844.5,-569.16 685.5,-569.16 685.5,-569.16 679.5,-569.16 673.5,-563.16 673.5,-557.16 673.5,-557.16 673.5,-520.16 673.5,-520.16 673.5,-514.16 679.5,-508.16 685.5,-508.16"/>
<text text-anchor="middle" x="765" y="-553.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_group.read_index</text>
<polyline fill="none" stroke="#1c2123" points="673.5,-546.16 856.5,-546.16 "/>
<text text-anchor="start" x="681.5" y="-530.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">ReadIndex request a read state</text>
<text text-anchor="start" x="681.5" y="-515.96" font-family="Times,serif" font-size="14.00" fill="#2f3638"> will be set in ready</text>
</g>
<!-- read_index&#45;&gt;raft_group_read_index -->
<g id="edge5" class="edge">
<title>read_index&#45;&gt;raft_group_read_index</title>
<path fill="none" stroke="#666666" d="M612.29,-616.5C614.59,-614.94 616.83,-613.33 619,-611.66 635.62,-598.85 629.84,-585.73 647,-573.66 652.29,-569.93 657.98,-566.6 663.91,-563.62"/>
<polygon fill="#666666" stroke="#666666" points="665.79,-566.6 673.38,-559.21 662.83,-560.26 665.79,-566.6"/>
</g>
<!-- raft_group_ready -->
<g id="node10" class="node">
<title>raft_group_ready</title>
<path fill="none" stroke="#1c2123" d="M1065,-556.66C1065,-556.66 979,-556.66 979,-556.66 973,-556.66 967,-550.66 967,-544.66 967,-544.66 967,-532.66 967,-532.66 967,-526.66 973,-520.66 979,-520.66 979,-520.66 1065,-520.66 1065,-520.66 1071,-520.66 1077,-526.66 1077,-532.66 1077,-532.66 1077,-544.66 1077,-544.66 1077,-550.66 1071,-556.66 1065,-556.66"/>
<text text-anchor="middle" x="1022" y="-534.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_group_ready</text>
</g>
<!-- raft_group_read_index&#45;&gt;raft_group_ready -->
<g id="edge11" class="edge">
<title>raft_group_read_index&#45;&gt;raft_group_ready</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M856.62,-538.66C889.68,-538.66 926.35,-538.66 956.65,-538.66"/>
<polygon fill="green" stroke="green" points="956.67,-542.16 966.67,-538.66 956.67,-535.16 956.67,-542.16"/>
</g>
<!-- collect_ready -->
<g id="node7" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M124,-556.66C124,-556.66 59,-556.66 59,-556.66 53,-556.66 47,-550.66 47,-544.66 47,-544.66 47,-532.66 47,-532.66 47,-526.66 53,-520.66 59,-520.66 59,-520.66 124,-520.66 124,-520.66 130,-520.66 136,-526.66 136,-532.66 136,-532.66 136,-544.66 136,-544.66 136,-550.66 130,-556.66 124,-556.66"/>
<text text-anchor="middle" x="91.5" y="-534.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- handle_raft_ready_append -->
<g id="node8" class="node">
<title>handle_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M352,-556.66C352,-556.66 215,-556.66 215,-556.66 209,-556.66 203,-550.66 203,-544.66 203,-544.66 203,-532.66 203,-532.66 203,-526.66 209,-520.66 215,-520.66 215,-520.66 352,-520.66 352,-520.66 358,-520.66 364,-526.66 364,-532.66 364,-532.66 364,-544.66 364,-544.66 364,-550.66 358,-556.66 352,-556.66"/>
<text text-anchor="middle" x="283.5" y="-534.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_append</text>
</g>
<!-- collect_ready&#45;&gt;handle_raft_ready_append -->
<g id="edge6" class="edge">
<title>collect_ready&#45;&gt;handle_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M136.09,-538.66C152.98,-538.66 172.96,-538.66 192.66,-538.66"/>
<polygon fill="#666666" stroke="#666666" points="192.91,-542.16 202.91,-538.66 192.91,-535.16 192.91,-542.16"/>
</g>
<!-- apply_reads -->
<g id="node9" class="node">
<title>apply_reads</title>
<path fill="none" stroke="#1c2123" d="M538.5,-370.66C538.5,-370.66 480.5,-370.66 480.5,-370.66 474.5,-370.66 468.5,-364.66 468.5,-358.66 468.5,-358.66 468.5,-346.66 468.5,-346.66 468.5,-340.66 474.5,-334.66 480.5,-334.66 480.5,-334.66 538.5,-334.66 538.5,-334.66 544.5,-334.66 550.5,-340.66 550.5,-346.66 550.5,-346.66 550.5,-358.66 550.5,-358.66 550.5,-364.66 544.5,-370.66 538.5,-370.66"/>
<text text-anchor="middle" x="509.5" y="-348.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_reads</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;apply_reads -->
<g id="edge7" class="edge">
<title>handle_raft_ready_append&#45;&gt;apply_reads</title>
<path fill="none" stroke="#666666" d="M306.39,-520.48C346.78,-486.94 433.1,-415.27 478.76,-377.35"/>
<polygon fill="#666666" stroke="#666666" points="481.07,-379.98 486.53,-370.9 476.6,-374.6 481.07,-379.98"/>
</g>
<!-- handle_raft_ready_append&#45;&gt;raft_group_ready -->
<g id="edge9" class="edge">
<title>handle_raft_ready_append&#45;&gt;raft_group_ready</title>
<path fill="none" stroke="#666666" d="M290.78,-556.83C304.26,-592.6 339.72,-671.38 400,-702.66 426.41,-716.36 869.88,-696.97 875,-694.66 935.29,-667.38 982.45,-602.37 1005.5,-565.46"/>
<polygon fill="#666666" stroke="#666666" points="1008.61,-567.08 1010.84,-556.72 1002.64,-563.43 1008.61,-567.08"/>
</g>
<!-- raft_group_has_ready -->
<g id="node11" class="node">
<title>raft_group_has_ready</title>
<path fill="none" stroke="#1c2123" d="M565,-556.66C565,-556.66 454,-556.66 454,-556.66 448,-556.66 442,-550.66 442,-544.66 442,-544.66 442,-532.66 442,-532.66 442,-526.66 448,-520.66 454,-520.66 454,-520.66 565,-520.66 565,-520.66 571,-520.66 577,-526.66 577,-532.66 577,-532.66 577,-544.66 577,-544.66 577,-550.66 571,-556.66 565,-556.66"/>
<text text-anchor="middle" x="509.5" y="-534.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_group_has_ready</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;raft_group_has_ready -->
<g id="edge10" class="edge">
<title>handle_raft_ready_append&#45;&gt;raft_group_has_ready</title>
<path fill="none" stroke="#666666" d="M364.1,-538.66C386.03,-538.66 409.77,-538.66 431.55,-538.66"/>
<polygon fill="#666666" stroke="#666666" points="431.73,-542.16 441.73,-538.66 431.73,-535.16 431.73,-542.16"/>
</g>
<!-- apply_reads&#45;&gt;pending_reads -->
<g id="edge12" class="edge">
<title>apply_reads&#45;&gt;pending_reads</title>
<path fill="none" stroke="#666666" d="M549.59,-334.54C576.4,-323.01 613.11,-308.91 647,-301.66 734.2,-283 835.23,-277.44 910.28,-276.3"/>
<polygon fill="#666666" stroke="#666666" points="910.74,-279.79 920.7,-276.17 910.65,-272.79 910.74,-279.79"/>
</g>
<!-- post_pending_read_index_on_replica -->
<g id="node12" class="node">
<title>post_pending_read_index_on_replica</title>
<path fill="none" stroke="#1c2123" d="M863,-130.66C863,-130.66 667,-130.66 667,-130.66 661,-130.66 655,-124.66 655,-118.66 655,-118.66 655,-106.66 655,-106.66 655,-100.66 661,-94.66 667,-94.66 667,-94.66 863,-94.66 863,-94.66 869,-94.66 875,-100.66 875,-106.66 875,-106.66 875,-118.66 875,-118.66 875,-124.66 869,-130.66 863,-130.66"/>
<text text-anchor="middle" x="765" y="-108.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_pending_read_index_on_replica</text>
</g>
<!-- apply_reads&#45;&gt;post_pending_read_index_on_replica -->
<g id="edge13" class="edge">
<title>apply_reads&#45;&gt;post_pending_read_index_on_replica</title>
<path fill="none" stroke="#666666" d="M516.76,-334.55C532.01,-293.22 575.23,-191.55 647,-140.66 649.68,-138.75 652.48,-136.98 655.36,-135.32"/>
<polygon fill="#666666" stroke="#666666" points="657,-138.42 664.26,-130.71 653.77,-132.21 657,-138.42"/>
</g>
<!-- ready_to_handle_read -->
<g id="node13" class="node">
<title>ready_to_handle_read</title>
<path fill="none" stroke="#1c2123" d="M708.5,-394.66C708.5,-394.66 821.5,-394.66 821.5,-394.66 827.5,-394.66 833.5,-400.66 833.5,-406.66 833.5,-406.66 833.5,-428.66 833.5,-428.66 833.5,-434.66 827.5,-440.66 821.5,-440.66 821.5,-440.66 708.5,-440.66 708.5,-440.66 702.5,-440.66 696.5,-434.66 696.5,-428.66 696.5,-428.66 696.5,-406.66 696.5,-406.66 696.5,-400.66 702.5,-394.66 708.5,-394.66"/>
<text text-anchor="middle" x="765" y="-425.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">ready_to_handle_read</text>
<polyline fill="none" stroke="#1c2123" points="696.5,-417.66 833.5,-417.66 "/>
<text text-anchor="start" x="704.5" y="-402.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">leader</text>
</g>
<!-- apply_reads&#45;&gt;ready_to_handle_read -->
<g id="edge14" class="edge">
<title>apply_reads&#45;&gt;ready_to_handle_read</title>
<path fill="none" stroke="#666666" d="M550.67,-362.96C587.09,-372.29 641.77,-386.32 686.66,-397.83"/>
<polygon fill="#666666" stroke="#666666" points="685.81,-401.22 696.37,-400.32 687.55,-394.44 685.81,-401.22"/>
</g>
<!-- response_read -->
<g id="node14" class="node">
<title>response_read</title>
<path fill="none" stroke="#1c2123" d="M1311,-99.16C1311,-99.16 1412,-99.16 1412,-99.16 1418,-99.16 1424,-105.16 1424,-111.16 1424,-111.16 1424,-148.16 1424,-148.16 1424,-154.16 1418,-160.16 1412,-160.16 1412,-160.16 1311,-160.16 1311,-160.16 1305,-160.16 1299,-154.16 1299,-148.16 1299,-148.16 1299,-111.16 1299,-111.16 1299,-105.16 1305,-99.16 1311,-99.16"/>
<text text-anchor="middle" x="1361.5" y="-144.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">response_read</text>
<polyline fill="none" stroke="#1c2123" points="1299,-137.16 1424,-137.16 "/>
<text text-anchor="start" x="1307" y="-121.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">生成ReadResponse</text>
<text text-anchor="start" x="1307" y="-106.96" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 调用cb回调函数</text>
</g>
<!-- apply_reads&#45;&gt;response_read -->
<g id="edge15" class="edge">
<title>apply_reads&#45;&gt;response_read</title>
<path fill="none" stroke="#666666" d="M513.16,-334.51C521.68,-283.73 553.49,-140.16 647,-82.66 883.24,62.62 1001.73,-16.25 1271,-82.66 1281.94,-85.35 1293.02,-89.65 1303.48,-94.58"/>
<polygon fill="#666666" stroke="#666666" points="1301.99,-97.75 1312.5,-99.05 1305.09,-91.48 1301.99,-97.75"/>
</g>
<!-- advance_leader_reads -->
<g id="node15" class="node">
<title>advance_leader_reads</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M709,-329.66C709,-329.66 821,-329.66 821,-329.66 827,-329.66 833,-335.66 833,-341.66 833,-341.66 833,-363.66 833,-363.66 833,-369.66 827,-375.66 821,-375.66 821,-375.66 709,-375.66 709,-375.66 703,-375.66 697,-369.66 697,-363.66 697,-363.66 697,-341.66 697,-341.66 697,-335.66 703,-329.66 709,-329.66"/>
<text text-anchor="middle" x="765" y="-360.46" font-family="Times,serif" font-size="14.00" fill="#5d6179">advance_leader_reads</text>
<polyline fill="none" stroke="#8a8898" points="697,-352.66 833,-352.66 "/>
<text text-anchor="middle" x="765" y="-337.46" font-family="Times,serif" font-size="14.00" fill="#5d6179">pending_reads</text>
</g>
<!-- apply_reads&#45;&gt;advance_leader_reads -->
<g id="edge16" class="edge">
<title>apply_reads&#45;&gt;advance_leader_reads</title>
<path fill="none" stroke="#666666" d="M550.67,-352.66C587.14,-352.66 641.93,-352.66 686.85,-352.66"/>
<polygon fill="#666666" stroke="#666666" points="686.87,-356.16 696.87,-352.66 686.87,-349.16 686.87,-356.16"/>
</g>
<!-- advance_replica_reads -->
<g id="node16" class="node">
<title>advance_replica_reads</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M707,-149.66C707,-149.66 823,-149.66 823,-149.66 829,-149.66 835,-155.66 835,-161.66 835,-161.66 835,-183.66 835,-183.66 835,-189.66 829,-195.66 823,-195.66 823,-195.66 707,-195.66 707,-195.66 701,-195.66 695,-189.66 695,-183.66 695,-183.66 695,-161.66 695,-161.66 695,-155.66 701,-149.66 707,-149.66"/>
<text text-anchor="middle" x="765" y="-180.46" font-family="Times,serif" font-size="14.00" fill="#5d6179">advance_replica_reads</text>
<polyline fill="none" stroke="#8a8898" points="695,-172.66 835,-172.66 "/>
<text text-anchor="middle" x="765" y="-157.46" font-family="Times,serif" font-size="14.00" fill="#5d6179">pending_reads</text>
</g>
<!-- apply_reads&#45;&gt;advance_replica_reads -->
<g id="edge17" class="edge">
<title>apply_reads&#45;&gt;advance_replica_reads</title>
<path fill="none" stroke="#666666" d="M521.49,-334.43C541.95,-302.16 589.1,-235.13 647,-200.66 658.63,-193.74 671.86,-188.52 685.14,-184.6"/>
<polygon fill="#666666" stroke="#666666" points="686.07,-187.97 694.8,-181.97 684.23,-181.22 686.07,-187.97"/>
</g>
<!-- leader_reponse_read -->
<g id="node17" class="node">
<title>leader_reponse_read</title>
<path fill="none" stroke="#1c2123" d="M989.5,-399.66C989.5,-399.66 1054.5,-399.66 1054.5,-399.66 1060.5,-399.66 1066.5,-405.66 1066.5,-411.66 1066.5,-411.66 1066.5,-423.66 1066.5,-423.66 1066.5,-429.66 1060.5,-435.66 1054.5,-435.66 1054.5,-435.66 989.5,-435.66 989.5,-435.66 983.5,-435.66 977.5,-429.66 977.5,-423.66 977.5,-423.66 977.5,-411.66 977.5,-411.66 977.5,-405.66 983.5,-399.66 989.5,-399.66"/>
<text text-anchor="middle" x="1022" y="-413.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">reponse_read</text>
</g>
<!-- apply_reads&#45;&gt;leader_reponse_read -->
<g id="edge18" class="edge">
<title>apply_reads&#45;&gt;leader_reponse_read</title>
<path fill="none" stroke="#666666" d="M527.84,-370.78C551.93,-394.51 598.12,-434.93 647,-450.66 756.78,-485.98 893.46,-456.72 967.42,-435.27"/>
<polygon fill="#666666" stroke="#666666" points="968.84,-438.5 977.43,-432.3 966.85,-431.79 968.84,-438.5"/>
</g>
<!-- raft_group_ready&#45;&gt;apply_reads -->
<g id="edge8" class="edge">
<title>raft_group_ready&#45;&gt;apply_reads</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M966.81,-521.01C939.56,-512.85 905.84,-503.84 875,-498.66 824.93,-490.24 693.46,-504.14 647,-483.66 595.63,-461.01 552,-410.2 528.68,-378.94"/>
<polygon fill="green" stroke="green" points="531.38,-376.69 522.65,-370.68 525.72,-380.82 531.38,-376.69"/>
</g>
<!-- post_pending_read_index_on_replica&#45;&gt;pending_reads -->
<g id="edge21" class="edge">
<title>post_pending_read_index_on_replica&#45;&gt;pending_reads</title>
<path fill="none" stroke="#666666" d="M861.21,-130.7C866.15,-133.56 870.8,-136.86 875,-140.66 909.42,-171.78 878,-206.03 911,-238.66 911.66,-239.31 912.34,-239.95 913.02,-240.59"/>
<polygon fill="#666666" stroke="#666666" points="910.81,-243.3 920.75,-246.96 915.26,-237.9 910.81,-243.3"/>
</g>
<!-- follower_response_read -->
<g id="node18" class="node">
<title>follower_response_read</title>
<path fill="none" stroke="#1c2123" d="M1181,-111.66C1181,-111.66 1251,-111.66 1251,-111.66 1257,-111.66 1263,-117.66 1263,-123.66 1263,-123.66 1263,-135.66 1263,-135.66 1263,-141.66 1257,-147.66 1251,-147.66 1251,-147.66 1181,-147.66 1181,-147.66 1175,-147.66 1169,-141.66 1169,-135.66 1169,-135.66 1169,-123.66 1169,-123.66 1169,-117.66 1175,-111.66 1181,-111.66"/>
<text text-anchor="middle" x="1216" y="-125.96" font-family="Times,serif" font-size="14.00" fill="#2f3638">response_read</text>
</g>
<!-- post_pending_read_index_on_replica&#45;&gt;follower_response_read -->
<g id="edge22" class="edge">
<title>post_pending_read_index_on_replica&#45;&gt;follower_response_read</title>
<path fill="none" stroke="#666666" d="M875.04,-108.26C948.18,-106.53 1046.56,-106.58 1133,-114.66 1141.39,-115.44 1150.2,-116.64 1158.82,-118.03"/>
<polygon fill="#666666" stroke="#666666" points="1158.35,-121.51 1168.8,-119.74 1159.53,-114.61 1158.35,-121.51"/>
</g>
<!-- ready_to_handle_unsafe_replica_read -->
<g id="node19" class="node">
<title>ready_to_handle_unsafe_replica_read</title>
<path fill="none" stroke="#1c2123" d="M923,-123.66C923,-123.66 1121,-123.66 1121,-123.66 1127,-123.66 1133,-129.66 1133,-135.66 1133,-135.66 1133,-157.66 1133,-157.66 1133,-163.66 1127,-169.66 1121,-169.66 1121,-169.66 923,-169.66 923,-169.66 917,-169.66 911,-163.66 911,-157.66 911,-157.66 911,-135.66 911,-135.66 911,-129.66 917,-123.66 923,-123.66"/>
<text text-anchor="middle" x="1022" y="-154.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">ready_to_handle_unsafe_replica_read</text>
<polyline fill="none" stroke="#1c2123" points="911,-146.66 1133,-146.66 "/>
<text text-anchor="middle" x="1022" y="-131.46" font-family="Times,serif" font-size="14.00" fill="#2f3638">follower read</text>
</g>
<!-- post_pending_read_index_on_replica&#45;&gt;ready_to_handle_unsafe_replica_read -->
<g id="edge23" class="edge">
<title>post_pending_read_index_on_replica&#45;&gt;ready_to_handle_unsafe_replica_read</title>
<path fill="none" stroke="#666666" d="M875.25,-127.22C883.71,-128.35 892.27,-129.49 900.79,-130.63"/>
<polygon fill="#666666" stroke="#666666" points="900.38,-134.11 910.76,-131.96 901.31,-127.17 900.38,-134.11"/>
</g>
<!-- ready_to_handle_read&#45;&gt;leader_reponse_read -->
<g id="edge25" class="edge">
<title>ready_to_handle_read&#45;&gt;leader_reponse_read</title>
<path fill="none" stroke="#666666" d="M833.67,-417.66C875.38,-417.66 928.15,-417.66 967.05,-417.66"/>
<polygon fill="#666666" stroke="#666666" points="967.12,-421.16 977.12,-417.66 967.12,-414.16 967.12,-421.16"/>
</g>
<!-- advance_leader_reads&#45;&gt;pending_reads -->
<g id="edge19" class="edge">
<title>advance_leader_reads&#45;&gt;pending_reads</title>
<path fill="none" stroke="#666666" d="M833.08,-336.88C846.99,-333.37 861.51,-329.54 875,-325.66 886.73,-322.28 898.94,-318.58 911.07,-314.77"/>
<polygon fill="#666666" stroke="#666666" points="912.3,-318.05 920.78,-311.7 910.19,-311.38 912.3,-318.05"/>
</g>
<!-- advance_replica_reads&#45;&gt;pending_reads -->
<g id="edge20" class="edge">
<title>advance_replica_reads&#45;&gt;pending_reads</title>
<path fill="none" stroke="#666666" d="M835.19,-184.2C848.95,-188.19 862.88,-193.52 875,-200.66 895.05,-212.46 891.5,-225.97 911,-238.66 911.29,-238.85 911.59,-239.04 911.89,-239.23"/>
<polygon fill="#666666" stroke="#666666" points="910.37,-242.4 920.75,-244.51 913.96,-236.39 910.37,-242.4"/>
</g>
<!-- leader_reponse_read&#45;&gt;response_read -->
<g id="edge26" class="edge">
<title>leader_reponse_read&#45;&gt;response_read</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1066.55,-415.45C1087.75,-412.81 1112.93,-407.24 1133,-395.66 1229.11,-340.17 1303.87,-228.48 1338.83,-169.01"/>
<polygon fill="green" stroke="green" points="1341.91,-170.69 1343.9,-160.28 1335.85,-167.17 1341.91,-170.69"/>
</g>
<!-- follower_response_read&#45;&gt;response_read -->
<g id="edge27" class="edge">
<title>follower_response_read&#45;&gt;response_read</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1263.19,-129.66C1271.38,-129.66 1280.08,-129.66 1288.77,-129.66"/>
<polygon fill="green" stroke="green" points="1288.95,-133.16 1298.95,-129.66 1288.95,-126.16 1288.95,-133.16"/>
</g>
<!-- ready_to_handle_unsafe_replica_read&#45;&gt;follower_response_read -->
<g id="edge24" class="edge">
<title>ready_to_handle_unsafe_replica_read&#45;&gt;follower_response_read</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1133.02,-136.92C1141.85,-136.13 1150.53,-135.36 1158.73,-134.64"/>
<polygon fill="green" stroke="green" points="1159.2,-138.11 1168.85,-133.74 1158.58,-131.14 1159.2,-138.11"/>
</g>
</g>
</svg>
