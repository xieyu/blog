<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: raft_router Pages: 1 -->
<svg width="1948pt" height="361pt"
 viewBox="0.00 0.00 1948.00 361.21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 357.21)">
<title>raft_router</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-357.21 1944,-357.21 1944,4 -4,4"/>
<g id="clust5" class="cluster">
<title>cluster_RaftThread</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1202,-145.21C1202,-145.21 1487,-145.21 1487,-145.21 1493,-145.21 1499,-151.21 1499,-157.21 1499,-157.21 1499,-333.21 1499,-333.21 1499,-339.21 1493,-345.21 1487,-345.21 1487,-345.21 1202,-345.21 1202,-345.21 1196,-345.21 1190,-339.21 1190,-333.21 1190,-333.21 1190,-157.21 1190,-157.21 1190,-151.21 1196,-145.21 1202,-145.21"/>
<text text-anchor="middle" x="1344.5" y="-325.21" font-family="Times,serif" font-size="20.00">RaftPoller</text>
<text text-anchor="middle" x="1344.5" y="-303.21" font-family="Times,serif" font-size="20.00"> ThreadPool</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_ApplyPollerThreadPool</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1654,-80.21C1654,-80.21 1920,-80.21 1920,-80.21 1926,-80.21 1932,-86.21 1932,-92.21 1932,-92.21 1932,-198.21 1932,-198.21 1932,-204.21 1926,-210.21 1920,-210.21 1920,-210.21 1654,-210.21 1654,-210.21 1648,-210.21 1642,-204.21 1642,-198.21 1642,-198.21 1642,-92.21 1642,-92.21 1642,-86.21 1648,-80.21 1654,-80.21"/>
<text text-anchor="middle" x="1787" y="-190.21" font-family="Times,serif" font-size="20.00">ApplyPoller</text>
<text text-anchor="middle" x="1787" y="-168.21" font-family="Times,serif" font-size="20.00"> ThreadPool</text>
</g>
<!-- RaftRouter -->
<g id="node1" class="node">
<title>RaftRouter</title>
<path fill="none" stroke="#1c2123" d="M280,-150.71C280,-150.71 450,-150.71 450,-150.71 456,-150.71 462,-156.71 462,-162.71 462,-162.71 462,-199.71 462,-199.71 462,-205.71 456,-211.71 450,-211.71 450,-211.71 280,-211.71 280,-211.71 274,-211.71 268,-205.71 268,-199.71 268,-199.71 268,-162.71 268,-162.71 268,-156.71 274,-150.71 280,-150.71"/>
<text text-anchor="middle" x="365" y="-196.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftRouter</text>
<polyline fill="none" stroke="#1c2123" points="268,-188.71 462,-188.71 "/>
<text text-anchor="start" x="276" y="-173.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据RaftCmd中的Region id</text>
<text text-anchor="start" x="276" y="-158.51" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 将消息发给对应的region fsm</text>
</g>
<!-- BatchRouter -->
<g id="node2" class="node">
<title>BatchRouter</title>
<path fill="none" stroke="#1c2123" d="M571,-199.21C571,-199.21 510,-199.21 510,-199.21 504,-199.21 498,-193.21 498,-187.21 498,-187.21 498,-175.21 498,-175.21 498,-169.21 504,-163.21 510,-163.21 510,-163.21 571,-163.21 571,-163.21 577,-163.21 583,-169.21 583,-175.21 583,-175.21 583,-187.21 583,-187.21 583,-193.21 577,-199.21 571,-199.21"/>
<text text-anchor="middle" x="540.5" y="-177.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchRouter</text>
</g>
<!-- RaftRouter&#45;&gt;BatchRouter -->
<g id="edge1" class="edge">
<title>RaftRouter&#45;&gt;BatchRouter</title>
<path fill="none" stroke="#666666" d="M462.14,-181.21C470.93,-181.21 479.6,-181.21 487.77,-181.21"/>
<polygon fill="#666666" stroke="#666666" points="487.82,-184.71 497.82,-181.21 487.82,-177.71 487.82,-184.71"/>
</g>
<!-- PeerFsm -->
<g id="node3" class="node">
<title>PeerFsm</title>
<path fill="none" stroke="#1c2123" d="M1210,-154.21C1210,-154.21 1316,-154.21 1316,-154.21 1322,-154.21 1328,-160.21 1328,-166.21 1328,-166.21 1328,-218.21 1328,-218.21 1328,-224.21 1322,-230.21 1316,-230.21 1316,-230.21 1210,-230.21 1210,-230.21 1204,-230.21 1198,-224.21 1198,-218.21 1198,-218.21 1198,-166.21 1198,-166.21 1198,-160.21 1204,-154.21 1210,-154.21"/>
<text text-anchor="middle" x="1263" y="-215.01" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsm</text>
<polyline fill="none" stroke="#1c2123" points="1198,-207.21 1328,-207.21 "/>
<text text-anchor="start" x="1206" y="-192.01" font-family="Times,serif" font-size="14.00" fill="#2f3638">负责处理raftlog,</text>
<text text-anchor="start" x="1206" y="-177.01" font-family="Times,serif" font-size="14.00" fill="#2f3638"> raft state, apply sate</text>
<text text-anchor="start" x="1206" y="-162.01" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 等</text>
</g>
<!-- BatchRouter&#45;&gt;PeerFsm -->
<g id="edge2" class="edge">
<title>BatchRouter&#45;&gt;PeerFsm</title>
<path fill="none" stroke="#666666" d="M551,-163.19C563.42,-141.72 587.37,-106.79 619,-91.21 835.68,15.5 943.9,34.56 1162,-69.21 1195.08,-84.95 1220.79,-117.57 1237.86,-145.27"/>
<polygon fill="#666666" stroke="#666666" points="1234.97,-147.26 1243.09,-154.06 1240.98,-143.67 1234.97,-147.26"/>
</g>
<!-- StoreFsm -->
<g id="node4" class="node">
<title>StoreFsm</title>
<path fill="none" stroke="#1c2123" d="M1285.5,-285.21C1285.5,-285.21 1240.5,-285.21 1240.5,-285.21 1234.5,-285.21 1228.5,-279.21 1228.5,-273.21 1228.5,-273.21 1228.5,-261.21 1228.5,-261.21 1228.5,-255.21 1234.5,-249.21 1240.5,-249.21 1240.5,-249.21 1285.5,-249.21 1285.5,-249.21 1291.5,-249.21 1297.5,-255.21 1297.5,-261.21 1297.5,-261.21 1297.5,-273.21 1297.5,-273.21 1297.5,-279.21 1291.5,-285.21 1285.5,-285.21"/>
<text text-anchor="middle" x="1263" y="-263.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreFsm</text>
</g>
<!-- BatchRouter&#45;&gt;StoreFsm -->
<g id="edge3" class="edge">
<title>BatchRouter&#45;&gt;StoreFsm</title>
<path fill="none" stroke="#666666" d="M551.34,-199.38C563.94,-220.65 587.91,-255.02 619,-271.21 776.29,-353.13 838.89,-302.31 1016,-311.21 1080.81,-314.47 1098.5,-324.57 1162,-311.21 1182.2,-306.97 1203.3,-298.38 1220.89,-289.9"/>
<polygon fill="#666666" stroke="#666666" points="1222.87,-292.83 1230.26,-285.24 1219.75,-286.56 1222.87,-292.83"/>
</g>
<!-- Router -->
<g id="node5" class="node">
<title>Router</title>
<path fill="none" stroke="#1c2123" d="M631,-100.71C631,-100.71 968,-100.71 968,-100.71 974,-100.71 980,-106.71 980,-112.71 980,-112.71 980,-249.71 980,-249.71 980,-255.71 974,-261.71 968,-261.71 968,-261.71 631,-261.71 631,-261.71 625,-261.71 619,-255.71 619,-249.71 619,-249.71 619,-112.71 619,-112.71 619,-106.71 625,-100.71 631,-100.71"/>
<text text-anchor="middle" x="799.5" y="-246.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">Router</text>
<polyline fill="none" stroke="#1c2123" points="619,-238.71 980,-238.71 "/>
<text text-anchor="start" x="627" y="-223.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">normals: Arc&lt;Mutex&lt;HashMap&lt;u64, BasicMailbox&lt;N&gt;&gt;&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="619,-215.71 980,-215.71 "/>
<text text-anchor="start" x="627" y="-200.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">caches: Cell&lt;LruCache&lt;u64, BasicMailbox&lt;N&gt;&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="619,-192.71 980,-192.71 "/>
<text text-anchor="start" x="627" y="-177.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(super) control_box: BasicMailbox&lt;C&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="619,-169.71 980,-169.71 "/>
<text text-anchor="start" x="627" y="-154.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) normal_scheduler: Ns,</text>
<polyline fill="none" stroke="#1c2123" points="619,-146.71 980,-146.71 "/>
<text text-anchor="start" x="627" y="-131.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">control_scheduler: Cs,</text>
<polyline fill="none" stroke="#1c2123" points="619,-123.71 980,-123.71 "/>
<text text-anchor="start" x="627" y="-108.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">shutdown: Arc&lt;AtomicBool&gt;,</text>
</g>
<!-- BatchRouter&#45;&gt;Router -->
<g id="edge4" class="edge">
<title>BatchRouter&#45;&gt;Router</title>
<path fill="none" stroke="#666666" d="M583.08,-181.21C590.9,-181.21 599.54,-181.21 608.71,-181.21"/>
<polygon fill="#666666" stroke="#666666" points="608.88,-184.71 618.88,-181.21 608.88,-177.71 608.88,-184.71"/>
</g>
<!-- PollContext -->
<g id="node12" class="node">
<title>PollContext</title>
<path fill="none" stroke="#1c2123" d="M1456,-137.21C1456,-137.21 1399,-137.21 1399,-137.21 1393,-137.21 1387,-131.21 1387,-125.21 1387,-125.21 1387,-113.21 1387,-113.21 1387,-107.21 1393,-101.21 1399,-101.21 1399,-101.21 1456,-101.21 1456,-101.21 1462,-101.21 1468,-107.21 1468,-113.21 1468,-113.21 1468,-125.21 1468,-125.21 1468,-131.21 1462,-137.21 1456,-137.21"/>
<text text-anchor="middle" x="1427.5" y="-115.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">PollContext</text>
</g>
<!-- PeerFsm&#45;&gt;PollContext -->
<g id="edge15" class="edge">
<title>PeerFsm&#45;&gt;PollContext</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1328.22,-157.88C1339.99,-152.04 1352.27,-146.24 1364,-141.21 1368.33,-139.36 1372.88,-137.53 1377.46,-135.77"/>
<polygon fill="green" stroke="green" points="1378.7,-139.04 1386.85,-132.27 1376.26,-132.49 1378.7,-139.04"/>
</g>
<!-- RaftPoller -->
<g id="node15" class="node">
<title>RaftPoller</title>
<path fill="none" stroke="#1c2123" d="M1376,-192.71C1376,-192.71 1479,-192.71 1479,-192.71 1485,-192.71 1491,-198.71 1491,-204.71 1491,-204.71 1491,-241.71 1491,-241.71 1491,-247.71 1485,-253.71 1479,-253.71 1479,-253.71 1376,-253.71 1376,-253.71 1370,-253.71 1364,-247.71 1364,-241.71 1364,-241.71 1364,-204.71 1364,-204.71 1364,-198.71 1370,-192.71 1376,-192.71"/>
<text text-anchor="middle" x="1427.5" y="-238.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftPoller</text>
<polyline fill="none" stroke="#1c2123" points="1364,-230.71 1491,-230.71 "/>
<text text-anchor="start" x="1372" y="-215.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll 有消息的fsm</text>
<text text-anchor="start" x="1372" y="-200.51" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 然后处理fsm消息</text>
</g>
<!-- PeerFsm&#45;&gt;RaftPoller -->
<g id="edge16" class="edge">
<title>PeerFsm&#45;&gt;RaftPoller</title>
<path fill="none" stroke="#666666" d="M1328.22,-204.47C1336.64,-206.07 1345.31,-207.73 1353.86,-209.36"/>
<polygon fill="#666666" stroke="#666666" points="1353.33,-212.82 1363.8,-211.25 1354.64,-205.94 1353.33,-212.82"/>
</g>
<!-- StoreFsm&#45;&gt;RaftPoller -->
<g id="edge17" class="edge">
<title>StoreFsm&#45;&gt;RaftPoller</title>
<path fill="none" stroke="#666666" d="M1297.67,-258.1C1314.05,-253.66 1334.42,-248.15 1354.09,-242.82"/>
<polygon fill="#666666" stroke="#666666" points="1355.24,-246.14 1363.97,-240.14 1353.41,-239.38 1355.24,-246.14"/>
</g>
<!-- NormalScheduler -->
<g id="node6" class="node">
<title>NormalScheduler</title>
<path fill="none" stroke="#1c2123" d="M1133.5,-114.21C1133.5,-114.21 1044.5,-114.21 1044.5,-114.21 1038.5,-114.21 1032.5,-108.21 1032.5,-102.21 1032.5,-102.21 1032.5,-90.21 1032.5,-90.21 1032.5,-84.21 1038.5,-78.21 1044.5,-78.21 1044.5,-78.21 1133.5,-78.21 1133.5,-78.21 1139.5,-78.21 1145.5,-84.21 1145.5,-90.21 1145.5,-90.21 1145.5,-102.21 1145.5,-102.21 1145.5,-108.21 1139.5,-114.21 1133.5,-114.21"/>
<text text-anchor="middle" x="1089" y="-92.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">NormalScheduler</text>
</g>
<!-- Router&#45;&gt;NormalScheduler -->
<g id="edge5" class="edge">
<title>Router&#45;&gt;NormalScheduler</title>
<path fill="none" stroke="#666666" d="M980.13,-128.11C995.05,-123.69 1009.42,-119.44 1022.55,-115.57"/>
<polygon fill="#666666" stroke="#666666" points="1023.73,-118.87 1032.32,-112.67 1021.74,-112.15 1023.73,-118.87"/>
</g>
<!-- ControlScheduler -->
<g id="node7" class="node">
<title>ControlScheduler</title>
<path fill="none" stroke="#1c2123" d="M1133,-168.21C1133,-168.21 1045,-168.21 1045,-168.21 1039,-168.21 1033,-162.21 1033,-156.21 1033,-156.21 1033,-144.21 1033,-144.21 1033,-138.21 1039,-132.21 1045,-132.21 1045,-132.21 1133,-132.21 1133,-132.21 1139,-132.21 1145,-138.21 1145,-144.21 1145,-144.21 1145,-156.21 1145,-156.21 1145,-162.21 1139,-168.21 1133,-168.21"/>
<text text-anchor="middle" x="1089" y="-146.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">ControlScheduler</text>
</g>
<!-- Router&#45;&gt;ControlScheduler -->
<g id="edge6" class="edge">
<title>Router&#45;&gt;ControlScheduler</title>
<path fill="none" stroke="#666666" d="M980.13,-161.85C995.08,-160.23 1009.49,-158.68 1022.63,-157.26"/>
<polygon fill="#666666" stroke="#666666" points="1023.32,-160.71 1032.89,-156.16 1022.57,-153.75 1023.32,-160.71"/>
</g>
<!-- normals -->
<g id="node8" class="node">
<title>normals</title>
<path fill="#feed9b" stroke="#f7e495" d="M1028,-240.71C1028,-240.71 1150,-240.71 1150,-240.71 1156,-240.71 1162,-246.71 1162,-252.71 1162,-252.71 1162,-289.71 1162,-289.71 1162,-295.71 1156,-301.71 1150,-301.71 1150,-301.71 1028,-301.71 1028,-301.71 1022,-301.71 1016,-295.71 1016,-289.71 1016,-289.71 1016,-252.71 1016,-252.71 1016,-246.71 1022,-240.71 1028,-240.71"/>
<text text-anchor="middle" x="1089" y="-286.51" font-family="Times,serif" font-size="14.00" fill="#40575d">normals</text>
<polyline fill="none" stroke="#f7e495" points="1016,-278.71 1162,-278.71 "/>
<text text-anchor="start" x="1024" y="-263.51" font-family="Times,serif" font-size="14.00" fill="#40575d">从region_id到region的</text>
<text text-anchor="start" x="1024" y="-248.51" font-family="Times,serif" font-size="14.00" fill="#40575d"> Fsm mailbox映射</text>
</g>
<!-- Router&#45;&gt;normals -->
<g id="edge7" class="edge">
<title>Router:normals&#45;&gt;normals</title>
<path fill="none" stroke="#666666" d="M980,-227.21C995.61,-227.21 1011.62,-231.21 1026.36,-236.79"/>
<polygon fill="#666666" stroke="#666666" points="1025.27,-240.12 1035.85,-240.65 1027.92,-233.64 1025.27,-240.12"/>
</g>
<!-- control_box -->
<g id="node9" class="node">
<title>control_box</title>
<path fill="none" stroke="#1c2123" d="M1118,-222.21C1118,-222.21 1060,-222.21 1060,-222.21 1054,-222.21 1048,-216.21 1048,-210.21 1048,-210.21 1048,-198.21 1048,-198.21 1048,-192.21 1054,-186.21 1060,-186.21 1060,-186.21 1118,-186.21 1118,-186.21 1124,-186.21 1130,-192.21 1130,-198.21 1130,-198.21 1130,-210.21 1130,-210.21 1130,-216.21 1124,-222.21 1118,-222.21"/>
<text text-anchor="middle" x="1089" y="-200.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">control_box</text>
</g>
<!-- Router&#45;&gt;control_box -->
<g id="edge9" class="edge">
<title>Router:control_box&#45;&gt;control_box</title>
<path fill="none" stroke="#666666" d="M980,-181.21C999.25,-181.21 1020.01,-184.75 1038.14,-189.05"/>
<polygon fill="#666666" stroke="#666666" points="1037.36,-192.47 1047.91,-191.5 1039.07,-185.68 1037.36,-192.47"/>
</g>
<!-- normals&#45;&gt;PeerFsm -->
<g id="edge8" class="edge">
<title>normals&#45;&gt;PeerFsm</title>
<path fill="none" stroke="#666666" d="M1156.5,-240.67C1167.03,-235.83 1177.97,-230.81 1188.64,-225.91"/>
<polygon fill="#666666" stroke="#666666" points="1190.31,-228.99 1197.94,-221.64 1187.39,-222.63 1190.31,-228.99"/>
</g>
<!-- control_box&#45;&gt;StoreFsm -->
<g id="edge10" class="edge">
<title>control_box&#45;&gt;StoreFsm</title>
<path fill="none" stroke="#666666" d="M1130.33,-218.98C1156.86,-228.7 1191.56,-241.41 1218.67,-251.34"/>
<polygon fill="#666666" stroke="#666666" points="1217.7,-254.71 1228.29,-254.87 1220.1,-248.14 1217.7,-254.71"/>
</g>
<!-- ServerRaftStoreRouter -->
<g id="node10" class="node">
<title>ServerRaftStoreRouter</title>
<path fill="none" stroke="#1c2123" d="M220,-199.21C220,-199.21 104,-199.21 104,-199.21 98,-199.21 92,-193.21 92,-187.21 92,-187.21 92,-175.21 92,-175.21 92,-169.21 98,-163.21 104,-163.21 104,-163.21 220,-163.21 220,-163.21 226,-163.21 232,-169.21 232,-175.21 232,-175.21 232,-187.21 232,-187.21 232,-193.21 226,-199.21 220,-199.21"/>
<text text-anchor="middle" x="162" y="-177.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerRaftStoreRouter</text>
</g>
<!-- ServerRaftStoreRouter&#45;&gt;RaftRouter -->
<g id="edge11" class="edge">
<title>ServerRaftStoreRouter&#45;&gt;RaftRouter</title>
<path fill="none" stroke="#666666" d="M232.17,-181.21C240.42,-181.21 248.97,-181.21 257.59,-181.21"/>
<polygon fill="#666666" stroke="#666666" points="257.71,-184.71 267.71,-181.21 257.71,-177.71 257.71,-184.71"/>
</g>
<!-- RaftKv -->
<g id="node11" class="node">
<title>RaftKv</title>
<path fill="none" stroke="#1c2123" d="M44,-199.21C44,-199.21 12,-199.21 12,-199.21 6,-199.21 0,-193.21 0,-187.21 0,-187.21 0,-175.21 0,-175.21 0,-169.21 6,-163.21 12,-163.21 12,-163.21 44,-163.21 44,-163.21 50,-163.21 56,-169.21 56,-175.21 56,-175.21 56,-187.21 56,-187.21 56,-193.21 50,-199.21 44,-199.21"/>
<text text-anchor="middle" x="28" y="-177.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftKv</text>
</g>
<!-- RaftKv&#45;&gt;ServerRaftStoreRouter -->
<g id="edge12" class="edge">
<title>RaftKv&#45;&gt;ServerRaftStoreRouter</title>
<path fill="none" stroke="#666666" d="M56.03,-181.21C63.73,-181.21 72.53,-181.21 81.69,-181.21"/>
<polygon fill="#666666" stroke="#666666" points="81.73,-184.71 91.73,-181.21 81.73,-177.71 81.73,-184.71"/>
</g>
<!-- ApplyRouter -->
<g id="node13" class="node">
<title>ApplyRouter</title>
<path fill="none" stroke="#1c2123" d="M1602,-137.21C1602,-137.21 1539,-137.21 1539,-137.21 1533,-137.21 1527,-131.21 1527,-125.21 1527,-125.21 1527,-113.21 1527,-113.21 1527,-107.21 1533,-101.21 1539,-101.21 1539,-101.21 1602,-101.21 1602,-101.21 1608,-101.21 1614,-107.21 1614,-113.21 1614,-113.21 1614,-125.21 1614,-125.21 1614,-131.21 1608,-137.21 1602,-137.21"/>
<text text-anchor="middle" x="1570.5" y="-115.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyRouter</text>
</g>
<!-- PollContext&#45;&gt;ApplyRouter -->
<g id="edge13" class="edge">
<title>PollContext&#45;&gt;ApplyRouter</title>
<path fill="none" stroke="#666666" d="M1468.15,-119.21C1483.12,-119.21 1500.4,-119.21 1516.4,-119.21"/>
<polygon fill="#666666" stroke="#666666" points="1516.69,-122.71 1526.69,-119.21 1516.69,-115.71 1516.69,-122.71"/>
</g>
<!-- ApplyFsm -->
<g id="node14" class="node">
<title>ApplyFsm</title>
<path fill="none" stroke="#1c2123" d="M1662,-88.71C1662,-88.71 1749,-88.71 1749,-88.71 1755,-88.71 1761,-94.71 1761,-100.71 1761,-100.71 1761,-137.71 1761,-137.71 1761,-143.71 1755,-149.71 1749,-149.71 1749,-149.71 1662,-149.71 1662,-149.71 1656,-149.71 1650,-143.71 1650,-137.71 1650,-137.71 1650,-100.71 1650,-100.71 1650,-94.71 1656,-88.71 1662,-88.71"/>
<text text-anchor="middle" x="1705.5" y="-134.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyFsm</text>
<polyline fill="none" stroke="#1c2123" points="1650,-126.71 1761,-126.71 "/>
<text text-anchor="start" x="1658" y="-111.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">将key,value修改</text>
<text text-anchor="start" x="1658" y="-96.51" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 写入kv engine</text>
</g>
<!-- ApplyRouter&#45;&gt;ApplyFsm -->
<g id="edge14" class="edge">
<title>ApplyRouter&#45;&gt;ApplyFsm</title>
<path fill="none" stroke="#666666" d="M1614.31,-119.21C1622.39,-119.21 1631.01,-119.21 1639.59,-119.21"/>
<polygon fill="#666666" stroke="#666666" points="1639.61,-122.71 1649.61,-119.21 1639.61,-115.71 1639.61,-122.71"/>
</g>
<!-- ApplyPoller -->
<g id="node16" class="node">
<title>ApplyPoller</title>
<path fill="none" stroke="#1c2123" d="M1809,-88.71C1809,-88.71 1912,-88.71 1912,-88.71 1918,-88.71 1924,-94.71 1924,-100.71 1924,-100.71 1924,-137.71 1924,-137.71 1924,-143.71 1918,-149.71 1912,-149.71 1912,-149.71 1809,-149.71 1809,-149.71 1803,-149.71 1797,-143.71 1797,-137.71 1797,-137.71 1797,-100.71 1797,-100.71 1797,-94.71 1803,-88.71 1809,-88.71"/>
<text text-anchor="middle" x="1860.5" y="-134.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">ApplyPoller</text>
<polyline fill="none" stroke="#1c2123" points="1797,-126.71 1924,-126.71 "/>
<text text-anchor="start" x="1805" y="-111.51" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll有消息的fsm</text>
<text text-anchor="start" x="1805" y="-96.51" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 然后处理fsm消息</text>
</g>
<!-- ApplyFsm&#45;&gt;ApplyPoller -->
<g id="edge18" class="edge">
<title>ApplyFsm&#45;&gt;ApplyPoller</title>
<path fill="none" stroke="#666666" d="M1761.3,-119.21C1769.47,-119.21 1778,-119.21 1786.47,-119.21"/>
<polygon fill="#666666" stroke="#666666" points="1786.75,-122.71 1796.75,-119.21 1786.75,-115.71 1786.75,-122.71"/>
</g>
</g>
</svg>
