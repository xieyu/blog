<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: RaftPoller_handle_raft_ready Pages: 1 -->
<svg width="1023pt" height="796pt"
 viewBox="0.00 0.00 1023.00 796.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 792)">
<title>RaftPoller_handle_raft_ready</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-792 1019,-792 1019,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Transport</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M191,-644C191,-644 667.5,-644 667.5,-644 673.5,-644 679.5,-650 679.5,-656 679.5,-656 679.5,-768 679.5,-768 679.5,-774 673.5,-780 667.5,-780 667.5,-780 191,-780 191,-780 185,-780 179,-774 179,-768 179,-768 179,-656 179,-656 179,-650 185,-644 191,-644"/>
<text text-anchor="middle" x="429.25" y="-760" font-family="Times,serif" font-size="20.00">Transport</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_RawNode</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M576.5,-356C576.5,-356 946,-356 946,-356 952,-356 958,-362 958,-368 958,-368 958,-480 958,-480 958,-486 952,-492 946,-492 946,-492 576.5,-492 576.5,-492 570.5,-492 564.5,-486 564.5,-480 564.5,-480 564.5,-368 564.5,-368 564.5,-362 570.5,-356 576.5,-356"/>
<text text-anchor="middle" x="761.25" y="-472" font-family="Times,serif" font-size="20.00">RawNode</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_RaftEngine</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M162.5,-554C162.5,-554 286.5,-554 286.5,-554 292.5,-554 298.5,-560 298.5,-566 298.5,-566 298.5,-624 298.5,-624 298.5,-630 292.5,-636 286.5,-636 286.5,-636 162.5,-636 162.5,-636 156.5,-636 150.5,-630 150.5,-624 150.5,-624 150.5,-566 150.5,-566 150.5,-560 156.5,-554 162.5,-554"/>
<text text-anchor="middle" x="224.5" y="-616" font-family="Times,serif" font-size="20.00">RaftEngine</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_CoprocessorHost</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M825,-266C825,-266 953,-266 953,-266 959,-266 965,-272 965,-278 965,-278 965,-336 965,-336 965,-342 959,-348 953,-348 953,-348 825,-348 825,-348 819,-348 813,-342 813,-336 813,-336 813,-278 813,-278 813,-272 819,-266 825,-266"/>
<text text-anchor="middle" x="889" y="-328" font-family="Times,serif" font-size="20.00">CoprocessorHost</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_PeerStorage</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M589.5,-68C589.5,-68 699.5,-68 699.5,-68 705.5,-68 711.5,-74 711.5,-80 711.5,-80 711.5,-138 711.5,-138 711.5,-144 705.5,-150 699.5,-150 699.5,-150 589.5,-150 589.5,-150 583.5,-150 577.5,-144 577.5,-138 577.5,-138 577.5,-80 577.5,-80 577.5,-74 583.5,-68 589.5,-68"/>
<text text-anchor="middle" x="644.5" y="-130" font-family="Times,serif" font-size="20.00">PeerStorage</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_ApplyRouter</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M782,-8C782,-8 995,-8 995,-8 1001,-8 1007,-14 1007,-20 1007,-20 1007,-246 1007,-246 1007,-252 1001,-258 995,-258 995,-258 782,-258 782,-258 776,-258 770,-252 770,-246 770,-246 770,-20 770,-20 770,-14 776,-8 782,-8"/>
<text text-anchor="middle" x="888.5" y="-238" font-family="Times,serif" font-size="20.00">ApplyRouter</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M338,-158C338,-158 738,-158 738,-158 744,-158 750,-164 750,-170 750,-170 750,-336 750,-336 750,-342 744,-348 738,-348 738,-348 338,-348 338,-348 332,-348 326,-342 326,-336 326,-336 326,-170 326,-170 326,-164 332,-158 338,-158"/>
<text text-anchor="middle" x="538" y="-328" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M155,-356C155,-356 498,-356 498,-356 504,-356 510,-362 510,-368 510,-368 510,-534 510,-534 510,-540 504,-546 498,-546 498,-546 155,-546 155,-546 149,-546 143,-540 143,-534 143,-534 143,-368 143,-368 143,-362 149,-356 155,-356"/>
<text text-anchor="middle" x="326.5" y="-526" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<!-- need_flush -->
<g id="node1" class="node">
<title>need_flush</title>
<path fill="none" stroke="#1c2123" d="M250,-742C250,-742 199,-742 199,-742 193,-742 187,-736 187,-730 187,-730 187,-718 187,-718 187,-712 193,-706 199,-706 199,-706 250,-706 250,-706 256,-706 262,-712 262,-718 262,-718 262,-730 262,-730 262,-736 256,-742 250,-742"/>
<text text-anchor="middle" x="224.5" y="-720.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">need_flush</text>
</g>
<!-- flush -->
<g id="node2" class="node">
<title>flush</title>
<path fill="none" stroke="#1c2123" d="M239.5,-688C239.5,-688 209.5,-688 209.5,-688 203.5,-688 197.5,-682 197.5,-676 197.5,-676 197.5,-664 197.5,-664 197.5,-658 203.5,-652 209.5,-652 209.5,-652 239.5,-652 239.5,-652 245.5,-652 251.5,-658 251.5,-664 251.5,-664 251.5,-676 251.5,-676 251.5,-682 245.5,-688 239.5,-688"/>
<text text-anchor="middle" x="224.5" y="-666.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">flush</text>
</g>
<!-- send -->
<g id="node3" class="node">
<title>send</title>
<path fill="none" stroke="#1c2123" d="M659.5,-688C659.5,-688 629.5,-688 629.5,-688 623.5,-688 617.5,-682 617.5,-676 617.5,-676 617.5,-664 617.5,-664 617.5,-658 623.5,-652 629.5,-652 629.5,-652 659.5,-652 659.5,-652 665.5,-652 671.5,-658 671.5,-664 671.5,-664 671.5,-676 671.5,-676 671.5,-682 665.5,-688 659.5,-688"/>
<text text-anchor="middle" x="644.5" y="-666.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
</g>
<!-- advance_append -->
<g id="node4" class="node">
<title>advance_append</title>
<path fill="none" stroke="#1c2123" d="M686,-400C686,-400 603,-400 603,-400 597,-400 591,-394 591,-388 591,-388 591,-376 591,-376 591,-370 597,-364 603,-364 603,-364 686,-364 686,-364 692,-364 698,-370 698,-376 698,-376 698,-388 698,-388 698,-394 692,-400 686,-400"/>
<text text-anchor="middle" x="644.5" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">advance_append</text>
</g>
<!-- advance_append_async -->
<g id="node5" class="node">
<title>advance_append_async</title>
<path fill="none" stroke="#1c2123" d="M704.5,-454C704.5,-454 584.5,-454 584.5,-454 578.5,-454 572.5,-448 572.5,-442 572.5,-442 572.5,-430 572.5,-430 572.5,-424 578.5,-418 584.5,-418 584.5,-418 704.5,-418 704.5,-418 710.5,-418 716.5,-424 716.5,-430 716.5,-430 716.5,-442 716.5,-442 716.5,-448 710.5,-454 704.5,-454"/>
<text text-anchor="middle" x="644.5" y="-432.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">advance_append_async</text>
</g>
<!-- skip_bcast_commit -->
<g id="node6" class="node">
<title>skip_bcast_commit</title>
<path fill="none" stroke="#1c2123" d="M938,-400C938,-400 839,-400 839,-400 833,-400 827,-394 827,-388 827,-388 827,-376 827,-376 827,-370 833,-364 839,-364 839,-364 938,-364 938,-364 944,-364 950,-370 950,-376 950,-376 950,-388 950,-388 950,-394 944,-400 938,-400"/>
<text text-anchor="middle" x="888.5" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">skip_bcast_commit</text>
</g>
<!-- consume_and_shrink -->
<g id="node7" class="node">
<title>consume_and_shrink</title>
<path fill="none" stroke="#1c2123" d="M278.5,-598C278.5,-598 170.5,-598 170.5,-598 164.5,-598 158.5,-592 158.5,-586 158.5,-586 158.5,-574 158.5,-574 158.5,-568 164.5,-562 170.5,-562 170.5,-562 278.5,-562 278.5,-562 284.5,-562 290.5,-568 290.5,-574 290.5,-574 290.5,-586 290.5,-586 290.5,-592 284.5,-598 278.5,-598"/>
<text text-anchor="middle" x="224.5" y="-576.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">consume_and_shrink</text>
</g>
<!-- on_region_changed -->
<g id="node8" class="node">
<title>on_region_changed</title>
<path fill="none" stroke="#1c2123" d="M938,-310C938,-310 839,-310 839,-310 833,-310 827,-304 827,-298 827,-298 827,-286 827,-286 827,-280 833,-274 839,-274 839,-274 938,-274 938,-274 944,-274 950,-280 950,-286 950,-286 950,-298 950,-298 950,-304 944,-310 938,-310"/>
<text text-anchor="middle" x="888.5" y="-288.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_region_changed</text>
</g>
<!-- set_commit_index -->
<g id="node9" class="node">
<title>set_commit_index</title>
<path fill="none" stroke="#1c2123" d="M691.5,-112C691.5,-112 597.5,-112 597.5,-112 591.5,-112 585.5,-106 585.5,-100 585.5,-100 585.5,-88 585.5,-88 585.5,-82 591.5,-76 597.5,-76 597.5,-76 691.5,-76 691.5,-76 697.5,-76 703.5,-82 703.5,-88 703.5,-88 703.5,-100 703.5,-100 703.5,-106 697.5,-112 691.5,-112"/>
<text text-anchor="middle" x="644.5" y="-90.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">set_commit_index</text>
</g>
<!-- apply_router_schedule_task_register -->
<g id="node10" class="node">
<title>apply_router_schedule_task_register</title>
<path fill="none" stroke="#1c2123" d="M984,-52C984,-52 793,-52 793,-52 787,-52 781,-46 781,-40 781,-40 781,-28 781,-28 781,-22 787,-16 793,-16 793,-16 984,-16 984,-16 990,-16 996,-22 996,-28 996,-28 996,-40 996,-40 996,-46 990,-52 984,-52"/>
<text text-anchor="middle" x="888.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_router_schedule_task_register</text>
</g>
<!-- apply_router_schedule_task_ApplyTask_apply -->
<g id="node11" class="node">
<title>apply_router_schedule_task_ApplyTask_apply</title>
<path fill="none" stroke="#1c2123" d="M796,-70.5C796,-70.5 981,-70.5 981,-70.5 987,-70.5 993,-76.5 993,-82.5 993,-82.5 993,-149.5 993,-149.5 993,-155.5 987,-161.5 981,-161.5 981,-161.5 796,-161.5 796,-161.5 790,-161.5 784,-155.5 784,-149.5 784,-149.5 784,-82.5 784,-82.5 784,-76.5 790,-70.5 796,-70.5"/>
<text text-anchor="start" x="792" y="-146.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_router.</text>
<text text-anchor="start" x="792" y="-131.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task(ApplyTask::apply..)</text>
<polyline fill="none" stroke="#1c2123" points="784,-123.5 993,-123.5 "/>
<text text-anchor="start" x="792" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向applyPoller</text>
<text text-anchor="start" x="792" y="-93.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送Apply消息</text>
<text text-anchor="start" x="792" y="-78.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> apply committed raft log</text>
</g>
<!-- apply_router_schedule_task_ApplyTask_Snapshot -->
<g id="node12" class="node">
<title>apply_router_schedule_task_ApplyTask_Snapshot</title>
<path fill="none" stroke="#1c2123" d="M790,-181C790,-181 987,-181 987,-181 993,-181 999,-187 999,-193 999,-193 999,-207 999,-207 999,-213 993,-219 987,-219 987,-219 790,-219 790,-219 784,-219 778,-213 778,-207 778,-207 778,-193 778,-193 778,-187 784,-181 790,-181"/>
<text text-anchor="start" x="786" y="-203.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_router.</text>
<text text-anchor="middle" x="888.5" y="-188.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task(ApplyTask_Snapshot)</text>
</g>
<!-- peer_post_raft_ready_append -->
<g id="node13" class="node">
<title>peer_post_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M499,-229C499,-229 346,-229 346,-229 340,-229 334,-223 334,-217 334,-217 334,-205 334,-205 334,-199 340,-193 346,-193 346,-193 499,-193 499,-193 505,-193 511,-199 511,-205 511,-205 511,-217 511,-217 511,-223 505,-229 499,-229"/>
<text text-anchor="middle" x="422.5" y="-207.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">peer_post_raft_ready_append</text>
</g>
<!-- activate -->
<g id="node14" class="node">
<title>activate</title>
<path fill="none" stroke="#1c2123" d="M662,-202C662,-202 627,-202 627,-202 621,-202 615,-196 615,-190 615,-190 615,-178 615,-178 615,-172 621,-166 627,-166 627,-166 662,-166 662,-166 668,-166 674,-172 674,-178 674,-178 674,-190 674,-190 674,-196 668,-202 662,-202"/>
<text text-anchor="middle" x="644.5" y="-180.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">activate</text>
</g>
<!-- peer_post_raft_ready_append&#45;&gt;activate -->
<g id="edge1" class="edge">
<title>peer_post_raft_ready_append&#45;&gt;activate</title>
<path fill="none" stroke="#666666" d="M511.08,-200.25C543.52,-196.27 578.67,-191.96 604.6,-188.77"/>
<polygon fill="#666666" stroke="#666666" points="605.26,-192.22 614.76,-187.53 604.41,-185.27 605.26,-192.22"/>
</g>
<!-- activate&#45;&gt;on_region_changed -->
<g id="edge2" class="edge">
<title>activate&#45;&gt;on_region_changed</title>
<path fill="none" stroke="#666666" d="M674.05,-184.5C697.13,-186.38 729.1,-192.49 750,-211 768.22,-227.14 751.75,-245.88 770,-262 783.06,-273.53 799.95,-280.75 816.84,-285.23"/>
<polygon fill="#666666" stroke="#666666" points="816.22,-288.67 826.75,-287.56 817.82,-281.86 816.22,-288.67"/>
</g>
<!-- activate&#45;&gt;apply_router_schedule_task_register -->
<g id="edge3" class="edge">
<title>activate&#45;&gt;apply_router_schedule_task_register</title>
<path fill="none" stroke="#666666" d="M674.47,-183.47C698.11,-181.43 730.67,-174.69 750,-154 778.87,-123.11 740.32,-91.1 770,-61 770.93,-60.06 771.89,-59.14 772.87,-58.26"/>
<polygon fill="#666666" stroke="#666666" points="775.1,-60.96 780.82,-52.04 770.78,-55.45 775.1,-60.96"/>
</g>
<!-- handle_raft_ready_advance -->
<g id="node15" class="node">
<title>handle_raft_ready_advance</title>
<path fill="none" stroke="#1c2123" d="M493.5,-310C493.5,-310 351.5,-310 351.5,-310 345.5,-310 339.5,-304 339.5,-298 339.5,-298 339.5,-286 339.5,-286 339.5,-280 345.5,-274 351.5,-274 351.5,-274 493.5,-274 493.5,-274 499.5,-274 505.5,-280 505.5,-286 505.5,-286 505.5,-298 505.5,-298 505.5,-304 499.5,-310 493.5,-310"/>
<text text-anchor="middle" x="422.5" y="-288.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_advance</text>
</g>
<!-- handle_raft_ready_advance&#45;&gt;send -->
<g id="edge4" class="edge">
<title>handle_raft_ready_advance&#45;&gt;send</title>
<path fill="none" stroke="#666666" d="M462,-310.21C479.37,-320.25 498.7,-334.3 511,-352 548.65,-406.17 522.8,-434.63 547,-496 568.66,-550.93 604.42,-610.08 625.79,-643.32"/>
<polygon fill="#666666" stroke="#666666" points="623.03,-645.5 631.41,-651.99 628.91,-641.69 623.03,-645.5"/>
</g>
<!-- handle_raft_ready_advance&#45;&gt;advance_append -->
<g id="edge5" class="edge">
<title>handle_raft_ready_advance&#45;&gt;advance_append</title>
<path fill="none" stroke="#666666" d="M457.22,-310.09C481.7,-322.81 515.86,-339.68 547,-352 557.96,-356.34 569.81,-360.46 581.34,-364.19"/>
<polygon fill="#666666" stroke="#666666" points="580.32,-367.54 590.91,-367.23 582.44,-360.87 580.32,-367.54"/>
</g>
<!-- handle_raft_ready_advance&#45;&gt;advance_append_async -->
<g id="edge6" class="edge">
<title>handle_raft_ready_advance&#45;&gt;advance_append_async</title>
<path fill="none" stroke="#666666" d="M456.24,-310.03C473.79,-320.72 495.03,-335.42 511,-352 531.78,-373.58 522.97,-391.1 547,-409 551.83,-412.59 557.11,-415.71 562.64,-418.41"/>
<polygon fill="#666666" stroke="#666666" points="561.58,-421.77 572.14,-422.58 564.39,-415.36 561.58,-421.77"/>
</g>
<!-- handle_raft_ready_advance&#45;&gt;set_commit_index -->
<g id="edge7" class="edge">
<title>handle_raft_ready_advance&#45;&gt;set_commit_index</title>
<path fill="none" stroke="#666666" d="M463.91,-273.86C480.22,-264.94 498.18,-252.87 511,-238 537.52,-207.23 520.53,-184.81 547,-154 559.8,-139.1 577.24,-126.72 593.77,-117.14"/>
<polygon fill="#666666" stroke="#666666" points="595.79,-120.03 602.83,-112.11 592.39,-113.91 595.79,-120.03"/>
</g>
<!-- on_leader_commit_idx_changed -->
<g id="node16" class="node">
<title>on_leader_commit_idx_changed</title>
<path fill="none" stroke="#1c2123" d="M730,-256C730,-256 559,-256 559,-256 553,-256 547,-250 547,-244 547,-244 547,-232 547,-232 547,-226 553,-220 559,-220 559,-220 730,-220 730,-220 736,-220 742,-226 742,-232 742,-232 742,-244 742,-244 742,-250 736,-256 730,-256"/>
<text text-anchor="middle" x="644.5" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_leader_commit_idx_changed</text>
</g>
<!-- handle_raft_ready_advance&#45;&gt;on_leader_commit_idx_changed -->
<g id="edge8" class="edge">
<title>handle_raft_ready_advance&#45;&gt;on_leader_commit_idx_changed</title>
<path fill="none" stroke="#666666" d="M497.06,-273.94C517.34,-268.97 539.47,-263.53 560.25,-258.43"/>
<polygon fill="#666666" stroke="#666666" points="561.13,-261.82 570.01,-256.04 559.46,-255.02 561.13,-261.82"/>
</g>
<!-- handle_raft_committed_entries -->
<g id="node17" class="node">
<title>handle_raft_committed_entries</title>
<path fill="none" stroke="#1c2123" d="M726,-310C726,-310 563,-310 563,-310 557,-310 551,-304 551,-298 551,-298 551,-286 551,-286 551,-280 557,-274 563,-274 563,-274 726,-274 726,-274 732,-274 738,-280 738,-286 738,-286 738,-298 738,-298 738,-304 732,-310 726,-310"/>
<text text-anchor="middle" x="644.5" y="-288.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_committed_entries</text>
</g>
<!-- handle_raft_ready_advance&#45;&gt;handle_raft_committed_entries -->
<g id="edge9" class="edge">
<title>handle_raft_ready_advance&#45;&gt;handle_raft_committed_entries</title>
<path fill="none" stroke="#666666" d="M505.73,-292C517.06,-292 528.81,-292 540.45,-292"/>
<polygon fill="#666666" stroke="#666666" points="540.64,-295.5 550.64,-292 540.64,-288.5 540.64,-295.5"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;skip_bcast_commit -->
<g id="edge10" class="edge">
<title>handle_raft_committed_entries&#45;&gt;skip_bcast_commit</title>
<path fill="none" stroke="#666666" d="M678.27,-310.02C702.94,-323.03 737.88,-340.29 770,-352 784.85,-357.41 801.09,-362.23 816.63,-366.34"/>
<polygon fill="#666666" stroke="#666666" points="816.17,-369.83 826.72,-368.93 817.91,-363.05 816.17,-369.83"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_apply -->
<g id="edge11" class="edge">
<title>handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_apply</title>
<path fill="none" stroke="#666666" d="M738.36,-274.61C742.58,-271.84 746.5,-268.65 750,-265 779.54,-234.15 743.43,-204.44 770,-171 771.9,-168.6 773.94,-166.3 776.08,-164.1"/>
<polygon fill="#666666" stroke="#666666" points="778.81,-166.34 783.77,-156.98 774.05,-161.21 778.81,-166.34"/>
</g>
<!-- handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_Snapshot -->
<g id="edge12" class="edge">
<title>handle_raft_committed_entries&#45;&gt;apply_router_schedule_task_ApplyTask_Snapshot</title>
<path fill="none" stroke="#666666" d="M722.2,-273.96C731.65,-271.22 741.1,-268.22 750,-265 781.98,-253.43 816.59,-237.04 843.09,-223.62"/>
<polygon fill="#666666" stroke="#666666" points="844.79,-226.68 852.1,-219.01 841.61,-220.45 844.79,-226.68"/>
</g>
<!-- post_raft_ready_append -->
<g id="node18" class="node">
<title>post_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M286,-428C286,-428 163,-428 163,-428 157,-428 151,-422 151,-416 151,-416 151,-404 151,-404 151,-398 157,-392 163,-392 163,-392 286,-392 286,-392 292,-392 298,-398 298,-404 298,-404 298,-416 298,-416 298,-422 292,-428 286,-428"/>
<text text-anchor="middle" x="224.5" y="-406.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_raft_ready_append</text>
</g>
<!-- post_raft_ready_append&#45;&gt;peer_post_raft_ready_append -->
<g id="edge13" class="edge">
<title>post_raft_ready_append&#45;&gt;peer_post_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M259.55,-391.9C273.39,-383.03 288.45,-371.18 298.5,-357 323.18,-322.18 299.39,-298.36 326,-265 336.23,-252.18 350.38,-241.87 364.67,-233.84"/>
<polygon fill="#666666" stroke="#666666" points="366.35,-236.91 373.54,-229.13 363.07,-230.72 366.35,-236.91"/>
</g>
<!-- post_raft_ready_append&#45;&gt;handle_raft_ready_advance -->
<g id="edge14" class="edge">
<title>post_raft_ready_append&#45;&gt;handle_raft_ready_advance</title>
<path fill="none" stroke="#666666" d="M255.7,-391.82C289.89,-371.23 345.7,-337.64 383,-315.18"/>
<polygon fill="#666666" stroke="#666666" points="384.83,-318.16 391.59,-310.01 381.22,-312.17 384.83,-318.16"/>
</g>
<!-- on_ready_apply_snapshot -->
<g id="node19" class="node">
<title>on_ready_apply_snapshot</title>
<path fill="none" stroke="#1c2123" d="M489.5,-400C489.5,-400 355.5,-400 355.5,-400 349.5,-400 343.5,-394 343.5,-388 343.5,-388 343.5,-376 343.5,-376 343.5,-370 349.5,-364 355.5,-364 355.5,-364 489.5,-364 489.5,-364 495.5,-364 501.5,-370 501.5,-376 501.5,-376 501.5,-388 501.5,-388 501.5,-394 495.5,-400 489.5,-400"/>
<text text-anchor="middle" x="422.5" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_ready_apply_snapshot</text>
</g>
<!-- post_raft_ready_append&#45;&gt;on_ready_apply_snapshot -->
<g id="edge15" class="edge">
<title>post_raft_ready_append&#45;&gt;on_ready_apply_snapshot</title>
<path fill="none" stroke="#666666" d="M298.2,-399.61C309.58,-397.99 321.44,-396.29 333.12,-394.63"/>
<polygon fill="#666666" stroke="#666666" points="333.92,-398.05 343.32,-393.17 332.93,-391.12 333.92,-398.05"/>
</g>
<!-- on_ready_rollback_merge -->
<g id="node20" class="node">
<title>on_ready_rollback_merge</title>
<path fill="none" stroke="#1c2123" d="M490,-454C490,-454 355,-454 355,-454 349,-454 343,-448 343,-442 343,-442 343,-430 343,-430 343,-424 349,-418 355,-418 355,-418 490,-418 490,-418 496,-418 502,-424 502,-430 502,-430 502,-442 502,-442 502,-448 496,-454 490,-454"/>
<text text-anchor="middle" x="422.5" y="-432.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_ready_rollback_merge</text>
</g>
<!-- post_raft_ready_append&#45;&gt;on_ready_rollback_merge -->
<g id="edge16" class="edge">
<title>post_raft_ready_append&#45;&gt;on_ready_rollback_merge</title>
<path fill="none" stroke="#666666" d="M298.2,-419.64C309.5,-421.14 321.27,-422.7 332.86,-424.24"/>
<polygon fill="#666666" stroke="#666666" points="332.62,-427.74 342.99,-425.59 333.54,-420.8 332.62,-427.74"/>
</g>
<!-- register_raft_base_tick -->
<g id="node21" class="node">
<title>register_raft_base_tick</title>
<path fill="none" stroke="#1c2123" d="M480.5,-508C480.5,-508 364.5,-508 364.5,-508 358.5,-508 352.5,-502 352.5,-496 352.5,-496 352.5,-484 352.5,-484 352.5,-478 358.5,-472 364.5,-472 364.5,-472 480.5,-472 480.5,-472 486.5,-472 492.5,-478 492.5,-484 492.5,-484 492.5,-496 492.5,-496 492.5,-502 486.5,-508 480.5,-508"/>
<text text-anchor="middle" x="422.5" y="-486.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">register_raft_base_tick</text>
</g>
<!-- post_raft_ready_append&#45;&gt;register_raft_base_tick -->
<g id="edge17" class="edge">
<title>post_raft_ready_append&#45;&gt;register_raft_base_tick</title>
<path fill="none" stroke="#666666" d="M255.94,-428.2C275.47,-439.33 301.64,-453.26 326,-463 331.38,-465.15 337,-467.2 342.69,-469.15"/>
<polygon fill="#666666" stroke="#666666" points="341.73,-472.51 352.32,-472.31 343.91,-465.86 341.73,-472.51"/>
</g>
<!-- handle_raft_ready -->
<g id="node22" class="node">
<title>handle_raft_ready</title>
<path fill="none" stroke="#1c2123" d="M103,-526C103,-526 12,-526 12,-526 6,-526 0,-520 0,-514 0,-514 0,-502 0,-502 0,-496 6,-490 12,-490 12,-490 103,-490 103,-490 109,-490 115,-496 115,-502 115,-502 115,-514 115,-514 115,-520 109,-526 103,-526"/>
<text text-anchor="middle" x="57.5" y="-504.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready</text>
</g>
<!-- handle_raft_ready&#45;&gt;need_flush -->
<g id="edge18" class="edge">
<title>handle_raft_ready&#45;&gt;need_flush</title>
<path fill="none" stroke="#666666" d="M61.6,-526.19C68.9,-563.58 90.7,-649.53 143,-697 152.56,-705.68 165,-711.58 177.23,-715.58"/>
<polygon fill="#666666" stroke="#666666" points="176.36,-718.98 186.94,-718.41 178.32,-712.25 176.36,-718.98"/>
</g>
<!-- handle_raft_ready&#45;&gt;flush -->
<g id="edge19" class="edge">
<title>handle_raft_ready&#45;&gt;flush</title>
<path fill="none" stroke="#666666" d="M65.74,-526.45C77.72,-554.71 104.25,-608.73 143,-640 155.82,-650.35 172.58,-657.36 187.48,-661.97"/>
<polygon fill="#666666" stroke="#666666" points="186.85,-665.43 197.42,-664.8 188.76,-658.7 186.85,-665.43"/>
</g>
<!-- handle_raft_ready&#45;&gt;consume_and_shrink -->
<g id="edge20" class="edge">
<title>handle_raft_ready&#45;&gt;consume_and_shrink</title>
<path fill="none" stroke="#666666" d="M93.06,-526.2C108.21,-533.91 126.32,-542.77 143,-550 149.34,-552.75 156.03,-555.49 162.73,-558.13"/>
<polygon fill="#666666" stroke="#666666" points="161.92,-561.57 172.51,-561.91 164.45,-555.04 161.92,-561.57"/>
</g>
<!-- handle_raft_ready&#45;&gt;post_raft_ready_append -->
<g id="edge21" class="edge">
<title>handle_raft_ready&#45;&gt;post_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M89.15,-489.8C116.01,-473.84 155.19,-450.57 184.32,-433.27"/>
<polygon fill="#666666" stroke="#666666" points="186.21,-436.22 193.02,-428.11 182.63,-430.2 186.21,-436.22"/>
</g>
<!-- kv_wb_write_opt -->
<g id="node23" class="node">
<title>kv_wb_write_opt</title>
<path fill="none" stroke="#1c2123" d="M268.5,-348C268.5,-348 180.5,-348 180.5,-348 174.5,-348 168.5,-342 168.5,-336 168.5,-336 168.5,-324 168.5,-324 168.5,-318 174.5,-312 180.5,-312 180.5,-312 268.5,-312 268.5,-312 274.5,-312 280.5,-318 280.5,-324 280.5,-324 280.5,-336 280.5,-336 280.5,-342 274.5,-348 268.5,-348"/>
<text text-anchor="middle" x="224.5" y="-326.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">kv_wb_write_opt</text>
</g>
<!-- handle_raft_ready&#45;&gt;kv_wb_write_opt -->
<g id="edge22" class="edge">
<title>handle_raft_ready&#45;&gt;kv_wb_write_opt</title>
<path fill="none" stroke="#666666" d="M63.24,-489.75C72.68,-457.04 97.03,-388.46 143,-352 147.73,-348.25 153.05,-345.14 158.64,-342.56"/>
<polygon fill="#666666" stroke="#666666" points="160.28,-345.67 168.25,-338.69 157.67,-339.17 160.28,-345.67"/>
</g>
<!-- raft_wb_mut_cut_logs -->
<g id="node24" class="node">
<title>raft_wb_mut_cut_logs</title>
<path fill="none" stroke="#1c2123" d="M282.5,-294C282.5,-294 166.5,-294 166.5,-294 160.5,-294 154.5,-288 154.5,-282 154.5,-282 154.5,-270 154.5,-270 154.5,-264 160.5,-258 166.5,-258 166.5,-258 282.5,-258 282.5,-258 288.5,-258 294.5,-264 294.5,-270 294.5,-270 294.5,-282 294.5,-282 294.5,-288 288.5,-294 282.5,-294"/>
<text text-anchor="middle" x="224.5" y="-272.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_wb_mut_cut_logs</text>
</g>
<!-- handle_raft_ready&#45;&gt;raft_wb_mut_cut_logs -->
<g id="edge23" class="edge">
<title>handle_raft_ready&#45;&gt;raft_wb_mut_cut_logs</title>
<path fill="none" stroke="#666666" d="M60.88,-489.82C67.02,-450.17 87.04,-355.31 143,-303 144.11,-301.96 145.26,-300.96 146.45,-300"/>
<polygon fill="#666666" stroke="#666666" points="148.56,-302.8 154.76,-294.21 144.55,-297.06 148.56,-302.8"/>
</g>
</g>
</svg>
