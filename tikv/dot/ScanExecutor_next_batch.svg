<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: ScanExecutor_next_batch Pages: 1 -->
<svg width="1600pt" height="351pt"
 viewBox="0.00 0.00 1600.00 351.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 347)">
<title>ScanExecutor_next_batch</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-347 1596,-347 1596,4 -4,4"/>
<g id="clust3" class="cluster">
<title>cluster_for_scan_rows</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M482,-54C482,-54 1029,-54 1029,-54 1035,-54 1041,-60 1041,-66 1041,-66 1041,-323 1041,-323 1041,-329 1035,-335 1029,-335 1029,-335 482,-335 482,-335 476,-335 470,-329 470,-323 470,-323 470,-66 470,-66 470,-60 476,-54 482,-54"/>
<text text-anchor="start" x="671.5" y="-315" font-family="Times,serif" font-size="20.00">for _ in 0..scan_rows</text>
<text text-anchor="middle" x="755.5" y="-293" font-family="Times,serif" font-size="20.00"> 迭代扫描数据</text>
</g>
<!-- ScanExecutor_next_batch -->
<g id="node1" class="node">
<title>ScanExecutor_next_batch</title>
<path fill="none" stroke="#1c2123" d="M42,-53C42,-53 176,-53 176,-53 182,-53 188,-59 188,-65 188,-65 188,-77 188,-77 188,-83 182,-89 176,-89 176,-89 42,-89 42,-89 36,-89 30,-83 30,-77 30,-77 30,-65 30,-65 30,-59 36,-53 42,-53"/>
<text text-anchor="middle" x="109" y="-67.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ScanExecutor::next_batch</text>
</g>
<!-- impl_build_column_vec -->
<g id="node2" class="node">
<title>impl_build_column_vec</title>
<path fill="none" stroke="#1c2123" d="M275,-0.5C275,-0.5 421,-0.5 421,-0.5 427,-0.5 433,-6.5 433,-12.5 433,-12.5 433,-49.5 433,-49.5 433,-55.5 427,-61.5 421,-61.5 421,-61.5 275,-61.5 275,-61.5 269,-61.5 263,-55.5 263,-49.5 263,-49.5 263,-12.5 263,-12.5 263,-6.5 269,-0.5 275,-0.5"/>
<text text-anchor="start" x="271" y="-46.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ScanExecutorImpl::</text>
<text text-anchor="start" x="271" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> build_column_vec</text>
<polyline fill="none" stroke="#1c2123" points="263,-23.5 433,-23.5 "/>
<text text-anchor="start" x="271" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建一个lazay column vec</text>
</g>
<!-- ScanExecutor_next_batch&#45;&gt;impl_build_column_vec -->
<g id="edge1" class="edge">
<title>ScanExecutor_next_batch&#45;&gt;impl_build_column_vec</title>
<path fill="none" stroke="#666666" d="M188.26,-57.79C208.86,-54.31 231.31,-50.53 252.66,-46.92"/>
<polygon fill="#666666" stroke="#666666" points="253.43,-50.34 262.71,-45.23 252.26,-43.44 253.43,-50.34"/>
</g>
<!-- ScanExecutor_fill_column_vec -->
<g id="node3" class="node">
<title>ScanExecutor_fill_column_vec</title>
<path fill="none" stroke="#1c2123" d="M266,-97.5C266,-97.5 430,-97.5 430,-97.5 436,-97.5 442,-103.5 442,-109.5 442,-109.5 442,-146.5 442,-146.5 442,-152.5 436,-158.5 430,-158.5 430,-158.5 266,-158.5 266,-158.5 260,-158.5 254,-152.5 254,-146.5 254,-146.5 254,-109.5 254,-109.5 254,-103.5 260,-97.5 266,-97.5"/>
<text text-anchor="middle" x="348" y="-143.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ScanExecutor::fill_column_vec</text>
<polyline fill="none" stroke="#1c2123" points="254,-135.5 442,-135.5 "/>
<text text-anchor="start" x="262" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">调用RangesScanner_next</text>
<text text-anchor="start" x="262" y="-105.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 扫描scan_rows行数据</text>
</g>
<!-- ScanExecutor_next_batch&#45;&gt;ScanExecutor_fill_column_vec -->
<g id="edge2" class="edge">
<title>ScanExecutor_next_batch&#45;&gt;ScanExecutor_fill_column_vec</title>
<path fill="none" stroke="#666666" d="M184.99,-89.04C203.67,-93.53 224.02,-98.42 243.79,-103.18"/>
<polygon fill="#666666" stroke="#666666" points="243.22,-106.64 253.76,-105.57 244.85,-99.83 243.22,-106.64"/>
</g>
<!-- LazyBatchColumnVec -->
<g id="node11" class="node">
<title>LazyBatchColumnVec</title>
<path fill="none" stroke="#1c2123" d="M1081,-78C1081,-78 1271,-78 1271,-78 1277,-78 1283,-84 1283,-90 1283,-90 1283,-112 1283,-112 1283,-118 1277,-124 1271,-124 1271,-124 1081,-124 1081,-124 1075,-124 1069,-118 1069,-112 1069,-112 1069,-90 1069,-90 1069,-84 1075,-78 1081,-78"/>
<text text-anchor="middle" x="1176" y="-108.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">LazyBatchColumnVec</text>
<polyline fill="none" stroke="#1c2123" points="1069,-101 1283,-101 "/>
<text text-anchor="start" x="1077" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">columns: Vec&lt;LazyBatchColumn&gt;,</text>
</g>
<!-- impl_build_column_vec&#45;&gt;LazyBatchColumnVec -->
<g id="edge11" class="edge">
<title>impl_build_column_vec&#45;&gt;LazyBatchColumnVec</title>
<path fill="none" stroke="#666666" d="M433.17,-23.93C564.53,-14.98 825.59,-5.63 1041,-50 1066.5,-55.25 1093.53,-64.73 1116.58,-74.09"/>
<polygon fill="#666666" stroke="#666666" points="1115.29,-77.35 1125.87,-77.95 1117.98,-70.88 1115.29,-77.35"/>
</g>
<!-- RangesScanner_next -->
<g id="node4" class="node">
<title>RangesScanner_next</title>
<path fill="none" stroke="#1c2123" d="M506.5,-115.5C506.5,-115.5 613.5,-115.5 613.5,-115.5 619.5,-115.5 625.5,-121.5 625.5,-127.5 625.5,-127.5 625.5,-164.5 625.5,-164.5 625.5,-170.5 619.5,-176.5 613.5,-176.5 613.5,-176.5 506.5,-176.5 506.5,-176.5 500.5,-176.5 494.5,-170.5 494.5,-164.5 494.5,-164.5 494.5,-127.5 494.5,-127.5 494.5,-121.5 500.5,-115.5 506.5,-115.5"/>
<text text-anchor="middle" x="560" y="-161.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RangesScanner::next</text>
<polyline fill="none" stroke="#1c2123" points="494.5,-153.5 625.5,-153.5 "/>
<text text-anchor="start" x="502.5" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从storage中</text>
<text text-anchor="start" x="502.5" y="-123.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 读取next row数据</text>
</g>
<!-- ScanExecutor_fill_column_vec&#45;&gt;RangesScanner_next -->
<g id="edge3" class="edge">
<title>ScanExecutor_fill_column_vec&#45;&gt;RangesScanner_next</title>
<path fill="none" stroke="#666666" d="M442.03,-135.97C456.1,-137.18 470.47,-138.41 484.1,-139.58"/>
<polygon fill="#666666" stroke="#666666" points="484.09,-143.09 494.36,-140.46 484.69,-136.12 484.09,-143.09"/>
</g>
<!-- impl_process_kv_pair -->
<g id="node5" class="node">
<title>impl_process_kv_pair</title>
<path fill="none" stroke="#1c2123" d="M878,-63C878,-63 1021,-63 1021,-63 1027,-63 1033,-69 1033,-75 1033,-75 1033,-127 1033,-127 1033,-133 1027,-139 1021,-139 1021,-139 878,-139 878,-139 872,-139 866,-133 866,-127 866,-127 866,-75 866,-75 866,-69 872,-63 878,-63"/>
<text text-anchor="start" x="874" y="-123.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ScanExecutorImpl::</text>
<text text-anchor="start" x="874" y="-108.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">process_kv_pair</text>
<polyline fill="none" stroke="#1c2123" points="866,-101 1033,-101 "/>
<text text-anchor="start" x="874" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Accepts a key value pair</text>
<text text-anchor="start" x="874" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> and fills the column vector</text>
</g>
<!-- ScanExecutor_fill_column_vec&#45;&gt;impl_process_kv_pair -->
<g id="edge4" class="edge">
<title>ScanExecutor_fill_column_vec&#45;&gt;impl_process_kv_pair</title>
<path fill="none" stroke="#666666" d="M434.03,-97.37C530.4,-66.72 692.03,-27.64 830,-54 838.61,-55.64 847.39,-57.91 856.08,-60.55"/>
<polygon fill="#666666" stroke="#666666" points="855.25,-63.96 865.85,-63.69 857.4,-57.3 855.25,-63.96"/>
</g>
<!-- truncate_into_equal_length -->
<g id="node6" class="node">
<title>truncate_into_equal_length</title>
<path fill="none" stroke="#1c2123" d="M630,-253C630,-253 490,-253 490,-253 484,-253 478,-247 478,-241 478,-241 478,-229 478,-229 478,-223 484,-217 490,-217 490,-217 630,-217 630,-217 636,-217 642,-223 642,-229 642,-229 642,-241 642,-241 642,-247 636,-253 630,-253"/>
<text text-anchor="middle" x="560" y="-231.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">truncate_into_equal_length</text>
</g>
<!-- ScanExecutor_fill_column_vec&#45;&gt;truncate_into_equal_length -->
<g id="edge5" class="edge">
<title>ScanExecutor_fill_column_vec&#45;&gt;truncate_into_equal_length</title>
<path fill="none" stroke="#666666" d="M408.9,-158.52C442.52,-175.65 483.75,-196.66 514.49,-212.32"/>
<polygon fill="#666666" stroke="#666666" points="513.17,-215.58 523.67,-217 516.35,-209.34 513.17,-215.58"/>
</g>
<!-- OwnedKvPair -->
<g id="node7" class="node">
<title>OwnedKvPair</title>
<path fill="none" stroke="#1c2123" d="M703.5,-63C703.5,-63 804.5,-63 804.5,-63 810.5,-63 816.5,-69 816.5,-75 816.5,-75 816.5,-97 816.5,-97 816.5,-103 810.5,-109 804.5,-109 804.5,-109 703.5,-109 703.5,-109 697.5,-109 691.5,-103 691.5,-97 691.5,-97 691.5,-75 691.5,-75 691.5,-69 697.5,-63 703.5,-63"/>
<text text-anchor="middle" x="754" y="-93.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">OwnedKvPair</text>
<polyline fill="none" stroke="#1c2123" points="691.5,-86 816.5,-86 "/>
<text text-anchor="start" x="699.5" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Vec&lt;u8&gt;, Vec&lt;u8&gt;</text>
</g>
<!-- RangesScanner_next&#45;&gt;OwnedKvPair -->
<g id="edge9" class="edge">
<title>RangesScanner_next&#45;&gt;OwnedKvPair</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M625.73,-125.77C643.73,-120.15 663.37,-114.01 681.72,-108.28"/>
<polygon fill="green" stroke="green" points="682.97,-111.55 691.47,-105.23 680.88,-104.87 682.97,-111.55"/>
</g>
<!-- Storage_begin_scan -->
<g id="node8" class="node">
<title>Storage_begin_scan</title>
<path fill="none" stroke="#1c2123" d="M690,-128C690,-128 818,-128 818,-128 824,-128 830,-134 830,-140 830,-140 830,-152 830,-152 830,-158 824,-164 818,-164 818,-164 690,-164 690,-164 684,-164 678,-158 678,-152 678,-152 678,-140 678,-140 678,-134 684,-128 690,-128"/>
<text text-anchor="middle" x="754" y="-142.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">trait Storage::begin_scan</text>
</g>
<!-- RangesScanner_next&#45;&gt;Storage_begin_scan -->
<g id="edge6" class="edge">
<title>RangesScanner_next&#45;&gt;Storage_begin_scan</title>
<path fill="none" stroke="#666666" d="M625.73,-146C639.23,-146 653.64,-146 667.74,-146"/>
<polygon fill="#666666" stroke="#666666" points="667.94,-149.5 677.94,-146 667.94,-142.5 667.94,-149.5"/>
</g>
<!-- Storage_scan_next -->
<g id="node9" class="node">
<title>Storage_scan_next</title>
<path fill="none" stroke="#1c2123" d="M693.5,-183C693.5,-183 814.5,-183 814.5,-183 820.5,-183 826.5,-189 826.5,-195 826.5,-195 826.5,-207 826.5,-207 826.5,-213 820.5,-219 814.5,-219 814.5,-219 693.5,-219 693.5,-219 687.5,-219 681.5,-213 681.5,-207 681.5,-207 681.5,-195 681.5,-195 681.5,-189 687.5,-183 693.5,-183"/>
<text text-anchor="middle" x="754" y="-197.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">trait Storage::scan_next</text>
</g>
<!-- RangesScanner_next&#45;&gt;Storage_scan_next -->
<g id="edge7" class="edge">
<title>RangesScanner_next&#45;&gt;Storage_scan_next</title>
<path fill="none" stroke="#666666" d="M625.73,-164.54C643.19,-169.54 662.19,-174.99 680.06,-180.1"/>
<polygon fill="#666666" stroke="#666666" points="679.27,-183.52 689.85,-182.91 681.2,-176.79 679.27,-183.52"/>
</g>
<!-- Storage_get -->
<g id="node10" class="node">
<title>Storage_get</title>
<path fill="none" stroke="#1c2123" d="M712.5,-238C712.5,-238 795.5,-238 795.5,-238 801.5,-238 807.5,-244 807.5,-250 807.5,-250 807.5,-262 807.5,-262 807.5,-268 801.5,-274 795.5,-274 795.5,-274 712.5,-274 712.5,-274 706.5,-274 700.5,-268 700.5,-262 700.5,-262 700.5,-250 700.5,-250 700.5,-244 706.5,-238 712.5,-238"/>
<text text-anchor="middle" x="754" y="-252.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">trait Storage::get</text>
</g>
<!-- RangesScanner_next&#45;&gt;Storage_get -->
<g id="edge8" class="edge">
<title>RangesScanner_next&#45;&gt;Storage_get</title>
<path fill="none" stroke="#666666" d="M598.57,-176.63C620.72,-193.66 649.85,-214.3 678,-229 682.04,-231.11 686.29,-233.13 690.61,-235.03"/>
<polygon fill="#666666" stroke="#666666" points="689.6,-238.4 700.17,-239.04 692.3,-231.95 689.6,-238.4"/>
</g>
<!-- impl_process_kv_pair&#45;&gt;LazyBatchColumnVec -->
<g id="edge13" class="edge">
<title>impl_process_kv_pair&#45;&gt;LazyBatchColumnVec</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1033.14,-101C1041.5,-101 1050.09,-101 1058.71,-101"/>
<polygon fill="green" stroke="green" points="1058.84,-104.5 1068.84,-101 1058.84,-97.5 1058.84,-104.5"/>
</g>
<!-- truncate_into_equal_length&#45;&gt;LazyBatchColumnVec -->
<g id="edge12" class="edge">
<title>truncate_into_equal_length&#45;&gt;LazyBatchColumnVec</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M594.17,-253.07C616.99,-264.44 648.42,-278.06 678,-284 744.23,-297.31 764.44,-300.31 830,-284 950.34,-254.06 1074.82,-173.49 1136.11,-129.92"/>
<polygon fill="green" stroke="green" points="1138.24,-132.7 1144.33,-124.03 1134.16,-127.01 1138.24,-132.7"/>
</g>
<!-- OwnedKvPair&#45;&gt;impl_process_kv_pair -->
<g id="edge10" class="edge">
<title>OwnedKvPair&#45;&gt;impl_process_kv_pair</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M816.76,-90.79C829.18,-91.75 842.5,-92.78 855.72,-93.81"/>
<polygon fill="green" stroke="green" points="855.55,-97.31 865.79,-94.59 856.09,-90.33 855.55,-97.31"/>
</g>
<!-- BatchExecuteResult -->
<g id="node12" class="node">
<title>BatchExecuteResult</title>
<path fill="none" stroke="#1c2123" d="M1331,-66.5C1331,-66.5 1580,-66.5 1580,-66.5 1586,-66.5 1592,-72.5 1592,-78.5 1592,-78.5 1592,-123.5 1592,-123.5 1592,-129.5 1586,-135.5 1580,-135.5 1580,-135.5 1331,-135.5 1331,-135.5 1325,-135.5 1319,-129.5 1319,-123.5 1319,-123.5 1319,-78.5 1319,-78.5 1319,-72.5 1325,-66.5 1331,-66.5"/>
<text text-anchor="middle" x="1455.5" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchExecuteResult</text>
<polyline fill="none" stroke="#1c2123" points="1319,-112.5 1592,-112.5 "/>
<text text-anchor="start" x="1327" y="-97.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub physical_columns: LazyBatchColumnVec,</text>
<polyline fill="none" stroke="#1c2123" points="1319,-89.5 1592,-89.5 "/>
<text text-anchor="start" x="1327" y="-74.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub logical_rows: Vec&lt;usize&gt;,</text>
</g>
<!-- LazyBatchColumnVec&#45;&gt;BatchExecuteResult -->
<g id="edge14" class="edge">
<title>LazyBatchColumnVec&#45;&gt;BatchExecuteResult</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1283.1,-101C1291.46,-101 1299.98,-101 1308.54,-101"/>
<polygon fill="green" stroke="green" points="1308.6,-104.5 1318.6,-101 1308.6,-97.5 1308.6,-104.5"/>
</g>
<!-- LazyBatchColumn -->
<g id="node13" class="node">
<title>LazyBatchColumn</title>
<path fill="none" stroke="#1c2123" d="M12,-108C12,-108 206,-108 206,-108 212,-108 218,-114 218,-120 218,-120 218,-172 218,-172 218,-178 212,-184 206,-184 206,-184 12,-184 12,-184 6,-184 0,-178 0,-172 0,-172 0,-120 0,-120 0,-114 6,-108 12,-108"/>
<text text-anchor="middle" x="109" y="-168.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">LazyBatchColumn</text>
<polyline fill="none" stroke="#1c2123" points="0,-161 218,-161 "/>
<text text-anchor="start" x="8" y="-145.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">a container stores an array of datums</text>
<text text-anchor="start" x="8" y="-130.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> which can be either raw</text>
<text text-anchor="start" x="8" y="-115.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> or decode into `VectorValue` type</text>
</g>
</g>
</svg>
