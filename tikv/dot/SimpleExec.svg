<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: simpleExec Pages: 1 -->
<svg width="1256pt" height="488pt"
 viewBox="0.00 0.00 1256.00 488.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 484)">
<title>simpleExec</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-484 1252,-484 1252,4 -4,4"/>
<g id="clust3" class="cluster">
<title>cluster_txn</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M474,-336C474,-336 1228,-336 1228,-336 1234,-336 1240,-342 1240,-348 1240,-348 1240,-460 1240,-460 1240,-466 1234,-472 1228,-472 1228,-472 474,-472 474,-472 468,-472 462,-466 462,-460 462,-460 462,-348 462,-348 462,-342 468,-336 474,-336"/>
<text text-anchor="middle" x="851" y="-452" font-family="Times,serif" font-size="20.00">txn</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_SimpleExec</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M289,-100C289,-100 537.5,-100 537.5,-100 543.5,-100 549.5,-106 549.5,-112 549.5,-112 549.5,-316 549.5,-316 549.5,-322 543.5,-328 537.5,-328 537.5,-328 289,-328 289,-328 283,-328 277,-322 277,-316 277,-316 277,-112 277,-112 277,-106 283,-100 289,-100"/>
<text text-anchor="middle" x="413.25" y="-308" font-family="Times,serif" font-size="20.00">SimpleExec</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_session</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M634.5,-106C634.5,-106 1076,-106 1076,-106 1082,-106 1088,-112 1088,-118 1088,-118 1088,-176 1088,-176 1088,-182 1082,-188 1076,-188 1076,-188 634.5,-188 634.5,-188 628.5,-188 622.5,-182 622.5,-176 622.5,-176 622.5,-118 622.5,-118 622.5,-112 628.5,-106 634.5,-106"/>
<text text-anchor="middle" x="855.25" y="-168" font-family="Times,serif" font-size="20.00">session</text>
</g>
<!-- finishStmt -->
<g id="node1" class="node">
<title>finishStmt</title>
<path fill="none" stroke="#1c2123" d="M237,-63C237,-63 188,-63 188,-63 182,-63 176,-57 176,-51 176,-51 176,-39 176,-39 176,-33 182,-27 188,-27 188,-27 237,-27 237,-27 243,-27 249,-33 249,-39 249,-39 249,-51 249,-51 249,-57 243,-63 237,-63"/>
<text text-anchor="middle" x="212.5" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">finishStmt</text>
</g>
<!-- autoCommitAfterStmt -->
<g id="node2" class="node">
<title>autoCommitAfterStmt</title>
<path fill="none" stroke="#1c2123" d="M417.5,-90C417.5,-90 301.5,-90 301.5,-90 295.5,-90 289.5,-84 289.5,-78 289.5,-78 289.5,-66 289.5,-66 289.5,-60 295.5,-54 301.5,-54 301.5,-54 417.5,-54 417.5,-54 423.5,-54 429.5,-60 429.5,-66 429.5,-66 429.5,-78 429.5,-78 429.5,-84 423.5,-90 417.5,-90"/>
<text text-anchor="middle" x="359.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">autoCommitAfterStmt</text>
</g>
<!-- finishStmt&#45;&gt;autoCommitAfterStmt -->
<g id="edge1" class="edge">
<title>finishStmt&#45;&gt;autoCommitAfterStmt</title>
<path fill="none" stroke="#666666" d="M249.34,-51.67C258.56,-53.39 268.85,-55.31 279.32,-57.26"/>
<polygon fill="#666666" stroke="#666666" points="278.92,-60.74 289.39,-59.13 280.2,-53.86 278.92,-60.74"/>
</g>
<!-- checkStmtLimit -->
<g id="node3" class="node">
<title>checkStmtLimit</title>
<path fill="none" stroke="#1c2123" d="M400,-36C400,-36 319,-36 319,-36 313,-36 307,-30 307,-24 307,-24 307,-12 307,-12 307,-6 313,0 319,0 319,0 400,0 400,0 406,0 412,-6 412,-12 412,-12 412,-24 412,-24 412,-30 406,-36 400,-36"/>
<text text-anchor="middle" x="359.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">checkStmtLimit</text>
</g>
<!-- finishStmt&#45;&gt;checkStmtLimit -->
<g id="edge2" class="edge">
<title>finishStmt&#45;&gt;checkStmtLimit</title>
<path fill="none" stroke="#666666" d="M249.34,-38.33C263.72,-35.65 280.7,-32.49 296.94,-29.46"/>
<polygon fill="#666666" stroke="#666666" points="297.73,-32.88 306.92,-27.6 296.45,-25.99 297.73,-32.88"/>
</g>
<!-- InTxn -->
<g id="node4" class="node">
<title>InTxn</title>
<path fill="none" stroke="#1c2123" d="M529.5,-150C529.5,-150 499.5,-150 499.5,-150 493.5,-150 487.5,-144 487.5,-138 487.5,-138 487.5,-126 487.5,-126 487.5,-120 493.5,-114 499.5,-114 499.5,-114 529.5,-114 529.5,-114 535.5,-114 541.5,-120 541.5,-126 541.5,-126 541.5,-138 541.5,-138 541.5,-144 535.5,-150 529.5,-150"/>
<text text-anchor="middle" x="514.5" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">InTxn</text>
</g>
<!-- autoCommitAfterStmt&#45;&gt;InTxn -->
<g id="edge3" class="edge">
<title>autoCommitAfterStmt&#45;&gt;InTxn</title>
<path fill="none" stroke="#666666" d="M418.09,-90.13C423.5,-92.04 428.87,-94.01 434,-96 448.69,-101.7 464.56,-108.72 478.24,-115.03"/>
<polygon fill="#666666" stroke="#666666" points="476.77,-118.21 487.31,-119.27 479.73,-111.86 476.77,-118.21"/>
</g>
<!-- CommitTxn -->
<g id="node5" class="node">
<title>CommitTxn</title>
<path fill="none" stroke="#1c2123" d="M702.5,-150C702.5,-150 642.5,-150 642.5,-150 636.5,-150 630.5,-144 630.5,-138 630.5,-138 630.5,-126 630.5,-126 630.5,-120 636.5,-114 642.5,-114 642.5,-114 702.5,-114 702.5,-114 708.5,-114 714.5,-120 714.5,-126 714.5,-126 714.5,-138 714.5,-138 714.5,-144 708.5,-150 702.5,-150"/>
<text text-anchor="middle" x="672.5" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">CommitTxn</text>
</g>
<!-- autoCommitAfterStmt&#45;&gt;CommitTxn -->
<g id="edge4" class="edge">
<title>autoCommitAfterStmt&#45;&gt;CommitTxn</title>
<path fill="none" stroke="#666666" d="M429.94,-77.15C468.29,-80.8 516.61,-86.74 559,-96 579.47,-100.47 601.53,-107.11 620.64,-113.47"/>
<polygon fill="#666666" stroke="#666666" points="619.74,-116.86 630.34,-116.76 621.99,-110.23 619.74,-116.86"/>
</g>
<!-- InTxn&#45;&gt;CommitTxn -->
<g id="edge5" class="edge">
<title>InTxn&#45;&gt;CommitTxn</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M541.61,-132C562.97,-132 593.84,-132 620.13,-132"/>
<polygon fill="green" stroke="green" points="620.32,-135.5 630.32,-132 620.32,-128.5 620.32,-135.5"/>
</g>
<!-- doCommitWitRetry -->
<g id="node17" class="node">
<title>doCommitWitRetry</title>
<path fill="none" stroke="#1c2123" d="M928,-150C928,-150 826,-150 826,-150 820,-150 814,-144 814,-138 814,-138 814,-126 814,-126 814,-120 820,-114 826,-114 826,-114 928,-114 928,-114 934,-114 940,-120 940,-126 940,-126 940,-138 940,-138 940,-144 934,-150 928,-150"/>
<text text-anchor="middle" x="877" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">doCommitWitRetry</text>
</g>
<!-- CommitTxn&#45;&gt;doCommitWitRetry -->
<g id="edge15" class="edge">
<title>CommitTxn&#45;&gt;doCommitWitRetry</title>
<path fill="none" stroke="#666666" d="M714.97,-132C740.43,-132 773.75,-132 803.47,-132"/>
<polygon fill="#666666" stroke="#666666" points="803.82,-135.5 813.82,-132 803.82,-128.5 803.82,-135.5"/>
</g>
<!-- txn_Commit -->
<g id="node6" class="node">
<title>txn_Commit</title>
<path fill="none" stroke="#1c2123" d="M1128,-345C1128,-345 1220,-345 1220,-345 1226,-345 1232,-351 1232,-357 1232,-357 1232,-379 1232,-379 1232,-385 1226,-391 1220,-391 1220,-391 1128,-391 1128,-391 1122,-391 1116,-385 1116,-379 1116,-379 1116,-357 1116,-357 1116,-351 1122,-345 1128,-345"/>
<text text-anchor="middle" x="1174" y="-375.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Commit</text>
<polyline fill="none" stroke="#1c2123" points="1116,-368 1232,-368 "/>
<text text-anchor="start" x="1124" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">开始两阶段提交</text>
</g>
<!-- txn_Rollback -->
<g id="node7" class="node">
<title>txn_Rollback</title>
<path fill="none" stroke="#1c2123" d="M547,-380C547,-380 482,-380 482,-380 476,-380 470,-374 470,-368 470,-368 470,-356 470,-356 470,-350 476,-344 482,-344 482,-344 547,-344 547,-344 553,-344 559,-350 559,-356 559,-356 559,-368 559,-368 559,-374 553,-380 547,-380"/>
<text text-anchor="middle" x="514.5" y="-358.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">txn_Rollback</text>
</g>
<!-- rollbackPessimisticLocks -->
<g id="node8" class="node">
<title>rollbackPessimisticLocks</title>
<path fill="none" stroke="#1c2123" d="M738,-380C738,-380 607,-380 607,-380 601,-380 595,-374 595,-368 595,-368 595,-356 595,-356 595,-350 601,-344 607,-344 607,-344 738,-344 738,-344 744,-344 750,-350 750,-356 750,-356 750,-368 750,-368 750,-374 744,-380 738,-380"/>
<text text-anchor="middle" x="672.5" y="-358.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">rollbackPessimisticLocks</text>
</g>
<!-- txn_Rollback&#45;&gt;rollbackPessimisticLocks -->
<g id="edge6" class="edge">
<title>txn_Rollback&#45;&gt;rollbackPessimisticLocks</title>
<path fill="none" stroke="#666666" d="M559.37,-362C567.34,-362 575.9,-362 584.6,-362"/>
<polygon fill="#666666" stroke="#666666" points="584.87,-365.5 594.87,-362 584.87,-358.5 584.87,-365.5"/>
</g>
<!-- txn_close -->
<g id="node9" class="node">
<title>txn_close</title>
<path fill="none" stroke="#1c2123" d="M694.5,-434C694.5,-434 650.5,-434 650.5,-434 644.5,-434 638.5,-428 638.5,-422 638.5,-422 638.5,-410 638.5,-410 638.5,-404 644.5,-398 650.5,-398 650.5,-398 694.5,-398 694.5,-398 700.5,-398 706.5,-404 706.5,-410 706.5,-410 706.5,-422 706.5,-422 706.5,-428 700.5,-434 694.5,-434"/>
<text text-anchor="middle" x="672.5" y="-412.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">txn_close</text>
</g>
<!-- txn_Rollback&#45;&gt;txn_close -->
<g id="edge7" class="edge">
<title>txn_Rollback&#45;&gt;txn_close</title>
<path fill="none" stroke="#666666" d="M559.37,-377.19C581.1,-384.71 607.22,-393.75 628.79,-401.21"/>
<polygon fill="#666666" stroke="#666666" points="627.75,-404.56 638.34,-404.52 630.04,-397.94 627.75,-404.56"/>
</g>
<!-- collectLockedKeys -->
<g id="node10" class="node">
<title>collectLockedKeys</title>
<path fill="none" stroke="#1c2123" d="M925.5,-380C925.5,-380 828.5,-380 828.5,-380 822.5,-380 816.5,-374 816.5,-368 816.5,-368 816.5,-356 816.5,-356 816.5,-350 822.5,-344 828.5,-344 828.5,-344 925.5,-344 925.5,-344 931.5,-344 937.5,-350 937.5,-356 937.5,-356 937.5,-368 937.5,-368 937.5,-374 931.5,-380 925.5,-380"/>
<text text-anchor="middle" x="877" y="-358.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collectLockedKeys</text>
</g>
<!-- rollbackPessimisticLocks&#45;&gt;collectLockedKeys -->
<g id="edge8" class="edge">
<title>rollbackPessimisticLocks&#45;&gt;collectLockedKeys</title>
<path fill="none" stroke="#666666" d="M750.06,-362C768.49,-362 788.09,-362 806.2,-362"/>
<polygon fill="#666666" stroke="#666666" points="806.38,-365.5 816.38,-362 806.38,-358.5 806.38,-365.5"/>
</g>
<!-- pessimisticRollbackMutations -->
<g id="node11" class="node">
<title>pessimisticRollbackMutations</title>
<path fill="none" stroke="#1c2123" d="M956,-434C956,-434 798,-434 798,-434 792,-434 786,-428 786,-422 786,-422 786,-410 786,-410 786,-404 792,-398 798,-398 798,-398 956,-398 956,-398 962,-398 968,-404 968,-410 968,-410 968,-422 968,-422 968,-428 962,-434 956,-434"/>
<text text-anchor="middle" x="877" y="-412.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pessimisticRollbackMutations</text>
</g>
<!-- rollbackPessimisticLocks&#45;&gt;pessimisticRollbackMutations -->
<g id="edge9" class="edge">
<title>rollbackPessimisticLocks&#45;&gt;pessimisticRollbackMutations</title>
<path fill="none" stroke="#666666" d="M741.21,-380.06C759.62,-384.96 779.69,-390.32 798.59,-395.36"/>
<polygon fill="#666666" stroke="#666666" points="797.79,-398.77 808.35,-397.96 799.59,-392 797.79,-398.77"/>
</g>
<!-- executeBegin -->
<g id="node12" class="node">
<title>executeBegin</title>
<path fill="none" stroke="#1c2123" d="M315,-174.5C315,-174.5 404,-174.5 404,-174.5 410,-174.5 416,-180.5 416,-186.5 416,-186.5 416,-223.5 416,-223.5 416,-229.5 410,-235.5 404,-235.5 404,-235.5 315,-235.5 315,-235.5 309,-235.5 303,-229.5 303,-223.5 303,-223.5 303,-186.5 303,-186.5 303,-180.5 309,-174.5 315,-174.5"/>
<text text-anchor="middle" x="359.5" y="-220.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">executeBegin</text>
<polyline fill="none" stroke="#1c2123" points="303,-212.5 416,-212.5 "/>
<text text-anchor="start" x="311" y="-197.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从TSO服务获取</text>
<text text-anchor="start" x="311" y="-182.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 事务startTS</text>
</g>
<!-- executeBegin&#45;&gt;InTxn -->
<g id="edge10" class="edge">
<title>executeBegin&#45;&gt;InTxn</title>
<path fill="none" stroke="#666666" d="M416.17,-178.44C436.83,-168.58 459.69,-157.67 478.06,-148.91"/>
<polygon fill="#666666" stroke="#666666" points="479.7,-152 487.22,-144.54 476.69,-145.68 479.7,-152"/>
</g>
<!-- executeRollback -->
<g id="node13" class="node">
<title>executeRollback</title>
<path fill="none" stroke="#1c2123" d="M401,-290C401,-290 318,-290 318,-290 312,-290 306,-284 306,-278 306,-278 306,-266 306,-266 306,-260 312,-254 318,-254 318,-254 401,-254 401,-254 407,-254 413,-260 413,-266 413,-266 413,-278 413,-278 413,-284 407,-290 401,-290"/>
<text text-anchor="middle" x="359.5" y="-268.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">executeRollback</text>
</g>
<!-- executeRollback&#45;&gt;txn_Rollback -->
<g id="edge11" class="edge">
<title>executeRollback&#45;&gt;txn_Rollback</title>
<path fill="none" stroke="#666666" d="M391.12,-290.17C411.24,-302.09 438.17,-318.01 462,-332 465.82,-334.24 469.8,-336.57 473.78,-338.9"/>
<polygon fill="#666666" stroke="#666666" points="472.03,-341.93 482.44,-343.95 475.56,-335.88 472.03,-341.93"/>
</g>
<!-- executeCommit -->
<g id="node14" class="node">
<title>executeCommit</title>
<path fill="none" stroke="#1c2123" d="M297,-109C297,-109 422,-109 422,-109 428,-109 434,-115 434,-121 434,-121 434,-143 434,-143 434,-149 428,-155 422,-155 422,-155 297,-155 297,-155 291,-155 285,-149 285,-143 285,-143 285,-121 285,-121 285,-115 291,-109 297,-109"/>
<text text-anchor="middle" x="359.5" y="-139.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">executeCommit</text>
<polyline fill="none" stroke="#1c2123" points="285,-132 434,-132 "/>
<text text-anchor="start" x="293" y="-116.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">执行完后InTxn为False</text>
</g>
<!-- executeCommit&#45;&gt;InTxn -->
<g id="edge14" class="edge">
<title>executeCommit&#45;&gt;InTxn</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M434.31,-132C449.12,-132 464.06,-132 476.91,-132"/>
<polygon fill="green" stroke="green" points="477.17,-135.5 487.17,-132 477.17,-128.5 477.17,-135.5"/>
</g>
<!-- runStmt -->
<g id="node15" class="node">
<title>runStmt</title>
<path fill="none" stroke="#1c2123" d="M88.5,-90C88.5,-90 51.5,-90 51.5,-90 45.5,-90 39.5,-84 39.5,-78 39.5,-78 39.5,-66 39.5,-66 39.5,-60 45.5,-54 51.5,-54 51.5,-54 88.5,-54 88.5,-54 94.5,-54 100.5,-60 100.5,-66 100.5,-66 100.5,-78 100.5,-78 100.5,-84 94.5,-90 88.5,-90"/>
<text text-anchor="middle" x="70" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">runStmt</text>
</g>
<!-- runStmt&#45;&gt;finishStmt -->
<g id="edge12" class="edge">
<title>runStmt&#45;&gt;finishStmt</title>
<path fill="none" stroke="#666666" d="M100.8,-66.27C119.71,-62.64 144.56,-57.86 165.92,-53.76"/>
<polygon fill="#666666" stroke="#666666" points="166.61,-57.19 175.77,-51.87 165.29,-50.32 166.61,-57.19"/>
</g>
<!-- execStmtResult_Close -->
<g id="node16" class="node">
<title>execStmtResult_Close</title>
<path fill="none" stroke="#1c2123" d="M128,-36C128,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 128,0 128,0 134,0 140,-6 140,-12 140,-12 140,-24 140,-24 140,-30 134,-36 128,-36"/>
<text text-anchor="middle" x="70" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">execStmtResult_Close</text>
</g>
<!-- execStmtResult_Close&#45;&gt;finishStmt -->
<g id="edge13" class="edge">
<title>execStmtResult_Close&#45;&gt;finishStmt</title>
<path fill="none" stroke="#666666" d="M140.02,-31.26C148.7,-32.93 157.41,-34.61 165.62,-36.18"/>
<polygon fill="#666666" stroke="#666666" points="165.22,-39.67 175.7,-38.12 166.54,-32.8 165.22,-39.67"/>
</g>
<!-- doCommit -->
<g id="node18" class="node">
<title>doCommit</title>
<path fill="none" stroke="#1c2123" d="M1068,-150C1068,-150 1016,-150 1016,-150 1010,-150 1004,-144 1004,-138 1004,-138 1004,-126 1004,-126 1004,-120 1010,-114 1016,-114 1016,-114 1068,-114 1068,-114 1074,-114 1080,-120 1080,-126 1080,-126 1080,-138 1080,-138 1080,-144 1074,-150 1068,-150"/>
<text text-anchor="middle" x="1042" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">doCommit</text>
</g>
<!-- doCommitWitRetry&#45;&gt;doCommit -->
<g id="edge16" class="edge">
<title>doCommitWitRetry&#45;&gt;doCommit</title>
<path fill="none" stroke="#666666" d="M940.09,-132C957.82,-132 976.85,-132 993.56,-132"/>
<polygon fill="#666666" stroke="#666666" points="993.63,-135.5 1003.63,-132 993.63,-128.5 993.63,-135.5"/>
</g>
<!-- doCommit&#45;&gt;txn_Commit -->
<g id="edge17" class="edge">
<title>doCommit&#45;&gt;txn_Commit</title>
<path fill="none" stroke="#666666" d="M1052.99,-150.13C1074.93,-189.96 1127.59,-285.56 1155.28,-335.84"/>
<polygon fill="#666666" stroke="#666666" points="1152.26,-337.61 1160.15,-344.68 1158.39,-334.23 1152.26,-337.61"/>
</g>
</g>
</svg>
