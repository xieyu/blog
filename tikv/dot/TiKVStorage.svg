<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: TiKVStorage Pages: 1 -->
<svg width="1192pt" height="365pt"
 viewBox="0.00 0.00 1192.00 364.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 360.5)">
<title>TiKVStorage</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-360.5 1188,-360.5 1188,4 -4,4"/>
<!-- TiKVStorage -->
<g id="node1" class="node">
<title>TiKVStorage</title>
<path fill="none" stroke="#1c2123" d="M12,-49C12,-49 170,-49 170,-49 176,-49 182,-55 182,-61 182,-61 182,-129 182,-129 182,-135 176,-141 170,-141 170,-141 12,-141 12,-141 6,-141 0,-135 0,-129 0,-129 0,-61 0,-61 0,-55 6,-49 12,-49"/>
<text text-anchor="middle" x="91" y="-125.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">TiKVStorage</text>
<polyline fill="none" stroke="#1c2123" points="0,-118 182,-118 "/>
<text text-anchor="start" x="8" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">store: S,</text>
<polyline fill="none" stroke="#1c2123" points="0,-95 182,-95 "/>
<text text-anchor="start" x="8" y="-79.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">scanner: Option&lt;S::Scanner&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-72 182,-72 "/>
<text text-anchor="start" x="8" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">cf_stats_backlog: Statistics,</text>
</g>
<!-- Store -->
<g id="node2" class="node">
<title>Store</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M230,-147C230,-147 478,-147 478,-147 484,-147 490,-153 490,-159 490,-159 490,-311 490,-311 490,-317 484,-323 478,-323 478,-323 230,-323 230,-323 224,-323 218,-317 218,-311 218,-311 218,-159 218,-159 218,-153 224,-147 230,-147"/>
<text text-anchor="middle" x="354" y="-307.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">trait Store</text>
<polyline fill="none" stroke="#8a8898" points="218,-300 490,-300 "/>
<text text-anchor="start" x="226" y="-284.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn get(&amp;self, key: &amp;Key,</text>
<text text-anchor="start" x="226" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> statistics: &amp;mut Statistics)</text>
<polyline fill="none" stroke="#8a8898" points="218,-262 490,-262 "/>
<text text-anchor="start" x="226" y="-246.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn incremental_get(&amp;mut self, key: &amp;Key) </text>
<polyline fill="none" stroke="#8a8898" points="218,-239 490,-239 "/>
<text text-anchor="start" x="226" y="-223.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn incremental_get_take_statistics(&amp;mut self) </text>
<polyline fill="none" stroke="#8a8898" points="218,-216 490,-216 "/>
<text text-anchor="start" x="226" y="-200.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn incremental_get_met_newer_ts_data(&amp;self)</text>
<polyline fill="none" stroke="#8a8898" points="218,-193 490,-193 "/>
<text text-anchor="start" x="226" y="-177.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn batch_get(</text>
<polyline fill="none" stroke="#8a8898" points="218,-170 490,-170 "/>
<text text-anchor="start" x="226" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">fn scanner(</text>
</g>
<!-- TiKVStorage&#45;&gt;Store -->
<g id="edge1" class="edge">
<title>TiKVStorage&#45;&gt;Store</title>
<path fill="none" stroke="#666666" d="M177.82,-141.04C187.92,-146.45 198.43,-152.09 209.05,-157.79"/>
<polygon fill="#666666" stroke="#666666" points="207.53,-160.94 218,-162.58 210.84,-154.77 207.53,-160.94"/>
</g>
<!-- Scanner -->
<g id="node3" class="node">
<title>Scanner</title>
<path fill="none" stroke="#8a8898" d="M562,-83.5C562,-83.5 761,-83.5 761,-83.5 767,-83.5 773,-89.5 773,-95.5 773,-95.5 773,-140.5 773,-140.5 773,-146.5 767,-152.5 761,-152.5 761,-152.5 562,-152.5 562,-152.5 556,-152.5 550,-146.5 550,-140.5 550,-140.5 550,-95.5 550,-95.5 550,-89.5 556,-83.5 562,-83.5"/>
<text text-anchor="middle" x="661.5" y="-137.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Scanner</text>
<polyline fill="none" stroke="#8a8898" points="550,-129.5 773,-129.5 "/>
<text text-anchor="start" x="558" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Forward(ForwardKvScanner&lt;S&gt;),</text>
<polyline fill="none" stroke="#8a8898" points="550,-106.5 773,-106.5 "/>
<text text-anchor="start" x="558" y="-91.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Backward(BackwardKvScanner&lt;S&gt;),</text>
</g>
<!-- TiKVStorage&#45;&gt;Scanner -->
<g id="edge2" class="edge">
<title>TiKVStorage&#45;&gt;Scanner</title>
<path fill="none" stroke="#666666" d="M182.08,-98.64C278.68,-102.55 432.6,-108.78 539.67,-113.11"/>
<polygon fill="#666666" stroke="#666666" points="539.75,-116.62 549.88,-113.52 540.03,-109.62 539.75,-116.62"/>
</g>
<!-- Statistics -->
<g id="node4" class="node">
<title>Statistics</title>
<path fill="none" stroke="#1c2123" d="M374.5,-90C374.5,-90 333.5,-90 333.5,-90 327.5,-90 321.5,-84 321.5,-78 321.5,-78 321.5,-66 321.5,-66 321.5,-60 327.5,-54 333.5,-54 333.5,-54 374.5,-54 374.5,-54 380.5,-54 386.5,-60 386.5,-66 386.5,-66 386.5,-78 386.5,-78 386.5,-84 380.5,-90 374.5,-90"/>
<text text-anchor="middle" x="354" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Statistics</text>
</g>
<!-- TiKVStorage&#45;&gt;Statistics -->
<g id="edge3" class="edge">
<title>TiKVStorage&#45;&gt;Statistics</title>
<path fill="none" stroke="#666666" d="M182.19,-87.05C225.99,-83.19 276.5,-78.74 311.17,-75.69"/>
<polygon fill="#666666" stroke="#666666" points="311.75,-79.15 321.4,-74.78 311.13,-72.18 311.75,-79.15"/>
</g>
<!-- NewerTsCheckState -->
<g id="node5" class="node">
<title>NewerTsCheckState</title>
<path fill="none" stroke="#1c2123" d="M406,-36C406,-36 302,-36 302,-36 296,-36 290,-30 290,-24 290,-24 290,-12 290,-12 290,-6 296,0 302,0 302,0 406,0 406,0 412,0 418,-6 418,-12 418,-12 418,-24 418,-24 418,-30 412,-36 406,-36"/>
<text text-anchor="middle" x="354" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">NewerTsCheckState</text>
</g>
<!-- TiKVStorage&#45;&gt;NewerTsCheckState -->
<g id="edge4" class="edge">
<title>TiKVStorage&#45;&gt;NewerTsCheckState</title>
<path fill="none" stroke="#666666" d="M182.16,-56.96C194.1,-52.6 206.26,-48.47 218,-45 237.8,-39.14 259.62,-34.16 279.83,-30.14"/>
<polygon fill="#666666" stroke="#666666" points="280.77,-33.52 289.92,-28.18 279.43,-26.65 280.77,-33.52"/>
</g>
<!-- Store&#45;&gt;Scanner -->
<g id="edge6" class="edge">
<title>Store:scanner&#45;&gt;Scanner</title>
<path fill="none" stroke="#666666" d="M490,-158C506.24,-158 523.13,-156.26 539.68,-153.5"/>
<polygon fill="#666666" stroke="#666666" points="540.71,-156.87 549.94,-151.66 539.48,-149.98 540.71,-156.87"/>
</g>
<!-- SnapshotStore -->
<g id="node6" class="node">
<title>SnapshotStore</title>
<path fill="none" stroke="#1c2123" d="M538,-172C538,-172 785,-172 785,-172 791,-172 797,-178 797,-184 797,-184 797,-344 797,-344 797,-350 791,-356 785,-356 785,-356 538,-356 538,-356 532,-356 526,-350 526,-344 526,-344 526,-184 526,-184 526,-178 532,-172 538,-172"/>
<text text-anchor="middle" x="661.5" y="-340.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotStore</text>
<polyline fill="none" stroke="#1c2123" points="526,-333 797,-333 "/>
<text text-anchor="start" x="534" y="-317.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">snapshot: S,</text>
<polyline fill="none" stroke="#1c2123" points="526,-310 797,-310 "/>
<text text-anchor="start" x="534" y="-294.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">start_ts: TimeStamp,</text>
<polyline fill="none" stroke="#1c2123" points="526,-287 797,-287 "/>
<text text-anchor="start" x="534" y="-271.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">isolation_level: IsolationLevel,</text>
<polyline fill="none" stroke="#1c2123" points="526,-264 797,-264 "/>
<text text-anchor="start" x="534" y="-248.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">fill_cache: bool,</text>
<polyline fill="none" stroke="#1c2123" points="526,-241 797,-241 "/>
<text text-anchor="start" x="534" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bypass_locks: TsSet,</text>
<polyline fill="none" stroke="#1c2123" points="526,-218 797,-218 "/>
<text text-anchor="start" x="534" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_has_newer_ts_data: bool,</text>
<polyline fill="none" stroke="#1c2123" points="526,-195 797,-195 "/>
<text text-anchor="start" x="534" y="-179.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">point_getter_cache: Option&lt;PointGetter&lt;S&gt;&gt;,</text>
</g>
<!-- Store&#45;&gt;SnapshotStore -->
<g id="edge5" class="edge">
<title>Store&#45;&gt;SnapshotStore</title>
<path fill="none" stroke="#666666" d="M490.33,-247.85C498.82,-248.65 507.38,-249.46 515.91,-250.27"/>
<polygon fill="#666666" stroke="#666666" points="515.61,-253.76 525.9,-251.22 516.27,-246.79 515.61,-253.76"/>
</g>
<!-- ForwardKvScanner -->
<g id="node11" class="node">
<title>ForwardKvScanner</title>
<path fill="none" stroke="#1c2123" d="M947.5,-155C947.5,-155 849.5,-155 849.5,-155 843.5,-155 837.5,-149 837.5,-143 837.5,-143 837.5,-131 837.5,-131 837.5,-125 843.5,-119 849.5,-119 849.5,-119 947.5,-119 947.5,-119 953.5,-119 959.5,-125 959.5,-131 959.5,-131 959.5,-143 959.5,-143 959.5,-149 953.5,-155 947.5,-155"/>
<text text-anchor="middle" x="898.5" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ForwardKvScanner</text>
</g>
<!-- Scanner&#45;&gt;ForwardKvScanner -->
<g id="edge12" class="edge">
<title>Scanner&#45;&gt;ForwardKvScanner</title>
<path fill="none" stroke="#666666" d="M773.12,-126.94C791.46,-128.43 810.02,-129.93 827.01,-131.3"/>
<polygon fill="#666666" stroke="#666666" points="827.12,-134.82 837.37,-132.14 827.68,-127.84 827.12,-134.82"/>
</g>
<!-- BackwardKvScanner -->
<g id="node12" class="node">
<title>BackwardKvScanner</title>
<path fill="none" stroke="#1c2123" d="M952,-101C952,-101 845,-101 845,-101 839,-101 833,-95 833,-89 833,-89 833,-77 833,-77 833,-71 839,-65 845,-65 845,-65 952,-65 952,-65 958,-65 964,-71 964,-77 964,-77 964,-89 964,-89 964,-95 958,-101 952,-101"/>
<text text-anchor="middle" x="898.5" y="-79.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BackwardKvScanner</text>
</g>
<!-- Scanner&#45;&gt;BackwardKvScanner -->
<g id="edge13" class="edge">
<title>Scanner&#45;&gt;BackwardKvScanner</title>
<path fill="none" stroke="#666666" d="M773.12,-101.52C789.92,-99.02 806.9,-96.49 822.69,-94.14"/>
<polygon fill="#666666" stroke="#666666" points="823.51,-97.56 832.89,-92.62 822.48,-90.63 823.51,-97.56"/>
</g>
<!-- Snapshot -->
<g id="node7" class="node">
<title>Snapshot</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1012,-164.5C1012,-164.5 1172,-164.5 1172,-164.5 1178,-164.5 1184,-170.5 1184,-176.5 1184,-176.5 1184,-251.5 1184,-251.5 1184,-257.5 1178,-263.5 1172,-263.5 1172,-263.5 1012,-263.5 1012,-263.5 1006,-263.5 1000,-257.5 1000,-251.5 1000,-251.5 1000,-176.5 1000,-176.5 1000,-170.5 1006,-164.5 1012,-164.5"/>
<text text-anchor="middle" x="1092" y="-248.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">trait Snapshot</text>
<polyline fill="none" stroke="#8a8898" points="1000,-240.5 1184,-240.5 "/>
<text text-anchor="start" x="1008" y="-225.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">A Snapshot is a consistent</text>
<text text-anchor="start" x="1008" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> view of the underlying engine</text>
<text text-anchor="start" x="1008" y="-195.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> at a given point in time.</text>
<polyline fill="none" stroke="#8a8898" points="1000,-187.5 1184,-187.5 "/>
<text text-anchor="middle" x="1092" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- SnapshotStore&#45;&gt;Snapshot -->
<g id="edge7" class="edge">
<title>SnapshotStore&#45;&gt;Snapshot</title>
<path fill="none" stroke="#666666" d="M797.37,-281.26C849.9,-284.44 910.28,-283.69 964,-272 972.78,-270.09 981.69,-267.51 990.49,-264.51"/>
<polygon fill="#666666" stroke="#666666" points="991.77,-267.77 1000,-261.09 989.4,-261.18 991.77,-267.77"/>
</g>
<!-- IsolationLevel -->
<g id="node8" class="node">
<title>IsolationLevel</title>
<path fill="none" stroke="#1c2123" d="M934,-209C934,-209 863,-209 863,-209 857,-209 851,-203 851,-197 851,-197 851,-185 851,-185 851,-179 857,-173 863,-173 863,-173 934,-173 934,-173 940,-173 946,-179 946,-185 946,-185 946,-197 946,-197 946,-203 940,-209 934,-209"/>
<text text-anchor="middle" x="898.5" y="-187.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">IsolationLevel</text>
</g>
<!-- SnapshotStore&#45;&gt;IsolationLevel -->
<g id="edge8" class="edge">
<title>SnapshotStore&#45;&gt;IsolationLevel</title>
<path fill="none" stroke="#666666" d="M797.16,-222.17C812.67,-217.35 827.78,-212.66 841.36,-208.44"/>
<polygon fill="#666666" stroke="#666666" points="842.46,-211.76 850.97,-205.45 840.38,-205.08 842.46,-211.76"/>
</g>
<!-- TsSet -->
<g id="node9" class="node">
<title>TsSet</title>
<path fill="none" stroke="#1c2123" d="M913.5,-263C913.5,-263 883.5,-263 883.5,-263 877.5,-263 871.5,-257 871.5,-251 871.5,-251 871.5,-239 871.5,-239 871.5,-233 877.5,-227 883.5,-227 883.5,-227 913.5,-227 913.5,-227 919.5,-227 925.5,-233 925.5,-239 925.5,-239 925.5,-251 925.5,-251 925.5,-257 919.5,-263 913.5,-263"/>
<text text-anchor="middle" x="898.5" y="-241.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TsSet</text>
</g>
<!-- SnapshotStore&#45;&gt;TsSet -->
<g id="edge9" class="edge">
<title>SnapshotStore&#45;&gt;TsSet</title>
<path fill="none" stroke="#666666" d="M797.16,-253.11C820.71,-251.21 843.32,-249.38 861.09,-247.94"/>
<polygon fill="#666666" stroke="#666666" points="861.55,-251.42 871.24,-247.12 860.99,-244.44 861.55,-251.42"/>
</g>
<!-- PointGetter -->
<g id="node10" class="node">
<title>PointGetter</title>
<path fill="none" stroke="#1c2123" d="M926,-355C926,-355 871,-355 871,-355 865,-355 859,-349 859,-343 859,-343 859,-331 859,-331 859,-325 865,-319 871,-319 871,-319 926,-319 926,-319 932,-319 938,-325 938,-331 938,-331 938,-343 938,-343 938,-349 932,-355 926,-355"/>
<text text-anchor="middle" x="898.5" y="-333.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PointGetter</text>
</g>
<!-- SnapshotStore&#45;&gt;PointGetter -->
<g id="edge10" class="edge">
<title>SnapshotStore&#45;&gt;PointGetter</title>
<path fill="none" stroke="#666666" d="M797.16,-305.83C815.66,-311.58 833.59,-317.15 849.05,-321.95"/>
<polygon fill="#666666" stroke="#666666" points="848.24,-325.36 858.83,-324.99 850.32,-318.68 848.24,-325.36"/>
</g>
<!-- PointGetter&#45;&gt;Snapshot -->
<g id="edge11" class="edge">
<title>PointGetter&#45;&gt;Snapshot</title>
<path fill="none" stroke="#666666" d="M938.24,-319.04C946.86,-314.7 955.86,-309.89 964,-305 981.88,-294.25 1000.48,-281.75 1017.76,-269.52"/>
<polygon fill="#666666" stroke="#666666" points="1020.02,-272.2 1026.12,-263.54 1015.95,-266.51 1020.02,-272.2"/>
</g>
<!-- ForwardKvScanner&#45;&gt;Snapshot -->
<g id="edge14" class="edge">
<title>ForwardKvScanner&#45;&gt;Snapshot</title>
<path fill="none" stroke="#666666" d="M944.4,-155.05C958.26,-160.63 974.13,-167.01 990.18,-173.46"/>
<polygon fill="#666666" stroke="#666666" points="989.06,-176.78 999.64,-177.27 991.67,-170.29 989.06,-176.78"/>
</g>
<!-- BackwardKvScanner&#45;&gt;Snapshot -->
<g id="edge15" class="edge">
<title>BackwardKvScanner&#45;&gt;Snapshot</title>
<path fill="none" stroke="#666666" d="M947.13,-101.08C952.94,-103.82 958.69,-106.81 964,-110 986.75,-123.68 1009.75,-141.17 1029.82,-157.89"/>
<polygon fill="#666666" stroke="#666666" points="1027.75,-160.72 1037.65,-164.49 1032.26,-155.37 1027.75,-160.72"/>
</g>
</g>
</svg>
