<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: apply_snap Pages: 1 -->
<svg width="1779pt" height="622pt"
 viewBox="0.00 0.00 1779.00 622.14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 618.14)">
<title>apply_snap</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-618.14 1775,-618.14 1775,4 -4,4"/>
<!-- SnapContext_apply_snap -->
<g id="node1" class="node">
<title>SnapContext_apply_snap</title>
<path fill="none" stroke="#1c2123" d="M12,-263C12,-263 74,-263 74,-263 80,-263 86,-269 86,-275 86,-275 86,-289 86,-289 86,-295 80,-301 74,-301 74,-301 12,-301 12,-301 6,-301 0,-295 0,-289 0,-289 0,-275 0,-275 0,-269 6,-263 12,-263"/>
<text text-anchor="start" x="8" y="-285.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="8" y="-270.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> apply_snap</text>
</g>
<!-- enc_start_key -->
<g id="node2" class="node">
<title>enc_start_key</title>
<path fill="none" stroke="#1c2123" d="M592,-497C592,-497 524,-497 524,-497 518,-497 512,-491 512,-485 512,-485 512,-473 512,-473 512,-467 518,-461 524,-461 524,-461 592,-461 592,-461 598,-461 604,-467 604,-473 604,-473 604,-485 604,-485 604,-491 598,-497 592,-497"/>
<text text-anchor="middle" x="558" y="-475.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">enc_start_key</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;enc_start_key -->
<g id="edge1" class="edge">
<title>SnapContext_apply_snap&#45;&gt;enc_start_key</title>
<path fill="none" stroke="#666666" d="M44.7,-301.29C47.39,-343.1 60.3,-441.69 122,-484 237.42,-563.16 413.66,-525.1 502.21,-498.04"/>
<polygon fill="#666666" stroke="#666666" points="503.28,-501.37 511.79,-495.05 501.2,-494.69 503.28,-501.37"/>
</g>
<!-- enc_end_key -->
<g id="node3" class="node">
<title>enc_end_key</title>
<path fill="none" stroke="#1c2123" d="M590,-432C590,-432 526,-432 526,-432 520,-432 514,-426 514,-420 514,-420 514,-408 514,-408 514,-402 520,-396 526,-396 526,-396 590,-396 590,-396 596,-396 602,-402 602,-408 602,-408 602,-420 602,-420 602,-426 596,-432 590,-432"/>
<text text-anchor="middle" x="558" y="-410.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">enc_end_key</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;enc_end_key -->
<g id="edge2" class="edge">
<title>SnapContext_apply_snap&#45;&gt;enc_end_key</title>
<path fill="none" stroke="#666666" d="M46.26,-301.27C51.72,-337.99 69.33,-417.3 122,-451 242.8,-528.29 422.66,-471.12 508.29,-436.03"/>
<polygon fill="#666666" stroke="#666666" points="509.88,-439.15 517.76,-432.08 507.18,-432.69 509.88,-439.15"/>
</g>
<!-- SnapContext_cleanup_overlap_ranges -->
<g id="node4" class="node">
<title>SnapContext_cleanup_overlap_ranges</title>
<path fill="none" stroke="#1c2123" d="M697,-363C697,-363 842,-363 842,-363 848,-363 854,-369 854,-375 854,-375 854,-427 854,-427 854,-433 848,-439 842,-439 842,-439 697,-439 697,-439 691,-439 685,-433 685,-427 685,-427 685,-375 685,-375 685,-369 691,-363 697,-363"/>
<text text-anchor="start" x="693" y="-423.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="693" y="-408.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> cleanup_overlap_ranges</text>
<polyline fill="none" stroke="#1c2123" points="685,-401 854,-401 "/>
<text text-anchor="start" x="693" y="-385.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Gets the overlapping </text>
<text text-anchor="start" x="693" y="-370.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ranges and cleans them up.</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;SnapContext_cleanup_overlap_ranges -->
<g id="edge3" class="edge">
<title>SnapContext_apply_snap&#45;&gt;SnapContext_cleanup_overlap_ranges</title>
<path fill="none" stroke="#666666" d="M86.04,-280.24C161.59,-277.88 325.02,-276.5 460,-301 534.14,-314.46 615.08,-341.18 675.45,-363.61"/>
<polygon fill="#666666" stroke="#666666" points="674.36,-366.94 684.96,-367.17 676.82,-360.39 674.36,-366.94"/>
</g>
<!-- SnapContext_delete_all_in_range -->
<g id="node5" class="node">
<title>SnapContext_delete_all_in_range</title>
<path fill="none" stroke="#1c2123" d="M943.5,-468C943.5,-468 1046.5,-468 1046.5,-468 1052.5,-468 1058.5,-474 1058.5,-480 1058.5,-480 1058.5,-494 1058.5,-494 1058.5,-500 1052.5,-506 1046.5,-506 1046.5,-506 943.5,-506 943.5,-506 937.5,-506 931.5,-500 931.5,-494 931.5,-494 931.5,-480 931.5,-480 931.5,-474 937.5,-468 943.5,-468"/>
<text text-anchor="start" x="939.5" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="939.5" y="-475.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> delete_all_in_range</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;SnapContext_delete_all_in_range -->
<g id="edge4" class="edge">
<title>SnapContext_apply_snap&#45;&gt;SnapContext_delete_all_in_range</title>
<path fill="none" stroke="#666666" d="M43.43,-301.1C43.19,-347.99 49.93,-468.71 122,-521 376.68,-705.79 792.06,-568.36 939.77,-509.92"/>
<polygon fill="#666666" stroke="#666666" points="941.12,-513.15 949.11,-506.19 938.52,-506.65 941.12,-513.15"/>
</g>
<!-- check_abort -->
<g id="node6" class="node">
<title>check_abort</title>
<path fill="none" stroke="#1c2123" d="M320.5,-346C320.5,-346 261.5,-346 261.5,-346 255.5,-346 249.5,-340 249.5,-334 249.5,-334 249.5,-322 249.5,-322 249.5,-316 255.5,-310 261.5,-310 261.5,-310 320.5,-310 320.5,-310 326.5,-310 332.5,-316 332.5,-322 332.5,-322 332.5,-334 332.5,-334 332.5,-340 326.5,-346 320.5,-346"/>
<text text-anchor="middle" x="291" y="-324.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_abort</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;check_abort -->
<g id="edge5" class="edge">
<title>SnapContext_apply_snap&#45;&gt;check_abort</title>
<path fill="none" stroke="#666666" d="M86.01,-289.86C128.49,-297.8 194.18,-310.08 239.48,-318.55"/>
<polygon fill="#666666" stroke="#666666" points="238.92,-322.01 249.39,-320.41 240.2,-315.13 238.92,-322.01"/>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_region_key -->
<g id="node7" class="node">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_region_key</title>
<path fill="none" stroke="#1c2123" d="M195.5,-365C195.5,-365 386.5,-365 386.5,-365 392.5,-365 398.5,-371 398.5,-377 398.5,-377 398.5,-429 398.5,-429 398.5,-435 392.5,-441 386.5,-441 386.5,-441 195.5,-441 195.5,-441 189.5,-441 183.5,-435 183.5,-429 183.5,-429 183.5,-377 183.5,-377 183.5,-371 189.5,-365 195.5,-365"/>
<text text-anchor="start" x="191.5" y="-425.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="191.5" y="-410.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> EK</text>
<text text-anchor="start" x="191.5" y="-395.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_msg_cf(CF_RAFT,region_key)</text>
<polyline fill="none" stroke="#1c2123" points="183.5,-388 398.5,-388 "/>
<text text-anchor="start" x="191.5" y="-372.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">获取RegionLocalState</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;SnapContext_EK_get_msg_cf_CF_RAFT_region_key -->
<g id="edge6" class="edge">
<title>SnapContext_apply_snap&#45;&gt;SnapContext_EK_get_msg_cf_CF_RAFT_region_key</title>
<path fill="none" stroke="#666666" d="M59.73,-301.15C74.27,-317.67 97.31,-341.02 122,-355 137.92,-364.02 155.67,-371.45 173.5,-377.55"/>
<polygon fill="#666666" stroke="#666666" points="172.81,-381 183.4,-380.8 174.99,-374.35 172.81,-381"/>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_state_key -->
<g id="node8" class="node">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_state_key</title>
<path fill="none" stroke="#1c2123" d="M200.5,-185C200.5,-185 381.5,-185 381.5,-185 387.5,-185 393.5,-191 393.5,-197 393.5,-197 393.5,-241 393.5,-241 393.5,-247 387.5,-253 381.5,-253 381.5,-253 200.5,-253 200.5,-253 194.5,-253 188.5,-247 188.5,-241 188.5,-241 188.5,-197 188.5,-197 188.5,-191 194.5,-185 200.5,-185"/>
<text text-anchor="start" x="196.5" y="-237.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="196.5" y="-222.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> EK</text>
<text text-anchor="start" x="196.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_msg_cf(CF_RAFT,state_key)</text>
<text text-anchor="start" x="196.5" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取RaftApplyState</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;SnapContext_EK_get_msg_cf_CF_RAFT_state_key -->
<g id="edge7" class="edge">
<title>SnapContext_apply_snap&#45;&gt;SnapContext_EK_get_msg_cf_CF_RAFT_state_key</title>
<path fill="none" stroke="#666666" d="M86.01,-271.24C111.61,-264.68 145.65,-255.97 178.56,-247.54"/>
<polygon fill="#666666" stroke="#666666" points="179.45,-250.92 188.27,-245.05 177.72,-244.14 179.45,-250.92"/>
</g>
<!-- SnapManager_get_snapshot_for_applying_to_engine -->
<g id="node9" class="node">
<title>SnapManager_get_snapshot_for_applying_to_engine</title>
<path fill="none" stroke="#1c2123" d="M668,-212C668,-212 871,-212 871,-212 877,-212 883,-218 883,-224 883,-224 883,-238 883,-238 883,-244 877,-250 871,-250 871,-250 668,-250 668,-250 662,-250 656,-244 656,-238 656,-238 656,-224 656,-224 656,-218 662,-212 668,-212"/>
<text text-anchor="start" x="664" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapManager</text>
<text text-anchor="start" x="664" y="-219.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_snapshot_for_applying_to_engine</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;SnapManager_get_snapshot_for_applying_to_engine -->
<g id="edge8" class="edge">
<title>SnapContext_apply_snap&#45;&gt;SnapManager_get_snapshot_for_applying_to_engine</title>
<path fill="none" stroke="#666666" d="M51.34,-262.99C62.33,-237.53 85.73,-193.44 122,-175 220.64,-124.84 511.13,-155.15 620,-175 654.7,-181.33 691.84,-195.33 720.29,-207.75"/>
<polygon fill="#666666" stroke="#666666" points="719.03,-211.02 729.59,-211.89 721.88,-204.63 719.03,-211.02"/>
</g>
<!-- Snap_apply -->
<g id="node10" class="node">
<title>Snap_apply</title>
<path fill="none" stroke="#1c2123" d="M1191,-202C1191,-202 1135,-202 1135,-202 1129,-202 1123,-196 1123,-190 1123,-190 1123,-178 1123,-178 1123,-172 1129,-166 1135,-166 1135,-166 1191,-166 1191,-166 1197,-166 1203,-172 1203,-178 1203,-178 1203,-190 1203,-190 1203,-196 1197,-202 1191,-202"/>
<text text-anchor="middle" x="1163" y="-180.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Snap_apply</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;Snap_apply -->
<g id="edge9" class="edge">
<title>SnapContext_apply_snap&#45;&gt;Snap_apply</title>
<path fill="none" stroke="#666666" d="M48.57,-262.77C57.08,-231.67 78.58,-171.1 122,-144 204.15,-92.72 460.16,-118 557,-118 557,-118 557,-118 770.5,-118 904.32,-118 942.02,-101.31 1071,-137 1089.77,-142.19 1109.13,-151.54 1125.14,-160.54"/>
<polygon fill="#666666" stroke="#666666" points="1123.75,-163.78 1134.16,-165.77 1127.26,-157.73 1123.75,-163.78"/>
</g>
<!-- region_state_set_state_PeerState_Normal -->
<g id="node11" class="node">
<title>region_state_set_state_PeerState_Normal</title>
<path fill="none" stroke="#1c2123" d="M400,-90C400,-90 182,-90 182,-90 176,-90 170,-84 170,-78 170,-78 170,-66 170,-66 170,-60 176,-54 182,-54 182,-54 400,-54 400,-54 406,-54 412,-60 412,-66 412,-66 412,-78 412,-78 412,-84 406,-90 400,-90"/>
<text text-anchor="middle" x="291" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">region_state_set_state_PeerState_Normal</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;region_state_set_state_PeerState_Normal -->
<g id="edge10" class="edge">
<title>SnapContext_apply_snap&#45;&gt;region_state_set_state_PeerState_Normal</title>
<path fill="none" stroke="#666666" d="M46.5,-262.91C52.41,-225.98 70.82,-144.8 122,-104 133.32,-94.98 146.42,-88.23 160.21,-83.22"/>
<polygon fill="#666666" stroke="#666666" points="161.47,-86.49 169.86,-80.02 159.26,-79.85 161.47,-86.49"/>
</g>
<!-- write_batch_delete_cf_CF_RAFT_snapshot_raft_state_key -->
<g id="node12" class="node">
<title>write_batch_delete_cf_CF_RAFT_snapshot_raft_state_key</title>
<path fill="none" stroke="#1c2123" d="M448,-36C448,-36 134,-36 134,-36 128,-36 122,-30 122,-24 122,-24 122,-12 122,-12 122,-6 128,0 134,0 134,0 448,0 448,0 454,0 460,-6 460,-12 460,-12 460,-24 460,-24 460,-30 454,-36 448,-36"/>
<text text-anchor="middle" x="291" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_batch_delete_cf_CF_RAFT_snapshot_raft_state_key</text>
</g>
<!-- SnapContext_apply_snap&#45;&gt;write_batch_delete_cf_CF_RAFT_snapshot_raft_state_key -->
<g id="edge11" class="edge">
<title>SnapContext_apply_snap&#45;&gt;write_batch_delete_cf_CF_RAFT_snapshot_raft_state_key</title>
<path fill="none" stroke="#666666" d="M44.05,-262.73C45.3,-217.08 55.26,-101.92 122,-45 123.19,-43.98 124.41,-42.99 125.65,-42.04"/>
<polygon fill="#666666" stroke="#666666" points="127.91,-44.73 134.12,-36.14 123.91,-38.98 127.91,-44.73"/>
</g>
<!-- enc_start_key&#45;&gt;SnapContext_cleanup_overlap_ranges -->
<g id="edge28" class="edge">
<title>enc_start_key&#45;&gt;SnapContext_cleanup_overlap_ranges</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M604.2,-462.17C625.11,-454.39 650.75,-444.84 675.51,-435.62"/>
<polygon fill="green" stroke="green" points="676.79,-438.88 684.94,-432.11 674.35,-432.32 676.79,-438.88"/>
</g>
<!-- enc_start_key&#45;&gt;SnapContext_delete_all_in_range -->
<g id="edge29" class="edge">
<title>enc_start_key&#45;&gt;SnapContext_delete_all_in_range</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M604.4,-480.56C620.67,-481.07 639.16,-481.61 656,-482 747.38,-484.09 852.69,-485.49 921.14,-486.26"/>
<polygon fill="green" stroke="green" points="921.35,-489.76 931.39,-486.38 921.43,-482.76 921.35,-489.76"/>
</g>
<!-- enc_end_key&#45;&gt;SnapContext_cleanup_overlap_ranges -->
<g id="edge30" class="edge">
<title>enc_end_key&#45;&gt;SnapContext_cleanup_overlap_ranges</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M602.15,-411.32C623.2,-410.02 649.38,-408.39 674.71,-406.82"/>
<polygon fill="green" stroke="green" points="674.97,-410.31 684.73,-406.2 674.54,-403.32 674.97,-410.31"/>
</g>
<!-- enc_end_key&#45;&gt;SnapContext_delete_all_in_range -->
<g id="edge31" class="edge">
<title>enc_end_key&#45;&gt;SnapContext_delete_all_in_range</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M602.28,-432.07C618.83,-438.33 638.04,-444.81 656,-449 745.84,-469.95 851.91,-479.48 920.94,-483.73"/>
<polygon fill="green" stroke="green" points="921.08,-487.25 931.27,-484.34 921.5,-480.26 921.08,-487.25"/>
</g>
<!-- SnapContext_cleanup_overlap_ranges&#45;&gt;SnapContext_delete_all_in_range -->
<g id="edge32" class="edge">
<title>SnapContext_cleanup_overlap_ranges&#45;&gt;SnapContext_delete_all_in_range</title>
<path fill="none" stroke="#666666" d="M854.04,-433.15C880.97,-443.51 910.23,-454.77 935.01,-464.3"/>
<polygon fill="#666666" stroke="#666666" points="934.03,-467.67 944.62,-468 936.54,-461.14 934.03,-467.67"/>
</g>
<!-- SnapContext_EK_delete_all_in_range -->
<g id="node21" class="node">
<title>SnapContext_EK_delete_all_in_range</title>
<path fill="none" stroke="#1c2123" d="M943.5,-374.5C943.5,-374.5 1046.5,-374.5 1046.5,-374.5 1052.5,-374.5 1058.5,-380.5 1058.5,-386.5 1058.5,-386.5 1058.5,-415.5 1058.5,-415.5 1058.5,-421.5 1052.5,-427.5 1046.5,-427.5 1046.5,-427.5 943.5,-427.5 943.5,-427.5 937.5,-427.5 931.5,-421.5 931.5,-415.5 931.5,-415.5 931.5,-386.5 931.5,-386.5 931.5,-380.5 937.5,-374.5 943.5,-374.5"/>
<text text-anchor="start" x="939.5" y="-412.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="939.5" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> EK</text>
<text text-anchor="start" x="939.5" y="-382.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> delete_all_in_range</text>
</g>
<!-- SnapContext_cleanup_overlap_ranges&#45;&gt;SnapContext_EK_delete_all_in_range -->
<g id="edge33" class="edge">
<title>SnapContext_cleanup_overlap_ranges&#45;&gt;SnapContext_EK_delete_all_in_range</title>
<path fill="none" stroke="#666666" d="M854.04,-401C876.2,-401 899.94,-401 921.46,-401"/>
<polygon fill="#666666" stroke="#666666" points="921.5,-404.5 931.5,-401 921.5,-397.5 921.5,-404.5"/>
</g>
<!-- SnapContext_EK_delete_ranges_cf -->
<g id="node22" class="node">
<title>SnapContext_EK_delete_ranges_cf</title>
<path fill="none" stroke="#1c2123" d="M1119,-460.5C1119,-460.5 1207,-460.5 1207,-460.5 1213,-460.5 1219,-466.5 1219,-472.5 1219,-472.5 1219,-501.5 1219,-501.5 1219,-507.5 1213,-513.5 1207,-513.5 1207,-513.5 1119,-513.5 1119,-513.5 1113,-513.5 1107,-507.5 1107,-501.5 1107,-501.5 1107,-472.5 1107,-472.5 1107,-466.5 1113,-460.5 1119,-460.5"/>
<text text-anchor="start" x="1115" y="-498.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapContext</text>
<text text-anchor="start" x="1115" y="-483.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> EK</text>
<text text-anchor="start" x="1115" y="-468.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> delete_ranges_cf</text>
</g>
<!-- SnapContext_delete_all_in_range&#45;&gt;SnapContext_EK_delete_ranges_cf -->
<g id="edge34" class="edge">
<title>SnapContext_delete_all_in_range&#45;&gt;SnapContext_EK_delete_ranges_cf</title>
<path fill="none" stroke="#666666" d="M1058.76,-487C1071.09,-487 1084.07,-487 1096.49,-487"/>
<polygon fill="#666666" stroke="#666666" points="1096.77,-490.5 1106.77,-487 1096.77,-483.5 1096.77,-490.5"/>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;enc_start_key -->
<g id="edge21" class="edge">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;enc_start_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M398.64,-433.58C434.04,-443.74 472.01,-454.63 501.89,-463.2"/>
<polygon fill="green" stroke="green" points="501.13,-466.62 511.7,-466.01 503.05,-459.89 501.13,-466.62"/>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;enc_end_key -->
<g id="edge22" class="edge">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;enc_end_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M398.64,-407.43C434.66,-408.92 473.34,-410.53 503.45,-411.78"/>
<polygon fill="green" stroke="green" points="503.59,-415.29 513.73,-412.2 503.88,-408.29 503.59,-415.29"/>
</g>
<!-- SnapKey -->
<g id="node19" class="node">
<title>SnapKey</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M508,-185C508,-185 608,-185 608,-185 614,-185 620,-191 620,-197 620,-197 620,-265 620,-265 620,-271 614,-277 608,-277 608,-277 508,-277 508,-277 502,-277 496,-271 496,-265 496,-265 496,-197 496,-197 496,-191 502,-185 508,-185"/>
<text text-anchor="middle" x="558" y="-261.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">SnapKey</text>
<polyline fill="none" stroke="#8a8898" points="496,-254 620,-254 "/>
<text text-anchor="start" x="504" y="-238.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub region_id: u64,</text>
<polyline fill="none" stroke="#8a8898" points="496,-231 620,-231 "/>
<text text-anchor="start" x="504" y="-215.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub term: u64,</text>
<polyline fill="none" stroke="#8a8898" points="496,-208 620,-208 "/>
<text text-anchor="start" x="504" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub idx: u64,</text>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;SnapKey -->
<g id="edge23" class="edge">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_region_key&#45;&gt;SnapKey</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M398.65,-383.44C420.08,-376.59 441.63,-367.37 460,-355 486.36,-337.25 508.79,-310.04 525.42,-285.62"/>
<polygon fill="green" stroke="green" points="528.45,-287.39 531.06,-277.12 522.61,-283.52 528.45,-287.39"/>
</g>
<!-- SnapContext_EK_get_msg_cf_CF_RAFT_state_key&#45;&gt;SnapKey -->
<g id="edge24" class="edge">
<title>SnapContext_EK_get_msg_cf_CF_RAFT_state_key&#45;&gt;SnapKey</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M393.7,-223.61C424.38,-224.99 457.39,-226.49 485.65,-227.77"/>
<polygon fill="green" stroke="green" points="485.68,-231.27 495.83,-228.23 486,-224.28 485.68,-231.27"/>
</g>
<!-- Snap -->
<g id="node20" class="node">
<title>Snap</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M931,-146.5C931,-146.5 1059,-146.5 1059,-146.5 1065,-146.5 1071,-152.5 1071,-158.5 1071,-158.5 1071,-341.5 1071,-341.5 1071,-347.5 1065,-353.5 1059,-353.5 1059,-353.5 931,-353.5 931,-353.5 925,-353.5 919,-347.5 919,-341.5 919,-341.5 919,-158.5 919,-158.5 919,-152.5 925,-146.5 931,-146.5"/>
<text text-anchor="middle" x="995" y="-338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Snap</text>
<polyline fill="none" stroke="#8a8898" points="919,-330.5 1071,-330.5 "/>
<text text-anchor="start" x="927" y="-315.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">key: SnapKey,</text>
<polyline fill="none" stroke="#8a8898" points="919,-307.5 1071,-307.5 "/>
<text text-anchor="start" x="927" y="-292.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">display_path: String,</text>
<polyline fill="none" stroke="#8a8898" points="919,-284.5 1071,-284.5 "/>
<text text-anchor="start" x="927" y="-269.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">dir_path: PathBuf,</text>
<polyline fill="none" stroke="#8a8898" points="919,-261.5 1071,-261.5 "/>
<text text-anchor="start" x="927" y="-246.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cf_files: Vec&lt;CfFile&gt;,</text>
<polyline fill="none" stroke="#8a8898" points="919,-238.5 1071,-238.5 "/>
<text text-anchor="start" x="927" y="-223.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">cf_index: usize,</text>
<polyline fill="none" stroke="#8a8898" points="919,-215.5 1071,-215.5 "/>
<text text-anchor="start" x="927" y="-200.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">meta_file: MetaFile,</text>
<polyline fill="none" stroke="#8a8898" points="919,-192.5 1071,-192.5 "/>
<text text-anchor="start" x="927" y="-177.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">hold_tmp_files: bool,</text>
<polyline fill="none" stroke="#8a8898" points="919,-169.5 1071,-169.5 "/>
<text text-anchor="start" x="927" y="-154.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mgr: SnapManagerCore,</text>
</g>
<!-- SnapManager_get_snapshot_for_applying_to_engine&#45;&gt;Snap -->
<g id="edge26" class="edge">
<title>SnapManager_get_snapshot_for_applying_to_engine&#45;&gt;Snap</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M883.23,-240.58C891.79,-241.31 900.35,-242.04 908.69,-242.75"/>
<polygon fill="green" stroke="green" points="908.49,-246.24 918.75,-243.6 909.09,-239.27 908.49,-246.24"/>
</g>
<!-- validate -->
<g id="node13" class="node">
<title>validate</title>
<path fill="none" stroke="#1c2123" d="M1322,-286C1322,-286 1287,-286 1287,-286 1281,-286 1275,-280 1275,-274 1275,-274 1275,-262 1275,-262 1275,-256 1281,-250 1287,-250 1287,-250 1322,-250 1322,-250 1328,-250 1334,-256 1334,-262 1334,-262 1334,-274 1334,-274 1334,-280 1328,-286 1322,-286"/>
<text text-anchor="middle" x="1304.5" y="-264.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">validate</text>
</g>
<!-- Snap_apply&#45;&gt;validate -->
<g id="edge12" class="edge">
<title>Snap_apply&#45;&gt;validate</title>
<path fill="none" stroke="#666666" d="M1193.93,-202.02C1214.99,-214.7 1243.33,-231.77 1265.92,-245.37"/>
<polygon fill="#666666" stroke="#666666" points="1264.21,-248.42 1274.58,-250.58 1267.82,-242.43 1264.21,-248.42"/>
</g>
<!-- plain_file_used -->
<g id="node14" class="node">
<title>plain_file_used</title>
<path fill="none" stroke="#1c2123" d="M1342,-156C1342,-156 1267,-156 1267,-156 1261,-156 1255,-150 1255,-144 1255,-144 1255,-132 1255,-132 1255,-126 1261,-120 1267,-120 1267,-120 1342,-120 1342,-120 1348,-120 1354,-126 1354,-132 1354,-132 1354,-144 1354,-144 1354,-150 1348,-156 1342,-156"/>
<text text-anchor="middle" x="1304.5" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">plain_file_used</text>
</g>
<!-- Snap_apply&#45;&gt;plain_file_used -->
<g id="edge13" class="edge">
<title>Snap_apply&#45;&gt;plain_file_used</title>
<path fill="none" stroke="#666666" d="M1203.23,-171.06C1216.26,-166.77 1231.06,-161.89 1245.21,-157.22"/>
<polygon fill="#666666" stroke="#666666" points="1246.48,-160.49 1254.88,-154.03 1244.28,-153.84 1246.48,-160.49"/>
</g>
<!-- apply_plain_cf_file -->
<g id="node15" class="node">
<title>apply_plain_cf_file</title>
<path fill="none" stroke="#1c2123" d="M1500,-194C1500,-194 1402,-194 1402,-194 1396,-194 1390,-188 1390,-182 1390,-182 1390,-170 1390,-170 1390,-164 1396,-158 1402,-158 1402,-158 1500,-158 1500,-158 1506,-158 1512,-164 1512,-170 1512,-170 1512,-182 1512,-182 1512,-188 1506,-194 1500,-194"/>
<text text-anchor="middle" x="1451" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_plain_cf_file</text>
</g>
<!-- Snap_apply&#45;&gt;apply_plain_cf_file -->
<g id="edge14" class="edge">
<title>Snap_apply&#45;&gt;apply_plain_cf_file</title>
<path fill="none" stroke="#666666" d="M1203.17,-182.9C1248.53,-181.64 1324.15,-179.52 1379.76,-177.96"/>
<polygon fill="#666666" stroke="#666666" points="1380,-181.46 1389.9,-177.68 1379.8,-174.46 1380,-181.46"/>
</g>
<!-- apply_sst_cf_file -->
<g id="node16" class="node">
<title>apply_sst_cf_file</title>
<path fill="none" stroke="#1c2123" d="M1493.5,-129C1493.5,-129 1408.5,-129 1408.5,-129 1402.5,-129 1396.5,-123 1396.5,-117 1396.5,-117 1396.5,-105 1396.5,-105 1396.5,-99 1402.5,-93 1408.5,-93 1408.5,-93 1493.5,-93 1493.5,-93 1499.5,-93 1505.5,-99 1505.5,-105 1505.5,-105 1505.5,-117 1505.5,-117 1505.5,-123 1499.5,-129 1493.5,-129"/>
<text text-anchor="middle" x="1451" y="-107.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_sst_cf_file</text>
</g>
<!-- Snap_apply&#45;&gt;apply_sst_cf_file -->
<g id="edge15" class="edge">
<title>Snap_apply&#45;&gt;apply_sst_cf_file</title>
<path fill="none" stroke="#666666" d="M1179.58,-165.77C1196.18,-147.9 1224.24,-121.81 1255,-111 1296.93,-96.26 1347.13,-96.64 1386.09,-100.5"/>
<polygon fill="#666666" stroke="#666666" points="1385.93,-104.01 1396.26,-101.62 1386.7,-97.05 1385.93,-104.01"/>
</g>
<!-- post_apply_plain_kvs_from_snapshot -->
<g id="node17" class="node">
<title>post_apply_plain_kvs_from_snapshot</title>
<path fill="none" stroke="#1c2123" d="M1759,-206C1759,-206 1560,-206 1560,-206 1554,-206 1548,-200 1548,-194 1548,-194 1548,-182 1548,-182 1548,-176 1554,-170 1560,-170 1560,-170 1759,-170 1759,-170 1765,-170 1771,-176 1771,-182 1771,-182 1771,-194 1771,-194 1771,-200 1765,-206 1759,-206"/>
<text text-anchor="middle" x="1659.5" y="-184.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_apply_plain_kvs_from_snapshot</text>
</g>
<!-- Snap_apply&#45;&gt;post_apply_plain_kvs_from_snapshot -->
<g id="edge16" class="edge">
<title>Snap_apply&#45;&gt;post_apply_plain_kvs_from_snapshot</title>
<path fill="none" stroke="#666666" d="M1203.36,-189.29C1219.36,-191.3 1238.04,-193.47 1255,-195 1368.82,-205.24 1397.87,-208.83 1512,-203 1520.35,-202.57 1528.96,-202.01 1537.62,-201.35"/>
<polygon fill="#666666" stroke="#666666" points="1538.11,-204.83 1547.8,-200.54 1537.56,-197.85 1538.11,-204.83"/>
</g>
<!-- plain_file_used&#45;&gt;apply_plain_cf_file -->
<g id="edge17" class="edge">
<title>plain_file_used&#45;&gt;apply_plain_cf_file</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1354.02,-150.76C1362.36,-152.95 1371.17,-155.27 1379.94,-157.58"/>
<polygon fill="green" stroke="green" points="1379.24,-161.01 1389.8,-160.17 1381.02,-154.24 1379.24,-161.01"/>
</g>
<!-- plain_file_used&#45;&gt;apply_sst_cf_file -->
<g id="edge18" class="edge">
<title>plain_file_used&#45;&gt;apply_sst_cf_file</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1354.02,-128.93C1364.44,-126.99 1375.6,-124.9 1386.49,-122.87"/>
<polygon fill="green" stroke="green" points="1387.2,-126.29 1396.39,-121.02 1385.92,-119.41 1387.2,-126.29"/>
</g>
<!-- apply_plain_cf_file&#45;&gt;post_apply_plain_kvs_from_snapshot -->
<g id="edge19" class="edge">
<title>apply_plain_cf_file&#45;&gt;post_apply_plain_kvs_from_snapshot</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1512.01,-179.49C1520.23,-179.96 1528.89,-180.47 1537.73,-180.98"/>
<polygon fill="green" stroke="green" points="1537.59,-184.48 1547.78,-181.57 1538,-177.49 1537.59,-184.48"/>
</g>
<!-- post_apply_sst_from_snapshot -->
<g id="node18" class="node">
<title>post_apply_sst_from_snapshot</title>
<path fill="none" stroke="#1c2123" d="M1740,-129C1740,-129 1579,-129 1579,-129 1573,-129 1567,-123 1567,-117 1567,-117 1567,-105 1567,-105 1567,-99 1573,-93 1579,-93 1579,-93 1740,-93 1740,-93 1746,-93 1752,-99 1752,-105 1752,-105 1752,-117 1752,-117 1752,-123 1746,-129 1740,-129"/>
<text text-anchor="middle" x="1659.5" y="-107.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_apply_sst_from_snapshot</text>
</g>
<!-- apply_sst_cf_file&#45;&gt;post_apply_sst_from_snapshot -->
<g id="edge20" class="edge">
<title>apply_sst_cf_file&#45;&gt;post_apply_sst_from_snapshot</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1505.72,-111C1521.3,-111 1538.86,-111 1556.37,-111"/>
<polygon fill="green" stroke="green" points="1556.66,-114.5 1566.66,-111 1556.66,-107.5 1556.66,-114.5"/>
</g>
<!-- SnapKey&#45;&gt;SnapManager_get_snapshot_for_applying_to_engine -->
<g id="edge25" class="edge">
<title>SnapKey&#45;&gt;SnapManager_get_snapshot_for_applying_to_engine</title>
<path fill="none" stroke="#666666" d="M620.16,-231C628.23,-231 636.73,-231 645.39,-231"/>
<polygon fill="#666666" stroke="#666666" points="645.63,-234.5 655.63,-231 645.63,-227.5 645.63,-234.5"/>
</g>
<!-- Snap&#45;&gt;Snap_apply -->
<g id="edge27" class="edge">
<title>Snap&#45;&gt;Snap_apply</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1071.23,-220.09C1085.59,-214.38 1100.26,-208.55 1113.5,-203.28"/>
<polygon fill="green" stroke="green" points="1114.87,-206.5 1122.87,-199.56 1112.28,-200 1114.87,-206.5"/>
</g>
</g>
</svg>
