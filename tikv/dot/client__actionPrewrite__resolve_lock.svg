<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: dig Pages: 1 -->
<svg width="2006pt" height="469pt"
 viewBox="0.00 0.00 2006.00 468.65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 464.65)">
<title>dig</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-464.65 2002,-464.65 2002,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_forloop</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M162,-108.95C162,-108.95 1978,-108.95 1978,-108.95 1984,-108.95 1990,-114.95 1990,-120.95 1990,-120.95 1990,-366.95 1990,-366.95 1990,-372.95 1984,-378.95 1978,-378.95 1978,-378.95 162,-378.95 162,-378.95 156,-378.95 150,-372.95 150,-366.95 150,-366.95 150,-120.95 150,-120.95 150,-114.95 156,-108.95 162,-108.95"/>
<text text-anchor="middle" x="1070" y="-358.95" font-family="Times,serif" font-size="20.00">ForLoop</text>
</g>
<!-- actionPrewrite__handleSingleBatch -->
<g id="node1" class="node">
<title>actionPrewrite__handleSingleBatch</title>
<path fill="none" stroke="#1c2123" d="M12,-189.95C12,-189.95 110,-189.95 110,-189.95 116,-189.95 122,-195.95 122,-201.95 122,-201.95 122,-253.95 122,-253.95 122,-259.95 116,-265.95 110,-265.95 110,-265.95 12,-265.95 12,-265.95 6,-265.95 0,-259.95 0,-253.95 0,-253.95 0,-201.95 0,-201.95 0,-195.95 6,-189.95 12,-189.95"/>
<text text-anchor="start" x="8" y="-250.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionPrewrite</text>
<text text-anchor="start" x="8" y="-235.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> handleSingleBatch</text>
<polyline fill="none" stroke="#1c2123" points="0,-227.95 122,-227.95 "/>
<text text-anchor="start" x="8" y="-212.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理某个region</text>
<text text-anchor="start" x="8" y="-197.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 一批prewrite请求</text>
</g>
<!-- RegionRequstSender__SendReq -->
<g id="node2" class="node">
<title>RegionRequstSender__SendReq</title>
<path fill="none" stroke="#1c2123" d="M170,-168.45C170,-168.45 310,-168.45 310,-168.45 316,-168.45 322,-174.45 322,-180.45 322,-180.45 322,-217.45 322,-217.45 322,-223.45 316,-229.45 310,-229.45 310,-229.45 170,-229.45 170,-229.45 164,-229.45 158,-223.45 158,-217.45 158,-217.45 158,-180.45 158,-180.45 158,-174.45 164,-168.45 170,-168.45"/>
<text text-anchor="start" x="166" y="-214.25" font-family="Times,serif" font-size="14.00" fill="#2f3638">RegionRequstSender</text>
<text text-anchor="start" x="166" y="-199.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> SendReq</text>
<polyline fill="none" stroke="#1c2123" points="158,-191.45 322,-191.45 "/>
<text text-anchor="start" x="166" y="-176.25" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送prewrite请求给TiKV</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;RegionRequstSender__SendReq -->
<g id="edge1" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;RegionRequstSender__SendReq</title>
<path fill="none" stroke="#666666" d="M122.42,-218.05C130.62,-216.71 139.19,-215.3 147.79,-213.89"/>
<polygon fill="#666666" stroke="#666666" points="148.58,-217.31 157.88,-212.24 147.45,-210.4 148.58,-217.31"/>
</g>
<!-- prewriteResp__GetErrors -->
<g id="node3" class="node">
<title>prewriteResp__GetErrors</title>
<path fill="none" stroke="#1c2123" d="M370,-198.45C370,-198.45 479,-198.45 479,-198.45 485,-198.45 491,-204.45 491,-210.45 491,-210.45 491,-247.45 491,-247.45 491,-253.45 485,-259.45 479,-259.45 479,-259.45 370,-259.45 370,-259.45 364,-259.45 358,-253.45 358,-247.45 358,-247.45 358,-210.45 358,-210.45 358,-204.45 364,-198.45 370,-198.45"/>
<text text-anchor="start" x="366" y="-244.25" font-family="Times,serif" font-size="14.00" fill="#2f3638">prewriteResp</text>
<text text-anchor="start" x="366" y="-229.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> GetErrors</text>
<polyline fill="none" stroke="#1c2123" points="358,-221.45 491,-221.45 "/>
<text text-anchor="start" x="366" y="-206.25" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理resp中的keyErr</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;prewriteResp__GetErrors -->
<g id="edge2" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;prewriteResp__GetErrors</title>
<path fill="none" stroke="#666666" d="M122.03,-236.46C131.37,-237.5 140.93,-238.39 150,-238.95 226.3,-243.7 245.65,-242.7 322,-238.95 330.33,-238.54 339.02,-237.94 347.67,-237.24"/>
<polygon fill="#666666" stroke="#666666" points="348.11,-240.72 357.78,-236.38 347.51,-233.74 348.11,-240.72"/>
</g>
<!-- kvStore__GetLockResolver__ResolveLocksForWrite -->
<g id="node4" class="node">
<title>kvStore__GetLockResolver__ResolveLocksForWrite</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1473,-136.95C1473,-136.95 1595,-136.95 1595,-136.95 1601,-136.95 1607,-142.95 1607,-148.95 1607,-148.95 1607,-200.95 1607,-200.95 1607,-206.95 1601,-212.95 1595,-212.95 1595,-212.95 1473,-212.95 1473,-212.95 1467,-212.95 1461,-206.95 1461,-200.95 1461,-200.95 1461,-148.95 1461,-148.95 1461,-142.95 1467,-136.95 1473,-136.95"/>
<text text-anchor="start" x="1469" y="-197.75" font-family="Times,serif" font-size="14.00" fill="#5d6179">kvStore</text>
<text text-anchor="start" x="1469" y="-182.75" font-family="Times,serif" font-size="14.00" fill="#5d6179"> GetLockResolver</text>
<text text-anchor="start" x="1469" y="-167.75" font-family="Times,serif" font-size="14.00" fill="#5d6179"> ResolveLocksForWrite</text>
<polyline fill="none" stroke="#8a8898" points="1461,-159.95 1607,-159.95 "/>
<text text-anchor="start" x="1469" y="-144.75" font-family="Times,serif" font-size="14.00" fill="#5d6179">解决写冲突lock</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;kvStore__GetLockResolver__ResolveLocksForWrite -->
<g id="edge3" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;kvStore__GetLockResolver__ResolveLocksForWrite</title>
<path fill="none" stroke="#666666" d="M76.02,-189.7C89.79,-157.87 114,-114.15 150,-90.95 253.26,-24.4 300.65,-50.95 423.5,-50.95 423.5,-50.95 423.5,-50.95 1143.5,-50.95 1254.14,-50.95 1374.49,-96.94 1451.68,-132.91"/>
<polygon fill="#666666" stroke="#666666" points="1450.34,-136.15 1460.88,-137.24 1453.32,-129.81 1450.34,-136.15"/>
</g>
<!-- Backoffer__BackoffWithCfgAndMaxSleep -->
<g id="node5" class="node">
<title>Backoffer__BackoffWithCfgAndMaxSleep</title>
<path fill="none" stroke="#1c2123" d="M1804,-123.45C1804,-123.45 1970,-123.45 1970,-123.45 1976,-123.45 1982,-129.45 1982,-135.45 1982,-135.45 1982,-202.45 1982,-202.45 1982,-208.45 1976,-214.45 1970,-214.45 1970,-214.45 1804,-214.45 1804,-214.45 1798,-214.45 1792,-208.45 1792,-202.45 1792,-202.45 1792,-135.45 1792,-135.45 1792,-129.45 1798,-123.45 1804,-123.45"/>
<text text-anchor="start" x="1800" y="-199.25" font-family="Times,serif" font-size="14.00" fill="#2f3638">Backoffer</text>
<text text-anchor="start" x="1800" y="-184.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> BackoffWithCfgAndMaxSleep</text>
<text text-anchor="start" x="1800" y="-169.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> sleep一段时间后</text>
<text text-anchor="start" x="1800" y="-154.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 开始下一次forloop</text>
<polyline fill="none" stroke="#1c2123" points="1792,-146.45 1982,-146.45 "/>
<text text-anchor="middle" x="1887" y="-131.25" font-family="Times,serif" font-size="14.00" fill="#2f3638"> </text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;Backoffer__BackoffWithCfgAndMaxSleep -->
<g id="edge4" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;Backoffer__BackoffWithCfgAndMaxSleep</title>
<path fill="none" stroke="#666666" d="M68.53,-189.6C78.15,-145.86 100.67,-75.91 150,-40.95 249.7,29.7 301.31,-12.95 423.5,-12.95 423.5,-12.95 423.5,-12.95 1535,-12.95 1640.2,-12.95 1749.03,-72.19 1817.07,-117.66"/>
<polygon fill="#666666" stroke="#666666" points="1815.33,-120.7 1825.57,-123.41 1819.25,-114.91 1815.33,-120.7"/>
</g>
<!-- KeyErr__GetAlreadyExist -->
<g id="node6" class="node">
<title>KeyErr__GetAlreadyExist</title>
<path fill="none" stroke="#1c2123" d="M1099,-127.95C1099,-127.95 1186,-127.95 1186,-127.95 1192,-127.95 1198,-133.95 1198,-139.95 1198,-139.95 1198,-153.95 1198,-153.95 1198,-159.95 1192,-165.95 1186,-165.95 1186,-165.95 1099,-165.95 1099,-165.95 1093,-165.95 1087,-159.95 1087,-153.95 1087,-153.95 1087,-139.95 1087,-139.95 1087,-133.95 1093,-127.95 1099,-127.95"/>
<text text-anchor="start" x="1095" y="-150.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">KeyErr</text>
<text text-anchor="start" x="1095" y="-135.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> GetAlreadyExist</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;KeyErr__GetAlreadyExist -->
<g id="edge5" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;KeyErr__GetAlreadyExist</title>
<path fill="none" stroke="#666666" d="M103.45,-189.72C117.42,-178.46 133.63,-167.02 150,-158.95 262.56,-103.5 298.03,-88.95 423.5,-88.95 423.5,-88.95 423.5,-88.95 665.5,-88.95 813.55,-88.95 985.6,-116.94 1076.87,-134.03"/>
<polygon fill="#666666" stroke="#666666" points="1076.32,-137.49 1086.79,-135.9 1077.62,-130.61 1076.32,-137.49"/>
</g>
<!-- ExtractLockFromKeyErr -->
<g id="node7" class="node">
<title>ExtractLockFromKeyErr</title>
<path fill="none" stroke="#1c2123" d="M850,-205.95C850,-205.95 1002,-205.95 1002,-205.95 1008,-205.95 1014,-211.95 1014,-217.95 1014,-217.95 1014,-239.95 1014,-239.95 1014,-245.95 1008,-251.95 1002,-251.95 1002,-251.95 850,-251.95 850,-251.95 844,-251.95 838,-245.95 838,-239.95 838,-239.95 838,-217.95 838,-217.95 838,-211.95 844,-205.95 850,-205.95"/>
<text text-anchor="start" x="846" y="-236.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">ExtractLockFromKeyErr</text>
<polyline fill="none" stroke="#1c2123" points="838,-228.95 1014,-228.95 "/>
<text text-anchor="start" x="846" y="-213.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">提取keyErr中的lokc信息系</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;ExtractLockFromKeyErr -->
<g id="edge6" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;ExtractLockFromKeyErr</title>
<path fill="none" stroke="#666666" d="M122,-258.94C251.22,-321.23 563.41,-447.63 802,-349.95 845.9,-331.98 882.56,-289.93 904.13,-260.48"/>
<polygon fill="#666666" stroke="#666666" points="907.11,-262.33 910.07,-252.16 901.41,-258.27 907.11,-262.33"/>
</g>
<!-- locks -->
<g id="node8" class="node">
<title>locks</title>
<path fill="#feed9b" stroke="#f7e495" d="M1283,-220.95C1283,-220.95 1413,-220.95 1413,-220.95 1419,-220.95 1425,-226.95 1425,-232.95 1425,-232.95 1425,-246.95 1425,-246.95 1425,-252.95 1419,-258.95 1413,-258.95 1413,-258.95 1283,-258.95 1283,-258.95 1277,-258.95 1271,-252.95 1271,-246.95 1271,-246.95 1271,-232.95 1271,-232.95 1271,-226.95 1277,-220.95 1283,-220.95"/>
<text text-anchor="start" x="1279" y="-243.75" font-family="Times,serif" font-size="14.00" fill="#40575d">locks</text>
<text text-anchor="start" x="1279" y="-228.75" font-family="Times,serif" font-size="14.00" fill="#40575d"> 需要resolve的lock数组</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;locks -->
<g id="edge7" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;locks</title>
<path fill="none" stroke="#666666" d="M67.73,-266.03C76.72,-311.13 98.73,-384.71 150,-420.95 249.65,-491.38 301.48,-444.95 423.5,-444.95 423.5,-444.95 423.5,-444.95 927,-444.95 1064.3,-444.95 1117.75,-492.39 1235,-420.95 1291.99,-386.22 1324.32,-310.41 1338.41,-268.76"/>
<polygon fill="#666666" stroke="#666666" points="1341.75,-269.79 1341.53,-259.2 1335.1,-267.62 1341.75,-269.79"/>
</g>
<!-- twophaseCommitter__extractKeyExistsErr -->
<g id="node9" class="node">
<title>twophaseCommitter__extractKeyExistsErr</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1295,-140.45C1295,-140.45 1401,-140.45 1401,-140.45 1407,-140.45 1413,-146.45 1413,-152.45 1413,-152.45 1413,-189.45 1413,-189.45 1413,-195.45 1407,-201.45 1401,-201.45 1401,-201.45 1295,-201.45 1295,-201.45 1289,-201.45 1283,-195.45 1283,-189.45 1283,-189.45 1283,-152.45 1283,-152.45 1283,-146.45 1289,-140.45 1295,-140.45"/>
<text text-anchor="start" x="1291" y="-186.25" font-family="Times,serif" font-size="14.00" fill="#5d6179">twophaseCommitter</text>
<text text-anchor="start" x="1291" y="-171.25" font-family="Times,serif" font-size="14.00" fill="#5d6179"> extractKeyExistsErr</text>
<polyline fill="none" stroke="#8a8898" points="1283,-163.45 1413,-163.45 "/>
<text text-anchor="start" x="1291" y="-148.25" font-family="Times,serif" font-size="14.00" fill="#5d6179">返回keyExistsErr</text>
</g>
<!-- actionPrewrite__handleSingleBatch&#45;&gt;twophaseCommitter__extractKeyExistsErr -->
<g id="edge8" class="edge">
<title>actionPrewrite__handleSingleBatch&#45;&gt;twophaseCommitter__extractKeyExistsErr</title>
<path fill="none" stroke="#666666" d="M92.05,-266.36C107.68,-284.16 128.09,-304.35 150,-317.95 258.6,-385.38 295.67,-406.95 423.5,-406.95 423.5,-406.95 423.5,-406.95 927,-406.95 1066.21,-406.95 1133.07,-444.77 1235,-349.95 1281.41,-306.78 1231.86,-261.81 1271,-211.95 1272.39,-210.18 1273.88,-208.47 1275.45,-206.83"/>
<polygon fill="#666666" stroke="#666666" points="1277.84,-209.4 1282.82,-200.05 1273.1,-204.25 1277.84,-209.4"/>
</g>
<!-- RegionRequstSender__SendReq&#45;&gt;prewriteResp__GetErrors -->
<g id="edge13" class="edge">
<title>RegionRequstSender__SendReq&#45;&gt;prewriteResp__GetErrors</title>
<path fill="none" stroke="#666666" d="M322.11,-212.28C330.73,-213.7 339.47,-215.14 348.03,-216.54"/>
<polygon fill="#666666" stroke="#666666" points="347.53,-220.01 357.96,-218.18 348.66,-213.1 347.53,-220.01"/>
</g>
<!-- KeyError -->
<g id="node11" class="node">
<title>KeyError</title>
<path fill="none" stroke="#1c2123" d="M539,-117.95C539,-117.95 790,-117.95 790,-117.95 796,-117.95 802,-123.95 802,-129.95 802,-129.95 802,-327.95 802,-327.95 802,-333.95 796,-339.95 790,-339.95 790,-339.95 539,-339.95 539,-339.95 533,-339.95 527,-333.95 527,-327.95 527,-327.95 527,-129.95 527,-129.95 527,-123.95 533,-117.95 539,-117.95"/>
<text text-anchor="start" x="535" y="-324.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">KeyError</text>
<text text-anchor="start" x="535" y="-309.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> LockInfo locked = 1;</text>
<polyline fill="none" stroke="#1c2123" points="527,-301.95 802,-301.95 "/>
<text text-anchor="start" x="535" y="-286.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">string retryable = 2;</text>
<polyline fill="none" stroke="#1c2123" points="527,-278.95 802,-278.95 "/>
<text text-anchor="start" x="535" y="-263.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">string abort = 3;</text>
<polyline fill="none" stroke="#1c2123" points="527,-255.95 802,-255.95 "/>
<text text-anchor="start" x="535" y="-240.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteConflict conflict = 4;</text>
<polyline fill="none" stroke="#1c2123" points="527,-232.95 802,-232.95 "/>
<text text-anchor="start" x="535" y="-217.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">AlreadyExist already_exist = 5;</text>
<polyline fill="none" stroke="#1c2123" points="527,-209.95 802,-209.95 "/>
<text text-anchor="start" x="535" y="-194.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">Deadlock deadlock = 6;</text>
<polyline fill="none" stroke="#1c2123" points="527,-186.95 802,-186.95 "/>
<text text-anchor="start" x="535" y="-171.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">CommitTsExpired commit_ts_expired = 7;</text>
<polyline fill="none" stroke="#1c2123" points="527,-163.95 802,-163.95 "/>
<text text-anchor="start" x="535" y="-148.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnNotFound txn_not_found = 8;</text>
<polyline fill="none" stroke="#1c2123" points="527,-140.95 802,-140.95 "/>
<text text-anchor="start" x="535" y="-125.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">CommitTsTooLarge commit_ts_too_large = 9;</text>
</g>
<!-- prewriteResp__GetErrors&#45;&gt;KeyError -->
<g id="edge9" class="edge">
<title>prewriteResp__GetErrors&#45;&gt;KeyError</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M491.16,-228.95C499.36,-228.95 507.99,-228.95 516.82,-228.95"/>
<polygon fill="green" stroke="green" points="516.88,-232.45 526.88,-228.95 516.88,-225.45 516.88,-232.45"/>
</g>
<!-- msBeforeExpired -->
<g id="node10" class="node">
<title>msBeforeExpired</title>
<path fill="none" stroke="#1c2123" d="M1655,-117.95C1655,-117.95 1744,-117.95 1744,-117.95 1750,-117.95 1756,-123.95 1756,-129.95 1756,-129.95 1756,-219.95 1756,-219.95 1756,-225.95 1750,-231.95 1744,-231.95 1744,-231.95 1655,-231.95 1655,-231.95 1649,-231.95 1643,-225.95 1643,-219.95 1643,-219.95 1643,-129.95 1643,-129.95 1643,-123.95 1649,-117.95 1655,-117.95"/>
<text text-anchor="start" x="1651" y="-216.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">msBeforeExpired</text>
<text text-anchor="start" x="1651" y="-201.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> lock.ttl不为0</text>
<polyline fill="none" stroke="#1c2123" points="1643,-193.95 1756,-193.95 "/>
<text text-anchor="start" x="1651" y="-178.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">继续等待</text>
<polyline fill="none" stroke="#1c2123" points="1643,-170.95 1756,-170.95 "/>
<text text-anchor="start" x="1651" y="-155.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">等待Lock超时</text>
<text text-anchor="start" x="1651" y="-140.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 或被commit</text>
<text text-anchor="start" x="1651" y="-125.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 或被rollback</text>
</g>
<!-- kvStore__GetLockResolver__ResolveLocksForWrite&#45;&gt;msBeforeExpired -->
<g id="edge11" class="edge">
<title>kvStore__GetLockResolver__ResolveLocksForWrite&#45;&gt;msBeforeExpired</title>
<path fill="none" stroke="#666666" d="M1607.19,-174.95C1615.7,-174.95 1624.36,-174.95 1632.78,-174.95"/>
<polygon fill="#666666" stroke="#666666" points="1632.9,-178.45 1642.9,-174.95 1632.9,-171.45 1632.9,-178.45"/>
</g>
<!-- KeyErr__GetAlreadyExist&#45;&gt;twophaseCommitter__extractKeyExistsErr -->
<g id="edge18" class="edge">
<title>KeyErr__GetAlreadyExist&#45;&gt;twophaseCommitter__extractKeyExistsErr</title>
<path fill="none" stroke="#666666" d="M1198.03,-153.38C1221.01,-156.09 1248.1,-159.29 1272.85,-162.21"/>
<polygon fill="#666666" stroke="#666666" points="1272.58,-165.7 1282.92,-163.39 1273.4,-158.75 1272.58,-165.7"/>
</g>
<!-- KeyErr__GetLockecked -->
<g id="node12" class="node">
<title>KeyErr__GetLockecked</title>
<path fill="none" stroke="#1c2123" d="M1105,-206.95C1105,-206.95 1180,-206.95 1180,-206.95 1186,-206.95 1192,-212.95 1192,-218.95 1192,-218.95 1192,-232.95 1192,-232.95 1192,-238.95 1186,-244.95 1180,-244.95 1180,-244.95 1105,-244.95 1105,-244.95 1099,-244.95 1093,-238.95 1093,-232.95 1093,-232.95 1093,-218.95 1093,-218.95 1093,-212.95 1099,-206.95 1105,-206.95"/>
<text text-anchor="start" x="1101" y="-229.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">KeyErr</text>
<text text-anchor="start" x="1101" y="-214.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> GetLockecked</text>
</g>
<!-- ExtractLockFromKeyErr&#45;&gt;KeyErr__GetLockecked -->
<g id="edge19" class="edge">
<title>ExtractLockFromKeyErr&#45;&gt;KeyErr__GetLockecked</title>
<path fill="none" stroke="#666666" d="M1014.25,-227.73C1037.27,-227.41 1061.57,-227.07 1082.7,-226.77"/>
<polygon fill="#666666" stroke="#666666" points="1082.84,-230.27 1092.79,-226.63 1082.75,-223.27 1082.84,-230.27"/>
</g>
<!-- tikverr__ExtractKeyErr -->
<g id="node13" class="node">
<title>tikverr__ExtractKeyErr</title>
<path fill="none" stroke="#1c2123" d="M1062,-263.95C1062,-263.95 1223,-263.95 1223,-263.95 1229,-263.95 1235,-269.95 1235,-275.95 1235,-275.95 1235,-327.95 1235,-327.95 1235,-333.95 1229,-339.95 1223,-339.95 1223,-339.95 1062,-339.95 1062,-339.95 1056,-339.95 1050,-333.95 1050,-327.95 1050,-327.95 1050,-275.95 1050,-275.95 1050,-269.95 1056,-263.95 1062,-263.95"/>
<text text-anchor="start" x="1058" y="-324.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">tikverr</text>
<text text-anchor="start" x="1058" y="-309.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ExtractKeyErr</text>
<polyline fill="none" stroke="#1c2123" points="1050,-301.95 1235,-301.95 "/>
<text text-anchor="start" x="1058" y="-286.75" font-family="Times,serif" font-size="14.00" fill="#2f3638">对于其他非Locked类型错误</text>
<text text-anchor="start" x="1058" y="-271.75" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 向上层返回err</text>
</g>
<!-- ExtractLockFromKeyErr&#45;&gt;tikverr__ExtractKeyErr -->
<g id="edge20" class="edge">
<title>ExtractLockFromKeyErr&#45;&gt;tikverr__ExtractKeyErr</title>
<path fill="none" stroke="#666666" d="M994.87,-252.05C1009.3,-256.96 1024.84,-262.25 1040.21,-267.48"/>
<polygon fill="#666666" stroke="#666666" points="1039.16,-270.82 1049.75,-270.73 1041.42,-264.19 1039.16,-270.82"/>
</g>
<!-- locks&#45;&gt;kvStore__GetLockResolver__ResolveLocksForWrite -->
<g id="edge14" class="edge">
<title>locks&#45;&gt;kvStore__GetLockResolver__ResolveLocksForWrite</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1403.21,-220.8C1418.28,-215.48 1434.98,-209.58 1451.24,-203.83"/>
<polygon fill="green" stroke="green" points="1452.49,-207.1 1460.76,-200.47 1450.16,-200.5 1452.49,-207.1"/>
</g>
<!-- msBeforeExpired&#45;&gt;Backoffer__BackoffWithCfgAndMaxSleep -->
<g id="edge12" class="edge">
<title>msBeforeExpired&#45;&gt;Backoffer__BackoffWithCfgAndMaxSleep</title>
<path fill="none" stroke="#666666" d="M1756.16,-173.15C1764.38,-172.88 1773.06,-172.6 1781.88,-172.32"/>
<polygon fill="#666666" stroke="#666666" points="1782.01,-175.82 1791.89,-171.99 1781.78,-168.82 1782.01,-175.82"/>
</g>
<!-- KeyError&#45;&gt;KeyErr__GetAlreadyExist -->
<g id="edge15" class="edge">
<title>KeyError&#45;&gt;KeyErr__GetAlreadyExist</title>
<path fill="none" stroke="#666666" d="M802.03,-188.81C814.13,-185.91 826.25,-183.23 838,-180.95 919.6,-165.13 1015.08,-155.94 1076.83,-151.19"/>
<polygon fill="#666666" stroke="#666666" points="1077.12,-154.67 1086.83,-150.43 1076.59,-147.69 1077.12,-154.67"/>
</g>
<!-- KeyError&#45;&gt;ExtractLockFromKeyErr -->
<g id="edge10" class="edge">
<title>KeyError&#45;&gt;ExtractLockFromKeyErr</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M802.09,-222.21C810.68,-222.23 819.24,-222.29 827.6,-222.39"/>
<polygon fill="green" stroke="green" points="827.65,-225.89 837.69,-222.53 827.74,-218.89 827.65,-225.89"/>
</g>
<!-- KeyError&#45;&gt;ExtractLockFromKeyErr -->
<g id="edge16" class="edge">
<title>KeyError&#45;&gt;ExtractLockFromKeyErr</title>
<path fill="none" stroke="#666666" d="M802.09,-235.69C810.68,-235.67 819.24,-235.61 827.6,-235.51"/>
<polygon fill="#666666" stroke="#666666" points="827.74,-239.01 837.69,-235.37 827.65,-232.01 827.74,-239.01"/>
</g>
<!-- KeyError&#45;&gt;twophaseCommitter__extractKeyExistsErr -->
<g id="edge17" class="edge">
<title>KeyError&#45;&gt;twophaseCommitter__extractKeyExistsErr</title>
<path fill="none" stroke="#666666" d="M802.25,-201.87C814.31,-200 826.35,-198.32 838,-196.95 859.14,-194.46 1136.25,-181.02 1272.46,-174.5"/>
<polygon fill="#666666" stroke="#666666" points="1272.99,-177.98 1282.81,-174 1272.65,-170.98 1272.99,-177.98"/>
</g>
<!-- KeyErr__GetLockecked&#45;&gt;locks -->
<g id="edge21" class="edge">
<title>KeyErr__GetLockecked&#45;&gt;locks</title>
<path fill="none" stroke="#666666" d="M1192.24,-229.3C1212.73,-230.71 1237.19,-232.4 1260.55,-234"/>
<polygon fill="#666666" stroke="#666666" points="1260.62,-237.52 1270.84,-234.71 1261.1,-230.53 1260.62,-237.52"/>
</g>
</g>
</svg>
