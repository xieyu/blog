<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: commit_mutations Pages: 1 -->
<svg width="997pt" height="767pt"
 viewBox="0.00 0.00 997.00 767.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 763)">
<title>commit_mutations</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-763 993,-763 993,4 -4,4"/>
<!-- CommitterMutations -->
<g id="node1" class="node">
<title>CommitterMutations</title>
<path fill="none" stroke="#1c2123" d="M244,-543C244,-543 455,-543 455,-543 461,-543 467,-549 467,-555 467,-555 467,-715 467,-715 467,-721 461,-727 455,-727 455,-727 244,-727 244,-727 238,-727 232,-721 232,-715 232,-715 232,-555 232,-555 232,-549 238,-543 244,-543"/>
<text text-anchor="middle" x="349.5" y="-711.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">CommitterMutations</text>
<polyline fill="none" stroke="#1c2123" points="232,-704 467,-704 "/>
<text text-anchor="start" x="240" y="-688.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Len() int</text>
<polyline fill="none" stroke="#1c2123" points="232,-681 467,-681 "/>
<text text-anchor="start" x="240" y="-665.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">GetKey(i int) []byte</text>
<polyline fill="none" stroke="#1c2123" points="232,-658 467,-658 "/>
<text text-anchor="start" x="240" y="-642.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">GetKeys() [][]byte</text>
<polyline fill="none" stroke="#1c2123" points="232,-635 467,-635 "/>
<text text-anchor="start" x="240" y="-619.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">GetOp(i int) pb.Op</text>
<polyline fill="none" stroke="#1c2123" points="232,-612 467,-612 "/>
<text text-anchor="start" x="240" y="-596.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">GetValue(i int) []byte</text>
<polyline fill="none" stroke="#1c2123" points="232,-589 467,-589 "/>
<text text-anchor="start" x="240" y="-573.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">IsPessimisticLock(i int) bool</text>
<polyline fill="none" stroke="#1c2123" points="232,-566 467,-566 "/>
<text text-anchor="start" x="240" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Slice(from, to int) CommitterMutations</text>
</g>
<!-- PlainMutations -->
<g id="node2" class="node">
<title>PlainMutations</title>
<path fill="none" stroke="#1c2123" d="M652.5,-759C652.5,-759 576.5,-759 576.5,-759 570.5,-759 564.5,-753 564.5,-747 564.5,-747 564.5,-735 564.5,-735 564.5,-729 570.5,-723 576.5,-723 576.5,-723 652.5,-723 652.5,-723 658.5,-723 664.5,-729 664.5,-735 664.5,-735 664.5,-747 664.5,-747 664.5,-753 658.5,-759 652.5,-759"/>
<text text-anchor="middle" x="614.5" y="-737.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PlainMutations</text>
</g>
<!-- CommitterMutations&#45;&gt;PlainMutations -->
<g id="edge1" class="edge">
<title>CommitterMutations&#45;&gt;PlainMutations</title>
<path fill="none" stroke="#666666" d="M467.03,-698.91C479.01,-704.4 491.13,-709.55 503,-714 519.38,-720.14 537.67,-725.27 554.57,-729.35"/>
<polygon fill="#666666" stroke="#666666" points="553.8,-732.76 564.33,-731.63 555.39,-725.94 553.8,-732.76"/>
</g>
<!-- memBufferMutations -->
<g id="node3" class="node">
<title>memBufferMutations</title>
<path fill="none" stroke="#1c2123" d="M515,-408.5C515,-408.5 714,-408.5 714,-408.5 720,-408.5 726,-414.5 726,-420.5 726,-420.5 726,-465.5 726,-465.5 726,-471.5 720,-477.5 714,-477.5 714,-477.5 515,-477.5 515,-477.5 509,-477.5 503,-471.5 503,-465.5 503,-465.5 503,-420.5 503,-420.5 503,-414.5 509,-408.5 515,-408.5"/>
<text text-anchor="middle" x="614.5" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">memBufferMutations</text>
<polyline fill="none" stroke="#1c2123" points="503,-454.5 726,-454.5 "/>
<text text-anchor="start" x="511" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">storage *unionstore.MemDB</text>
<polyline fill="none" stroke="#1c2123" points="503,-431.5 726,-431.5 "/>
<text text-anchor="start" x="511" y="-416.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handles []unionstore.MemKeyHandle</text>
</g>
<!-- CommitterMutations&#45;&gt;memBufferMutations -->
<g id="edge2" class="edge">
<title>CommitterMutations&#45;&gt;memBufferMutations</title>
<path fill="none" stroke="#666666" d="M459,-542.97C473.55,-531.55 488.47,-520.28 503,-510 516.04,-500.77 530.38,-491.49 544.28,-482.9"/>
<polygon fill="#666666" stroke="#666666" points="546.16,-485.86 552.87,-477.65 542.51,-479.88 546.16,-485.86"/>
</g>
<!-- Op -->
<g id="node4" class="node">
<title>Op</title>
<path fill="none" stroke="#1c2123" d="M540.5,-520C540.5,-520 688.5,-520 688.5,-520 694.5,-520 700.5,-526 700.5,-532 700.5,-532 700.5,-692 700.5,-692 700.5,-698 694.5,-704 688.5,-704 688.5,-704 540.5,-704 540.5,-704 534.5,-704 528.5,-698 528.5,-692 528.5,-692 528.5,-532 528.5,-532 528.5,-526 534.5,-520 540.5,-520"/>
<text text-anchor="middle" x="614.5" y="-688.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-681 700.5,-681 "/>
<text text-anchor="start" x="536.5" y="-665.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_Put Op = 0</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-658 700.5,-658 "/>
<text text-anchor="start" x="536.5" y="-642.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_Del Op = 1</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-635 700.5,-635 "/>
<text text-anchor="start" x="536.5" y="-619.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_Lock Op = 2</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-612 700.5,-612 "/>
<text text-anchor="start" x="536.5" y="-596.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_Rollback Op = 3</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-589 700.5,-589 "/>
<text text-anchor="start" x="536.5" y="-573.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_Insert Op = 4</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-566 700.5,-566 "/>
<text text-anchor="start" x="536.5" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_PessimisticLock Op = 5</text>
<polyline fill="none" stroke="#1c2123" points="528.5,-543 700.5,-543 "/>
<text text-anchor="start" x="536.5" y="-527.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Op_CheckNotExists Op = 6</text>
</g>
<!-- CommitterMutations&#45;&gt;Op -->
<g id="edge3" class="edge">
<title>CommitterMutations&#45;&gt;Op</title>
<path fill="none" stroke="#666666" d="M467,-624.81C484.07,-623.32 501.48,-621.8 518.06,-620.35"/>
<polygon fill="#666666" stroke="#666666" points="518.61,-623.81 528.27,-619.45 518,-616.84 518.61,-623.81"/>
</g>
<!-- MemDB -->
<g id="node17" class="node">
<title>MemDB</title>
<path fill="none" stroke="#1c2123" d="M774,-240C774,-240 977,-240 977,-240 983,-240 989,-246 989,-252 989,-252 989,-342 989,-342 989,-348 983,-354 977,-354 977,-354 774,-354 774,-354 768,-354 762,-348 762,-342 762,-342 762,-252 762,-252 762,-246 768,-240 774,-240"/>
<text text-anchor="middle" x="875.5" y="-338.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">MemDB</text>
<polyline fill="none" stroke="#1c2123" points="762,-331 989,-331 "/>
<text text-anchor="start" x="770" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">a rollbackable Red&#45;Black Tree</text>
<text text-anchor="start" x="770" y="-300.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> optimized for TiDB&#39;s transaction stats</text>
<text text-anchor="start" x="770" y="-285.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> bufer use secenario.</text>
<polyline fill="none" stroke="#1c2123" points="762,-278 989,-278 "/>
<text text-anchor="start" x="770" y="-262.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">key &#45;&gt; value</text>
<text text-anchor="start" x="770" y="-247.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> key &#45;&gt; keyFlags</text>
</g>
<!-- memBufferMutations&#45;&gt;MemDB -->
<g id="edge16" class="edge">
<title>memBufferMutations&#45;&gt;MemDB</title>
<path fill="none" stroke="#666666" d="M676.88,-408.4C703.09,-393.63 734.5,-375.92 764.49,-359.01"/>
<polygon fill="#666666" stroke="#666666" points="766.33,-362 773.32,-354.04 762.89,-355.9 766.33,-362"/>
</g>
<!-- MemKeyHandle -->
<g id="node18" class="node">
<title>MemKeyHandle</title>
<path fill="none" stroke="#1c2123" d="M818.5,-382C818.5,-382 932.5,-382 932.5,-382 938.5,-382 944.5,-388 944.5,-394 944.5,-394 944.5,-492 944.5,-492 944.5,-498 938.5,-504 932.5,-504 932.5,-504 818.5,-504 818.5,-504 812.5,-504 806.5,-498 806.5,-492 806.5,-492 806.5,-394 806.5,-394 806.5,-388 812.5,-382 818.5,-382"/>
<text text-anchor="middle" x="875.5" y="-488.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">MemKeyHandle</text>
<polyline fill="none" stroke="#1c2123" points="806.5,-481 944.5,-481 "/>
<text text-anchor="start" x="814.5" y="-465.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">represents a pointer of</text>
<text text-anchor="start" x="814.5" y="-450.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> a key in MemBuffer</text>
<text text-anchor="start" x="814.5" y="-435.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> UserData uint16</text>
<polyline fill="none" stroke="#1c2123" points="806.5,-428 944.5,-428 "/>
<text text-anchor="start" x="814.5" y="-412.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">idx uint16</text>
<polyline fill="none" stroke="#1c2123" points="806.5,-405 944.5,-405 "/>
<text text-anchor="start" x="814.5" y="-389.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">off uint32</text>
</g>
<!-- memBufferMutations&#45;&gt;MemKeyHandle -->
<g id="edge17" class="edge">
<title>memBufferMutations&#45;&gt;MemKeyHandle</title>
<path fill="none" stroke="#666666" d="M726.09,-443C749.59,-443 773.94,-443 795.96,-443"/>
<polygon fill="#666666" stroke="#666666" points="796.23,-446.5 806.23,-443 796.23,-439.5 796.23,-446.5"/>
</g>
<!-- batchMutations -->
<g id="node5" class="node">
<title>batchMutations</title>
<path fill="none" stroke="#1c2123" d="M15,-639C15,-639 181,-639 181,-639 187,-639 193,-645 193,-651 193,-651 193,-719 193,-719 193,-725 187,-731 181,-731 181,-731 15,-731 15,-731 9,-731 3,-725 3,-719 3,-719 3,-651 3,-651 3,-645 9,-639 15,-639"/>
<text text-anchor="middle" x="98" y="-715.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">batchMutations</text>
<polyline fill="none" stroke="#1c2123" points="3,-708 193,-708 "/>
<text text-anchor="start" x="11" y="-692.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">region RegionVerID</text>
<polyline fill="none" stroke="#1c2123" points="3,-685 193,-685 "/>
<text text-anchor="start" x="11" y="-669.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">mutations CommitterMutations</text>
<polyline fill="none" stroke="#1c2123" points="3,-662 193,-662 "/>
<text text-anchor="start" x="11" y="-646.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">isPrimary bool</text>
</g>
<!-- batchMutations&#45;&gt;CommitterMutations -->
<g id="edge4" class="edge">
<title>batchMutations&#45;&gt;CommitterMutations</title>
<path fill="none" stroke="#666666" d="M193.33,-666.1C202.65,-664.23 212.21,-662.31 221.78,-660.39"/>
<polygon fill="#666666" stroke="#666666" points="222.64,-663.79 231.76,-658.39 221.27,-656.93 222.64,-663.79"/>
</g>
<!-- groupedMutations -->
<g id="node6" class="node">
<title>groupedMutations</title>
<path fill="none" stroke="#1c2123" d="M15,-550.5C15,-550.5 181,-550.5 181,-550.5 187,-550.5 193,-556.5 193,-562.5 193,-562.5 193,-607.5 193,-607.5 193,-613.5 187,-619.5 181,-619.5 181,-619.5 15,-619.5 15,-619.5 9,-619.5 3,-613.5 3,-607.5 3,-607.5 3,-562.5 3,-562.5 3,-556.5 9,-550.5 15,-550.5"/>
<text text-anchor="middle" x="98" y="-604.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">groupedMutations</text>
<polyline fill="none" stroke="#1c2123" points="3,-596.5 193,-596.5 "/>
<text text-anchor="start" x="11" y="-581.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">region RegionVerID</text>
<polyline fill="none" stroke="#1c2123" points="3,-573.5 193,-573.5 "/>
<text text-anchor="start" x="11" y="-558.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">mutations CommitterMutations</text>
</g>
<!-- groupedMutations&#45;&gt;CommitterMutations -->
<g id="edge5" class="edge">
<title>groupedMutations&#45;&gt;CommitterMutations</title>
<path fill="none" stroke="#666666" d="M193.33,-603.9C202.65,-605.77 212.21,-607.69 221.78,-609.61"/>
<polygon fill="#666666" stroke="#666666" points="221.27,-613.07 231.76,-611.61 222.64,-606.21 221.27,-613.07"/>
</g>
<!-- twoPhaseCommitter -->
<g id="node7" class="node">
<title>twoPhaseCommitter</title>
<path fill="none" stroke="#1c2123" d="M261.5,-362.5C261.5,-362.5 437.5,-362.5 437.5,-362.5 443.5,-362.5 449.5,-368.5 449.5,-374.5 449.5,-374.5 449.5,-511.5 449.5,-511.5 449.5,-517.5 443.5,-523.5 437.5,-523.5 437.5,-523.5 261.5,-523.5 261.5,-523.5 255.5,-523.5 249.5,-517.5 249.5,-511.5 249.5,-511.5 249.5,-374.5 249.5,-374.5 249.5,-368.5 255.5,-362.5 261.5,-362.5"/>
<text text-anchor="middle" x="349.5" y="-508.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">twoPhaseCommitter</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-500.5 449.5,-500.5 "/>
<text text-anchor="start" x="257.5" y="-485.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">mutations *memBufferMutations</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-477.5 449.5,-477.5 "/>
<text text-anchor="start" x="257.5" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">startTS uint64</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-454.5 449.5,-454.5 "/>
<text text-anchor="start" x="257.5" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">commitTS uint64</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-431.5 449.5,-431.5 "/>
<text text-anchor="start" x="257.5" y="-416.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">lockTTL uint64</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-408.5 449.5,-408.5 "/>
<text text-anchor="start" x="257.5" y="-393.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">commitTS uint64</text>
<polyline fill="none" stroke="#1c2123" points="249.5,-385.5 449.5,-385.5 "/>
<text text-anchor="middle" x="349.5" y="-370.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">...</text>
</g>
<!-- twoPhaseCommitter&#45;&gt;memBufferMutations -->
<g id="edge6" class="edge">
<title>twoPhaseCommitter&#45;&gt;memBufferMutations</title>
<path fill="none" stroke="#666666" d="M449.55,-443C463.5,-443 477.96,-443 492.26,-443"/>
<polygon fill="#666666" stroke="#666666" points="492.63,-446.5 502.63,-443 492.63,-439.5 492.63,-446.5"/>
</g>
<!-- KVTxn -->
<g id="node8" class="node">
<title>KVTxn</title>
<path fill="none" stroke="#1c2123" d="M25,-331.5C25,-331.5 171,-331.5 171,-331.5 177,-331.5 183,-337.5 183,-343.5 183,-343.5 183,-380.5 183,-380.5 183,-386.5 177,-392.5 171,-392.5 171,-392.5 25,-392.5 25,-392.5 19,-392.5 13,-386.5 13,-380.5 13,-380.5 13,-343.5 13,-343.5 13,-337.5 19,-331.5 25,-331.5"/>
<text text-anchor="middle" x="98" y="-377.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">KVTxn</text>
<polyline fill="none" stroke="#1c2123" points="13,-369.5 183,-369.5 "/>
<text text-anchor="start" x="21" y="-354.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">contains methods to interact</text>
<text text-anchor="start" x="21" y="-339.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> with a TiKV transaction</text>
</g>
<!-- KVTxn&#45;&gt;twoPhaseCommitter -->
<g id="edge7" class="edge">
<title>KVTxn&#45;&gt;twoPhaseCommitter</title>
<path fill="none" stroke="#666666" d="M183.12,-389.31C201.27,-395.2 220.72,-401.52 239.66,-407.67"/>
<polygon fill="#666666" stroke="#666666" points="238.62,-411.01 249.21,-410.77 240.78,-404.35 238.62,-411.01"/>
</g>
<!-- KVUnionStore -->
<g id="node16" class="node">
<title>KVUnionStore</title>
<path fill="none" stroke="#1c2123" d="M280,-198.5C280,-198.5 419,-198.5 419,-198.5 425,-198.5 431,-204.5 431,-210.5 431,-210.5 431,-331.5 431,-331.5 431,-337.5 425,-343.5 419,-343.5 419,-343.5 280,-343.5 280,-343.5 274,-343.5 268,-337.5 268,-331.5 268,-331.5 268,-210.5 268,-210.5 268,-204.5 274,-198.5 280,-198.5"/>
<text text-anchor="middle" x="349.5" y="-328.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">KVUnionStore</text>
<polyline fill="none" stroke="#1c2123" points="268,-320.5 431,-320.5 "/>
<text text-anchor="start" x="276" y="-305.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">an in&#45;memory store which</text>
<text text-anchor="start" x="276" y="-290.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> contains a buffer for write</text>
<text text-anchor="start" x="276" y="-275.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> and a snapshot for read</text>
<polyline fill="none" stroke="#1c2123" points="268,-267.5 431,-267.5 "/>
<text text-anchor="start" x="276" y="-252.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">memBuffer *MemDB</text>
<polyline fill="none" stroke="#1c2123" points="268,-244.5 431,-244.5 "/>
<text text-anchor="start" x="276" y="-229.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">snapshot uSnapshot</text>
<polyline fill="none" stroke="#1c2123" points="268,-221.5 431,-221.5 "/>
<text text-anchor="middle" x="349.5" y="-206.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> </text>
</g>
<!-- KVTxn&#45;&gt;KVUnionStore -->
<g id="edge15" class="edge">
<title>KVTxn&#45;&gt;KVUnionStore</title>
<path fill="none" stroke="#666666" d="M182.77,-331.45C207.02,-322.6 233.59,-312.91 258.21,-303.93"/>
<polygon fill="#666666" stroke="#666666" points="259.71,-307.11 267.91,-300.39 257.31,-300.53 259.71,-307.11"/>
</g>
<!-- batchExecutor -->
<g id="node9" class="node">
<title>batchExecutor</title>
<path fill="none" stroke="#1c2123" d="M12,-134C12,-134 184,-134 184,-134 190,-134 196,-140 196,-146 196,-146 196,-260 196,-260 196,-266 190,-272 184,-272 184,-272 12,-272 12,-272 6,-272 0,-266 0,-260 0,-260 0,-146 0,-146 0,-140 6,-134 12,-134"/>
<text text-anchor="middle" x="98" y="-256.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">batchExecutor</text>
<polyline fill="none" stroke="#1c2123" points="0,-249 196,-249 "/>
<text text-anchor="start" x="8" y="-233.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">rateLim int </text>
<polyline fill="none" stroke="#1c2123" points="0,-226 196,-226 "/>
<text text-anchor="start" x="8" y="-210.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">rateLimiter *util.RateLimit</text>
<polyline fill="none" stroke="#1c2123" points="0,-203 196,-203 "/>
<text text-anchor="start" x="8" y="-187.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">committer *twoPhaseCommitter</text>
<polyline fill="none" stroke="#1c2123" points="0,-180 196,-180 "/>
<text text-anchor="start" x="8" y="-164.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">action twoPhaseCommitAction</text>
<polyline fill="none" stroke="#1c2123" points="0,-157 196,-157 "/>
<text text-anchor="start" x="8" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">backoffer *Backoffer</text>
</g>
<!-- batchExecutor&#45;&gt;twoPhaseCommitter -->
<g id="edge8" class="edge">
<title>batchExecutor&#45;&gt;twoPhaseCommitter</title>
<path fill="none" stroke="#666666" d="M155.69,-272.33C178.39,-298.61 205.43,-328.17 232,-353 235.1,-355.9 238.28,-358.79 241.53,-361.68"/>
<polygon fill="#666666" stroke="#666666" points="239.39,-364.46 249.22,-368.4 243.99,-359.18 239.39,-364.46"/>
</g>
<!-- twoPhaseCommitAction -->
<g id="node10" class="node">
<title>twoPhaseCommitAction</title>
<path fill="none" stroke="#1c2123" d="M413,-175C413,-175 286,-175 286,-175 280,-175 274,-169 274,-163 274,-163 274,-151 274,-151 274,-145 280,-139 286,-139 286,-139 413,-139 413,-139 419,-139 425,-145 425,-151 425,-151 425,-163 425,-163 425,-169 419,-175 413,-175"/>
<text text-anchor="middle" x="349.5" y="-153.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">twoPhaseCommitAction</text>
</g>
<!-- batchExecutor&#45;&gt;twoPhaseCommitAction -->
<g id="edge9" class="edge">
<title>batchExecutor&#45;&gt;twoPhaseCommitAction</title>
<path fill="none" stroke="#666666" d="M196.18,-185.08C218.6,-180.95 242.28,-176.58 264.11,-172.56"/>
<polygon fill="#666666" stroke="#666666" points="264.8,-175.99 274,-170.74 263.53,-169.11 264.8,-175.99"/>
</g>
<!-- actionPessimisticLock -->
<g id="node11" class="node">
<title>actionPessimisticLock</title>
<path fill="none" stroke="#1c2123" d="M672,-252C672,-252 557,-252 557,-252 551,-252 545,-246 545,-240 545,-240 545,-228 545,-228 545,-222 551,-216 557,-216 557,-216 672,-216 672,-216 678,-216 684,-222 684,-228 684,-228 684,-240 684,-240 684,-246 678,-252 672,-252"/>
<text text-anchor="middle" x="614.5" y="-230.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionPessimisticLock</text>
</g>
<!-- twoPhaseCommitAction&#45;&gt;actionPessimisticLock -->
<g id="edge10" class="edge">
<title>twoPhaseCommitAction&#45;&gt;actionPessimisticLock</title>
<path fill="none" stroke="#666666" d="M424.85,-175.08C439.01,-179.18 453.58,-183.86 467,-189 483.7,-195.4 486.21,-200.84 503,-207 513.22,-210.75 524.16,-214.14 535.04,-217.14"/>
<polygon fill="#666666" stroke="#666666" points="534.43,-220.6 544.99,-219.8 536.23,-213.84 534.43,-220.6"/>
</g>
<!-- actionPessimisticRollback -->
<g id="node12" class="node">
<title>actionPessimisticRollback</title>
<path fill="none" stroke="#1c2123" d="M682.5,-198C682.5,-198 546.5,-198 546.5,-198 540.5,-198 534.5,-192 534.5,-186 534.5,-186 534.5,-174 534.5,-174 534.5,-168 540.5,-162 546.5,-162 546.5,-162 682.5,-162 682.5,-162 688.5,-162 694.5,-168 694.5,-174 694.5,-174 694.5,-186 694.5,-186 694.5,-192 688.5,-198 682.5,-198"/>
<text text-anchor="middle" x="614.5" y="-176.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionPessimisticRollback</text>
</g>
<!-- twoPhaseCommitAction&#45;&gt;actionPessimisticRollback -->
<g id="edge11" class="edge">
<title>twoPhaseCommitAction&#45;&gt;actionPessimisticRollback</title>
<path fill="none" stroke="#666666" d="M425.16,-163.53C455.86,-166.21 491.67,-169.35 523.77,-172.15"/>
<polygon fill="#666666" stroke="#666666" points="523.79,-175.67 534.06,-173.05 524.4,-168.69 523.79,-175.67"/>
</g>
<!-- actionPrewrite -->
<g id="node13" class="node">
<title>actionPrewrite</title>
<path fill="none" stroke="#1c2123" d="M650,-144C650,-144 579,-144 579,-144 573,-144 567,-138 567,-132 567,-132 567,-120 567,-120 567,-114 573,-108 579,-108 579,-108 650,-108 650,-108 656,-108 662,-114 662,-120 662,-120 662,-132 662,-132 662,-138 656,-144 650,-144"/>
<text text-anchor="middle" x="614.5" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionPrewrite</text>
</g>
<!-- twoPhaseCommitAction&#45;&gt;actionPrewrite -->
<g id="edge12" class="edge">
<title>twoPhaseCommitAction&#45;&gt;actionPrewrite</title>
<path fill="none" stroke="#666666" d="M425.16,-148.2C466.98,-143.27 518.3,-137.22 556.8,-132.68"/>
<polygon fill="#666666" stroke="#666666" points="557.28,-136.15 566.8,-131.5 556.46,-129.2 557.28,-136.15"/>
</g>
<!-- actionCommit -->
<g id="node14" class="node">
<title>actionCommit</title>
<path fill="none" stroke="#1c2123" d="M650,-90C650,-90 579,-90 579,-90 573,-90 567,-84 567,-78 567,-78 567,-66 567,-66 567,-60 573,-54 579,-54 579,-54 650,-54 650,-54 656,-54 662,-60 662,-66 662,-66 662,-78 662,-78 662,-84 656,-90 650,-90"/>
<text text-anchor="middle" x="614.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionCommit</text>
</g>
<!-- twoPhaseCommitAction&#45;&gt;actionCommit -->
<g id="edge13" class="edge">
<title>twoPhaseCommitAction&#45;&gt;actionCommit</title>
<path fill="none" stroke="#666666" d="M393.71,-138.92C423.98,-126.67 465.54,-110.65 503,-99 520.34,-93.61 539.48,-88.6 556.89,-84.41"/>
<polygon fill="#666666" stroke="#666666" points="557.99,-87.74 566.91,-82.03 556.38,-80.93 557.99,-87.74"/>
</g>
<!-- actionCleanup -->
<g id="node15" class="node">
<title>actionCleanup</title>
<path fill="none" stroke="#1c2123" d="M650,-36C650,-36 579,-36 579,-36 573,-36 567,-30 567,-24 567,-24 567,-12 567,-12 567,-6 573,0 579,0 579,0 650,0 650,0 656,0 662,-6 662,-12 662,-12 662,-24 662,-24 662,-30 656,-36 650,-36"/>
<text text-anchor="middle" x="614.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">actionCleanup</text>
</g>
<!-- twoPhaseCommitAction&#45;&gt;actionCleanup -->
<g id="edge14" class="edge">
<title>twoPhaseCommitAction&#45;&gt;actionCleanup</title>
<path fill="none" stroke="#666666" d="M370.05,-138.61C397.58,-113.71 450.31,-69.58 503,-45 519.76,-37.18 539.03,-31.47 556.75,-27.37"/>
<polygon fill="#666666" stroke="#666666" points="557.95,-30.69 566.97,-25.14 556.45,-23.85 557.95,-30.69"/>
</g>
<!-- KVUnionStore&#45;&gt;MemDB -->
<g id="edge18" class="edge">
<title>KVUnionStore&#45;&gt;MemDB</title>
<path fill="none" stroke="#666666" d="M431.23,-275.01C516.71,-279.25 652.7,-285.99 751.53,-290.9"/>
<polygon fill="#666666" stroke="#666666" points="751.41,-294.4 761.58,-291.4 751.76,-287.41 751.41,-294.4"/>
</g>
<!-- uSnapshot -->
<g id="node19" class="node">
<title>uSnapshot</title>
<path fill="none" stroke="#1c2123" d="M639,-344C639,-344 590,-344 590,-344 584,-344 578,-338 578,-332 578,-332 578,-320 578,-320 578,-314 584,-308 590,-308 590,-308 639,-308 639,-308 645,-308 651,-314 651,-320 651,-320 651,-332 651,-332 651,-338 645,-344 639,-344"/>
<text text-anchor="middle" x="614.5" y="-322.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uSnapshot</text>
</g>
<!-- KVUnionStore&#45;&gt;uSnapshot -->
<g id="edge19" class="edge">
<title>KVUnionStore&#45;&gt;uSnapshot</title>
<path fill="none" stroke="#666666" d="M431.2,-287.88C476.05,-297.26 530.23,-308.59 567.81,-316.44"/>
<polygon fill="#666666" stroke="#666666" points="567.44,-319.94 577.95,-318.56 568.88,-313.09 567.44,-319.94"/>
</g>
</g>
</svg>
