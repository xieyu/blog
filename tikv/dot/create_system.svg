<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: create_system Pages: 1 -->
<svg width="1328pt" height="288pt"
 viewBox="0.00 0.00 1328.00 287.53" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 283.53)">
<title>create_system</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-283.53 1324,-283.53 1324,4 -4,4"/>
<!-- tx -->
<g id="node1" class="node">
<title>tx</title>
<path fill="#feed9b" stroke="#f7e495" d="M602,-49C602,-49 708,-49 708,-49 714,-49 720,-55 720,-61 720,-61 720,-83 720,-83 720,-89 714,-95 708,-95 708,-95 602,-95 602,-95 596,-95 590,-89 590,-83 590,-83 590,-61 590,-61 590,-55 596,-49 602,-49"/>
<text text-anchor="middle" x="655" y="-79.8" font-family="Times,serif" font-size="14.00" fill="#40575d">tx</text>
<polyline fill="none" stroke="#f7e495" points="590,-72 720,-72 "/>
<text text-anchor="middle" x="655" y="-56.8" font-family="Times,serif" font-size="14.00" fill="#40575d">channel发送数据端</text>
</g>
<!-- NormalScheduler -->
<g id="node11" class="node">
<title>NormalScheduler</title>
<path fill="none" stroke="#1c2123" d="M884,-90C884,-90 795,-90 795,-90 789,-90 783,-84 783,-78 783,-78 783,-66 783,-66 783,-60 789,-54 795,-54 795,-54 884,-54 884,-54 890,-54 896,-60 896,-66 896,-66 896,-78 896,-78 896,-84 890,-90 884,-90"/>
<text text-anchor="middle" x="839.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">NormalScheduler</text>
</g>
<!-- tx&#45;&gt;NormalScheduler -->
<g id="edge10" class="edge">
<title>tx&#45;&gt;NormalScheduler</title>
<path fill="none" stroke="#666666" d="M720.09,-72C737.01,-72 755.31,-72 772.34,-72"/>
<polygon fill="#666666" stroke="#666666" points="772.76,-75.5 782.76,-72 772.76,-68.5 772.76,-75.5"/>
</g>
<!-- ControlScheduler -->
<g id="node12" class="node">
<title>ControlScheduler</title>
<path fill="none" stroke="#1c2123" d="M883.5,-36C883.5,-36 795.5,-36 795.5,-36 789.5,-36 783.5,-30 783.5,-24 783.5,-24 783.5,-12 783.5,-12 783.5,-6 789.5,0 795.5,0 795.5,0 883.5,0 883.5,0 889.5,0 895.5,-6 895.5,-12 895.5,-12 895.5,-24 895.5,-24 895.5,-30 889.5,-36 883.5,-36"/>
<text text-anchor="middle" x="839.5" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ControlScheduler</text>
</g>
<!-- tx&#45;&gt;ControlScheduler -->
<g id="edge11" class="edge">
<title>tx&#45;&gt;ControlScheduler</title>
<path fill="none" stroke="#666666" d="M720.09,-53.04C737.34,-47.93 756.03,-42.4 773.34,-37.28"/>
<polygon fill="#666666" stroke="#666666" points="774.76,-40.51 783.36,-34.32 772.77,-33.8 774.76,-40.51"/>
</g>
<!-- rx -->
<g id="node2" class="node">
<title>rx</title>
<path fill="#feed9b" stroke="#f7e495" d="M602,-128C602,-128 708,-128 708,-128 714,-128 720,-134 720,-140 720,-140 720,-162 720,-162 720,-168 714,-174 708,-174 708,-174 602,-174 602,-174 596,-174 590,-168 590,-162 590,-162 590,-140 590,-140 590,-134 596,-128 602,-128"/>
<text text-anchor="middle" x="655" y="-158.8" font-family="Times,serif" font-size="14.00" fill="#40575d">rx</text>
<polyline fill="none" stroke="#f7e495" points="590,-151 720,-151 "/>
<text text-anchor="middle" x="655" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#40575d">channel接收数据端</text>
</g>
<!-- BatchSystem -->
<g id="node5" class="node">
<title>BatchSystem</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M768,-109C768,-109 911,-109 911,-109 917,-109 923,-115 923,-121 923,-121 923,-227 923,-227 923,-233 917,-239 911,-239 911,-239 768,-239 768,-239 762,-239 756,-233 756,-227 756,-227 756,-121 756,-121 756,-115 762,-109 768,-109"/>
<text text-anchor="middle" x="839.5" y="-223.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">BatchSystem</text>
<polyline fill="none" stroke="#60b5ac" points="756,-216 923,-216 "/>
<text text-anchor="middle" x="839.5" y="-200.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
<polyline fill="none" stroke="#60b5ac" points="756,-193 923,-193 "/>
<text text-anchor="start" x="764" y="-177.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">router: BatchRouter&lt;N, C&gt;</text>
<polyline fill="none" stroke="#60b5ac" points="756,-170 923,-170 "/>
<text text-anchor="start" x="764" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">receiver: channel::Receiver</text>
<text text-anchor="start" x="764" y="-139.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> &lt;FsmTypes&lt;N, C&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="756,-132 923,-132 "/>
<text text-anchor="middle" x="839.5" y="-116.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">..</text>
</g>
<!-- rx&#45;&gt;BatchSystem -->
<g id="edge16" class="edge">
<title>rx&#45;&gt;BatchSystem:reciver</title>
<path fill="none" stroke="#666666" d="M720.02,-151C728.52,-151 737.24,-151 745.75,-151"/>
<polygon fill="#666666" stroke="#666666" points="746,-154.5 756,-151 746,-147.5 746,-154.5"/>
</g>
<!-- channel_unbounded -->
<g id="node3" class="node">
<title>channel_unbounded</title>
<path fill="none" stroke="#1c2123" d="M393,-128C393,-128 542,-128 542,-128 548,-128 554,-134 554,-140 554,-140 554,-162 554,-162 554,-168 548,-174 542,-174 542,-174 393,-174 393,-174 387,-174 381,-168 381,-162 381,-162 381,-140 381,-140 381,-134 387,-128 393,-128"/>
<text text-anchor="middle" x="467.5" y="-158.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">channel::unbounded</text>
<polyline fill="none" stroke="#1c2123" points="381,-151 554,-151 "/>
<text text-anchor="start" x="389" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建一个没限制的channel</text>
</g>
<!-- channel_unbounded&#45;&gt;tx -->
<g id="edge8" class="edge">
<title>channel_unbounded&#45;&gt;tx</title>
<path fill="none" stroke="#666666" d="M522.65,-127.94C543.89,-118.89 568.42,-108.45 590.49,-99.05"/>
<polygon fill="#666666" stroke="#666666" points="591.95,-102.23 599.78,-95.09 589.21,-95.79 591.95,-102.23"/>
</g>
<!-- channel_unbounded&#45;&gt;rx -->
<g id="edge9" class="edge">
<title>channel_unbounded&#45;&gt;rx</title>
<path fill="none" stroke="#666666" d="M554.19,-151C562.69,-151 571.28,-151 579.65,-151"/>
<polygon fill="#666666" stroke="#666666" points="579.75,-154.5 589.75,-151 579.75,-147.5 579.75,-154.5"/>
</g>
<!-- Router -->
<g id="node4" class="node">
<title>Router</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M971,-57.5C971,-57.5 1308,-57.5 1308,-57.5 1314,-57.5 1320,-63.5 1320,-69.5 1320,-69.5 1320,-206.5 1320,-206.5 1320,-212.5 1314,-218.5 1308,-218.5 1308,-218.5 971,-218.5 971,-218.5 965,-218.5 959,-212.5 959,-206.5 959,-206.5 959,-69.5 959,-69.5 959,-63.5 965,-57.5 971,-57.5"/>
<text text-anchor="middle" x="1139.5" y="-203.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Router</text>
<polyline fill="none" stroke="#60b5ac" points="959,-195.5 1320,-195.5 "/>
<text text-anchor="start" x="967" y="-180.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">normals: Arc&lt;Mutex&lt;HashMap&lt;u64, BasicMailbox&lt;N&gt;&gt;&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="959,-172.5 1320,-172.5 "/>
<text text-anchor="start" x="967" y="-157.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">caches: Cell&lt;LruCache&lt;u64, BasicMailbox&lt;N&gt;&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="959,-149.5 1320,-149.5 "/>
<text text-anchor="start" x="967" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub(super) control_box: BasicMailbox&lt;C&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="959,-126.5 1320,-126.5 "/>
<text text-anchor="start" x="967" y="-111.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub(crate) normal_scheduler: Ns,</text>
<polyline fill="none" stroke="#60b5ac" points="959,-103.5 1320,-103.5 "/>
<text text-anchor="start" x="967" y="-88.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">control_scheduler: Cs,</text>
<polyline fill="none" stroke="#60b5ac" points="959,-80.5 1320,-80.5 "/>
<text text-anchor="start" x="967" y="-65.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">shutdown: Arc&lt;AtomicBool&gt;,</text>
</g>
<!-- BatchSystem&#45;&gt;Router -->
<g id="edge15" class="edge">
<title>BatchSystem:router&#45;&gt;Router</title>
<path fill="none" stroke="#666666" d="M923,-182C931.44,-182 940.03,-181.67 948.68,-181.07"/>
<polygon fill="#666666" stroke="#666666" points="949.17,-184.54 958.85,-180.25 948.6,-177.57 949.17,-184.54"/>
</g>
<!-- sender -->
<g id="node6" class="node">
<title>sender</title>
<path fill="#feed9b" stroke="#f7e495" d="M12,-126.5C12,-126.5 203,-126.5 203,-126.5 209,-126.5 215,-132.5 215,-138.5 215,-138.5 215,-175.5 215,-175.5 215,-181.5 209,-187.5 203,-187.5 203,-187.5 12,-187.5 12,-187.5 6,-187.5 0,-181.5 0,-175.5 0,-175.5 0,-138.5 0,-138.5 0,-132.5 6,-126.5 12,-126.5"/>
<text text-anchor="middle" x="107.5" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#40575d">sender</text>
<polyline fill="none" stroke="#f7e495" points="0,-164.5 215,-164.5 "/>
<text text-anchor="start" x="8" y="-149.3" font-family="Times,serif" font-size="14.00" fill="#40575d">sender: mpsc::LooseBoundedSender</text>
<text text-anchor="middle" x="107.5" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> &lt;C::Message&gt;</text>
</g>
<!-- create_system -->
<g id="node8" class="node">
<title>create_system</title>
<path fill="none" stroke="#1c2123" d="M333,-212C333,-212 263,-212 263,-212 257,-212 251,-206 251,-200 251,-200 251,-188 251,-188 251,-182 257,-176 263,-176 263,-176 333,-176 333,-176 339,-176 345,-182 345,-188 345,-188 345,-200 345,-200 345,-206 339,-212 333,-212"/>
<text text-anchor="middle" x="298" y="-190.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">create_system</text>
</g>
<!-- sender&#45;&gt;create_system -->
<g id="edge1" class="edge">
<title>sender&#45;&gt;create_system</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M215.14,-177.93C224.03,-179.68 232.76,-181.39 241.02,-183.01"/>
<polygon fill="green" stroke="green" points="240.36,-186.45 250.84,-184.94 241.7,-179.58 240.36,-186.45"/>
</g>
<!-- BasicMailbox_new -->
<g id="node9" class="node">
<title>BasicMailbox_new</title>
<path fill="none" stroke="#1c2123" d="M516.5,-235C516.5,-235 418.5,-235 418.5,-235 412.5,-235 406.5,-229 406.5,-223 406.5,-223 406.5,-211 406.5,-211 406.5,-205 412.5,-199 418.5,-199 418.5,-199 516.5,-199 516.5,-199 522.5,-199 528.5,-205 528.5,-211 528.5,-211 528.5,-223 528.5,-223 528.5,-229 522.5,-235 516.5,-235"/>
<text text-anchor="middle" x="467.5" y="-213.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BasicMailbox_new</text>
</g>
<!-- sender&#45;&gt;BasicMailbox_new -->
<g id="edge3" class="edge">
<title>sender&#45;&gt;BasicMailbox_new</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M215.14,-152.56C256.24,-153.17 303.3,-156.72 345,-167 362.18,-171.24 364.74,-177.03 381,-184 389.79,-187.77 399.17,-191.58 408.37,-195.22"/>
<polygon fill="green" stroke="green" points="407.28,-198.55 417.87,-198.94 409.83,-192.03 407.28,-198.55"/>
</g>
<!-- controller -->
<g id="node7" class="node">
<title>controller</title>
<path fill="#feed9b" stroke="#f7e495" d="M83.5,-212C83.5,-212 131.5,-212 131.5,-212 137.5,-212 143.5,-218 143.5,-224 143.5,-224 143.5,-246 143.5,-246 143.5,-252 137.5,-258 131.5,-258 131.5,-258 83.5,-258 83.5,-258 77.5,-258 71.5,-252 71.5,-246 71.5,-246 71.5,-224 71.5,-224 71.5,-218 77.5,-212 83.5,-212"/>
<text text-anchor="middle" x="107.5" y="-242.8" font-family="Times,serif" font-size="14.00" fill="#40575d">Controller</text>
<polyline fill="none" stroke="#f7e495" points="71.5,-235 143.5,-235 "/>
<text text-anchor="middle" x="107.5" y="-219.8" font-family="Times,serif" font-size="14.00" fill="#40575d">Fsm</text>
</g>
<!-- controller&#45;&gt;create_system -->
<g id="edge2" class="edge">
<title>controller&#45;&gt;create_system</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M143.51,-227.38C170.8,-221.45 209.22,-213.09 240.8,-206.22"/>
<polygon fill="green" stroke="green" points="241.76,-209.6 250.79,-204.05 240.27,-202.76 241.76,-209.6"/>
</g>
<!-- controller&#45;&gt;BasicMailbox_new -->
<g id="edge4" class="edge">
<title>controller&#45;&gt;BasicMailbox_new</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M143.81,-233.22C202.18,-230.29 319.91,-224.37 395.88,-220.55"/>
<polygon fill="green" stroke="green" points="396.49,-224.02 406.31,-220.03 396.14,-217.03 396.49,-224.02"/>
</g>
<!-- create_system&#45;&gt;channel_unbounded -->
<g id="edge6" class="edge">
<title>create_system&#45;&gt;channel_unbounded</title>
<path fill="none" stroke="#666666" d="M345.21,-182.14C353.39,-180.04 362.17,-177.78 371.13,-175.48"/>
<polygon fill="#666666" stroke="#666666" points="372.09,-178.85 380.91,-172.97 370.35,-172.07 372.09,-178.85"/>
</g>
<!-- create_system&#45;&gt;BasicMailbox_new -->
<g id="edge7" class="edge">
<title>create_system&#45;&gt;BasicMailbox_new</title>
<path fill="none" stroke="#666666" d="M345.21,-200.35C361,-202.51 379.03,-204.99 396.27,-207.36"/>
<polygon fill="#666666" stroke="#666666" points="395.92,-210.84 406.31,-208.73 396.88,-203.91 395.92,-210.84"/>
</g>
<!-- control_box -->
<g id="node10" class="node">
<title>control_box</title>
<path fill="none" stroke="#1c2123" d="M605.5,-215.5C605.5,-215.5 704.5,-215.5 704.5,-215.5 710.5,-215.5 716.5,-221.5 716.5,-227.5 716.5,-227.5 716.5,-264.5 716.5,-264.5 716.5,-270.5 710.5,-276.5 704.5,-276.5 704.5,-276.5 605.5,-276.5 605.5,-276.5 599.5,-276.5 593.5,-270.5 593.5,-264.5 593.5,-264.5 593.5,-227.5 593.5,-227.5 593.5,-221.5 599.5,-215.5 605.5,-215.5"/>
<text text-anchor="middle" x="655" y="-261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">control_box</text>
<polyline fill="none" stroke="#1c2123" points="593.5,-253.5 716.5,-253.5 "/>
<text text-anchor="start" x="601.5" y="-238.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">可以使用sender向</text>
<text text-anchor="start" x="601.5" y="-223.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> controller发消息</text>
</g>
<!-- BasicMailbox_new&#45;&gt;control_box -->
<g id="edge5" class="edge">
<title>BasicMailbox_new&#45;&gt;control_box</title>
<path fill="none" stroke="#666666" d="M528.73,-226.42C546.22,-229.15 565.48,-232.16 583.55,-234.99"/>
<polygon fill="#666666" stroke="#666666" points="583.02,-238.45 593.44,-236.53 584.1,-231.53 583.02,-238.45"/>
</g>
<!-- control_box&#45;&gt;Router -->
<g id="edge12" class="edge">
<title>control_box&#45;&gt;Router:control_box</title>
<path fill="none" stroke="#666666" d="M716.55,-265.7C775.1,-280.72 863.47,-292.27 923,-249 961.67,-220.89 915.56,-150.27 948.75,-139.41"/>
<polygon fill="#666666" stroke="#666666" points="949.57,-142.83 959,-138 948.62,-135.9 949.57,-142.83"/>
</g>
<!-- NormalScheduler&#45;&gt;Router -->
<g id="edge13" class="edge">
<title>NormalScheduler&#45;&gt;Router:normal_scheduler</title>
<path fill="none" stroke="#666666" d="M896.25,-89.39C905.24,-92.44 914.42,-95.7 923,-99 935.51,-103.81 939.7,-110.64 948.84,-113.57"/>
<polygon fill="#666666" stroke="#666666" points="948.61,-117.07 959,-115 949.59,-110.14 948.61,-117.07"/>
</g>
<!-- ControlScheduler&#45;&gt;Router -->
<g id="edge14" class="edge">
<title>ControlScheduler&#45;&gt;Router:control_scheduler</title>
<path fill="none" stroke="#666666" d="M895.54,-30.87C905.19,-34.53 914.76,-39.16 923,-45 941.11,-57.84 935.56,-82.47 949.18,-89.86"/>
<polygon fill="#666666" stroke="#666666" points="948.48,-93.29 959,-92 949.98,-86.45 948.48,-93.29"/>
</g>
</g>
</svg>
