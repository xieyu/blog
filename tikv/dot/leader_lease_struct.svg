<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: leader_lease_struct Pages: 1 -->
<svg width="1025pt" height="258pt"
 viewBox="0.00 0.00 1025.00 257.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 253.5)">
<title>leader_lease_struct</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-253.5 1021,-253.5 1021,4 -4,4"/>
<!-- Lease -->
<g id="node1" class="node">
<title>Lease</title>
<path fill="none" stroke="#1c2123" d="M514,-0.5C514,-0.5 769,-0.5 769,-0.5 775,-0.5 781,-6.5 781,-12.5 781,-12.5 781,-126.5 781,-126.5 781,-132.5 775,-138.5 769,-138.5 769,-138.5 514,-138.5 514,-138.5 508,-138.5 502,-132.5 502,-126.5 502,-126.5 502,-12.5 502,-12.5 502,-6.5 508,-0.5 514,-0.5"/>
<text text-anchor="middle" x="641.5" y="-123.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Lease</text>
<polyline fill="none" stroke="#1c2123" points="502,-115.5 781,-115.5 "/>
<text text-anchor="start" x="510" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bound: Option&lt;Either&lt;Timespec, Timespec&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="502,-92.5 781,-92.5 "/>
<text text-anchor="start" x="510" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">max_lease: Duration,</text>
<polyline fill="none" stroke="#1c2123" points="502,-69.5 781,-69.5 "/>
<text text-anchor="start" x="510" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">max_drift: Duration,</text>
<polyline fill="none" stroke="#1c2123" points="502,-46.5 781,-46.5 "/>
<text text-anchor="start" x="510" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">last_update: Timespec,</text>
<polyline fill="none" stroke="#1c2123" points="502,-23.5 781,-23.5 "/>
<text text-anchor="start" x="510" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">remote: Option&lt;RemoteLease&gt;,</text>
</g>
<!-- RemoteLease -->
<g id="node3" class="node">
<title>RemoteLease</title>
<path fill="none" stroke="#1c2123" d="M829,-96C829,-96 1005,-96 1005,-96 1011,-96 1017,-102 1017,-108 1017,-108 1017,-153 1017,-153 1017,-159 1011,-165 1005,-165 1005,-165 829,-165 829,-165 823,-165 817,-159 817,-153 817,-153 817,-108 817,-108 817,-102 823,-96 829,-96"/>
<text text-anchor="middle" x="917" y="-149.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RemoteLease</text>
<polyline fill="none" stroke="#1c2123" points="817,-142 1017,-142 "/>
<text text-anchor="start" x="825" y="-126.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">expired_time: Arc&lt;AtomicU64&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="817,-119 1017,-119 "/>
<text text-anchor="start" x="825" y="-103.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">term: u64,</text>
</g>
<!-- Lease&#45;&gt;RemoteLease -->
<g id="edge2" class="edge">
<title>Lease&#45;&gt;RemoteLease</title>
<path fill="none" stroke="#666666" d="M781.25,-100.45C789.9,-102.38 798.54,-104.3 807.03,-106.2"/>
<polygon fill="#666666" stroke="#666666" points="806.39,-109.64 816.92,-108.4 807.92,-102.81 806.39,-109.64"/>
</g>
<!-- Peer -->
<g id="node2" class="node">
<title>Peer</title>
<path fill="none" stroke="#1c2123" d="M316.5,-39C316.5,-39 418.5,-39 418.5,-39 424.5,-39 430.5,-45 430.5,-51 430.5,-51 430.5,-88 430.5,-88 430.5,-94 424.5,-100 418.5,-100 418.5,-100 316.5,-100 316.5,-100 310.5,-100 304.5,-94 304.5,-88 304.5,-88 304.5,-51 304.5,-51 304.5,-45 310.5,-39 316.5,-39"/>
<text text-anchor="middle" x="367.5" y="-84.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<polyline fill="none" stroke="#1c2123" points="304.5,-77 430.5,-77 "/>
<text text-anchor="start" x="312.5" y="-61.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">leader_lease: Lease,</text>
<text text-anchor="start" x="312.5" y="-46.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ...</text>
</g>
<!-- Peer&#45;&gt;Lease -->
<g id="edge1" class="edge">
<title>Peer&#45;&gt;Lease</title>
<path fill="none" stroke="#666666" d="M430.56,-69.5C449.04,-69.5 470.13,-69.5 491.65,-69.5"/>
<polygon fill="#666666" stroke="#666666" points="491.91,-73 501.91,-69.5 491.91,-66 491.91,-73"/>
</g>
<!-- ReadDelegate -->
<g id="node4" class="node">
<title>ReadDelegate</title>
<path fill="none" stroke="#1c2123" d="M542,-158C542,-158 741,-158 741,-158 747,-158 753,-164 753,-170 753,-170 753,-215 753,-215 753,-221 747,-227 741,-227 741,-227 542,-227 542,-227 536,-227 530,-221 530,-215 530,-215 530,-170 530,-170 530,-164 536,-158 542,-158"/>
<text text-anchor="middle" x="641.5" y="-211.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ReadDelegate</text>
<polyline fill="none" stroke="#1c2123" points="530,-204 753,-204 "/>
<text text-anchor="start" x="538" y="-188.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">leader_lease: Option&lt;RemoteLease&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="530,-181 753,-181 "/>
<text text-anchor="middle" x="641.5" y="-165.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">...</text>
</g>
<!-- ReadDelegate&#45;&gt;RemoteLease -->
<g id="edge3" class="edge">
<title>ReadDelegate&#45;&gt;RemoteLease</title>
<path fill="none" stroke="#666666" d="M753.35,-167.37C771.09,-163.35 789.43,-159.19 807.13,-155.18"/>
<polygon fill="#666666" stroke="#666666" points="807.91,-158.59 816.88,-152.97 806.36,-151.77 807.91,-158.59"/>
</g>
<!-- StoreMeta -->
<g id="node5" class="node">
<title>StoreMeta</title>
<path fill="none" stroke="#1c2123" d="M281,-140C281,-140 454,-140 454,-140 460,-140 466,-146 466,-152 466,-152 466,-189 466,-189 466,-195 460,-201 454,-201 454,-201 281,-201 281,-201 275,-201 269,-195 269,-189 269,-189 269,-152 269,-152 269,-146 275,-140 281,-140"/>
<text text-anchor="middle" x="367.5" y="-185.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta</text>
<polyline fill="none" stroke="#1c2123" points="269,-178 466,-178 "/>
<text text-anchor="start" x="277" y="-162.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub readers:</text>
<text text-anchor="start" x="277" y="-147.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> HashMap&lt;u64, ReadDelegate&gt;,</text>
</g>
<!-- StoreMeta&#45;&gt;ReadDelegate -->
<g id="edge5" class="edge">
<title>StoreMeta&#45;&gt;ReadDelegate</title>
<path fill="none" stroke="#666666" d="M466.31,-178.41C483.5,-179.8 501.57,-181.26 519.31,-182.7"/>
<polygon fill="#666666" stroke="#666666" points="519.45,-186.22 529.7,-183.54 520.02,-179.24 519.45,-186.22"/>
</g>
<!-- LocalReader -->
<g id="node6" class="node">
<title>LocalReader</title>
<path fill="none" stroke="#1c2123" d="M12,-150C12,-150 221,-150 221,-150 227,-150 233,-156 233,-162 233,-162 233,-237 233,-237 233,-243 227,-249 221,-249 221,-249 12,-249 12,-249 6,-249 0,-243 0,-237 0,-237 0,-162 0,-162 0,-156 6,-150 12,-150"/>
<text text-anchor="middle" x="116.5" y="-233.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">LocalReader</text>
<polyline fill="none" stroke="#1c2123" points="0,-226 233,-226 "/>
<text text-anchor="start" x="8" y="-210.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">store_meta: </text>
<text text-anchor="start" x="8" y="-195.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Arc&lt;Mutex&lt;StoreMeta&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="0,-188 233,-188 "/>
<text text-anchor="start" x="8" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">delegates: </text>
<text text-anchor="start" x="8" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> LruCache&lt;u64, Arc&lt;ReadDelegate&gt;&gt;,</text>
</g>
<!-- LocalReader&#45;&gt;ReadDelegate -->
<g id="edge4" class="edge">
<title>LocalReader&#45;&gt;ReadDelegate</title>
<path fill="none" stroke="#666666" d="M233.26,-208.77C245.32,-209.48 257.4,-210.08 269,-210.5 356.5,-213.67 378.56,-215 466,-210.5 483.45,-209.6 501.84,-208.2 519.88,-206.57"/>
<polygon fill="#666666" stroke="#666666" points="520.23,-210.05 529.86,-205.64 519.58,-203.09 520.23,-210.05"/>
</g>
<!-- LocalReader&#45;&gt;StoreMeta -->
<g id="edge6" class="edge">
<title>LocalReader&#45;&gt;StoreMeta</title>
<path fill="none" stroke="#666666" d="M233.25,-186.02C241.83,-185.02 250.47,-184.01 259,-183.02"/>
<polygon fill="#666666" stroke="#666666" points="259.42,-186.49 268.95,-181.86 258.61,-179.54 259.42,-186.49"/>
</g>
</g>
</svg>
