<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: lock_manager_wake_up Pages: 1 -->
<svg width="1250pt" height="312pt"
 viewBox="0.00 0.00 1250.00 312.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 308)">
<title>lock_manager_wake_up</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-308 1246,-308 1246,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_future_Scheduler</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M836,-94C836,-94 1065,-94 1065,-94 1071,-94 1077,-100 1077,-106 1077,-106 1077,-198 1077,-198 1077,-204 1071,-210 1065,-210 1065,-210 836,-210 836,-210 830,-210 824,-204 824,-198 824,-198 824,-106 824,-106 824,-100 830,-94 836,-94"/>
<text text-anchor="middle" x="950.5" y="-190" font-family="Times,serif" font-size="20.00">future/Scheduler</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_wait_manager</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M259,-110C259,-110 652.5,-110 652.5,-110 658.5,-110 664.5,-116 664.5,-122 664.5,-122 664.5,-182 664.5,-182 664.5,-188 658.5,-194 652.5,-194 652.5,-194 259,-194 259,-194 253,-194 247,-188 247,-182 247,-182 247,-122 247,-122 247,-116 253,-110 259,-110"/>
<text text-anchor="middle" x="455.75" y="-174" font-family="Times,serif" font-size="20.00">wait_manager/Scheduler</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_deadlock_Scheduler</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M213,-8C213,-8 362,-8 362,-8 368,-8 374,-14 374,-20 374,-20 374,-90 374,-90 374,-96 368,-102 362,-102 362,-102 213,-102 213,-102 207,-102 201,-96 201,-90 201,-90 201,-20 201,-20 201,-14 207,-8 213,-8"/>
<text text-anchor="middle" x="287.5" y="-82" font-family="Times,serif" font-size="20.00">deadlock/Scheduler</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_LockManager</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-202C20,-202 792,-202 792,-202 798,-202 804,-208 804,-214 804,-214 804,-284 804,-284 804,-290 798,-296 792,-296 792,-296 20,-296 20,-296 14,-296 8,-290 8,-284 8,-284 8,-214 8,-214 8,-208 14,-202 20,-202"/>
<text text-anchor="middle" x="406" y="-276" font-family="Times,serif" font-size="20.00">LockManager</text>
</g>
<!-- schedule -->
<g id="node1" class="node">
<title>schedule</title>
<path fill="none" stroke="#1c2123" d="M884,-155C884,-155 844,-155 844,-155 838,-155 832,-149 832,-143 832,-143 832,-131 832,-131 832,-125 838,-119 844,-119 844,-119 884,-119 884,-119 890,-119 896,-125 896,-131 896,-131 896,-143 896,-143 896,-149 890,-155 884,-155"/>
<text text-anchor="middle" x="864" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">schedule</text>
</g>
<!-- UnboundedSender_send -->
<g id="node2" class="node">
<title>UnboundedSender_send</title>
<path fill="none" stroke="#1c2123" d="M944,-102.5C944,-102.5 1057,-102.5 1057,-102.5 1063,-102.5 1069,-108.5 1069,-114.5 1069,-114.5 1069,-159.5 1069,-159.5 1069,-165.5 1063,-171.5 1057,-171.5 1057,-171.5 944,-171.5 944,-171.5 938,-171.5 932,-165.5 932,-159.5 932,-159.5 932,-114.5 932,-114.5 932,-108.5 938,-102.5 944,-102.5"/>
<text text-anchor="start" x="940" y="-156.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">UnboundedSender</text>
<polyline fill="none" stroke="#1c2123" points="932,-148.5 1069,-148.5 "/>
<text text-anchor="start" x="940" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
<polyline fill="none" stroke="#1c2123" points="932,-125.5 1069,-125.5 "/>
<text text-anchor="start" x="940" y="-110.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">将task放入channel中</text>
</g>
<!-- schedule&#45;&gt;UnboundedSender_send -->
<g id="edge1" class="edge">
<title>schedule&#45;&gt;UnboundedSender_send</title>
<path fill="none" stroke="#666666" d="M896.2,-137C903.98,-137 912.67,-137 921.62,-137"/>
<polygon fill="#666666" stroke="#666666" points="921.81,-140.5 931.81,-137 921.81,-133.5 921.81,-140.5"/>
</g>
<!-- WaitManager_run -->
<g id="node3" class="node">
<title>WaitManager_run</title>
<path fill="none" stroke="#1c2123" d="M1117,-106.5C1117,-106.5 1230,-106.5 1230,-106.5 1236,-106.5 1242,-112.5 1242,-118.5 1242,-118.5 1242,-155.5 1242,-155.5 1242,-161.5 1236,-167.5 1230,-167.5 1230,-167.5 1117,-167.5 1117,-167.5 1111,-167.5 1105,-161.5 1105,-155.5 1105,-155.5 1105,-118.5 1105,-118.5 1105,-112.5 1111,-106.5 1117,-106.5"/>
<text text-anchor="middle" x="1173.5" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">WaitManager::run</text>
<polyline fill="none" stroke="#1c2123" points="1105,-144.5 1242,-144.5 "/>
<text text-anchor="start" x="1113" y="-129.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从channel中获取task</text>
<text text-anchor="start" x="1113" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并处理</text>
</g>
<!-- UnboundedSender_send&#45;&gt;WaitManager_run -->
<g id="edge2" class="edge">
<title>UnboundedSender_send&#45;&gt;WaitManager_run</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1069.08,-137C1077.54,-137 1086.24,-137 1094.83,-137"/>
<polygon fill="green" stroke="green" points="1094.85,-140.5 1104.85,-137 1094.85,-133.5 1094.85,-140.5"/>
</g>
<!-- wait_manager_Scheduler_wake_up -->
<g id="node4" class="node">
<title>wait_manager_Scheduler_wake_up</title>
<path fill="none" stroke="#1c2123" d="M267,-119C267,-119 308,-119 308,-119 314,-119 320,-125 320,-131 320,-131 320,-143 320,-143 320,-149 314,-155 308,-155 308,-155 267,-155 267,-155 261,-155 255,-149 255,-143 255,-143 255,-131 255,-131 255,-125 261,-119 267,-119"/>
<text text-anchor="middle" x="287.5" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_up</text>
</g>
<!-- notify_scheduler -->
<g id="node5" class="node">
<title>notify_scheduler</title>
<path fill="none" stroke="#1c2123" d="M644.5,-155C644.5,-155 561.5,-155 561.5,-155 555.5,-155 549.5,-149 549.5,-143 549.5,-143 549.5,-131 549.5,-131 549.5,-125 555.5,-119 561.5,-119 561.5,-119 644.5,-119 644.5,-119 650.5,-119 656.5,-125 656.5,-131 656.5,-131 656.5,-143 656.5,-143 656.5,-149 650.5,-155 644.5,-155"/>
<text text-anchor="middle" x="603" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">notify_scheduler</text>
</g>
<!-- wait_manager_Scheduler_wake_up&#45;&gt;notify_scheduler -->
<g id="edge3" class="edge">
<title>wait_manager_Scheduler_wake_up&#45;&gt;notify_scheduler</title>
<path fill="none" stroke="#666666" d="M320.29,-137C371.41,-137 472.86,-137 539.04,-137"/>
<polygon fill="#666666" stroke="#666666" points="539.35,-140.5 549.35,-137 539.35,-133.5 539.35,-140.5"/>
</g>
<!-- notify_scheduler&#45;&gt;schedule -->
<g id="edge4" class="edge">
<title>notify_scheduler&#45;&gt;schedule</title>
<path fill="none" stroke="#666666" d="M656.72,-137C705.47,-137 776.93,-137 821.67,-137"/>
<polygon fill="#666666" stroke="#666666" points="821.89,-140.5 831.89,-137 821.89,-133.5 821.89,-140.5"/>
</g>
<!-- deadlock_clean_up -->
<g id="node6" class="node">
<title>deadlock_clean_up</title>
<path fill="none" stroke="#1c2123" d="M239,-17C239,-17 336,-17 336,-17 342,-17 348,-23 348,-29 348,-29 348,-51 348,-51 348,-57 342,-63 336,-63 336,-63 239,-63 239,-63 233,-63 227,-57 227,-51 227,-51 227,-29 227,-29 227,-23 233,-17 239,-17"/>
<text text-anchor="middle" x="287.5" y="-47.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">deadlock_clean_up</text>
<polyline fill="none" stroke="#1c2123" points="227,-40 348,-40 "/>
<text text-anchor="middle" x="287.5" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">cleanup(lock_ts)</text>
</g>
<!-- LockManager_wake_up -->
<g id="node7" class="node">
<title>LockManager_wake_up</title>
<path fill="none" stroke="#1c2123" d="M28,-211C28,-211 153,-211 153,-211 159,-211 165,-217 165,-223 165,-223 165,-235 165,-235 165,-241 159,-247 153,-247 153,-247 28,-247 28,-247 22,-247 16,-241 16,-235 16,-235 16,-223 16,-223 16,-217 22,-211 28,-211"/>
<text text-anchor="start" x="24" y="-225.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">LockManager::wake_up</text>
</g>
<!-- LockManager_wake_up&#45;&gt;wait_manager_Scheduler_wake_up -->
<g id="edge5" class="edge">
<title>LockManager_wake_up&#45;&gt;wait_manager_Scheduler_wake_up</title>
<path fill="none" stroke="#666666" d="M130.03,-210.82C163.4,-195.08 211.55,-172.36 245.61,-156.29"/>
<polygon fill="#666666" stroke="#666666" points="247.27,-159.38 254.82,-151.95 244.28,-153.05 247.27,-159.38"/>
</g>
<!-- LockManager_wake_up&#45;&gt;deadlock_clean_up -->
<g id="edge6" class="edge">
<title>LockManager_wake_up&#45;&gt;deadlock_clean_up</title>
<path fill="none" stroke="#666666" d="M105.77,-210.95C125.81,-186.1 163.99,-140.51 201,-106 214.76,-93.17 230.86,-80.26 245.36,-69.31"/>
<polygon fill="#666666" stroke="#666666" points="247.76,-71.88 253.68,-63.1 243.57,-66.27 247.76,-71.88"/>
</g>
<!-- remove_from_detected -->
<g id="node8" class="node">
<title>remove_from_detected</title>
<path fill="none" stroke="#1c2123" d="M347,-249C347,-249 228,-249 228,-249 222,-249 216,-243 216,-237 216,-237 216,-225 216,-225 216,-219 222,-213 228,-213 228,-213 347,-213 347,-213 353,-213 359,-219 359,-225 359,-225 359,-237 359,-237 359,-243 353,-249 347,-249"/>
<text text-anchor="middle" x="287.5" y="-227.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">remove_from_detected</text>
</g>
<!-- LockManager_wake_up&#45;&gt;remove_from_detected -->
<g id="edge7" class="edge">
<title>LockManager_wake_up&#45;&gt;remove_from_detected</title>
<path fill="none" stroke="#666666" d="M165.22,-229.76C178.46,-229.89 192.31,-230.03 205.74,-230.17"/>
<polygon fill="#666666" stroke="#666666" points="205.86,-233.67 215.9,-230.28 205.93,-226.67 205.86,-233.67"/>
</g>
<!-- detected -->
<g id="node9" class="node">
<title>detected</title>
<path fill="#feed9b" stroke="#f7e495" d="M422,-211C422,-211 784,-211 784,-211 790,-211 796,-217 796,-223 796,-223 796,-245 796,-245 796,-251 790,-257 784,-257 784,-257 422,-257 422,-257 416,-257 410,-251 410,-245 410,-245 410,-223 410,-223 410,-217 416,-211 422,-211"/>
<text text-anchor="middle" x="603" y="-241.8" font-family="Times,serif" font-size="14.00" fill="#40575d">detected</text>
<polyline fill="none" stroke="#f7e495" points="410,-234 796,-234 "/>
<text text-anchor="start" x="418" y="-218.8" font-family="Times,serif" font-size="14.00" fill="#40575d">detected: Arc&lt;[CachePadded&lt;Mutex&lt;HashSet&lt;TimeStamp&gt;&gt;&gt;]&gt;,</text>
</g>
<!-- remove_from_detected&#45;&gt;detected -->
<g id="edge8" class="edge">
<title>remove_from_detected&#45;&gt;detected</title>
<path fill="none" stroke="#666666" d="M359.25,-231.68C371.74,-231.8 385.3,-231.93 399.39,-232.06"/>
<polygon fill="#666666" stroke="#666666" points="399.71,-235.56 409.75,-232.16 399.78,-228.56 399.71,-235.56"/>
</g>
</g>
</svg>
