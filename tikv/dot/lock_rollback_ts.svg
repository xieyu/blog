<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: lock_rollback_ts Pages: 1 -->
<svg width="2272pt" height="645pt"
 viewBox="0.00 0.00 2272.00 645.33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 641.33)">
<title>lock_rollback_ts</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-641.33 2268,-641.33 2268,4 -4,4"/>
<!-- ResolveLock__process_write -->
<g id="node1" class="node">
<title>ResolveLock__process_write</title>
<path fill="none" stroke="#1c2123" d="M24.5,-484.5C24.5,-484.5 116.5,-484.5 116.5,-484.5 122.5,-484.5 128.5,-490.5 128.5,-496.5 128.5,-496.5 128.5,-533.5 128.5,-533.5 128.5,-539.5 122.5,-545.5 116.5,-545.5 116.5,-545.5 24.5,-545.5 24.5,-545.5 18.5,-545.5 12.5,-539.5 12.5,-533.5 12.5,-533.5 12.5,-496.5 12.5,-496.5 12.5,-490.5 18.5,-484.5 24.5,-484.5"/>
<text text-anchor="start" x="20.5" y="-530.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ResolveLock</text>
<text text-anchor="start" x="20.5" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> process_write</text>
<polyline fill="none" stroke="#1c2123" points="12.5,-507.5 128.5,-507.5 "/>
<text text-anchor="start" x="20.5" y="-492.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理Resolve cmd</text>
</g>
<!-- commit -->
<g id="node9" class="node">
<title>commit</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1054,-495C1054,-495 1219,-495 1219,-495 1225,-495 1231,-501 1231,-507 1231,-507 1231,-597 1231,-597 1231,-603 1225,-609 1219,-609 1219,-609 1054,-609 1054,-609 1048,-609 1042,-603 1042,-597 1042,-597 1042,-507 1042,-507 1042,-501 1048,-495 1054,-495"/>
<text text-anchor="start" x="1050" y="-593.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">commit</text>
<polyline fill="none" stroke="#8a8898" points="1042,-586 1231,-586 "/>
<text text-anchor="start" x="1050" y="-570.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">遍历locklrollback_ts</text>
<text text-anchor="start" x="1050" y="-555.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 如果ts == commit_ts</text>
<text text-anchor="start" x="1050" y="-540.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 则设置set_overlaped_rollback</text>
<polyline fill="none" stroke="#8a8898" points="1042,-533 1231,-533 "/>
<text text-anchor="start" x="1050" y="-517.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">put write key为</text>
<text text-anchor="start" x="1050" y="-502.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> key commit_ts</text>
</g>
<!-- ResolveLock__process_write&#45;&gt;commit -->
<g id="edge2" class="edge">
<title>ResolveLock__process_write&#45;&gt;commit</title>
<path fill="none" stroke="#666666" d="M128.78,-520.4C190.03,-525.7 290.04,-533 376.5,-533 376.5,-533 376.5,-533 634,-533 771.51,-533 930.09,-540.22 1031.48,-545.76"/>
<polygon fill="#666666" stroke="#666666" points="1031.55,-549.27 1041.72,-546.33 1031.93,-542.28 1031.55,-549.27"/>
</g>
<!-- cleanup -->
<g id="node10" class="node">
<title>cleanup</title>
<path fill="none" stroke="#1c2123" d="M224,-469C224,-469 189,-469 189,-469 183,-469 177,-463 177,-457 177,-457 177,-445 177,-445 177,-439 183,-433 189,-433 189,-433 224,-433 224,-433 230,-433 236,-439 236,-445 236,-445 236,-457 236,-457 236,-463 230,-469 224,-469"/>
<text text-anchor="middle" x="206.5" y="-447.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cleanup</text>
</g>
<!-- ResolveLock__process_write&#45;&gt;cleanup -->
<g id="edge3" class="edge">
<title>ResolveLock__process_write&#45;&gt;cleanup</title>
<path fill="none" stroke="#666666" d="M128.72,-487.67C141.85,-481.4 155.5,-474.88 167.58,-469.11"/>
<polygon fill="#666666" stroke="#666666" points="169.38,-472.13 176.89,-464.66 166.36,-465.81 169.38,-472.13"/>
</g>
<!-- Rollback__process_write -->
<g id="node2" class="node">
<title>Rollback__process_write</title>
<path fill="none" stroke="#1c2123" d="M33.5,-412.5C33.5,-412.5 107.5,-412.5 107.5,-412.5 113.5,-412.5 119.5,-418.5 119.5,-424.5 119.5,-424.5 119.5,-453.5 119.5,-453.5 119.5,-459.5 113.5,-465.5 107.5,-465.5 107.5,-465.5 33.5,-465.5 33.5,-465.5 27.5,-465.5 21.5,-459.5 21.5,-453.5 21.5,-453.5 21.5,-424.5 21.5,-424.5 21.5,-418.5 27.5,-412.5 33.5,-412.5"/>
<text text-anchor="start" x="29.5" y="-450.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Rollback</text>
<text text-anchor="start" x="29.5" y="-435.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> process_write</text>
<text text-anchor="start" x="29.5" y="-420.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 处理Rollback</text>
</g>
<!-- Rollback__process_write&#45;&gt;cleanup -->
<g id="edge1" class="edge">
<title>Rollback__process_write&#45;&gt;cleanup</title>
<path fill="none" stroke="#666666" d="M119.88,-443.33C135.2,-444.7 151.93,-446.2 166.51,-447.51"/>
<polygon fill="#666666" stroke="#666666" points="166.42,-451.01 176.69,-448.42 167.04,-444.04 166.42,-451.01"/>
</g>
<!-- Commit__process_write -->
<g id="node3" class="node">
<title>Commit__process_write</title>
<path fill="none" stroke="#1c2123" d="M23,-564.5C23,-564.5 118,-564.5 118,-564.5 124,-564.5 130,-570.5 130,-576.5 130,-576.5 130,-613.5 130,-613.5 130,-619.5 124,-625.5 118,-625.5 118,-625.5 23,-625.5 23,-625.5 17,-625.5 11,-619.5 11,-613.5 11,-613.5 11,-576.5 11,-576.5 11,-570.5 17,-564.5 23,-564.5"/>
<text text-anchor="start" x="19" y="-610.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Commit</text>
<text text-anchor="start" x="19" y="-595.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> process_write</text>
<polyline fill="none" stroke="#1c2123" points="11,-587.5 130,-587.5 "/>
<text text-anchor="start" x="19" y="-572.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理Commit cmd</text>
</g>
<!-- Commit__process_write&#45;&gt;commit -->
<g id="edge16" class="edge">
<title>Commit__process_write&#45;&gt;commit</title>
<path fill="none" stroke="#666666" d="M130.26,-595C191.67,-595 290.85,-595 376.5,-595 376.5,-595 376.5,-595 634,-595 771.92,-595 930.4,-578.66 1031.66,-566.12"/>
<polygon fill="#666666" stroke="#666666" points="1032.4,-569.56 1041.89,-564.84 1031.53,-562.61 1032.4,-569.56"/>
</g>
<!-- CheckTxnStatus__process_write -->
<g id="node4" class="node">
<title>CheckTxnStatus__process_write</title>
<path fill="none" stroke="#1c2123" d="M15.5,-326.5C15.5,-326.5 125.5,-326.5 125.5,-326.5 131.5,-326.5 137.5,-332.5 137.5,-338.5 137.5,-338.5 137.5,-375.5 137.5,-375.5 137.5,-381.5 131.5,-387.5 125.5,-387.5 125.5,-387.5 15.5,-387.5 15.5,-387.5 9.5,-387.5 3.5,-381.5 3.5,-375.5 3.5,-375.5 3.5,-338.5 3.5,-338.5 3.5,-332.5 9.5,-326.5 15.5,-326.5"/>
<text text-anchor="start" x="11.5" y="-372.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">CheckTxnStatus</text>
<text text-anchor="start" x="11.5" y="-357.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> process_write</text>
<polyline fill="none" stroke="#1c2123" points="3.5,-349.5 137.5,-349.5 "/>
<text text-anchor="start" x="11.5" y="-334.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理CheckTxnStatus</text>
</g>
<!-- check_txn_status_missing_lock -->
<g id="node11" class="node">
<title>check_txn_status_missing_lock</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M284,-284.5C284,-284.5 471,-284.5 471,-284.5 477,-284.5 483,-290.5 483,-296.5 483,-296.5 483,-417.5 483,-417.5 483,-423.5 477,-429.5 471,-429.5 471,-429.5 284,-429.5 284,-429.5 278,-429.5 272,-423.5 272,-417.5 272,-417.5 272,-296.5 272,-296.5 272,-290.5 278,-284.5 284,-284.5"/>
<text text-anchor="start" x="280" y="-414.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">check_txn_status_missing_lock</text>
<polyline fill="none" stroke="#8a8898" points="272,-406.5 483,-406.5 "/>
<text text-anchor="start" x="280" y="-391.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">1.这里put write时候</text>
<polyline fill="none" stroke="#8a8898" points="272,-383.5 483,-383.5 "/>
<text text-anchor="start" x="280" y="-368.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ts为txn的start_ts</text>
<text text-anchor="start" x="280" y="-353.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> key start_ts</text>
<text text-anchor="start" x="280" y="-338.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> WriteType为Rollback</text>
<polyline fill="none" stroke="#8a8898" points="272,-330.5 483,-330.5 "/>
<text text-anchor="start" x="280" y="-315.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">2.collapse previous rollback if exist</text>
<polyline fill="none" stroke="#8a8898" points="272,-307.5 483,-307.5 "/>
<text text-anchor="middle" x="377.5" y="-292.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- CheckTxnStatus__process_write&#45;&gt;check_txn_status_missing_lock -->
<g id="edge10" class="edge">
<title>CheckTxnStatus__process_write&#45;&gt;check_txn_status_missing_lock</title>
<path fill="none" stroke="#666666" d="M137.68,-357C173.86,-357 219.69,-357 261.52,-357"/>
<polygon fill="#666666" stroke="#666666" points="261.77,-360.5 271.77,-357 261.77,-353.5 261.77,-360.5"/>
</g>
<!-- CheckSecondaryLocks__process_write -->
<g id="node5" class="node">
<title>CheckSecondaryLocks__process_write</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M12,-134.5C12,-134.5 129,-134.5 129,-134.5 135,-134.5 141,-140.5 141,-146.5 141,-146.5 141,-213.5 141,-213.5 141,-219.5 135,-225.5 129,-225.5 129,-225.5 12,-225.5 12,-225.5 6,-225.5 0,-219.5 0,-213.5 0,-213.5 0,-146.5 0,-146.5 0,-140.5 6,-134.5 12,-134.5"/>
<text text-anchor="start" x="8" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">CheckSecondaryLocks</text>
<text text-anchor="start" x="8" y="-195.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> process_write</text>
<polyline fill="none" stroke="#8a8898" points="0,-187.5 141,-187.5 "/>
<text text-anchor="start" x="8" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">put write</text>
<text text-anchor="start" x="8" y="-157.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> key start_ts</text>
<text text-anchor="start" x="8" y="-142.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> writeType: Rollback</text>
</g>
<!-- MvccTxn__put_write -->
<g id="node7" class="node">
<title>MvccTxn__put_write</title>
<path fill="#bcffb9" stroke="#8a8898" d="M1532.5,-185C1532.5,-185 1609.5,-185 1609.5,-185 1615.5,-185 1621.5,-191 1621.5,-197 1621.5,-197 1621.5,-249 1621.5,-249 1621.5,-255 1615.5,-261 1609.5,-261 1609.5,-261 1532.5,-261 1532.5,-261 1526.5,-261 1520.5,-255 1520.5,-249 1520.5,-249 1520.5,-197 1520.5,-197 1520.5,-191 1526.5,-185 1532.5,-185"/>
<text text-anchor="start" x="1528.5" y="-245.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn</text>
<text text-anchor="start" x="1528.5" y="-230.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> put_write</text>
<polyline fill="none" stroke="#8a8898" points="1520.5,-223 1621.5,-223 "/>
<text text-anchor="start" x="1528.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">向write cf写入</text>
<text text-anchor="start" x="1528.5" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> write record</text>
</g>
<!-- CheckSecondaryLocks__process_write&#45;&gt;MvccTxn__put_write -->
<g id="edge11" class="edge">
<title>CheckSecondaryLocks__process_write&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M141.2,-171.47C282.74,-154.9 614.12,-120 893.5,-120 893.5,-120 893.5,-120 1137.5,-120 1273.98,-120 1428.25,-169.13 1510.63,-199.53"/>
<polygon fill="#666666" stroke="#666666" points="1509.72,-202.93 1520.31,-203.14 1512.16,-196.37 1509.72,-202.93"/>
</g>
<!-- MvccTxn__mark_rollback_on_mismatching_lock -->
<g id="node12" class="node">
<title>MvccTxn__mark_rollback_on_mismatching_lock</title>
<path fill="#bcffb9" stroke="#8a8898" d="M531,-247C531,-247 735,-247 735,-247 741,-247 747,-253 747,-259 747,-259 747,-311 747,-311 747,-317 741,-323 735,-323 735,-323 531,-323 531,-323 525,-323 519,-317 519,-311 519,-311 519,-259 519,-259 519,-253 525,-247 531,-247"/>
<text text-anchor="start" x="527" y="-307.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn</text>
<text text-anchor="start" x="527" y="-292.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> mark_rollback_on_mismatching_lock</text>
<polyline fill="none" stroke="#8a8898" points="519,-285 747,-285 "/>
<text text-anchor="start" x="527" y="-269.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">将key加到locks.rollback_ts中</text>
<text text-anchor="start" x="527" y="-254.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> lock mismatch</text>
</g>
<!-- CheckSecondaryLocks__process_write&#45;&gt;MvccTxn__mark_rollback_on_mismatching_lock -->
<g id="edge12" class="edge">
<title>CheckSecondaryLocks__process_write&#45;&gt;MvccTxn__mark_rollback_on_mismatching_lock</title>
<path fill="none" stroke="#666666" d="M141.09,-218.41C152.81,-223.68 165.05,-228.47 177,-232 237.11,-249.74 395.68,-265.73 508.69,-275.39"/>
<polygon fill="#666666" stroke="#666666" points="508.53,-278.89 518.79,-276.25 509.12,-271.92 508.53,-278.89"/>
</g>
<!-- SnapshotReader__get_txn_commit_record -->
<g id="node13" class="node">
<title>SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#1c2123" d="M1288.5,-414C1288.5,-414 1416.5,-414 1416.5,-414 1422.5,-414 1428.5,-420 1428.5,-426 1428.5,-426 1428.5,-440 1428.5,-440 1428.5,-446 1422.5,-452 1416.5,-452 1416.5,-452 1288.5,-452 1288.5,-452 1282.5,-452 1276.5,-446 1276.5,-440 1276.5,-440 1276.5,-426 1276.5,-426 1276.5,-420 1282.5,-414 1288.5,-414"/>
<text text-anchor="start" x="1284.5" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader</text>
<text text-anchor="start" x="1284.5" y="-421.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_txn_commit_record</text>
</g>
<!-- CheckSecondaryLocks__process_write&#45;&gt;SnapshotReader__get_txn_commit_record -->
<g id="edge13" class="edge">
<title>CheckSecondaryLocks__process_write&#45;&gt;SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M141.16,-192.9C153.08,-194.82 165.38,-196.61 177,-198 184.88,-198.94 739.93,-233.4 747,-237 769.21,-248.31 762.51,-265.81 783,-280 883.3,-349.48 924.34,-338.72 1042,-371 1116.84,-391.53 1203.59,-408.32 1266.17,-419.23"/>
<polygon fill="#666666" stroke="#666666" points="1265.94,-422.74 1276.39,-420.99 1267.14,-415.84 1265.94,-422.74"/>
</g>
<!-- make_rollback -->
<g id="node15" class="node">
<title>make_rollback</title>
<path fill="none" stroke="#1c2123" d="M1389.5,-260C1389.5,-260 1315.5,-260 1315.5,-260 1309.5,-260 1303.5,-254 1303.5,-248 1303.5,-248 1303.5,-236 1303.5,-236 1303.5,-230 1309.5,-224 1315.5,-224 1315.5,-224 1389.5,-224 1389.5,-224 1395.5,-224 1401.5,-230 1401.5,-236 1401.5,-236 1401.5,-248 1401.5,-248 1401.5,-254 1395.5,-260 1389.5,-260"/>
<text text-anchor="middle" x="1352.5" y="-238.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">make_rollback</text>
</g>
<!-- CheckSecondaryLocks__process_write&#45;&gt;make_rollback -->
<g id="edge14" class="edge">
<title>CheckSecondaryLocks__process_write&#45;&gt;make_rollback</title>
<path fill="none" stroke="#666666" d="M141.06,-181.85C263.56,-185.24 525.77,-193.12 747,-204 947.69,-213.87 1185.58,-230.18 1293.32,-237.81"/>
<polygon fill="#666666" stroke="#666666" points="1293.11,-241.31 1303.33,-238.52 1293.61,-234.32 1293.11,-241.31"/>
</g>
<!-- collapse_prev_rollback -->
<g id="node16" class="node">
<title>collapse_prev_rollback</title>
<path fill="none" stroke="#1c2123" d="M1293,-0.5C1293,-0.5 1412,-0.5 1412,-0.5 1418,-0.5 1424,-6.5 1424,-12.5 1424,-12.5 1424,-79.5 1424,-79.5 1424,-85.5 1418,-91.5 1412,-91.5 1412,-91.5 1293,-91.5 1293,-91.5 1287,-91.5 1281,-85.5 1281,-79.5 1281,-79.5 1281,-12.5 1281,-12.5 1281,-6.5 1287,-0.5 1293,-0.5"/>
<text text-anchor="start" x="1289" y="-76.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collapse_prev_rollback</text>
<polyline fill="none" stroke="#1c2123" points="1281,-68.5 1424,-68.5 "/>
<text text-anchor="start" x="1289" y="-53.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">找到key对应的</text>
<text text-anchor="start" x="1289" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> WriteType::Rollback</text>
<text text-anchor="start" x="1289" y="-23.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 没被标记protected的</text>
<text text-anchor="start" x="1289" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 删除该记录</text>
</g>
<!-- CheckSecondaryLocks__process_write&#45;&gt;collapse_prev_rollback -->
<g id="edge15" class="edge">
<title>CheckSecondaryLocks__process_write&#45;&gt;collapse_prev_rollback</title>
<path fill="none" stroke="#666666" d="M141.23,-172.7C360.73,-149.72 1036.77,-78.95 1270.78,-54.45"/>
<polygon fill="#666666" stroke="#666666" points="1271.34,-57.91 1280.92,-53.39 1270.61,-50.95 1271.34,-57.91"/>
</g>
<!-- MvccTxn__delete_write -->
<g id="node6" class="node">
<title>MvccTxn__delete_write</title>
<path fill="#bcffb9" stroke="#8a8898" d="M1539.5,-99C1539.5,-99 1602.5,-99 1602.5,-99 1608.5,-99 1614.5,-105 1614.5,-111 1614.5,-111 1614.5,-125 1614.5,-125 1614.5,-131 1608.5,-137 1602.5,-137 1602.5,-137 1539.5,-137 1539.5,-137 1533.5,-137 1527.5,-131 1527.5,-125 1527.5,-125 1527.5,-111 1527.5,-111 1527.5,-105 1533.5,-99 1539.5,-99"/>
<text text-anchor="start" x="1535.5" y="-121.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn</text>
<text text-anchor="start" x="1535.5" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> delete_write</text>
</g>
<!-- rollback_lock -->
<g id="node8" class="node">
<title>rollback_lock</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1082.5,-262.5C1082.5,-262.5 1190.5,-262.5 1190.5,-262.5 1196.5,-262.5 1202.5,-268.5 1202.5,-274.5 1202.5,-274.5 1202.5,-349.5 1202.5,-349.5 1202.5,-355.5 1196.5,-361.5 1190.5,-361.5 1190.5,-361.5 1082.5,-361.5 1082.5,-361.5 1076.5,-361.5 1070.5,-355.5 1070.5,-349.5 1070.5,-349.5 1070.5,-274.5 1070.5,-274.5 1070.5,-268.5 1076.5,-262.5 1082.5,-262.5"/>
<text text-anchor="start" x="1078.5" y="-346.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">rollback_lock</text>
<polyline fill="none" stroke="#8a8898" points="1070.5,-338.5 1202.5,-338.5 "/>
<text text-anchor="start" x="1078.5" y="-323.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">put_write</text>
<text text-anchor="start" x="1078.5" y="-308.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> ts为txn的start_ts</text>
<polyline fill="none" stroke="#8a8898" points="1070.5,-300.5 1202.5,-300.5 "/>
<text text-anchor="start" x="1078.5" y="-285.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">key start_ts</text>
<text text-anchor="start" x="1078.5" y="-270.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> writeType: Rollback</text>
</g>
<!-- rollback_lock&#45;&gt;MvccTxn__put_write -->
<g id="edge25" class="edge">
<title>rollback_lock&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M1202.67,-306.34C1264,-300.16 1358.12,-288.44 1438,-269 1462.24,-263.1 1488.3,-254.52 1510.81,-246.36"/>
<polygon fill="#666666" stroke="#666666" points="1512.05,-249.64 1520.23,-242.9 1509.63,-243.07 1512.05,-249.64"/>
</g>
<!-- rollback_lock&#45;&gt;SnapshotReader__get_txn_commit_record -->
<g id="edge26" class="edge">
<title>rollback_lock&#45;&gt;SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M1202.58,-348.8C1237.01,-368.27 1278.33,-391.63 1308.7,-408.8"/>
<polygon fill="#666666" stroke="#666666" points="1307.32,-412.04 1317.75,-413.92 1310.77,-405.95 1307.32,-412.04"/>
</g>
<!-- rollback_lock&#45;&gt;make_rollback -->
<g id="edge27" class="edge">
<title>rollback_lock&#45;&gt;make_rollback</title>
<path fill="none" stroke="#666666" d="M1202.58,-290.71C1231.62,-281.21 1265.55,-270.11 1293.69,-260.91"/>
<polygon fill="#666666" stroke="#666666" points="1294.96,-264.18 1303.38,-257.74 1292.79,-257.52 1294.96,-264.18"/>
</g>
<!-- rollback_lock&#45;&gt;collapse_prev_rollback -->
<g id="edge28" class="edge">
<title>rollback_lock&#45;&gt;collapse_prev_rollback</title>
<path fill="none" stroke="#666666" d="M1177.5,-262.28C1214.67,-216.08 1269.88,-147.45 1308.1,-99.94"/>
<polygon fill="#666666" stroke="#666666" points="1311.02,-101.91 1314.56,-91.92 1305.56,-97.52 1311.02,-101.91"/>
</g>
<!-- MvccTxn__unlock_key -->
<g id="node19" class="node">
<title>MvccTxn__unlock_key</title>
<path fill="#bcffb9" stroke="#8a8898" d="M1291.5,-471C1291.5,-471 1413.5,-471 1413.5,-471 1419.5,-471 1425.5,-477 1425.5,-483 1425.5,-483 1425.5,-495 1425.5,-495 1425.5,-501 1419.5,-507 1413.5,-507 1413.5,-507 1291.5,-507 1291.5,-507 1285.5,-507 1279.5,-501 1279.5,-495 1279.5,-495 1279.5,-483 1279.5,-483 1279.5,-477 1285.5,-471 1291.5,-471"/>
<text text-anchor="middle" x="1352.5" y="-485.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn__unlock_key</text>
</g>
<!-- rollback_lock&#45;&gt;MvccTxn__unlock_key -->
<g id="edge29" class="edge">
<title>rollback_lock&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="#666666" d="M1170.1,-361.78C1193.58,-394.13 1227.92,-434.97 1267,-461 1269.92,-462.94 1272.98,-464.76 1276.14,-466.46"/>
<polygon fill="#666666" stroke="#666666" points="1274.76,-469.68 1285.27,-470.95 1277.84,-463.4 1274.76,-469.68"/>
</g>
<!-- commit&#45;&gt;MvccTxn__put_write -->
<g id="edge17" class="edge">
<title>commit&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M1231.06,-552.81C1308.15,-551.37 1409.3,-543.95 1438,-516 1516.85,-439.22 1409.47,-360.15 1474,-271 1483.28,-258.18 1496.96,-248.59 1511.1,-241.49"/>
<polygon fill="#666666" stroke="#666666" points="1512.82,-244.55 1520.43,-237.17 1509.88,-238.2 1512.82,-244.55"/>
</g>
<!-- commit&#45;&gt;SnapshotReader__get_txn_commit_record -->
<g id="edge18" class="edge">
<title>commit&#45;&gt;SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M1210.84,-494.93C1228.6,-482.69 1247.98,-470.57 1267,-461 1270.47,-459.25 1274.08,-457.58 1277.76,-455.98"/>
<polygon fill="#666666" stroke="#666666" points="1279.11,-459.21 1287.02,-452.16 1276.44,-452.73 1279.11,-459.21"/>
</g>
<!-- SnapshotReader__load_lock -->
<g id="node17" class="node">
<title>SnapshotReader__load_lock</title>
<path fill="none" stroke="#1c2123" d="M1426,-600C1426,-600 1279,-600 1279,-600 1273,-600 1267,-594 1267,-588 1267,-588 1267,-576 1267,-576 1267,-570 1273,-564 1279,-564 1279,-564 1426,-564 1426,-564 1432,-564 1438,-570 1438,-576 1438,-576 1438,-588 1438,-588 1438,-594 1432,-600 1426,-600"/>
<text text-anchor="middle" x="1352.5" y="-578.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader__load_lock</text>
</g>
<!-- commit&#45;&gt;SnapshotReader__load_lock -->
<g id="edge19" class="edge">
<title>commit&#45;&gt;SnapshotReader__load_lock</title>
<path fill="none" stroke="#666666" d="M1231.05,-565.11C1239.62,-566.32 1248.31,-567.53 1256.88,-568.74"/>
<polygon fill="#666666" stroke="#666666" points="1256.5,-572.22 1266.89,-570.14 1257.47,-565.28 1256.5,-572.22"/>
</g>
<!-- Write__set_overlapped_rollback -->
<g id="node18" class="node">
<title>Write__set_overlapped_rollback</title>
<path fill="none" stroke="#1c2123" d="M1656,-395C1656,-395 1486,-395 1486,-395 1480,-395 1474,-389 1474,-383 1474,-383 1474,-371 1474,-371 1474,-365 1480,-359 1486,-359 1486,-359 1656,-359 1656,-359 1662,-359 1668,-365 1668,-371 1668,-371 1668,-383 1668,-383 1668,-389 1662,-395 1656,-395"/>
<text text-anchor="middle" x="1571" y="-373.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Write__set_overlapped_rollback</text>
</g>
<!-- commit&#45;&gt;Write__set_overlapped_rollback -->
<g id="edge20" class="edge">
<title>commit&#45;&gt;Write__set_overlapped_rollback</title>
<path fill="none" stroke="#666666" d="M1231.27,-605.79C1296.23,-635.2 1380.97,-656.89 1438,-609 1508.84,-549.51 1411.95,-472.61 1474,-404 1474.75,-403.17 1475.53,-402.36 1476.33,-401.57"/>
<polygon fill="#666666" stroke="#666666" points="1478.62,-404.22 1484.08,-395.14 1474.15,-398.83 1478.62,-404.22"/>
</g>
<!-- commit&#45;&gt;MvccTxn__unlock_key -->
<g id="edge21" class="edge">
<title>commit&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="#666666" d="M1231.05,-524.46C1247.63,-519.58 1264.65,-514.57 1280.47,-509.91"/>
<polygon fill="#666666" stroke="#666666" points="1281.56,-513.24 1290.16,-507.06 1279.58,-506.52 1281.56,-513.24"/>
</g>
<!-- cleanup&#45;&gt;rollback_lock -->
<g id="edge4" class="edge">
<title>cleanup&#45;&gt;rollback_lock</title>
<path fill="none" stroke="#666666" d="M236.16,-451.04C286.34,-450.81 393.32,-449.06 483,-439 594.69,-426.47 914.14,-359.49 1060.55,-328.17"/>
<polygon fill="#666666" stroke="#666666" points="1061.32,-331.58 1070.37,-326.07 1059.85,-324.74 1061.32,-331.58"/>
</g>
<!-- cleanup&#45;&gt;check_txn_status_missing_lock -->
<g id="edge5" class="edge">
<title>cleanup&#45;&gt;check_txn_status_missing_lock</title>
<path fill="none" stroke="#666666" d="M236.17,-435.05C244.18,-430.6 253.4,-425.47 263.22,-420.01"/>
<polygon fill="#666666" stroke="#666666" points="264.94,-423.06 271.98,-415.14 261.54,-416.94 264.94,-423.06"/>
</g>
<!-- check_txn_status_missing_lock&#45;&gt;MvccTxn__put_write -->
<g id="edge6" class="edge">
<title>check_txn_status_missing_lock&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M483.3,-362.44C577.54,-365.14 707.1,-362.69 747,-332 786.44,-301.67 742.89,-255.44 783,-226 956.47,-98.7 1051.85,-217.44 1267,-215 1343,-214.14 1362.03,-212.7 1438,-215 1461.58,-215.71 1487.5,-217.14 1510.08,-218.6"/>
<polygon fill="#666666" stroke="#666666" points="1509.99,-222.1 1520.2,-219.27 1510.45,-215.12 1509.99,-222.1"/>
</g>
<!-- check_txn_status_missing_lock&#45;&gt;MvccTxn__mark_rollback_on_mismatching_lock -->
<g id="edge7" class="edge">
<title>check_txn_status_missing_lock&#45;&gt;MvccTxn__mark_rollback_on_mismatching_lock</title>
<path fill="none" stroke="#666666" d="M483.07,-327.3C491.59,-324.88 500.25,-322.42 508.89,-319.97"/>
<polygon fill="#666666" stroke="#666666" points="509.96,-323.3 518.63,-317.2 508.05,-316.57 509.96,-323.3"/>
</g>
<!-- check_txn_status_missing_lock&#45;&gt;SnapshotReader__get_txn_commit_record -->
<g id="edge8" class="edge">
<title>check_txn_status_missing_lock&#45;&gt;SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M483.14,-382.71C495.22,-385.57 507.37,-388.38 519,-391 635.93,-417.32 663.78,-433.71 783,-446 881.59,-456.16 906.89,-446.88 1006,-446 1106.01,-445.11 1131.09,-446.62 1231,-442 1242.35,-441.48 1254.28,-440.77 1266.05,-439.99"/>
<polygon fill="#666666" stroke="#666666" points="1266.6,-443.46 1276.33,-439.28 1266.12,-436.47 1266.6,-443.46"/>
</g>
<!-- MissingLockAction__construct_write -->
<g id="node14" class="node">
<title>MissingLockAction__construct_write</title>
<path fill="none" stroke="#1c2123" d="M994,-271C994,-271 795,-271 795,-271 789,-271 783,-265 783,-259 783,-259 783,-247 783,-247 783,-241 789,-235 795,-235 795,-235 994,-235 994,-235 1000,-235 1006,-241 1006,-247 1006,-247 1006,-259 1006,-259 1006,-265 1000,-271 994,-271"/>
<text text-anchor="middle" x="894.5" y="-249.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">MissingLockAction__construct_write</text>
</g>
<!-- check_txn_status_missing_lock&#45;&gt;MissingLockAction__construct_write -->
<g id="edge9" class="edge">
<title>check_txn_status_missing_lock&#45;&gt;MissingLockAction__construct_write</title>
<path fill="none" stroke="#666666" d="M483.07,-378.44C558.48,-389.42 661.59,-395.11 747,-366 797.58,-348.76 844.29,-306.21 870.8,-278.52"/>
<polygon fill="#666666" stroke="#666666" points="873.43,-280.83 877.72,-271.14 868.33,-276.04 873.43,-280.83"/>
</g>
<!-- Lock__rollback_ts -->
<g id="node20" class="node">
<title>Lock__rollback_ts</title>
<path fill="none" stroke="#1c2123" d="M866.5,-399C866.5,-399 922.5,-399 922.5,-399 928.5,-399 934.5,-405 934.5,-411 934.5,-411 934.5,-425 934.5,-425 934.5,-431 928.5,-437 922.5,-437 922.5,-437 866.5,-437 866.5,-437 860.5,-437 854.5,-431 854.5,-425 854.5,-425 854.5,-411 854.5,-411 854.5,-405 860.5,-399 866.5,-399"/>
<text text-anchor="start" x="862.5" y="-421.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Lock</text>
<text text-anchor="start" x="862.5" y="-406.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> rollback_ts</text>
</g>
<!-- MvccTxn__mark_rollback_on_mismatching_lock&#45;&gt;Lock__rollback_ts -->
<g id="edge43" class="edge">
<title>MvccTxn__mark_rollback_on_mismatching_lock&#45;&gt;Lock__rollback_ts</title>
<path fill="none" stroke="#666666" d="M708.36,-323.11C753.15,-346.07 808.77,-374.57 847.3,-394.32"/>
<polygon fill="#666666" stroke="#666666" points="845.72,-397.45 856.22,-398.89 848.91,-391.22 845.72,-397.45"/>
</g>
<!-- MvcccReader__get_txn_commit_record -->
<g id="node21" class="node">
<title>MvcccReader__get_txn_commit_record</title>
<path fill="none" stroke="#1c2123" d="M1507,-414C1507,-414 1635,-414 1635,-414 1641,-414 1647,-420 1647,-426 1647,-426 1647,-440 1647,-440 1647,-446 1641,-452 1635,-452 1635,-452 1507,-452 1507,-452 1501,-452 1495,-446 1495,-440 1495,-440 1495,-426 1495,-426 1495,-420 1501,-414 1507,-414"/>
<text text-anchor="start" x="1503" y="-436.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">MvcccReader</text>
<text text-anchor="start" x="1503" y="-421.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_txn_commit_record</text>
</g>
<!-- SnapshotReader__get_txn_commit_record&#45;&gt;MvcccReader__get_txn_commit_record -->
<g id="edge40" class="edge">
<title>SnapshotReader__get_txn_commit_record&#45;&gt;MvcccReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M1428.61,-433C1446.65,-433 1466.04,-433 1484.5,-433"/>
<polygon fill="#666666" stroke="#666666" points="1484.65,-436.5 1494.65,-433 1484.65,-429.5 1484.65,-436.5"/>
</g>
<!-- MissingLockAction__construct_write&#45;&gt;make_rollback -->
<g id="edge32" class="edge">
<title>MissingLockAction__construct_write&#45;&gt;make_rollback</title>
<path fill="none" stroke="#666666" d="M1006.18,-250.33C1096.63,-248.15 1220.94,-245.15 1293.1,-243.41"/>
<polygon fill="#666666" stroke="#666666" points="1293.44,-246.9 1303.36,-243.16 1293.28,-239.9 1293.44,-246.9"/>
</g>
<!-- make_rollback&#45;&gt;MvccTxn__put_write -->
<g id="edge35" class="edge">
<title>make_rollback&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1401.55,-237.78C1433.5,-234.98 1475.71,-231.28 1509.88,-228.28"/>
<polygon fill="green" stroke="green" points="1510.55,-231.73 1520.21,-227.37 1509.94,-224.76 1510.55,-231.73"/>
</g>
<!-- make_rollback&#45;&gt;Write__set_overlapped_rollback -->
<g id="edge33" class="edge">
<title>make_rollback&#45;&gt;Write__set_overlapped_rollback</title>
<path fill="none" stroke="#666666" d="M1378.37,-260.29C1402.38,-277.66 1440,-304.16 1474,-325 1490.5,-335.11 1509.11,-345.43 1525.52,-354.18"/>
<polygon fill="#666666" stroke="#666666" points="1523.9,-357.28 1534.38,-358.87 1527.18,-351.1 1523.9,-357.28"/>
</g>
<!-- Write__new_rollbaback -->
<g id="node25" class="node">
<title>Write__new_rollbaback</title>
<path fill="none" stroke="#1c2123" d="M1632.5,-316C1632.5,-316 1509.5,-316 1509.5,-316 1503.5,-316 1497.5,-310 1497.5,-304 1497.5,-304 1497.5,-292 1497.5,-292 1497.5,-286 1503.5,-280 1509.5,-280 1509.5,-280 1632.5,-280 1632.5,-280 1638.5,-280 1644.5,-286 1644.5,-292 1644.5,-292 1644.5,-304 1644.5,-304 1644.5,-310 1638.5,-316 1632.5,-316"/>
<text text-anchor="middle" x="1571" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Write__new_rollbaback</text>
</g>
<!-- make_rollback&#45;&gt;Write__new_rollbaback -->
<g id="edge34" class="edge">
<title>make_rollback&#45;&gt;Write__new_rollbaback</title>
<path fill="none" stroke="#666666" d="M1401.55,-254.43C1427.63,-261.17 1460.54,-269.69 1490.34,-277.39"/>
<polygon fill="#666666" stroke="#666666" points="1489.75,-280.86 1500.31,-279.97 1491.51,-274.08 1489.75,-280.86"/>
</g>
<!-- collapse_prev_rollback&#45;&gt;MvccTxn__delete_write -->
<g id="edge30" class="edge">
<title>collapse_prev_rollback&#45;&gt;MvccTxn__delete_write</title>
<path fill="none" stroke="#666666" d="M1424.03,-71.82C1440.38,-77.63 1457.75,-83.65 1474,-89 1488.11,-93.65 1503.47,-98.41 1517.69,-102.71"/>
<polygon fill="#666666" stroke="#666666" points="1516.74,-106.08 1527.33,-105.6 1518.75,-99.37 1516.74,-106.08"/>
</g>
<!-- Write__is_protected -->
<g id="node24" class="node">
<title>Write__is_protected</title>
<path fill="none" stroke="#1c2123" d="M1519.5,-12C1519.5,-12 1622.5,-12 1622.5,-12 1628.5,-12 1634.5,-18 1634.5,-24 1634.5,-24 1634.5,-68 1634.5,-68 1634.5,-74 1628.5,-80 1622.5,-80 1622.5,-80 1519.5,-80 1519.5,-80 1513.5,-80 1507.5,-74 1507.5,-68 1507.5,-68 1507.5,-24 1507.5,-24 1507.5,-18 1513.5,-12 1519.5,-12"/>
<text text-anchor="start" x="1515.5" y="-64.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Write__is_protected</text>
<text text-anchor="start" x="1515.5" y="-49.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果write 被标记</text>
<text text-anchor="start" x="1515.5" y="-34.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 为protected</text>
<text text-anchor="start" x="1515.5" y="-19.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 则不能删除</text>
</g>
<!-- collapse_prev_rollback&#45;&gt;Write__is_protected -->
<g id="edge31" class="edge">
<title>collapse_prev_rollback&#45;&gt;Write__is_protected</title>
<path fill="none" stroke="#666666" d="M1424.09,-46C1447.42,-46 1473.41,-46 1496.91,-46"/>
<polygon fill="#666666" stroke="#666666" points="1497.17,-49.5 1507.17,-46 1497.17,-42.5 1497.17,-49.5"/>
</g>
<!-- Write__has_overlapped_rollback -->
<g id="node22" class="node">
<title>Write__has_overlapped_rollback</title>
<path fill="none" stroke="#1c2123" d="M1928.5,-397C1928.5,-397 1755.5,-397 1755.5,-397 1749.5,-397 1743.5,-391 1743.5,-385 1743.5,-385 1743.5,-373 1743.5,-373 1743.5,-367 1749.5,-361 1755.5,-361 1755.5,-361 1928.5,-361 1928.5,-361 1934.5,-361 1940.5,-367 1940.5,-373 1940.5,-373 1940.5,-385 1940.5,-385 1940.5,-391 1934.5,-397 1928.5,-397"/>
<text text-anchor="middle" x="1842" y="-375.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Write__has_overlapped_rollback</text>
</g>
<!-- Write__set_overlapped_rollback&#45;&gt;Write__has_overlapped_rollback -->
<g id="edge36" class="edge">
<title>Write__set_overlapped_rollback&#45;&gt;Write__has_overlapped_rollback</title>
<path fill="none" stroke="#666666" d="M1668.36,-377.72C1689.31,-377.87 1711.61,-378.04 1732.98,-378.2"/>
<polygon fill="#666666" stroke="#666666" points="1733.03,-381.7 1743.05,-378.27 1733.08,-374.7 1733.03,-381.7"/>
</g>
<!-- Lock__rollback_ts&#45;&gt;commit -->
<g id="edge44" class="edge">
<title>Lock__rollback_ts&#45;&gt;commit</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M929.63,-437.06C956.71,-452.17 996.03,-474.13 1033.08,-494.81"/>
<polygon fill="green" stroke="green" points="1031.5,-497.94 1041.93,-499.76 1034.91,-491.83 1031.5,-497.94"/>
</g>
<!-- Lock__rollback_ts&#45;&gt;Write__set_overlapped_rollback -->
<g id="edge22" class="edge">
<title>Lock__rollback_ts&#45;&gt;Write__set_overlapped_rollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M934.68,-415.62C1036.24,-409.45 1310.69,-392.76 1463.56,-383.47"/>
<polygon fill="green" stroke="green" points="1464.13,-386.94 1473.9,-382.84 1463.7,-379.95 1464.13,-386.94"/>
</g>
<!-- MvcccReader__get_txn_commit_record&#45;&gt;Write__has_overlapped_rollback -->
<g id="edge23" class="edge">
<title>MvcccReader__get_txn_commit_record&#45;&gt;Write__has_overlapped_rollback</title>
<path fill="none" stroke="#666666" d="M1647.29,-417.89C1676.32,-412.06 1709.95,-405.31 1740.96,-399.08"/>
<polygon fill="#666666" stroke="#666666" points="1741.81,-402.48 1750.93,-397.08 1740.43,-395.62 1741.81,-402.48"/>
</g>
<!-- TxnCommitRecord__OverlappedRollback -->
<g id="node23" class="node">
<title>TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="#1c2123" d="M2252,-397C2252,-397 2028,-397 2028,-397 2022,-397 2016,-391 2016,-385 2016,-385 2016,-373 2016,-373 2016,-367 2022,-361 2028,-361 2028,-361 2252,-361 2252,-361 2258,-361 2264,-367 2264,-373 2264,-373 2264,-385 2264,-385 2264,-391 2258,-397 2252,-397"/>
<text text-anchor="middle" x="2140" y="-375.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord__OverlappedRollback</text>
</g>
<!-- MvcccReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__OverlappedRollback -->
<g id="edge24" class="edge">
<title>MvcccReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="#666666" d="M1647.03,-430.33C1729.04,-426.88 1864.2,-419.63 1980,-406 1996.97,-404 2014.88,-401.42 2032.33,-398.65"/>
<polygon fill="#666666" stroke="#666666" points="2033.22,-402.05 2042.53,-397 2032.1,-395.14 2033.22,-402.05"/>
</g>
<!-- Write__has_overlapped_rollback&#45;&gt;TxnCommitRecord__OverlappedRollback -->
<g id="edge37" class="edge">
<title>Write__has_overlapped_rollback&#45;&gt;TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="#666666" d="M1940.74,-379C1961.55,-379 1983.86,-379 2005.74,-379"/>
<polygon fill="#666666" stroke="#666666" points="2005.76,-382.5 2015.76,-379 2005.76,-375.5 2005.76,-382.5"/>
</g>
<!-- PROTECTED_ROLLBACK_SHORT_VALUE -->
<g id="node26" class="node">
<title>PROTECTED_ROLLBACK_SHORT_VALUE</title>
<path fill="none" stroke="#1c2123" d="M1716,-275C1716,-275 1968,-275 1968,-275 1974,-275 1980,-281 1980,-287 1980,-287 1980,-309 1980,-309 1980,-315 1974,-321 1968,-321 1968,-321 1716,-321 1716,-321 1710,-321 1704,-315 1704,-309 1704,-309 1704,-287 1704,-287 1704,-281 1710,-275 1716,-275"/>
<text text-anchor="start" x="1712" y="-305.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PROTECTED_ROLLBACK_SHORT_VALUE</text>
<polyline fill="none" stroke="#1c2123" points="1704,-298 1980,-298 "/>
<text text-anchor="start" x="1712" y="-282.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">常量，b&#39;p</text>
</g>
<!-- Write__is_protected&#45;&gt;PROTECTED_ROLLBACK_SHORT_VALUE -->
<g id="edge39" class="edge">
<title>Write__is_protected&#45;&gt;PROTECTED_ROLLBACK_SHORT_VALUE</title>
<path fill="none" stroke="#666666" d="M1634.77,-63.82C1647.33,-69.98 1659.32,-78.17 1668,-89 1717.94,-151.3 1648.53,-207.57 1704,-265 1705.23,-266.27 1706.49,-267.5 1707.8,-268.68"/>
<polygon fill="#666666" stroke="#666666" points="1705.65,-271.44 1715.64,-274.97 1710.03,-265.98 1705.65,-271.44"/>
</g>
<!-- Write__new_rollbaback&#45;&gt;PROTECTED_ROLLBACK_SHORT_VALUE -->
<g id="edge38" class="edge">
<title>Write__new_rollbaback&#45;&gt;PROTECTED_ROLLBACK_SHORT_VALUE</title>
<path fill="none" stroke="#666666" d="M1644.8,-298C1660.14,-298 1676.86,-298 1693.85,-298"/>
<polygon fill="#666666" stroke="#666666" points="1693.87,-301.5 1703.87,-298 1693.87,-294.5 1693.87,-301.5"/>
</g>
<!-- TxnCommitRecord__info -->
<g id="node27" class="node">
<title>TxnCommitRecord__info</title>
<path fill="none" stroke="#1c2123" d="M1909,-256C1909,-256 1775,-256 1775,-256 1769,-256 1763,-250 1763,-244 1763,-244 1763,-232 1763,-232 1763,-226 1769,-220 1775,-220 1775,-220 1909,-220 1909,-220 1915,-220 1921,-226 1921,-232 1921,-232 1921,-244 1921,-244 1921,-250 1915,-256 1909,-256"/>
<text text-anchor="middle" x="1842" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord__info</text>
</g>
<!-- TxnCommitRecord__info&#45;&gt;TxnCommitRecord__OverlappedRollback -->
<g id="edge41" class="edge">
<title>TxnCommitRecord__info&#45;&gt;TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="#666666" d="M1921.19,-247.45C1940.89,-251.43 1961.64,-257.06 1980,-265 2031.22,-287.16 2082.2,-327.84 2112.14,-354.13"/>
<polygon fill="#666666" stroke="#666666" points="2109.85,-356.78 2119.64,-360.82 2114.5,-351.55 2109.85,-356.78"/>
</g>
<!-- WriteType__Rollback -->
<g id="node28" class="node">
<title>WriteType__Rollback</title>
<path fill="none" stroke="#1c2123" d="M2196.5,-256C2196.5,-256 2083.5,-256 2083.5,-256 2077.5,-256 2071.5,-250 2071.5,-244 2071.5,-244 2071.5,-232 2071.5,-232 2071.5,-226 2077.5,-220 2083.5,-220 2083.5,-220 2196.5,-220 2196.5,-220 2202.5,-220 2208.5,-226 2208.5,-232 2208.5,-232 2208.5,-244 2208.5,-244 2208.5,-250 2202.5,-256 2196.5,-256"/>
<text text-anchor="middle" x="2140" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteType__Rollback</text>
</g>
<!-- TxnCommitRecord__info&#45;&gt;WriteType__Rollback -->
<g id="edge42" class="edge">
<title>TxnCommitRecord__info&#45;&gt;WriteType__Rollback</title>
<path fill="none" stroke="#666666" d="M1921.16,-238C1964.45,-238 2018.08,-238 2061.3,-238"/>
<polygon fill="#666666" stroke="#666666" points="2061.48,-241.5 2071.48,-238 2061.48,-234.5 2061.48,-241.5"/>
</g>
</g>
</svg>
