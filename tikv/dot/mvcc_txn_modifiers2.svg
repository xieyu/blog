<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: txn_modifiers Pages: 1 -->
<svg width="1247pt" height="278pt"
 viewBox="0.00 0.00 1247.00 278.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 274)">
<title>txn_modifiers</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-274 1243,-274 1243,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_scheduler_process_write</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M656,-54C656,-54 1219,-54 1219,-54 1225,-54 1231,-60 1231,-66 1231,-66 1231,-250 1231,-250 1231,-256 1225,-262 1219,-262 1219,-262 656,-262 656,-262 650,-262 644,-256 644,-250 644,-250 644,-66 644,-66 644,-60 650,-54 656,-54"/>
<text text-anchor="middle" x="937.5" y="-242" font-family="Times,serif" font-size="20.00">scheduler::process_write</text>
</g>
<!-- modifies -->
<g id="node1" class="node">
<title>modifies</title>
<path fill="#feed9b" stroke="#f7e495" d="M12,-119C12,-119 89,-119 89,-119 95,-119 101,-125 101,-131 101,-131 101,-153 101,-153 101,-159 95,-165 89,-165 89,-165 12,-165 12,-165 6,-165 0,-159 0,-153 0,-153 0,-131 0,-131 0,-125 6,-119 12,-119"/>
<text text-anchor="middle" x="50.5" y="-149.8" font-family="Times,serif" font-size="14.00" fill="#40575d">modifies</text>
<polyline fill="none" stroke="#f7e495" points="0,-142 101,-142 "/>
<text text-anchor="start" x="8" y="-126.8" font-family="Times,serif" font-size="14.00" fill="#40575d">Vec&lt;Modifier&gt;</text>
</g>
<!-- WriteData -->
<g id="node2" class="node">
<title>WriteData</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M149,-107.5C149,-107.5 302,-107.5 302,-107.5 308,-107.5 314,-113.5 314,-119.5 314,-119.5 314,-164.5 314,-164.5 314,-170.5 308,-176.5 302,-176.5 302,-176.5 149,-176.5 149,-176.5 143,-176.5 137,-170.5 137,-164.5 137,-164.5 137,-119.5 137,-119.5 137,-113.5 143,-107.5 149,-107.5"/>
<text text-anchor="middle" x="225.5" y="-161.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">WriteData</text>
<polyline fill="none" stroke="#60b5ac" points="137,-153.5 314,-153.5 "/>
<text text-anchor="start" x="145" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub modifies: Vec&lt;Modify&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="137,-130.5 314,-130.5 "/>
<text text-anchor="start" x="145" y="-115.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub extra: TxnExtra,</text>
</g>
<!-- modifies&#45;&gt;WriteData -->
<g id="edge3" class="edge">
<title>modifies&#45;&gt;WriteData</title>
<path fill="none" stroke="#666666" d="M101.07,-142C109.2,-142 117.86,-142 126.68,-142"/>
<polygon fill="#666666" stroke="#666666" points="126.69,-145.5 136.69,-142 126.69,-138.5 126.69,-145.5"/>
</g>
<!-- WriteResult -->
<g id="node3" class="node">
<title>WriteResult</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M362,-0.5C362,-0.5 604,-0.5 604,-0.5 610,-0.5 616,-6.5 616,-12.5 616,-12.5 616,-187.5 616,-187.5 616,-193.5 610,-199.5 604,-199.5 604,-199.5 362,-199.5 362,-199.5 356,-199.5 350,-193.5 350,-187.5 350,-187.5 350,-12.5 350,-12.5 350,-6.5 356,-0.5 362,-0.5"/>
<text text-anchor="middle" x="483" y="-184.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">WriteResult</text>
<polyline fill="none" stroke="#60b5ac" points="350,-176.5 616,-176.5 "/>
<text text-anchor="start" x="358" y="-161.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub ctx: Context,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-153.5 616,-153.5 "/>
<text text-anchor="start" x="358" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub to_be_write: WriteData,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-130.5 616,-130.5 "/>
<text text-anchor="start" x="358" y="-115.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub rows: usize,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-107.5 616,-107.5 "/>
<text text-anchor="start" x="358" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub pr: ProcessResult,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-84.5 616,-84.5 "/>
<text text-anchor="start" x="358" y="-69.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub lock_info: Option&lt;(lock_manager::Lock,</text>
<text text-anchor="start" x="358" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> bool, Option&lt;WaitTimeout&gt;)&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-46.5 616,-46.5 "/>
<text text-anchor="start" x="358" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub lock_guards: Vec&lt;KeyHandleGuard&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="350,-23.5 616,-23.5 "/>
<text text-anchor="start" x="358" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub response_policy: ResponsePolicy,</text>
</g>
<!-- WriteData&#45;&gt;WriteResult -->
<g id="edge4" class="edge">
<title>WriteData&#45;&gt;WriteResult:to_be_write</title>
<path fill="none" stroke="#666666" d="M314.21,-142C322.76,-142 331.39,-142 339.83,-142"/>
<polygon fill="#666666" stroke="#666666" points="340,-145.5 350,-142 340,-138.5 340,-145.5"/>
</g>
<!-- async_write_ext -->
<g id="node4" class="node">
<title>async_write_ext</title>
<path fill="none" stroke="#1c2123" d="M664,-63C664,-63 789,-63 789,-63 795,-63 801,-69 801,-75 801,-75 801,-211 801,-211 801,-217 795,-223 789,-223 789,-223 664,-223 664,-223 658,-223 652,-217 652,-211 652,-211 652,-75 652,-75 652,-69 658,-63 664,-63"/>
<text text-anchor="middle" x="726.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">async_write_ext</text>
<polyline fill="none" stroke="#1c2123" points="652,-200 801,-200 "/>
<text text-anchor="start" x="660" y="-184.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">engine.async_write_ext(</text>
<polyline fill="none" stroke="#1c2123" points="652,-177 801,-177 "/>
<text text-anchor="start" x="660" y="-161.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">&amp;ctx,</text>
<polyline fill="none" stroke="#1c2123" points="652,-154 801,-154 "/>
<text text-anchor="start" x="660" y="-138.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">to_be_write,</text>
<polyline fill="none" stroke="#1c2123" points="652,-131 801,-131 "/>
<text text-anchor="start" x="660" y="-115.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">engine_cb,</text>
<text text-anchor="start" x="660" y="-100.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> proposed_cb,</text>
<text text-anchor="start" x="660" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> committed_cb,</text>
<text text-anchor="start" x="660" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> )</text>
</g>
<!-- WriteResult&#45;&gt;async_write_ext -->
<g id="edge5" class="edge">
<title>WriteResult:to_be_write&#45;&gt;async_write_ext</title>
<path fill="none" stroke="#666666" d="M616,-142C624.34,-142 633.03,-142.03 641.71,-142.08"/>
<polygon fill="#666666" stroke="#666666" points="641.85,-145.58 651.87,-142.14 641.9,-138.58 641.85,-145.58"/>
</g>
<!-- on_write_finished -->
<g id="node6" class="node">
<title>on_write_finished</title>
<path fill="none" stroke="#1c2123" d="M1068,-87.5C1068,-87.5 1211,-87.5 1211,-87.5 1217,-87.5 1223,-93.5 1223,-99.5 1223,-99.5 1223,-136.5 1223,-136.5 1223,-142.5 1217,-148.5 1211,-148.5 1211,-148.5 1068,-148.5 1068,-148.5 1062,-148.5 1056,-142.5 1056,-136.5 1056,-136.5 1056,-99.5 1056,-99.5 1056,-93.5 1062,-87.5 1068,-87.5"/>
<text text-anchor="middle" x="1139.5" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_write_finished</text>
<polyline fill="none" stroke="#1c2123" points="1056,-125.5 1223,-125.5 "/>
<text text-anchor="start" x="1064" y="-110.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">在修改都写到engine之后</text>
<text text-anchor="start" x="1064" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 释放掉lock guards</text>
</g>
<!-- WriteResult&#45;&gt;on_write_finished -->
<g id="edge6" class="edge">
<title>WriteResult:lock_guards&#45;&gt;on_write_finished</title>
<path fill="none" stroke="#666666" d="M616,-35C768.15,-35 942.18,-69.75 1046.06,-94.28"/>
<polygon fill="#666666" stroke="#666666" points="1045.35,-97.71 1055.89,-96.63 1046.97,-90.9 1045.35,-97.71"/>
</g>
<!-- engine_cb -->
<g id="node5" class="node">
<title>engine_cb</title>
<path fill="none" stroke="#1c2123" d="M849,-107C849,-107 1008,-107 1008,-107 1014,-107 1020,-113 1020,-119 1020,-119 1020,-141 1020,-141 1020,-147 1014,-153 1008,-153 1008,-153 849,-153 849,-153 843,-153 837,-147 837,-141 837,-141 837,-119 837,-119 837,-113 843,-107 849,-107"/>
<text text-anchor="middle" x="928.5" y="-137.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">engine_cb</text>
<polyline fill="none" stroke="#1c2123" points="837,-130 1020,-130 "/>
<text text-anchor="start" x="845" y="-114.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">在engine写完之后的callback</text>
</g>
<!-- async_write_ext&#45;&gt;engine_cb -->
<g id="edge1" class="edge">
<title>async_write_ext&#45;&gt;engine_cb</title>
<path fill="none" stroke="#666666" d="M801.12,-138.21C809.45,-137.67 818.03,-137.12 826.63,-136.56"/>
<polygon fill="#666666" stroke="#666666" points="826.96,-140.04 836.71,-135.9 826.51,-133.06 826.96,-140.04"/>
</g>
<!-- engine_cb&#45;&gt;on_write_finished -->
<g id="edge2" class="edge">
<title>engine_cb&#45;&gt;on_write_finished</title>
<path fill="none" stroke="#666666" d="M1020.26,-124.79C1028.64,-124.31 1037.14,-123.82 1045.54,-123.34"/>
<polygon fill="#666666" stroke="#666666" points="1045.94,-126.82 1055.72,-122.75 1045.53,-119.83 1045.94,-126.82"/>
</g>
</g>
</svg>
