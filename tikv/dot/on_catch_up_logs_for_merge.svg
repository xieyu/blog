<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: on_catch_up_logs_for_merge Pages: 1 -->
<svg width="992pt" height="369pt"
 viewBox="0.00 0.00 992.00 369.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 365)">
<title>on_catch_up_logs_for_merge</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-365 988,-365 988,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Raft</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M734,-8C734,-8 964,-8 964,-8 970,-8 976,-14 976,-20 976,-20 976,-186 976,-186 976,-192 970,-198 964,-198 964,-198 734,-198 734,-198 728,-198 722,-192 722,-186 722,-186 722,-20 722,-20 722,-14 728,-8 734,-8"/>
<text text-anchor="middle" x="849" y="-178" font-family="Times,serif" font-size="20.00">raft&#45;rs</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M484,-19C484,-19 659,-19 659,-19 665,-19 671,-25 671,-31 671,-31 671,-89 671,-89 671,-95 665,-101 659,-101 659,-101 484,-101 484,-101 478,-101 472,-95 472,-89 472,-89 472,-31 472,-31 472,-25 478,-19 484,-19"/>
<text text-anchor="middle" x="571.5" y="-81" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-109C20,-109 690,-109 690,-109 696,-109 702,-115 702,-121 702,-121 702,-341 702,-341 702,-347 696,-353 690,-353 690,-353 20,-353 20,-353 14,-353 8,-347 8,-341 8,-341 8,-121 8,-121 8,-115 14,-109 20,-109"/>
<text text-anchor="middle" x="355" y="-333" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<!-- maybe_append -->
<g id="node1" class="node">
<title>maybe_append</title>
<path fill="none" stroke="#1c2123" d="M742,-59.5C742,-59.5 835,-59.5 835,-59.5 841,-59.5 847,-65.5 847,-71.5 847,-71.5 847,-108.5 847,-108.5 847,-114.5 841,-120.5 835,-120.5 835,-120.5 742,-120.5 742,-120.5 736,-120.5 730,-114.5 730,-108.5 730,-108.5 730,-71.5 730,-71.5 730,-65.5 736,-59.5 742,-59.5"/>
<text text-anchor="middle" x="788.5" y="-105.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">maybe_append</text>
<polyline fill="none" stroke="#1c2123" points="730,-97.5 847,-97.5 "/>
<text text-anchor="start" x="738" y="-82.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">将log entries </text>
<text text-anchor="start" x="738" y="-67.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> append 到raft log</text>
</g>
<!-- find_conflict -->
<g id="node2" class="node">
<title>find_conflict</title>
<path fill="none" stroke="#1c2123" d="M956,-160C956,-160 895,-160 895,-160 889,-160 883,-154 883,-148 883,-148 883,-136 883,-136 883,-130 889,-124 895,-124 895,-124 956,-124 956,-124 962,-124 968,-130 968,-136 968,-136 968,-148 968,-148 968,-154 962,-160 956,-160"/>
<text text-anchor="middle" x="925.5" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">find_conflict</text>
</g>
<!-- maybe_append&#45;&gt;find_conflict -->
<g id="edge1" class="edge">
<title>maybe_append&#45;&gt;find_conflict</title>
<path fill="none" stroke="#666666" d="M847.14,-112.2C855.89,-115.57 864.86,-119.03 873.46,-122.34"/>
<polygon fill="#666666" stroke="#666666" points="872.38,-125.67 882.97,-126 874.9,-119.14 872.38,-125.67"/>
</g>
<!-- append -->
<g id="node3" class="node">
<title>append</title>
<path fill="none" stroke="#1c2123" d="M941.5,-106C941.5,-106 909.5,-106 909.5,-106 903.5,-106 897.5,-100 897.5,-94 897.5,-94 897.5,-82 897.5,-82 897.5,-76 903.5,-70 909.5,-70 909.5,-70 941.5,-70 941.5,-70 947.5,-70 953.5,-76 953.5,-82 953.5,-82 953.5,-94 953.5,-94 953.5,-100 947.5,-106 941.5,-106"/>
<text text-anchor="middle" x="925.5" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">append</text>
</g>
<!-- maybe_append&#45;&gt;append -->
<g id="edge2" class="edge">
<title>maybe_append&#45;&gt;append</title>
<path fill="none" stroke="#666666" d="M847.14,-89.15C860.8,-88.94 875.02,-88.73 887.48,-88.55"/>
<polygon fill="#666666" stroke="#666666" points="887.53,-92.05 897.48,-88.4 887.43,-85.05 887.53,-92.05"/>
</g>
<!-- commit_to -->
<g id="node4" class="node">
<title>commit_to</title>
<path fill="none" stroke="#1c2123" d="M952,-52C952,-52 899,-52 899,-52 893,-52 887,-46 887,-40 887,-40 887,-28 887,-28 887,-22 893,-16 899,-16 899,-16 952,-16 952,-16 958,-16 964,-22 964,-28 964,-28 964,-40 964,-40 964,-46 958,-52 952,-52"/>
<text text-anchor="middle" x="925.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">commit_to</text>
</g>
<!-- maybe_append&#45;&gt;commit_to -->
<g id="edge3" class="edge">
<title>maybe_append&#45;&gt;commit_to</title>
<path fill="none" stroke="#666666" d="M847.14,-66.09C857.25,-61.9 867.65,-57.58 877.43,-53.53"/>
<polygon fill="#666666" stroke="#666666" points="879.06,-56.64 886.96,-49.57 876.38,-50.17 879.06,-56.64"/>
</g>
<!-- maybe_append_merge_entries -->
<g id="node5" class="node">
<title>maybe_append_merge_entries</title>
<path fill="none" stroke="#1c2123" d="M651,-63C651,-63 492,-63 492,-63 486,-63 480,-57 480,-51 480,-51 480,-39 480,-39 480,-33 486,-27 492,-27 492,-27 651,-27 651,-27 657,-27 663,-33 663,-39 663,-39 663,-51 663,-51 663,-57 657,-63 651,-63"/>
<text text-anchor="middle" x="571.5" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">maybe_append_merge_entries</text>
</g>
<!-- maybe_append_merge_entries&#45;&gt;maybe_append -->
<g id="edge4" class="edge">
<title>maybe_append_merge_entries&#45;&gt;maybe_append</title>
<path fill="none" stroke="#666666" d="M658.71,-63.04C679.1,-67.31 700.56,-71.8 719.99,-75.87"/>
<polygon fill="#666666" stroke="#666666" points="719.44,-79.33 729.95,-77.95 720.88,-72.48 719.44,-79.33"/>
</g>
<!-- maybe_append_merge_entries&#45;&gt;commit_to -->
<g id="edge5" class="edge">
<title>maybe_append_merge_entries&#45;&gt;commit_to</title>
<path fill="none" stroke="#666666" d="M663.15,-42.17C731.28,-40.04 821.92,-37.21 876.59,-35.5"/>
<polygon fill="#666666" stroke="#666666" points="876.81,-38.99 886.69,-35.18 876.59,-32 876.81,-38.99"/>
</g>
<!-- SignificantMsg_CatchUpLogs -->
<g id="node6" class="node">
<title>SignificantMsg_CatchUpLogs</title>
<path fill="none" stroke="#1c2123" d="M186,-207C186,-207 28,-207 28,-207 22,-207 16,-201 16,-195 16,-195 16,-183 16,-183 16,-177 22,-171 28,-171 28,-171 186,-171 186,-171 192,-171 198,-177 198,-183 198,-183 198,-195 198,-195 198,-201 192,-207 186,-207"/>
<text text-anchor="middle" x="107" y="-185.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SignificantMsg_CatchUpLogs</text>
</g>
<!-- on_catch_up_logs_for_merge -->
<g id="node7" class="node">
<title>on_catch_up_logs_for_merge</title>
<path fill="none" stroke="#1c2123" d="M401,-207C401,-207 246,-207 246,-207 240,-207 234,-201 234,-195 234,-195 234,-183 234,-183 234,-177 240,-171 246,-171 246,-171 401,-171 401,-171 407,-171 413,-177 413,-183 413,-183 413,-195 413,-195 413,-201 407,-207 401,-207"/>
<text text-anchor="middle" x="323.5" y="-185.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_catch_up_logs_for_merge</text>
</g>
<!-- SignificantMsg_CatchUpLogs&#45;&gt;on_catch_up_logs_for_merge -->
<g id="edge6" class="edge">
<title>SignificantMsg_CatchUpLogs&#45;&gt;on_catch_up_logs_for_merge</title>
<path fill="none" stroke="#666666" d="M198.03,-189C206.52,-189 215.16,-189 223.72,-189"/>
<polygon fill="#666666" stroke="#666666" points="223.73,-192.5 233.73,-189 223.73,-185.5 223.73,-192.5"/>
</g>
<!-- on_catch_up_logs_for_merge&#45;&gt;maybe_append_merge_entries -->
<g id="edge7" class="edge">
<title>on_catch_up_logs_for_merge&#45;&gt;maybe_append_merge_entries</title>
<path fill="none" stroke="#666666" d="M349.14,-170.93C373.8,-153.18 413.15,-125.82 449,-105 472.23,-91.51 498.91,-78.12 521.34,-67.42"/>
<polygon fill="#666666" stroke="#666666" points="523.13,-70.44 530.67,-63.01 520.13,-64.12 523.13,-70.44"/>
</g>
<!-- pending_merge_state -->
<g id="node8" class="node">
<title>pending_merge_state</title>
<path fill="none" stroke="#1c2123" d="M626,-315C626,-315 517,-315 517,-315 511,-315 505,-309 505,-303 505,-303 505,-291 505,-291 505,-285 511,-279 517,-279 517,-279 626,-279 626,-279 632,-279 638,-285 638,-291 638,-291 638,-303 638,-303 638,-309 632,-315 626,-315"/>
<text text-anchor="middle" x="571.5" y="-293.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pending_merge_state</text>
</g>
<!-- on_catch_up_logs_for_merge&#45;&gt;pending_merge_state -->
<g id="edge8" class="edge">
<title>on_catch_up_logs_for_merge&#45;&gt;pending_merge_state</title>
<path fill="none" stroke="#666666" d="M398.4,-207.12C403.56,-209.7 408.49,-212.64 413,-216 436.15,-233.21 425.21,-253.7 449,-270 462.58,-279.31 478.84,-285.46 494.98,-289.52"/>
<polygon fill="#666666" stroke="#666666" points="494.46,-293 504.99,-291.79 496.01,-286.17 494.46,-293"/>
</g>
<!-- schedule_task_ApplyTask_LogsUptoDate -->
<g id="node9" class="node">
<title>schedule_task_ApplyTask_LogsUptoDate</title>
<path fill="none" stroke="#1c2123" d="M682,-207C682,-207 461,-207 461,-207 455,-207 449,-201 449,-195 449,-195 449,-183 449,-183 449,-177 455,-171 461,-171 461,-171 682,-171 682,-171 688,-171 694,-177 694,-183 694,-183 694,-195 694,-195 694,-201 688,-207 682,-207"/>
<text text-anchor="middle" x="571.5" y="-185.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">schedule_task_ApplyTask_LogsUptoDate</text>
</g>
<!-- on_catch_up_logs_for_merge&#45;&gt;schedule_task_ApplyTask_LogsUptoDate -->
<g id="edge9" class="edge">
<title>on_catch_up_logs_for_merge&#45;&gt;schedule_task_ApplyTask_LogsUptoDate</title>
<path fill="none" stroke="#666666" d="M413.31,-189C421.62,-189 430.16,-189 438.75,-189"/>
<polygon fill="#666666" stroke="#666666" points="438.85,-192.5 448.85,-189 438.85,-185.5 438.85,-192.5"/>
</g>
<!-- has_ready -->
<g id="node10" class="node">
<title>has_ready</title>
<path fill="none" stroke="#1c2123" d="M595,-153C595,-153 548,-153 548,-153 542,-153 536,-147 536,-141 536,-141 536,-129 536,-129 536,-123 542,-117 548,-117 548,-117 595,-117 595,-117 601,-117 607,-123 607,-129 607,-129 607,-141 607,-141 607,-147 601,-153 595,-153"/>
<text text-anchor="middle" x="571.5" y="-131.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">has_ready</text>
</g>
<!-- on_catch_up_logs_for_merge&#45;&gt;has_ready -->
<g id="edge10" class="edge">
<title>on_catch_up_logs_for_merge&#45;&gt;has_ready</title>
<path fill="none" stroke="#666666" d="M406.76,-170.94C446.63,-162.19 492.94,-152.02 526.12,-144.74"/>
<polygon fill="#666666" stroke="#666666" points="526.95,-148.14 535.97,-142.58 525.45,-141.31 526.95,-148.14"/>
</g>
<!-- catch_up_logs -->
<g id="node11" class="node">
<title>catch_up_logs</title>
<path fill="none" stroke="#1c2123" d="M607,-261C607,-261 536,-261 536,-261 530,-261 524,-255 524,-249 524,-249 524,-237 524,-237 524,-231 530,-225 536,-225 536,-225 607,-225 607,-225 613,-225 619,-231 619,-237 619,-237 619,-249 619,-249 619,-255 613,-261 607,-261"/>
<text text-anchor="middle" x="571.5" y="-239.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">catch_up_logs</text>
</g>
<!-- on_catch_up_logs_for_merge&#45;&gt;catch_up_logs -->
<g id="edge11" class="edge">
<title>on_catch_up_logs_for_merge&#45;&gt;catch_up_logs</title>
<path fill="none" stroke="#666666" d="M406.76,-207.06C441.92,-214.78 482.09,-223.59 513.85,-230.56"/>
<polygon fill="#666666" stroke="#666666" points="513.33,-234.03 523.84,-232.76 514.83,-227.2 513.33,-234.03"/>
</g>
<!-- on_ready_prepare_merge -->
<g id="node12" class="node">
<title>on_ready_prepare_merge</title>
<path fill="none" stroke="#1c2123" d="M389,-261C389,-261 258,-261 258,-261 252,-261 246,-255 246,-249 246,-249 246,-237 246,-237 246,-231 252,-225 258,-225 258,-225 389,-225 389,-225 395,-225 401,-231 401,-237 401,-237 401,-249 401,-249 401,-255 395,-261 389,-261"/>
<text text-anchor="middle" x="323.5" y="-239.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_ready_prepare_merge</text>
</g>
<!-- on_ready_prepare_merge&#45;&gt;pending_merge_state -->
<g id="edge12" class="edge">
<title>on_ready_prepare_merge&#45;&gt;pending_merge_state</title>
<path fill="none" stroke="#666666" d="M401.32,-259.86C431.09,-266.4 465.07,-273.86 494.74,-280.37"/>
<polygon fill="#666666" stroke="#666666" points="494.1,-283.81 504.62,-282.54 495.6,-276.98 494.1,-283.81"/>
</g>
<!-- on_ready_prepare_merge&#45;&gt;schedule_task_ApplyTask_LogsUptoDate -->
<g id="edge13" class="edge">
<title>on_ready_prepare_merge&#45;&gt;schedule_task_ApplyTask_LogsUptoDate</title>
<path fill="none" stroke="#666666" d="M401.32,-226.14C425.72,-220.78 452.94,-214.8 478.3,-209.24"/>
<polygon fill="#666666" stroke="#666666" points="479.28,-212.61 488.29,-207.05 477.78,-205.77 479.28,-212.61"/>
</g>
<!-- on_ready_prepare_merge&#45;&gt;catch_up_logs -->
<g id="edge14" class="edge">
<title>on_ready_prepare_merge&#45;&gt;catch_up_logs</title>
<path fill="none" stroke="#666666" d="M401.32,-243C437.74,-243 480.46,-243 513.87,-243"/>
<polygon fill="#666666" stroke="#666666" points="513.92,-246.5 523.92,-243 513.92,-239.5 513.92,-246.5"/>
</g>
</g>
</svg>
