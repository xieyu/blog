<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: on_ready_change_peer_remove Pages: 1 -->
<svg width="1117pt" height="908pt"
 viewBox="0.00 0.00 1117.00 908.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 904)">
<title>on_ready_change_peer_remove</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-904 1113,-904 1113,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M247.5,-522C247.5,-522 660,-522 660,-522 666,-522 672,-528 672,-534 672,-534 672,-672 672,-672 672,-678 666,-684 660,-684 660,-684 247.5,-684 247.5,-684 241.5,-684 235.5,-678 235.5,-672 235.5,-672 235.5,-534 235.5,-534 235.5,-528 241.5,-522 247.5,-522"/>
<text text-anchor="middle" x="453.75" y="-664" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_StoreMeta</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M766,-386C766,-386 919,-386 919,-386 925,-386 931,-392 931,-398 931,-398 931,-672 931,-672 931,-678 925,-684 919,-684 919,-684 766,-684 766,-684 760,-684 754,-678 754,-672 754,-672 754,-398 754,-398 754,-392 760,-386 766,-386"/>
<text text-anchor="middle" x="842.5" y="-664" font-family="Times,serif" font-size="20.00">StoreMeta</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_copprocessor_host</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M773,-296C773,-296 912,-296 912,-296 918,-296 924,-302 924,-308 924,-308 924,-366 924,-366 924,-372 918,-378 912,-378 912,-378 773,-378 773,-378 767,-378 761,-372 761,-366 761,-366 761,-308 761,-308 761,-302 767,-296 773,-296"/>
<text text-anchor="middle" x="842.5" y="-358" font-family="Times,serif" font-size="20.00">copprocessor_host</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_PdScheduler</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M795.5,-194C795.5,-194 889.5,-194 889.5,-194 895.5,-194 901.5,-200 901.5,-206 901.5,-206 901.5,-276 901.5,-276 901.5,-282 895.5,-288 889.5,-288 889.5,-288 795.5,-288 795.5,-288 789.5,-288 783.5,-282 783.5,-276 783.5,-276 783.5,-206 783.5,-206 783.5,-200 789.5,-194 795.5,-194"/>
<text text-anchor="middle" x="842.5" y="-268" font-family="Times,serif" font-size="20.00">PdScheduler</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_PollContext</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M777.5,-8C777.5,-8 907.5,-8 907.5,-8 913.5,-8 919.5,-14 919.5,-20 919.5,-20 919.5,-174 919.5,-174 919.5,-180 913.5,-186 907.5,-186 907.5,-186 777.5,-186 777.5,-186 771.5,-186 765.5,-180 765.5,-174 765.5,-174 765.5,-20 765.5,-20 765.5,-14 771.5,-8 777.5,-8"/>
<text text-anchor="middle" x="842.5" y="-166" font-family="Times,serif" font-size="20.00">PollContext</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-692C20,-692 904.5,-692 904.5,-692 910.5,-692 916.5,-698 916.5,-704 916.5,-704 916.5,-880 916.5,-880 916.5,-886 910.5,-892 904.5,-892 904.5,-892 20,-892 20,-892 14,-892 8,-886 8,-880 8,-880 8,-704 8,-704 8,-698 14,-692 20,-692"/>
<text text-anchor="middle" x="462.25" y="-872" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_BatchSystem</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M963,-742C963,-742 1089,-742 1089,-742 1095,-742 1101,-748 1101,-754 1101,-754 1101,-838 1101,-838 1101,-844 1095,-850 1089,-850 1089,-850 963,-850 963,-850 957,-850 951,-844 951,-838 951,-838 951,-754 951,-754 951,-748 957,-742 963,-742"/>
<text text-anchor="middle" x="1026" y="-830" font-family="Times,serif" font-size="20.00">BatchSystem</text>
</g>
<!-- peer_heartbeats -->
<g id="node1" class="node">
<title>peer_heartbeats</title>
<path fill="none" stroke="#1c2123" d="M255.5,-584.5C255.5,-584.5 332.5,-584.5 332.5,-584.5 338.5,-584.5 344.5,-590.5 344.5,-596.5 344.5,-596.5 344.5,-633.5 344.5,-633.5 344.5,-639.5 338.5,-645.5 332.5,-645.5 332.5,-645.5 255.5,-645.5 255.5,-645.5 249.5,-645.5 243.5,-639.5 243.5,-633.5 243.5,-633.5 243.5,-596.5 243.5,-596.5 243.5,-590.5 249.5,-584.5 255.5,-584.5"/>
<text text-anchor="middle" x="294" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">peer_heartbeats</text>
<polyline fill="none" stroke="#1c2123" points="243.5,-622.5 344.5,-622.5 "/>
<text text-anchor="start" x="251.5" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从heartbeats</text>
<text text-anchor="start" x="251.5" y="-592.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 中将peer删除</text>
</g>
<!-- peers_start_pending_time -->
<g id="node2" class="node">
<title>peers_start_pending_time</title>
<path fill="none" stroke="#1c2123" d="M504,-531C504,-531 652,-531 652,-531 658,-531 664,-537 664,-543 664,-543 664,-565 664,-565 664,-571 658,-577 652,-577 652,-577 504,-577 504,-577 498,-577 492,-571 492,-565 492,-565 492,-543 492,-543 492,-537 498,-531 504,-531"/>
<text text-anchor="middle" x="578" y="-561.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">peers_start_pending_time</text>
<polyline fill="none" stroke="#1c2123" points="492,-554 664,-554 "/>
<text text-anchor="start" x="500" y="-538.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">删掉peer_id对应的element</text>
</g>
<!-- is_leader -->
<g id="node3" class="node">
<title>is_leader</title>
<path fill="none" stroke="#1c2123" d="M314.5,-566C314.5,-566 273.5,-566 273.5,-566 267.5,-566 261.5,-560 261.5,-554 261.5,-554 261.5,-542 261.5,-542 261.5,-536 267.5,-530 273.5,-530 273.5,-530 314.5,-530 314.5,-530 320.5,-530 326.5,-536 326.5,-542 326.5,-542 326.5,-554 326.5,-554 326.5,-560 320.5,-566 314.5,-566"/>
<text text-anchor="middle" x="294" y="-544.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">is_leader</text>
</g>
<!-- is_leader&#45;&gt;peers_start_pending_time -->
<g id="edge1" class="edge">
<title>is_leader&#45;&gt;peers_start_pending_time</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M326.53,-548.67C363.86,-549.47 427.78,-550.83 481.71,-551.97"/>
<polygon fill="green" stroke="green" points="481.93,-555.48 492,-552.19 482.07,-548.48 481.93,-555.48"/>
</g>
<!-- pending_snapshot_regions -->
<g id="node4" class="node">
<title>pending_snapshot_regions</title>
<path fill="none" stroke="#1c2123" d="M911,-646C911,-646 774,-646 774,-646 768,-646 762,-640 762,-634 762,-634 762,-622 762,-622 762,-616 768,-610 774,-610 774,-610 911,-610 911,-610 917,-610 923,-616 923,-622 923,-622 923,-634 923,-634 923,-640 917,-646 911,-646"/>
<text text-anchor="middle" x="842.5" y="-624.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pending_snapshot_regions</text>
</g>
<!-- pending_merge_targets -->
<g id="node5" class="node">
<title>pending_merge_targets</title>
<path fill="none" stroke="#1c2123" d="M902.5,-592C902.5,-592 782.5,-592 782.5,-592 776.5,-592 770.5,-586 770.5,-580 770.5,-580 770.5,-568 770.5,-568 770.5,-562 776.5,-556 782.5,-556 782.5,-556 902.5,-556 902.5,-556 908.5,-556 914.5,-562 914.5,-568 914.5,-568 914.5,-580 914.5,-580 914.5,-586 908.5,-592 902.5,-592"/>
<text text-anchor="middle" x="842.5" y="-570.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pending_merge_targets</text>
</g>
<!-- readers -->
<g id="node6" class="node">
<title>readers</title>
<path fill="none" stroke="#1c2123" d="M858.5,-538C858.5,-538 826.5,-538 826.5,-538 820.5,-538 814.5,-532 814.5,-526 814.5,-526 814.5,-514 814.5,-514 814.5,-508 820.5,-502 826.5,-502 826.5,-502 858.5,-502 858.5,-502 864.5,-502 870.5,-508 870.5,-514 870.5,-514 870.5,-526 870.5,-526 870.5,-532 864.5,-538 858.5,-538"/>
<text text-anchor="middle" x="842.5" y="-516.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">readers</text>
</g>
<!-- leaders -->
<g id="node7" class="node">
<title>leaders</title>
<path fill="none" stroke="#1c2123" d="M858,-484C858,-484 827,-484 827,-484 821,-484 815,-478 815,-472 815,-472 815,-460 815,-460 815,-454 821,-448 827,-448 827,-448 858,-448 858,-448 864,-448 870,-454 870,-460 870,-460 870,-472 870,-472 870,-478 864,-484 858,-484"/>
<text text-anchor="middle" x="842.5" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">leaders</text>
</g>
<!-- regions -->
<g id="node8" class="node">
<title>regions</title>
<path fill="none" stroke="#1c2123" d="M858.5,-430C858.5,-430 826.5,-430 826.5,-430 820.5,-430 814.5,-424 814.5,-418 814.5,-418 814.5,-406 814.5,-406 814.5,-400 820.5,-394 826.5,-394 826.5,-394 858.5,-394 858.5,-394 864.5,-394 870.5,-400 870.5,-406 870.5,-406 870.5,-418 870.5,-418 870.5,-424 864.5,-430 858.5,-430"/>
<text text-anchor="middle" x="842.5" y="-408.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">regions</text>
</g>
<!-- on_region_changed -->
<g id="node9" class="node">
<title>on_region_changed</title>
<path fill="none" stroke="#1c2123" d="M892,-340C892,-340 793,-340 793,-340 787,-340 781,-334 781,-328 781,-328 781,-316 781,-316 781,-310 787,-304 793,-304 793,-304 892,-304 892,-304 898,-304 904,-310 904,-316 904,-316 904,-328 904,-328 904,-334 898,-340 892,-340"/>
<text text-anchor="middle" x="842.5" y="-318.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_region_changed</text>
</g>
<!-- DestroyPeer -->
<g id="node10" class="node">
<title>DestroyPeer</title>
<path fill="none" stroke="#1c2123" d="M803.5,-203C803.5,-203 881.5,-203 881.5,-203 887.5,-203 893.5,-209 893.5,-215 893.5,-215 893.5,-237 893.5,-237 893.5,-243 887.5,-249 881.5,-249 881.5,-249 803.5,-249 803.5,-249 797.5,-249 791.5,-243 791.5,-237 791.5,-237 791.5,-215 791.5,-215 791.5,-209 797.5,-203 803.5,-203"/>
<text text-anchor="middle" x="842.5" y="-233.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">DestroyPeer</text>
<polyline fill="none" stroke="#1c2123" points="791.5,-226 893.5,-226 "/>
<text text-anchor="middle" x="842.5" y="-210.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送通知给Pd</text>
</g>
<!-- pending_create_peers -->
<g id="node11" class="node">
<title>pending_create_peers</title>
<path fill="none" stroke="#1c2123" d="M897.5,-148C897.5,-148 787.5,-148 787.5,-148 781.5,-148 775.5,-142 775.5,-136 775.5,-136 775.5,-124 775.5,-124 775.5,-118 781.5,-112 787.5,-112 787.5,-112 897.5,-112 897.5,-112 903.5,-112 909.5,-118 909.5,-124 909.5,-124 909.5,-136 909.5,-136 909.5,-142 903.5,-148 897.5,-148"/>
<text text-anchor="middle" x="842.5" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pending_create_peers</text>
</g>
<!-- ctx_router_close -->
<g id="node12" class="node">
<title>ctx_router_close</title>
<path fill="none" stroke="#1c2123" d="M785.5,-17C785.5,-17 899.5,-17 899.5,-17 905.5,-17 911.5,-23 911.5,-29 911.5,-29 911.5,-81 911.5,-81 911.5,-87 905.5,-93 899.5,-93 899.5,-93 785.5,-93 785.5,-93 779.5,-93 773.5,-87 773.5,-81 773.5,-81 773.5,-29 773.5,-29 773.5,-23 779.5,-17 785.5,-17"/>
<text text-anchor="middle" x="842.5" y="-77.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ctx.router.close</text>
<polyline fill="none" stroke="#1c2123" points="773.5,-70 911.5,-70 "/>
<text text-anchor="start" x="781.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">从RaftRouter.normals</text>
<text text-anchor="start" x="781.5" y="-39.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 中删掉路由信息</text>
<text text-anchor="middle" x="842.5" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 关闭mailbox</text>
</g>
<!-- on_ready_change_peer -->
<g id="node13" class="node">
<title>on_ready_change_peer</title>
<path fill="none" stroke="#1c2123" d="M146,-736C146,-736 28,-736 28,-736 22,-736 16,-730 16,-724 16,-724 16,-712 16,-712 16,-706 22,-700 28,-700 28,-700 146,-700 146,-700 152,-700 158,-706 158,-712 158,-712 158,-724 158,-724 158,-730 152,-736 146,-736"/>
<text text-anchor="middle" x="87" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_ready_change_peer</text>
</g>
<!-- on_ready_change_peer&#45;&gt;peer_heartbeats -->
<g id="edge2" class="edge">
<title>on_ready_change_peer&#45;&gt;peer_heartbeats</title>
<path fill="none" stroke="#666666" d="M124.18,-699.82C154.57,-684.55 198.58,-662.44 234.05,-644.62"/>
<polygon fill="#666666" stroke="#666666" points="235.98,-647.57 243.34,-639.95 232.84,-641.31 235.98,-647.57"/>
</g>
<!-- on_ready_change_peer&#45;&gt;peers_start_pending_time -->
<g id="edge3" class="edge">
<title>on_ready_change_peer&#45;&gt;peers_start_pending_time</title>
<path fill="none" stroke="#666666" d="M91.36,-699.87C99.99,-659.16 127.15,-560.94 194,-521 293.37,-461.63 433.91,-497.86 514.21,-527.4"/>
<polygon fill="#666666" stroke="#666666" points="513.1,-530.72 523.69,-530.96 515.56,-524.17 513.1,-530.72"/>
</g>
<!-- on_ready_change_peer&#45;&gt;is_leader -->
<g id="edge4" class="edge">
<title>on_ready_change_peer&#45;&gt;is_leader</title>
<path fill="none" stroke="#666666" d="M96.55,-699.54C111.72,-668.88 146.29,-607.61 194,-575 210.88,-563.46 232.52,-556.85 251.26,-553.05"/>
<polygon fill="#666666" stroke="#666666" points="252.11,-556.46 261.32,-551.22 250.86,-549.57 252.11,-556.46"/>
</g>
<!-- update_region -->
<g id="node14" class="node">
<title>update_region</title>
<path fill="none" stroke="#1c2123" d="M329,-736C329,-736 259,-736 259,-736 253,-736 247,-730 247,-724 247,-724 247,-712 247,-712 247,-706 253,-700 259,-700 259,-700 329,-700 329,-700 335,-700 341,-706 341,-712 341,-712 341,-724 341,-724 341,-730 335,-736 329,-736"/>
<text text-anchor="middle" x="294" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">update_region</text>
</g>
<!-- on_ready_change_peer&#45;&gt;update_region -->
<g id="edge5" class="edge">
<title>on_ready_change_peer&#45;&gt;update_region</title>
<path fill="none" stroke="#666666" d="M158.26,-718C183.92,-718 212.58,-718 236.85,-718"/>
<polygon fill="#666666" stroke="#666666" points="236.96,-721.5 246.96,-718 236.96,-714.5 236.96,-721.5"/>
</g>
<!-- remove_self -->
<g id="node15" class="node">
<title>remove_self</title>
<path fill="#feed9b" stroke="#f7e495" d="M206,-754.5C206,-754.5 382,-754.5 382,-754.5 388,-754.5 394,-760.5 394,-766.5 394,-766.5 394,-841.5 394,-841.5 394,-847.5 388,-853.5 382,-853.5 382,-853.5 206,-853.5 206,-853.5 200,-853.5 194,-847.5 194,-841.5 194,-841.5 194,-766.5 194,-766.5 194,-760.5 200,-754.5 206,-754.5"/>
<text text-anchor="middle" x="294" y="-838.3" font-family="Times,serif" font-size="14.00" fill="#40575d">remove_self</text>
<polyline fill="none" stroke="#f7e495" points="194,-830.5 394,-830.5 "/>
<text text-anchor="start" x="202" y="-815.3" font-family="Times,serif" font-size="14.00" fill="#40575d">self.store_id == store_id</text>
<text text-anchor="start" x="202" y="-800.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> self.fms.peer.peer_id == peer_id</text>
<polyline fill="none" stroke="#f7e495" points="194,-792.5 394,-792.5 "/>
<text text-anchor="start" x="202" y="-777.3" font-family="Times,serif" font-size="14.00" fill="#40575d">如果remove的节点是自己</text>
<text text-anchor="start" x="202" y="-762.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> 将remove_self设置为true</text>
</g>
<!-- on_ready_change_peer&#45;&gt;remove_self -->
<g id="edge6" class="edge">
<title>on_ready_change_peer&#45;&gt;remove_self</title>
<path fill="none" stroke="#666666" d="M130.97,-736.03C146.82,-742.67 165.56,-750.54 184.58,-758.51"/>
<polygon fill="#666666" stroke="#666666" points="183.35,-761.79 193.92,-762.44 186.05,-755.34 183.35,-761.79"/>
</g>
<!-- destroy_peer -->
<g id="node16" class="node">
<title>destroy_peer</title>
<path fill="none" stroke="#1c2123" d="M442,-701C442,-701 714,-701 714,-701 720,-701 726,-707 726,-713 726,-713 726,-735 726,-735 726,-741 720,-747 714,-747 714,-747 442,-747 442,-747 436,-747 430,-741 430,-735 430,-735 430,-713 430,-713 430,-707 436,-701 442,-701"/>
<text text-anchor="middle" x="578" y="-731.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">destroy_peer</text>
<polyline fill="none" stroke="#1c2123" points="430,-724 726,-724 "/>
<text text-anchor="start" x="438" y="-708.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">destroy_peer(false) merged_by_target 参数为false</text>
</g>
<!-- remove_self&#45;&gt;destroy_peer -->
<g id="edge7" class="edge">
<title>remove_self&#45;&gt;destroy_peer</title>
<path fill="none" stroke="#666666" d="M394.03,-775.91C423.97,-767.41 456.69,-758.13 486.08,-749.79"/>
<polygon fill="#666666" stroke="#666666" points="487.24,-753.1 495.91,-747.01 485.33,-746.37 487.24,-753.1"/>
</g>
<!-- destroy_peer&#45;&gt;pending_snapshot_regions -->
<g id="edge8" class="edge">
<title>destroy_peer&#45;&gt;pending_snapshot_regions</title>
<path fill="none" stroke="#666666" d="M686.3,-700.9C699.82,-697.07 713.33,-692.76 726,-688 752.46,-678.05 780.65,-663.49 802.55,-651.21"/>
<polygon fill="#666666" stroke="#666666" points="804.57,-654.09 811.53,-646.1 801.11,-648 804.57,-654.09"/>
</g>
<!-- destroy_peer&#45;&gt;pending_merge_targets -->
<g id="edge9" class="edge">
<title>destroy_peer&#45;&gt;pending_merge_targets</title>
<path fill="none" stroke="#666666" d="M708.64,-700.93C714.86,-697.21 720.71,-692.92 726,-688 755.73,-660.32 725.1,-629.55 754,-601 756.37,-598.65 758.95,-596.51 761.67,-594.55"/>
<polygon fill="#666666" stroke="#666666" points="763.61,-597.47 770.25,-589.22 759.91,-591.53 763.61,-597.47"/>
</g>
<!-- destroy_peer&#45;&gt;readers -->
<g id="edge10" class="edge">
<title>destroy_peer&#45;&gt;readers</title>
<path fill="none" stroke="#666666" d="M710.32,-700.99C716,-697.24 721.28,-692.94 726,-688 770.17,-641.84 711.21,-594.45 754,-547 766.73,-532.89 786.65,-526.07 804.27,-522.81"/>
<polygon fill="#666666" stroke="#666666" points="804.95,-526.24 814.3,-521.27 803.89,-519.32 804.95,-526.24"/>
</g>
<!-- destroy_peer&#45;&gt;leaders -->
<g id="edge11" class="edge">
<title>destroy_peer&#45;&gt;leaders</title>
<path fill="none" stroke="#666666" d="M711.29,-700.85C716.63,-697.12 721.59,-692.87 726,-688 784.82,-623.14 697.12,-559.57 754,-493 766.58,-478.28 786.99,-471.46 804.93,-468.35"/>
<polygon fill="#666666" stroke="#666666" points="805.45,-471.81 814.86,-466.94 804.47,-464.88 805.45,-471.81"/>
</g>
<!-- destroy_peer&#45;&gt;regions -->
<g id="edge12" class="edge">
<title>destroy_peer&#45;&gt;regions</title>
<path fill="none" stroke="#666666" d="M711.79,-700.79C716.97,-697.07 721.75,-692.83 726,-688 799.54,-604.37 682.96,-524.77 754,-439 766.26,-424.19 786.47,-417.35 804.37,-414.25"/>
<polygon fill="#666666" stroke="#666666" points="804.88,-417.72 814.3,-412.86 803.91,-410.78 804.88,-417.72"/>
</g>
<!-- destroy_peer&#45;&gt;on_region_changed -->
<g id="edge13" class="edge">
<title>destroy_peer&#45;&gt;on_region_changed</title>
<path fill="none" stroke="#666666" d="M711.91,-700.89C717.06,-697.15 721.8,-692.88 726,-688 770.56,-636.26 719.45,-440.9 754,-382 762.8,-367 777.01,-354.9 791.44,-345.61"/>
<polygon fill="#666666" stroke="#666666" points="793.66,-348.36 800.41,-340.18 790.04,-342.37 793.66,-348.36"/>
</g>
<!-- destroy_peer&#45;&gt;DestroyPeer -->
<g id="edge14" class="edge">
<title>destroy_peer&#45;&gt;DestroyPeer</title>
<path fill="none" stroke="#666666" d="M712.04,-701C717.15,-697.23 721.85,-692.92 726,-688 782.87,-620.56 711.89,-369.52 754,-292 761.97,-277.32 774.77,-264.95 788.14,-255.03"/>
<polygon fill="#666666" stroke="#666666" points="790.32,-257.77 796.5,-249.17 786.3,-252.04 790.32,-257.77"/>
</g>
<!-- destroy_peer&#45;&gt;pending_create_peers -->
<g id="edge15" class="edge">
<title>destroy_peer&#45;&gt;pending_create_peers</title>
<path fill="none" stroke="#666666" d="M712.44,-700.84C717.4,-697.11 721.97,-692.85 726,-688 796.84,-602.75 699.61,-286.58 754,-190 762.61,-174.71 776.94,-162.48 791.53,-153.17"/>
<polygon fill="#666666" stroke="#666666" points="793.34,-156.16 800.11,-148.01 789.74,-150.16 793.34,-156.16"/>
</g>
<!-- destroy_peer&#45;&gt;ctx_router_close -->
<g id="edge16" class="edge">
<title>destroy_peer&#45;&gt;ctx_router_close</title>
<path fill="none" stroke="#666666" d="M712.49,-700.88C717.44,-697.14 721.99,-692.87 726,-688 767.38,-637.78 719.52,-158.19 754,-103 757.18,-97.92 761.09,-93.33 765.49,-89.2"/>
<polygon fill="#666666" stroke="#666666" points="767.87,-91.77 773.3,-82.67 763.38,-86.4 767.87,-91.77"/>
</g>
<!-- destory -->
<g id="node17" class="node">
<title>destory</title>
<path fill="none" stroke="#1c2123" d="M858.5,-739C858.5,-739 826.5,-739 826.5,-739 820.5,-739 814.5,-733 814.5,-727 814.5,-727 814.5,-715 814.5,-715 814.5,-709 820.5,-703 826.5,-703 826.5,-703 858.5,-703 858.5,-703 864.5,-703 870.5,-709 870.5,-715 870.5,-715 870.5,-727 870.5,-727 870.5,-733 864.5,-739 858.5,-739"/>
<text text-anchor="middle" x="842.5" y="-717.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">destory</text>
</g>
<!-- destroy_peer&#45;&gt;destory -->
<g id="edge17" class="edge">
<title>destroy_peer&#45;&gt;destory</title>
<path fill="none" stroke="#666666" d="M726.36,-722.32C755.36,-721.98 783.29,-721.67 804.37,-721.42"/>
<polygon fill="#666666" stroke="#666666" points="804.49,-724.92 814.45,-721.31 804.41,-717.92 804.49,-724.92"/>
</g>
<!-- fsm_stop -->
<g id="node18" class="node">
<title>fsm_stop</title>
<path fill="none" stroke="#1c2123" d="M788.5,-758C788.5,-758 896.5,-758 896.5,-758 902.5,-758 908.5,-764 908.5,-770 908.5,-770 908.5,-792 908.5,-792 908.5,-798 902.5,-804 896.5,-804 896.5,-804 788.5,-804 788.5,-804 782.5,-804 776.5,-798 776.5,-792 776.5,-792 776.5,-770 776.5,-770 776.5,-764 782.5,-758 788.5,-758"/>
<text text-anchor="middle" x="842.5" y="-788.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">fsm_stop</text>
<polyline fill="none" stroke="#1c2123" points="776.5,-781 908.5,-781 "/>
<text text-anchor="start" x="784.5" y="-765.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">设置PeerFsm.stoped</text>
</g>
<!-- destroy_peer&#45;&gt;fsm_stop -->
<g id="edge18" class="edge">
<title>destroy_peer&#45;&gt;fsm_stop</title>
<path fill="none" stroke="#666666" d="M685.01,-747.02C712.27,-752.94 741.04,-759.19 766.37,-764.69"/>
<polygon fill="#666666" stroke="#666666" points="765.75,-768.13 776.27,-766.83 767.24,-761.29 765.75,-768.13"/>
</g>
<!-- poll -->
<g id="node19" class="node">
<title>poll</title>
<path fill="none" stroke="#1c2123" d="M971,-750.5C971,-750.5 1081,-750.5 1081,-750.5 1087,-750.5 1093,-756.5 1093,-762.5 1093,-762.5 1093,-799.5 1093,-799.5 1093,-805.5 1087,-811.5 1081,-811.5 1081,-811.5 971,-811.5 971,-811.5 965,-811.5 959,-805.5 959,-799.5 959,-799.5 959,-762.5 959,-762.5 959,-756.5 965,-750.5 971,-750.5"/>
<text text-anchor="middle" x="1026" y="-796.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll</text>
<polyline fill="none" stroke="#1c2123" points="959,-788.5 1093,-788.5 "/>
<text text-anchor="start" x="967" y="-773.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">fetch_fsm的fsm</text>
<text text-anchor="start" x="967" y="-758.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> skip掉stopped的fsm</text>
</g>
<!-- fsm_stop&#45;&gt;poll -->
<g id="edge19" class="edge">
<title>fsm_stop&#45;&gt;poll</title>
<path fill="none" stroke="#666666" d="M908.51,-781C921.56,-781 935.39,-781 948.78,-781"/>
<polygon fill="#666666" stroke="#666666" points="948.91,-784.5 958.91,-781 948.91,-777.5 948.91,-784.5"/>
</g>
</g>
</svg>
