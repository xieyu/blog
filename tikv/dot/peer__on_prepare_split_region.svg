<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: peer_on_prepare_split_region Pages: 1 -->
<svg width="2031pt" height="177pt"
 viewBox="0.00 0.00 2031.00 177.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 173)">
<title>peer_on_prepare_split_region</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-173 2027,-173 2027,4 -4,4"/>
<!-- PeerFsmDelegate__on_casual_msg -->
<g id="node1" class="node">
<title>PeerFsmDelegate__on_casual_msg</title>
<path fill="none" stroke="#1c2123" d="M12,-51.5C12,-51.5 126,-51.5 126,-51.5 132,-51.5 138,-57.5 138,-63.5 138,-63.5 138,-100.5 138,-100.5 138,-106.5 132,-112.5 126,-112.5 126,-112.5 12,-112.5 12,-112.5 6,-112.5 0,-106.5 0,-100.5 0,-100.5 0,-63.5 0,-63.5 0,-57.5 6,-51.5 12,-51.5"/>
<text text-anchor="start" x="8" y="-97.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="8" y="-82.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> on_casual_msg</text>
<polyline fill="none" stroke="#1c2123" points="0,-74.5 138,-74.5 "/>
<text text-anchor="start" x="8" y="-59.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理SplitRegion消息</text>
</g>
<!-- PeerFsmDelegate__on_prepare_split_region -->
<g id="node2" class="node">
<title>PeerFsmDelegate__on_prepare_split_region</title>
<path fill="none" stroke="#1c2123" d="M420,-100C420,-100 186,-100 186,-100 180,-100 174,-94 174,-88 174,-88 174,-76 174,-76 174,-70 180,-64 186,-64 186,-64 420,-64 420,-64 426,-64 432,-70 432,-76 432,-76 432,-88 432,-88 432,-94 426,-100 420,-100"/>
<text text-anchor="middle" x="303" y="-78.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate__on_prepare_split_region</text>
</g>
<!-- PeerFsmDelegate__on_casual_msg&#45;&gt;PeerFsmDelegate__on_prepare_split_region -->
<g id="edge1" class="edge">
<title>PeerFsmDelegate__on_casual_msg&#45;&gt;PeerFsmDelegate__on_prepare_split_region</title>
<path fill="none" stroke="#666666" d="M138.04,-82C146.3,-82 154.95,-82 163.78,-82"/>
<polygon fill="#666666" stroke="#666666" points="163.81,-85.5 173.81,-82 163.81,-78.5 163.81,-85.5"/>
</g>
<!-- PeerFsmDelegate__validate_split_region -->
<g id="node3" class="node">
<title>PeerFsmDelegate__validate_split_region</title>
<path fill="none" stroke="#1c2123" d="M696,-169C696,-169 480,-169 480,-169 474,-169 468,-163 468,-157 468,-157 468,-145 468,-145 468,-139 474,-133 480,-133 480,-133 696,-133 696,-133 702,-133 708,-139 708,-145 708,-145 708,-157 708,-157 708,-163 702,-169 696,-169"/>
<text text-anchor="middle" x="588" y="-147.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate__validate_split_region</text>
</g>
<!-- PeerFsmDelegate__on_prepare_split_region&#45;&gt;PeerFsmDelegate__validate_split_region -->
<g id="edge2" class="edge">
<title>PeerFsmDelegate__on_prepare_split_region&#45;&gt;PeerFsmDelegate__validate_split_region</title>
<path fill="none" stroke="#666666" d="M377.99,-100.04C416.33,-109.39 463.32,-120.85 503.03,-130.53"/>
<polygon fill="#666666" stroke="#666666" points="502.41,-133.98 512.96,-132.95 504.07,-127.18 502.41,-133.98"/>
</g>
<!-- Callback__invoke_with_response__Err -->
<g id="node4" class="node">
<title>Callback__invoke_with_response__Err</title>
<path fill="none" stroke="#1c2123" d="M962,-136C962,-136 756,-136 756,-136 750,-136 744,-130 744,-124 744,-124 744,-112 744,-112 744,-106 750,-100 756,-100 756,-100 962,-100 962,-100 968,-100 974,-106 974,-112 974,-112 974,-124 974,-124 974,-130 968,-136 962,-136"/>
<text text-anchor="middle" x="859" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Callback__invoke_with_response__Err</text>
</g>
<!-- PeerFsmDelegate__on_prepare_split_region&#45;&gt;Callback__invoke_with_response__Err -->
<g id="edge3" class="edge">
<title>PeerFsmDelegate__on_prepare_split_region&#45;&gt;Callback__invoke_with_response__Err</title>
<path fill="none" stroke="#666666" d="M432.14,-90.33C522.77,-96.22 643.64,-104.07 733.46,-109.91"/>
<polygon fill="#666666" stroke="#666666" points="733.49,-113.42 743.7,-110.57 733.95,-106.43 733.49,-113.42"/>
</g>
<!-- PdTask__AskBatchSplit -->
<g id="node5" class="node">
<title>PdTask__AskBatchSplit</title>
<path fill="none" stroke="#1c2123" d="M650.5,-77C650.5,-77 525.5,-77 525.5,-77 519.5,-77 513.5,-71 513.5,-65 513.5,-65 513.5,-53 513.5,-53 513.5,-47 519.5,-41 525.5,-41 525.5,-41 650.5,-41 650.5,-41 656.5,-41 662.5,-47 662.5,-53 662.5,-53 662.5,-65 662.5,-65 662.5,-71 656.5,-77 650.5,-77"/>
<text text-anchor="middle" x="588" y="-55.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PdTask__AskBatchSplit</text>
</g>
<!-- PeerFsmDelegate__on_prepare_split_region&#45;&gt;PdTask__AskBatchSplit -->
<g id="edge4" class="edge">
<title>PeerFsmDelegate__on_prepare_split_region&#45;&gt;PdTask__AskBatchSplit</title>
<path fill="none" stroke="#666666" d="M432.25,-71.58C456.35,-69.62 480.96,-67.62 503.26,-65.81"/>
<polygon fill="#666666" stroke="#666666" points="503.65,-69.29 513.34,-64.99 503.09,-62.31 503.65,-69.29"/>
</g>
<!-- PollContext__pd_scheduler_schedule -->
<g id="node6" class="node">
<title>PollContext__pd_scheduler_schedule</title>
<path fill="none" stroke="#1c2123" d="M957.5,-63C957.5,-63 760.5,-63 760.5,-63 754.5,-63 748.5,-57 748.5,-51 748.5,-51 748.5,-39 748.5,-39 748.5,-33 754.5,-27 760.5,-27 760.5,-27 957.5,-27 957.5,-27 963.5,-27 969.5,-33 969.5,-39 969.5,-39 969.5,-51 969.5,-51 969.5,-57 963.5,-63 957.5,-63"/>
<text text-anchor="middle" x="859" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PollContext__pd_scheduler_schedule</text>
</g>
<!-- PeerFsmDelegate__on_prepare_split_region&#45;&gt;PollContext__pd_scheduler_schedule -->
<g id="edge5" class="edge">
<title>PeerFsmDelegate__on_prepare_split_region&#45;&gt;PollContext__pd_scheduler_schedule</title>
<path fill="none" stroke="#666666" d="M350.16,-63.91C382.57,-52.21 427.22,-38.08 468,-32 557.78,-18.62 660.41,-22.81 737.85,-29.84"/>
<polygon fill="#666666" stroke="#666666" points="737.84,-33.35 748.12,-30.8 738.49,-26.38 737.84,-33.35"/>
</g>
<!-- PeerFsmDelegate__validate_split_region&#45;&gt;Callback__invoke_with_response__Err -->
<g id="edge6" class="edge">
<title>PeerFsmDelegate__validate_split_region&#45;&gt;Callback__invoke_with_response__Err</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M708.16,-136.38C716.65,-135.34 725.21,-134.29 733.73,-133.25"/>
<polygon fill="green" stroke="green" points="734.19,-136.72 743.69,-132.02 733.33,-129.77 734.19,-136.72"/>
</g>
<!-- PdTask__AskBatchSplit&#45;&gt;PollContext__pd_scheduler_schedule -->
<g id="edge7" class="edge">
<title>PdTask__AskBatchSplit&#45;&gt;PollContext__pd_scheduler_schedule</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M662.51,-55.17C685.85,-53.96 712.31,-52.58 738.05,-51.24"/>
<polygon fill="green" stroke="green" points="738.44,-54.73 748.25,-50.71 738.08,-47.74 738.44,-54.73"/>
</g>
<!-- pd__Runnable__handle_ask_batch_split -->
<g id="node7" class="node">
<title>pd__Runnable__handle_ask_batch_split</title>
<path fill="none" stroke="#1c2123" d="M1234,-63C1234,-63 1022,-63 1022,-63 1016,-63 1010,-57 1010,-51 1010,-51 1010,-39 1010,-39 1010,-33 1016,-27 1022,-27 1022,-27 1234,-27 1234,-27 1240,-27 1246,-33 1246,-39 1246,-39 1246,-51 1246,-51 1246,-57 1240,-63 1234,-63"/>
<text text-anchor="middle" x="1128" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pd__Runnable__handle_ask_batch_split</text>
</g>
<!-- PollContext__pd_scheduler_schedule&#45;&gt;pd__Runnable__handle_ask_batch_split -->
<g id="edge8" class="edge">
<title>PollContext__pd_scheduler_schedule&#45;&gt;pd__Runnable__handle_ask_batch_split</title>
<path fill="none" stroke="#666666" d="M969.75,-45C979.68,-45 989.78,-45 999.84,-45"/>
<polygon fill="#666666" stroke="#666666" points="999.87,-48.5 1009.87,-45 999.87,-41.5 999.87,-48.5"/>
</g>
<!-- pd_client__ask_batch_split -->
<g id="node8" class="node">
<title>pd_client__ask_batch_split</title>
<path fill="none" stroke="#1c2123" d="M1434,-63C1434,-63 1294,-63 1294,-63 1288,-63 1282,-57 1282,-51 1282,-51 1282,-39 1282,-39 1282,-33 1288,-27 1294,-27 1294,-27 1434,-27 1434,-27 1440,-27 1446,-33 1446,-39 1446,-39 1446,-51 1446,-51 1446,-57 1440,-63 1434,-63"/>
<text text-anchor="middle" x="1364" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pd_client__ask_batch_split</text>
</g>
<!-- pd__Runnable__handle_ask_batch_split&#45;&gt;pd_client__ask_batch_split -->
<g id="edge9" class="edge">
<title>pd__Runnable__handle_ask_batch_split&#45;&gt;pd_client__ask_batch_split</title>
<path fill="none" stroke="#666666" d="M1246.34,-45C1254.86,-45 1263.37,-45 1271.69,-45"/>
<polygon fill="#666666" stroke="#666666" points="1271.75,-48.5 1281.75,-45 1271.75,-41.5 1271.75,-48.5"/>
</g>
<!-- resp_await -->
<g id="node9" class="node">
<title>resp_await</title>
<path fill="none" stroke="#1c2123" d="M1545,-63C1545,-63 1494,-63 1494,-63 1488,-63 1482,-57 1482,-51 1482,-51 1482,-39 1482,-39 1482,-33 1488,-27 1494,-27 1494,-27 1545,-27 1545,-27 1551,-27 1557,-33 1557,-39 1557,-39 1557,-51 1557,-51 1557,-57 1551,-63 1545,-63"/>
<text text-anchor="middle" x="1519.5" y="-41.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">resp_await</text>
</g>
<!-- pd_client__ask_batch_split&#45;&gt;resp_await -->
<g id="edge10" class="edge">
<title>pd_client__ask_batch_split&#45;&gt;resp_await</title>
<path fill="none" stroke="#666666" d="M1446.24,-45C1455.04,-45 1463.76,-45 1471.94,-45"/>
<polygon fill="#666666" stroke="#666666" points="1471.97,-48.5 1481.97,-45 1471.97,-41.5 1471.97,-48.5"/>
</g>
<!-- new_batch_split_region_request -->
<g id="node10" class="node">
<title>new_batch_split_region_request</title>
<path fill="none" stroke="#1c2123" d="M1773,-90C1773,-90 1605,-90 1605,-90 1599,-90 1593,-84 1593,-78 1593,-78 1593,-66 1593,-66 1593,-60 1599,-54 1605,-54 1605,-54 1773,-54 1773,-54 1779,-54 1785,-60 1785,-66 1785,-66 1785,-78 1785,-78 1785,-84 1779,-90 1773,-90"/>
<text text-anchor="middle" x="1689" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">new_batch_split_region_request</text>
</g>
<!-- resp_await&#45;&gt;new_batch_split_region_request -->
<g id="edge11" class="edge">
<title>resp_await&#45;&gt;new_batch_split_region_request</title>
<path fill="none" stroke="#666666" d="M1557.26,-50.93C1565.11,-52.19 1573.77,-53.59 1582.79,-55.04"/>
<polygon fill="#666666" stroke="#666666" points="1582.27,-58.5 1592.7,-56.64 1583.38,-51.59 1582.27,-58.5"/>
</g>
<!-- send_admin_request -->
<g id="node11" class="node">
<title>send_admin_request</title>
<path fill="none" stroke="#1c2123" d="M1741,-36C1741,-36 1637,-36 1637,-36 1631,-36 1625,-30 1625,-24 1625,-24 1625,-12 1625,-12 1625,-6 1631,0 1637,0 1637,0 1741,0 1741,0 1747,0 1753,-6 1753,-12 1753,-12 1753,-24 1753,-24 1753,-30 1747,-36 1741,-36"/>
<text text-anchor="middle" x="1689" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send_admin_request</text>
</g>
<!-- resp_await&#45;&gt;send_admin_request -->
<g id="edge12" class="edge">
<title>resp_await&#45;&gt;send_admin_request</title>
<path fill="none" stroke="#666666" d="M1557.26,-39.07C1574.23,-36.34 1595.01,-32.99 1614.96,-29.77"/>
<polygon fill="#666666" stroke="#666666" points="1615.66,-33.21 1624.98,-28.16 1614.55,-26.29 1615.66,-33.21"/>
</g>
<!-- RaftRouter__send_raft_command -->
<g id="node12" class="node">
<title>RaftRouter__send_raft_command</title>
<path fill="none" stroke="#1c2123" d="M2011,-36C2011,-36 1833,-36 1833,-36 1827,-36 1821,-30 1821,-24 1821,-24 1821,-12 1821,-12 1821,-6 1827,0 1833,0 1833,0 2011,0 2011,0 2017,0 2023,-6 2023,-12 2023,-12 2023,-24 2023,-24 2023,-30 2017,-36 2011,-36"/>
<text text-anchor="middle" x="1922" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftRouter__send_raft_command</text>
</g>
<!-- send_admin_request&#45;&gt;RaftRouter__send_raft_command -->
<g id="edge13" class="edge">
<title>send_admin_request&#45;&gt;RaftRouter__send_raft_command</title>
<path fill="none" stroke="#666666" d="M1753.12,-18C1770.87,-18 1790.71,-18 1810.36,-18"/>
<polygon fill="#666666" stroke="#666666" points="1810.6,-21.5 1820.6,-18 1810.6,-14.5 1810.6,-21.5"/>
</g>
</g>
</svg>
