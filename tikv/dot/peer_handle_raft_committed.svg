<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: peer_handle_raft_committed Pages: 1 -->
<svg width="1575pt" height="407pt"
 viewBox="0.00 0.00 1575.00 407.17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 403.17)">
<title>peer_handle_raft_committed</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-403.17 1571,-403.17 1571,4 -4,4"/>
<!-- Peer__handle_raft_ready_append -->
<g id="node1" class="node">
<title>Peer__handle_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M12,-168.94C12,-168.94 152,-168.94 152,-168.94 158,-168.94 164,-174.94 164,-180.94 164,-180.94 164,-194.94 164,-194.94 164,-200.94 158,-206.94 152,-206.94 152,-206.94 12,-206.94 12,-206.94 6,-206.94 0,-200.94 0,-194.94 0,-194.94 0,-180.94 0,-180.94 0,-174.94 6,-168.94 12,-168.94"/>
<text text-anchor="start" x="8" y="-191.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="8" y="-176.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> handle_raft_ready_append</text>
</g>
<!-- RawNode__ready -->
<g id="node2" class="node">
<title>RawNode__ready</title>
<path fill="none" stroke="#1c2123" d="M212,-187.44C212,-187.44 321,-187.44 321,-187.44 327,-187.44 333,-193.44 333,-199.44 333,-199.44 333,-236.44 333,-236.44 333,-242.44 327,-248.44 321,-248.44 321,-248.44 212,-248.44 212,-248.44 206,-248.44 200,-242.44 200,-236.44 200,-236.44 200,-199.44 200,-199.44 200,-193.44 206,-187.44 212,-187.44"/>
<text text-anchor="start" x="208" y="-233.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">RawNode</text>
<text text-anchor="start" x="208" y="-218.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ready</text>
<polyline fill="none" stroke="#1c2123" points="200,-210.44 333,-210.44 "/>
<text text-anchor="start" x="208" y="-195.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">获取comitted entries</text>
</g>
<!-- Peer__handle_raft_ready_append&#45;&gt;RawNode__ready -->
<g id="edge1" class="edge">
<title>Peer__handle_raft_ready_append&#45;&gt;RawNode__ready</title>
<path fill="none" stroke="#666666" d="M164.11,-201.28C172.73,-202.69 181.47,-204.13 190.03,-205.54"/>
<polygon fill="#666666" stroke="#666666" points="189.53,-209 199.96,-207.17 190.66,-202.09 189.53,-209"/>
</g>
<!-- Peer__handle_raft_committed_entries -->
<g id="node3" class="node">
<title>Peer__handle_raft_committed_entries</title>
<path fill="none" stroke="#1c2123" d="M539,-105.94C539,-105.94 727,-105.94 727,-105.94 733,-105.94 739,-111.94 739,-117.94 739,-117.94 739,-199.94 739,-199.94 739,-205.94 733,-211.94 727,-211.94 727,-211.94 539,-211.94 539,-211.94 533,-211.94 527,-205.94 527,-199.94 527,-199.94 527,-117.94 527,-117.94 527,-111.94 533,-105.94 539,-105.94"/>
<text text-anchor="start" x="535" y="-196.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="535" y="-181.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> handle_raft_committed_entries</text>
<polyline fill="none" stroke="#1c2123" points="527,-173.94 739,-173.94 "/>
<text text-anchor="start" x="535" y="-158.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">1. renew leader lease</text>
<text text-anchor="start" x="535" y="-143.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 2. 调用cb的invoke_comitted</text>
<text text-anchor="start" x="535" y="-128.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 3. 将comitted entries和它们的cbs</text>
<text text-anchor="start" x="535" y="-113.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 打包发给apply fsm处理</text>
</g>
<!-- Peer__handle_raft_ready_append&#45;&gt;Peer__handle_raft_committed_entries -->
<g id="edge2" class="edge">
<title>Peer__handle_raft_ready_append&#45;&gt;Peer__handle_raft_committed_entries</title>
<path fill="none" stroke="#666666" d="M164.16,-180.57C176.17,-179.6 188.4,-178.69 200,-177.94 307.19,-171.01 429.52,-165.89 516.57,-162.72"/>
<polygon fill="#666666" stroke="#666666" points="516.87,-166.21 526.74,-162.36 516.62,-159.22 516.87,-166.21"/>
</g>
<!-- committed_entries -->
<g id="node4" class="node">
<title>committed_entries</title>
<path fill="#feed9b" stroke="#f7e495" d="M381,-187.44C381,-187.44 479,-187.44 479,-187.44 485,-187.44 491,-193.44 491,-199.44 491,-199.44 491,-236.44 491,-236.44 491,-242.44 485,-248.44 479,-248.44 479,-248.44 381,-248.44 381,-248.44 375,-248.44 369,-242.44 369,-236.44 369,-236.44 369,-199.44 369,-199.44 369,-193.44 375,-187.44 381,-187.44"/>
<text text-anchor="middle" x="430" y="-233.24" font-family="Times,serif" font-size="14.00" fill="#40575d">committed_entries</text>
<polyline fill="none" stroke="#f7e495" points="369,-225.44 491,-225.44 "/>
<text text-anchor="start" x="377" y="-210.24" font-family="Times,serif" font-size="14.00" fill="#40575d">一批已经comitted</text>
<text text-anchor="start" x="377" y="-195.24" font-family="Times,serif" font-size="14.00" fill="#40575d"> log entries</text>
</g>
<!-- RawNode__ready&#45;&gt;committed_entries -->
<g id="edge3" class="edge">
<title>RawNode__ready&#45;&gt;committed_entries</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M333.19,-217.94C341.57,-217.94 350.18,-217.94 358.63,-217.94"/>
<polygon fill="green" stroke="green" points="358.83,-221.44 368.83,-217.94 358.83,-214.44 358.83,-221.44"/>
</g>
<!-- ProposalQueue__find_proposal_time -->
<g id="node5" class="node">
<title>ProposalQueue__find_proposal_time</title>
<path fill="none" stroke="#1c2123" d="M787,-160.94C787,-160.94 940,-160.94 940,-160.94 946,-160.94 952,-166.94 952,-172.94 952,-172.94 952,-254.94 952,-254.94 952,-260.94 946,-266.94 940,-266.94 940,-266.94 787,-266.94 787,-266.94 781,-266.94 775,-260.94 775,-254.94 775,-254.94 775,-172.94 775,-172.94 775,-166.94 781,-160.94 787,-160.94"/>
<text text-anchor="start" x="783" y="-251.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">ProposalQueue</text>
<text text-anchor="start" x="783" y="-236.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> find_proposal_time</text>
<polyline fill="none" stroke="#1c2123" points="775,-228.94 952,-228.94 "/>
<text text-anchor="start" x="783" y="-213.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据log 的term,index</text>
<text text-anchor="start" x="783" y="-198.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 在Proposal Vec中二分查找</text>
<text text-anchor="start" x="783" y="-183.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 到对应的Proposal</text>
<text text-anchor="start" x="783" y="-168.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 返回它的renew_lease_time</text>
</g>
<!-- Peer__handle_raft_committed_entries&#45;&gt;ProposalQueue__find_proposal_time -->
<g id="edge7" class="edge">
<title>Peer__handle_raft_committed_entries&#45;&gt;ProposalQueue__find_proposal_time</title>
<path fill="none" stroke="#666666" d="M739.22,-184.27C747.81,-186.34 756.46,-188.42 764.99,-190.47"/>
<polygon fill="#666666" stroke="#666666" points="764.39,-193.93 774.93,-192.86 766.03,-187.12 764.39,-193.93"/>
</g>
<!-- ProposalQueue__find_proposal -->
<g id="node6" class="node">
<title>ProposalQueue__find_proposal</title>
<path fill="none" stroke="#1c2123" d="M802,-285.94C802,-285.94 925,-285.94 925,-285.94 931,-285.94 937,-291.94 937,-297.94 937,-297.94 937,-349.94 937,-349.94 937,-355.94 931,-361.94 925,-361.94 925,-361.94 802,-361.94 802,-361.94 796,-361.94 790,-355.94 790,-349.94 790,-349.94 790,-297.94 790,-297.94 790,-291.94 796,-285.94 802,-285.94"/>
<text text-anchor="start" x="798" y="-346.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">ProposalQueue</text>
<text text-anchor="start" x="798" y="-331.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> find_proposal</text>
<polyline fill="none" stroke="#1c2123" points="790,-323.94 937,-323.94 "/>
<text text-anchor="start" x="798" y="-308.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">找到term,index对应的</text>
<text text-anchor="start" x="798" y="-293.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> proposal</text>
</g>
<!-- Peer__handle_raft_committed_entries&#45;&gt;ProposalQueue__find_proposal -->
<g id="edge8" class="edge">
<title>Peer__handle_raft_committed_entries&#45;&gt;ProposalQueue__find_proposal</title>
<path fill="none" stroke="#666666" d="M691.92,-211.99C716.62,-233.38 746.32,-257.53 775,-276.94 776.91,-278.24 778.87,-279.53 780.85,-280.81"/>
<polygon fill="#666666" stroke="#666666" points="779.38,-284.01 789.72,-286.34 783.09,-278.08 779.38,-284.01"/>
</g>
<!-- Callback__invoke_committed -->
<g id="node9" class="node">
<title>Callback__invoke_committed</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M805.5,-65.94C805.5,-65.94 921.5,-65.94 921.5,-65.94 927.5,-65.94 933.5,-71.94 933.5,-77.94 933.5,-77.94 933.5,-129.94 933.5,-129.94 933.5,-135.94 927.5,-141.94 921.5,-141.94 921.5,-141.94 805.5,-141.94 805.5,-141.94 799.5,-141.94 793.5,-135.94 793.5,-129.94 793.5,-129.94 793.5,-77.94 793.5,-77.94 793.5,-71.94 799.5,-65.94 805.5,-65.94"/>
<text text-anchor="start" x="801.5" y="-126.74" font-family="Times,serif" font-size="14.00" fill="#5d6179">Callback</text>
<text text-anchor="start" x="801.5" y="-111.74" font-family="Times,serif" font-size="14.00" fill="#5d6179"> invoke_committed</text>
<polyline fill="none" stroke="#8a8898" points="793.5,-103.94 933.5,-103.94 "/>
<text text-anchor="start" x="801.5" y="-88.74" font-family="Times,serif" font-size="14.00" fill="#5d6179">调用write回调</text>
<text text-anchor="start" x="801.5" y="-73.74" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 通知已经comitted了</text>
</g>
<!-- Peer__handle_raft_committed_entries&#45;&gt;Callback__invoke_committed -->
<g id="edge9" class="edge">
<title>Peer__handle_raft_committed_entries&#45;&gt;Callback__invoke_committed</title>
<path fill="none" stroke="#666666" d="M739.22,-133.62C754.16,-130.02 769.31,-126.37 783.64,-122.92"/>
<polygon fill="#666666" stroke="#666666" points="784.51,-126.32 793.41,-120.57 782.87,-119.51 784.51,-126.32"/>
</g>
<!-- Peer__maybe_renew_leader_lease -->
<g id="node10" class="node">
<title>Peer__maybe_renew_leader_lease</title>
<path fill="none" stroke="#1c2123" d="M1000,-47.94C1000,-47.94 1182,-47.94 1182,-47.94 1188,-47.94 1194,-53.94 1194,-59.94 1194,-59.94 1194,-111.94 1194,-111.94 1194,-117.94 1188,-123.94 1182,-123.94 1182,-123.94 1000,-123.94 1000,-123.94 994,-123.94 988,-117.94 988,-111.94 988,-111.94 988,-59.94 988,-59.94 988,-53.94 994,-47.94 1000,-47.94"/>
<text text-anchor="start" x="996" y="-108.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="996" y="-93.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> maybe_renew_leader_lease</text>
<polyline fill="none" stroke="#1c2123" points="988,-85.94 1194,-85.94 "/>
<text text-anchor="start" x="996" y="-70.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">使用Proposal提交时候的时间戳</text>
<text text-anchor="start" x="996" y="-55.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> renew leader lease</text>
</g>
<!-- Peer__handle_raft_committed_entries&#45;&gt;Peer__maybe_renew_leader_lease -->
<g id="edge10" class="edge">
<title>Peer__handle_raft_committed_entries&#45;&gt;Peer__maybe_renew_leader_lease</title>
<path fill="none" stroke="#666666" d="M689.34,-105.93C713.64,-86.2 743.73,-66.15 775,-55.94 840.05,-34.71 916.38,-41.25 977.61,-53.55"/>
<polygon fill="#666666" stroke="#666666" points="977.18,-57.04 987.69,-55.66 978.61,-50.18 977.18,-57.04"/>
</g>
<!-- PollContext__ApplyRouter__schedule_task -->
<g id="node11" class="node">
<title>PollContext__ApplyRouter__schedule_task</title>
<path fill="none" stroke="#1c2123" d="M1448,-100.44C1448,-100.44 1555,-100.44 1555,-100.44 1561,-100.44 1567,-106.44 1567,-112.44 1567,-112.44 1567,-209.44 1567,-209.44 1567,-215.44 1561,-221.44 1555,-221.44 1555,-221.44 1448,-221.44 1448,-221.44 1442,-221.44 1436,-215.44 1436,-209.44 1436,-209.44 1436,-112.44 1436,-112.44 1436,-106.44 1442,-100.44 1448,-100.44"/>
<text text-anchor="start" x="1444" y="-206.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">PollContext</text>
<text text-anchor="start" x="1444" y="-191.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> ApplyRouter</text>
<text text-anchor="start" x="1444" y="-176.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> schedule_task</text>
<polyline fill="none" stroke="#1c2123" points="1436,-168.44 1567,-168.44 "/>
<text text-anchor="start" x="1444" y="-153.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">将comitted entries</text>
<text text-anchor="start" x="1444" y="-138.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 连同它的callbacks</text>
<text text-anchor="start" x="1444" y="-123.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 放入一个AplyTask</text>
<text text-anchor="start" x="1444" y="-108.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 路由给ApplyFsm</text>
</g>
<!-- Peer__handle_raft_committed_entries&#45;&gt;PollContext__ApplyRouter__schedule_task -->
<g id="edge11" class="edge">
<title>Peer__handle_raft_committed_entries&#45;&gt;PollContext__ApplyRouter__schedule_task</title>
<path fill="none" stroke="#666666" d="M679.23,-105.93C704.48,-80.46 738.23,-52.57 775,-38.94 949.62,25.77 1011.16,-2.62 1194,-37.94 1277,-53.97 1366.05,-92.34 1426.66,-121.99"/>
<polygon fill="#666666" stroke="#666666" points="1425.25,-125.2 1435.77,-126.48 1428.35,-118.92 1425.25,-125.2"/>
</g>
<!-- committed_entries&#45;&gt;Peer__handle_raft_committed_entries -->
<g id="edge6" class="edge">
<title>committed_entries&#45;&gt;Peer__handle_raft_committed_entries</title>
<path fill="none" stroke="#666666" d="M491.03,-200.32C499.36,-197.88 508.13,-195.3 517.06,-192.68"/>
<polygon fill="#666666" stroke="#666666" points="518.18,-196 526.79,-189.83 516.21,-189.28 518.18,-196"/>
</g>
<!-- Apply__new -->
<g id="node13" class="node">
<title>Apply__new</title>
<path fill="none" stroke="#1c2123" d="M1266,-261.94C1266,-261.94 1364,-261.94 1364,-261.94 1370,-261.94 1376,-267.94 1376,-273.94 1376,-273.94 1376,-379.94 1376,-379.94 1376,-385.94 1370,-391.94 1364,-391.94 1364,-391.94 1266,-391.94 1266,-391.94 1260,-391.94 1254,-385.94 1254,-379.94 1254,-379.94 1254,-273.94 1254,-273.94 1254,-267.94 1260,-261.94 1266,-261.94"/>
<text text-anchor="middle" x="1315" y="-376.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">Apply__new</text>
<polyline fill="none" stroke="#1c2123" points="1254,-368.94 1376,-368.94 "/>
<text text-anchor="start" x="1262" y="-353.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">self.peer_id(),</text>
<polyline fill="none" stroke="#1c2123" points="1254,-345.94 1376,-345.94 "/>
<text text-anchor="start" x="1262" y="-330.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">self.region_id,</text>
<polyline fill="none" stroke="#1c2123" points="1254,-322.94 1376,-322.94 "/>
<text text-anchor="start" x="1262" y="-307.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">self.term(),</text>
<polyline fill="none" stroke="#1c2123" points="1254,-299.94 1376,-299.94 "/>
<text text-anchor="start" x="1262" y="-284.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">committed_entries,</text>
<text text-anchor="middle" x="1315" y="-269.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> cbs,</text>
</g>
<!-- committed_entries&#45;&gt;Apply__new -->
<g id="edge14" class="edge">
<title>committed_entries&#45;&gt;Apply__new</title>
<path fill="none" stroke="#666666" d="M481.12,-248.55C546.12,-286.28 664.3,-348.29 775,-371.94 957.11,-410.85 1010.77,-405.17 1194,-371.94 1210.75,-368.91 1228.2,-363.67 1244.44,-357.81"/>
<polygon fill="#666666" stroke="#666666" points="1245.7,-361.08 1253.85,-354.31 1243.25,-354.52 1245.7,-361.08"/>
</g>
<!-- ProposalQueue__find_proposal_time&#45;&gt;Peer__maybe_renew_leader_lease -->
<g id="edge13" class="edge">
<title>ProposalQueue__find_proposal_time&#45;&gt;Peer__maybe_renew_leader_lease</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M952.01,-164.27C972.5,-152.64 994.16,-140.34 1014.1,-129.03"/>
<polygon fill="green" stroke="green" points="1015.85,-132.05 1022.82,-124.07 1012.4,-125.97 1015.85,-132.05"/>
</g>
<!-- notify_stale_req -->
<g id="node7" class="node">
<title>notify_stale_req</title>
<path fill="none" stroke="#1c2123" d="M1028.5,-169.44C1028.5,-169.44 1153.5,-169.44 1153.5,-169.44 1159.5,-169.44 1165.5,-175.44 1165.5,-181.44 1165.5,-181.44 1165.5,-248.44 1165.5,-248.44 1165.5,-254.44 1159.5,-260.44 1153.5,-260.44 1153.5,-260.44 1028.5,-260.44 1028.5,-260.44 1022.5,-260.44 1016.5,-254.44 1016.5,-248.44 1016.5,-248.44 1016.5,-181.44 1016.5,-181.44 1016.5,-175.44 1022.5,-169.44 1028.5,-169.44"/>
<text text-anchor="middle" x="1091" y="-245.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">notify_stale_req</text>
<polyline fill="none" stroke="#1c2123" points="1016.5,-237.44 1165.5,-237.44 "/>
<text text-anchor="start" x="1024.5" y="-222.24" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果发现当前term和</text>
<text text-anchor="start" x="1024.5" y="-207.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> proposal的term不一致</text>
<text text-anchor="start" x="1024.5" y="-192.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 回调函数</text>
<text text-anchor="start" x="1024.5" y="-177.24" font-family="Times,serif" font-size="14.00" fill="#2f3638"> StaleCommand</text>
</g>
<!-- ProposalQueue__find_proposal&#45;&gt;notify_stale_req -->
<g id="edge4" class="edge">
<title>ProposalQueue__find_proposal&#45;&gt;notify_stale_req</title>
<path fill="none" stroke="#666666" d="M937.09,-288.85C959.48,-278.03 984.31,-266.03 1007.32,-254.91"/>
<polygon fill="#666666" stroke="#666666" points="1008.9,-258.03 1016.38,-250.53 1005.86,-251.73 1008.9,-258.03"/>
</g>
<!-- cbs -->
<g id="node12" class="node">
<title>cbs</title>
<path fill="none" stroke="#1c2123" d="M1022.5,-285.94C1022.5,-285.94 1159.5,-285.94 1159.5,-285.94 1165.5,-285.94 1171.5,-291.94 1171.5,-297.94 1171.5,-297.94 1171.5,-349.94 1171.5,-349.94 1171.5,-355.94 1165.5,-361.94 1159.5,-361.94 1159.5,-361.94 1022.5,-361.94 1022.5,-361.94 1016.5,-361.94 1010.5,-355.94 1010.5,-349.94 1010.5,-349.94 1010.5,-297.94 1010.5,-297.94 1010.5,-291.94 1016.5,-285.94 1022.5,-285.94"/>
<text text-anchor="middle" x="1091" y="-346.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">cbs</text>
<polyline fill="none" stroke="#1c2123" points="1010.5,-338.94 1171.5,-338.94 "/>
<text text-anchor="start" x="1018.5" y="-323.74" font-family="Times,serif" font-size="14.00" fill="#2f3638">这一批committed_entries</text>
<text text-anchor="start" x="1018.5" y="-308.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 对应的Proposals</text>
<text text-anchor="start" x="1018.5" y="-293.74" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 会转发给ApplyFsm</text>
</g>
<!-- ProposalQueue__find_proposal&#45;&gt;cbs -->
<g id="edge12" class="edge">
<title>ProposalQueue__find_proposal&#45;&gt;cbs</title>
<path fill="none" stroke="#666666" d="M937.09,-323.94C957.12,-323.94 979.09,-323.94 999.98,-323.94"/>
<polygon fill="#666666" stroke="#666666" points="1000.13,-327.44 1010.13,-323.94 1000.13,-320.44 1000.13,-327.44"/>
</g>
<!-- Callback__invoke_with_response -->
<g id="node8" class="node">
<title>Callback__invoke_with_response</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1242,-181.44C1242,-181.44 1388,-181.44 1388,-181.44 1394,-181.44 1400,-187.44 1400,-193.44 1400,-193.44 1400,-230.44 1400,-230.44 1400,-236.44 1394,-242.44 1388,-242.44 1388,-242.44 1242,-242.44 1242,-242.44 1236,-242.44 1230,-236.44 1230,-230.44 1230,-230.44 1230,-193.44 1230,-193.44 1230,-187.44 1236,-181.44 1242,-181.44"/>
<text text-anchor="start" x="1238" y="-227.24" font-family="Times,serif" font-size="14.00" fill="#5d6179">Callback</text>
<text text-anchor="start" x="1238" y="-212.24" font-family="Times,serif" font-size="14.00" fill="#5d6179"> invoke_with_response</text>
<polyline fill="none" stroke="#8a8898" points="1230,-204.44 1400,-204.44 "/>
<text text-anchor="start" x="1238" y="-189.24" font-family="Times,serif" font-size="14.00" fill="#5d6179">Error::StaleCommand, term</text>
</g>
<!-- notify_stale_req&#45;&gt;Callback__invoke_with_response -->
<g id="edge5" class="edge">
<title>notify_stale_req&#45;&gt;Callback__invoke_with_response</title>
<path fill="none" stroke="#666666" d="M1165.61,-213.95C1182.89,-213.71 1201.54,-213.46 1219.59,-213.22"/>
<polygon fill="#666666" stroke="#666666" points="1219.88,-216.71 1229.83,-213.08 1219.79,-209.72 1219.88,-216.71"/>
</g>
<!-- cbs&#45;&gt;Apply__new -->
<g id="edge15" class="edge">
<title>cbs&#45;&gt;Apply__new</title>
<path fill="none" stroke="#666666" d="M1171.52,-325.02C1195.15,-325.34 1220.85,-325.68 1243.83,-325.99"/>
<polygon fill="#666666" stroke="#666666" points="1243.8,-329.49 1253.84,-326.13 1243.89,-322.49 1243.8,-329.49"/>
</g>
<!-- Apply__new&#45;&gt;PollContext__ApplyRouter__schedule_task -->
<g id="edge16" class="edge">
<title>Apply__new&#45;&gt;PollContext__ApplyRouter__schedule_task</title>
<path fill="none" stroke="#666666" d="M1376.15,-273.32C1384.18,-266.14 1392.29,-258.87 1400,-251.94 1409.18,-243.68 1418.83,-234.99 1428.35,-226.38"/>
<polygon fill="#666666" stroke="#666666" points="1430.88,-228.81 1435.95,-219.51 1426.19,-223.62 1430.88,-228.81"/>
</g>
</g>
</svg>
