<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: prepare_merge Pages: 1 -->
<svg width="1829pt" height="1029pt"
 viewBox="0.00 0.00 1829.00 1029.26" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1025.26)">
<title>prepare_merge</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1025.26 1825,-1025.26 1825,4 -4,4"/>
<!-- PeerFsmDelegate__pre_propose_raft_command -->
<g id="node1" class="node">
<title>PeerFsmDelegate__pre_propose_raft_command</title>
<path fill="none" stroke="#1c2123" d="M198,-780.76C198,-780.76 348,-780.76 348,-780.76 354,-780.76 360,-786.76 360,-792.76 360,-792.76 360,-829.76 360,-829.76 360,-835.76 354,-841.76 348,-841.76 348,-841.76 198,-841.76 198,-841.76 192,-841.76 186,-835.76 186,-829.76 186,-829.76 186,-792.76 186,-792.76 186,-786.76 192,-780.76 198,-780.76"/>
<text text-anchor="start" x="194" y="-826.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="194" y="-811.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> pre_propose_raft_command</text>
<polyline fill="none" stroke="#1c2123" points="186,-803.76 360,-803.76 "/>
<text text-anchor="start" x="194" y="-788.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">做一些check</text>
</g>
<!-- check_region_epoch -->
<g id="node2" class="node">
<title>check_region_epoch</title>
<path fill="none" stroke="#1c2123" d="M408,-929.76C408,-929.76 581,-929.76 581,-929.76 587,-929.76 593,-935.76 593,-941.76 593,-941.76 593,-1008.76 593,-1008.76 593,-1014.76 587,-1020.76 581,-1020.76 581,-1020.76 408,-1020.76 408,-1020.76 402,-1020.76 396,-1014.76 396,-1008.76 396,-1008.76 396,-941.76 396,-941.76 396,-935.76 402,-929.76 408,-929.76"/>
<text text-anchor="middle" x="494.5" y="-1005.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_region_epoch</text>
<polyline fill="none" stroke="#1c2123" points="396,-997.76 593,-997.76 "/>
<text text-anchor="start" x="404" y="-982.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据cmd类型检查region epoch</text>
<text text-anchor="start" x="404" y="-967.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> PrepareMerge</text>
<text text-anchor="start" x="404" y="-952.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 需要check epoch的</text>
<text text-anchor="start" x="404" y="-937.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> conf_ver和version</text>
</g>
<!-- PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_region_epoch -->
<g id="edge1" class="edge">
<title>PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_region_epoch</title>
<path fill="none" stroke="#666666" d="M304.53,-841.92C328.3,-864.94 362.75,-896.45 396,-920.26 397.66,-921.45 399.35,-922.63 401.06,-923.81"/>
<polygon fill="#666666" stroke="#666666" points="399.51,-926.99 409.77,-929.63 403.4,-921.16 399.51,-926.99"/>
</g>
<!-- Peer__is_applying_snapshot -->
<g id="node3" class="node">
<title>Peer__is_applying_snapshot</title>
<path fill="none" stroke="#1c2123" d="M568,-911.26C568,-911.26 421,-911.26 421,-911.26 415,-911.26 409,-905.26 409,-899.26 409,-899.26 409,-887.26 409,-887.26 409,-881.26 415,-875.26 421,-875.26 421,-875.26 568,-875.26 568,-875.26 574,-875.26 580,-881.26 580,-887.26 580,-887.26 580,-899.26 580,-899.26 580,-905.26 574,-911.26 568,-911.26"/>
<text text-anchor="middle" x="494.5" y="-889.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer__is_applying_snapshot</text>
</g>
<!-- PeerFsmDelegate__pre_propose_raft_command&#45;&gt;Peer__is_applying_snapshot -->
<g id="edge2" class="edge">
<title>PeerFsmDelegate__pre_propose_raft_command&#45;&gt;Peer__is_applying_snapshot</title>
<path fill="none" stroke="#666666" d="M336.87,-841.82C355.65,-850.34 376.44,-859.19 396,-866.26 401.61,-868.29 407.44,-870.25 413.35,-872.13"/>
<polygon fill="#666666" stroke="#666666" points="412.73,-875.61 423.32,-875.22 414.8,-868.92 412.73,-875.61"/>
</g>
<!-- check_store_id -->
<g id="node4" class="node">
<title>check_store_id</title>
<path fill="none" stroke="#1c2123" d="M433,-765.76C433,-765.76 556,-765.76 556,-765.76 562,-765.76 568,-771.76 568,-777.76 568,-777.76 568,-844.76 568,-844.76 568,-850.76 562,-856.76 556,-856.76 556,-856.76 433,-856.76 433,-856.76 427,-856.76 421,-850.76 421,-844.76 421,-844.76 421,-777.76 421,-777.76 421,-771.76 427,-765.76 433,-765.76"/>
<text text-anchor="middle" x="494.5" y="-841.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_store_id</text>
<polyline fill="none" stroke="#1c2123" points="421,-833.76 568,-833.76 "/>
<text text-anchor="start" x="429" y="-818.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果req中的store_id</text>
<text text-anchor="start" x="429" y="-803.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 和peer的不一致</text>
<text text-anchor="start" x="429" y="-788.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 则返回StoreNotMatch</text>
<text text-anchor="start" x="429" y="-773.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 错误</text>
</g>
<!-- PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_store_id -->
<g id="edge3" class="edge">
<title>PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_store_id</title>
<path fill="none" stroke="#666666" d="M360.12,-811.26C376.73,-811.26 394.1,-811.26 410.61,-811.26"/>
<polygon fill="#666666" stroke="#666666" points="410.76,-814.76 420.76,-811.26 410.76,-807.76 410.76,-814.76"/>
</g>
<!-- check_term -->
<g id="node5" class="node">
<title>check_term</title>
<path fill="none" stroke="#1c2123" d="M429,-670.26C429,-670.26 560,-670.26 560,-670.26 566,-670.26 572,-676.26 572,-682.26 572,-682.26 572,-734.26 572,-734.26 572,-740.26 566,-746.26 560,-746.26 560,-746.26 429,-746.26 429,-746.26 423,-746.26 417,-740.26 417,-734.26 417,-734.26 417,-682.26 417,-682.26 417,-676.26 423,-670.26 429,-670.26"/>
<text text-anchor="middle" x="494.5" y="-731.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_term</text>
<polyline fill="none" stroke="#1c2123" points="417,-723.26 572,-723.26 "/>
<text text-anchor="start" x="425" y="-708.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">检查msg的term</text>
<text text-anchor="start" x="425" y="-693.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 和peer当前term</text>
<text text-anchor="start" x="425" y="-678.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 看msg term是否已stale</text>
</g>
<!-- PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_term -->
<g id="edge4" class="edge">
<title>PeerFsmDelegate__pre_propose_raft_command&#45;&gt;check_term</title>
<path fill="none" stroke="#666666" d="M339.26,-780.64C360.7,-770.58 384.86,-759.24 407.59,-748.57"/>
<polygon fill="#666666" stroke="#666666" points="409.33,-751.62 416.89,-744.21 406.35,-745.29 409.33,-751.62"/>
</g>
<!-- Error__StoreNotMatch -->
<g id="node10" class="node">
<title>Error__StoreNotMatch</title>
<path fill="none" stroke="#1c2123" d="M769.5,-829.26C769.5,-829.26 650.5,-829.26 650.5,-829.26 644.5,-829.26 638.5,-823.26 638.5,-817.26 638.5,-817.26 638.5,-805.26 638.5,-805.26 638.5,-799.26 644.5,-793.26 650.5,-793.26 650.5,-793.26 769.5,-793.26 769.5,-793.26 775.5,-793.26 781.5,-799.26 781.5,-805.26 781.5,-805.26 781.5,-817.26 781.5,-817.26 781.5,-823.26 775.5,-829.26 769.5,-829.26"/>
<text text-anchor="middle" x="710" y="-807.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Error__StoreNotMatch</text>
</g>
<!-- check_store_id&#45;&gt;Error__StoreNotMatch -->
<g id="edge9" class="edge">
<title>check_store_id&#45;&gt;Error__StoreNotMatch</title>
<path fill="none" stroke="#666666" d="M568.08,-811.26C587.43,-811.26 608.46,-811.26 628.22,-811.26"/>
<polygon fill="#666666" stroke="#666666" points="628.43,-814.76 638.43,-811.26 628.43,-807.76 628.43,-814.76"/>
</g>
<!-- Error_StaleCommand -->
<g id="node9" class="node">
<title>Error_StaleCommand</title>
<path fill="none" stroke="#1c2123" d="M641,-670.26C641,-670.26 779,-670.26 779,-670.26 785,-670.26 791,-676.26 791,-682.26 791,-682.26 791,-734.26 791,-734.26 791,-740.26 785,-746.26 779,-746.26 779,-746.26 641,-746.26 641,-746.26 635,-746.26 629,-740.26 629,-734.26 629,-734.26 629,-682.26 629,-682.26 629,-676.26 635,-670.26 641,-670.26"/>
<text text-anchor="start" x="637" y="-731.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">Error</text>
<text text-anchor="start" x="637" y="-716.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> StaleCommand</text>
<polyline fill="none" stroke="#1c2123" points="629,-708.26 791,-708.26 "/>
<text text-anchor="start" x="637" y="-693.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果term已过期</text>
<text text-anchor="start" x="637" y="-678.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 返回StaleCommand错误</text>
</g>
<!-- check_term&#45;&gt;Error_StaleCommand -->
<g id="edge8" class="edge">
<title>check_term&#45;&gt;Error_StaleCommand</title>
<path fill="none" stroke="#666666" d="M572.28,-708.26C587.38,-708.26 603.35,-708.26 618.85,-708.26"/>
<polygon fill="#666666" stroke="#666666" points="618.95,-711.76 628.95,-708.26 618.95,-704.76 618.95,-711.76"/>
</g>
<!-- PeerFsmDelegate__propose_raft_command -->
<g id="node6" class="node">
<title>PeerFsmDelegate__propose_raft_command</title>
<path fill="none" stroke="#1c2123" d="M12,-401.76C12,-401.76 138,-401.76 138,-401.76 144,-401.76 150,-407.76 150,-413.76 150,-413.76 150,-450.76 150,-450.76 150,-456.76 144,-462.76 138,-462.76 138,-462.76 12,-462.76 12,-462.76 6,-462.76 0,-456.76 0,-450.76 0,-450.76 0,-413.76 0,-413.76 0,-407.76 6,-401.76 12,-401.76"/>
<text text-anchor="start" x="8" y="-447.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="8" y="-432.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> propose_raft_command</text>
<polyline fill="none" stroke="#1c2123" points="0,-424.76 150,-424.76 "/>
<text text-anchor="start" x="8" y="-409.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">提交raft command</text>
</g>
<!-- PeerFsmDelegate__propose_raft_command&#45;&gt;PeerFsmDelegate__pre_propose_raft_command -->
<g id="edge5" class="edge">
<title>PeerFsmDelegate__propose_raft_command&#45;&gt;PeerFsmDelegate__pre_propose_raft_command</title>
<path fill="none" stroke="#666666" d="M91.87,-462.95C127.14,-531.14 211.98,-695.21 251.32,-771.28"/>
<polygon fill="#666666" stroke="#666666" points="248.41,-773.27 256.12,-780.54 254.63,-770.05 248.41,-773.27"/>
</g>
<!-- PeerFsmDelegate__check_merge_proposal -->
<g id="node7" class="node">
<title>PeerFsmDelegate__check_merge_proposal</title>
<path fill="none" stroke="#1c2123" d="M206,-394.26C206,-394.26 340,-394.26 340,-394.26 346,-394.26 352,-400.26 352,-406.26 352,-406.26 352,-458.26 352,-458.26 352,-464.26 346,-470.26 340,-470.26 340,-470.26 206,-470.26 206,-470.26 200,-470.26 194,-464.26 194,-458.26 194,-458.26 194,-406.26 194,-406.26 194,-400.26 200,-394.26 206,-394.26"/>
<text text-anchor="start" x="202" y="-455.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<text text-anchor="start" x="202" y="-440.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> check_merge_proposal</text>
<polyline fill="none" stroke="#1c2123" points="194,-432.26 352,-432.26 "/>
<text text-anchor="start" x="202" y="-417.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">检查PrepareMerge和</text>
<text text-anchor="start" x="202" y="-402.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> CommitMerge是否valid</text>
</g>
<!-- PeerFsmDelegate__propose_raft_command&#45;&gt;PeerFsmDelegate__check_merge_proposal -->
<g id="edge6" class="edge">
<title>PeerFsmDelegate__propose_raft_command&#45;&gt;PeerFsmDelegate__check_merge_proposal</title>
<path fill="none" stroke="#666666" d="M150.1,-432.26C161.05,-432.26 172.44,-432.26 183.65,-432.26"/>
<polygon fill="#666666" stroke="#666666" points="183.88,-435.76 193.88,-432.26 183.88,-428.76 183.88,-435.76"/>
</g>
<!-- Peer__propose -->
<g id="node8" class="node">
<title>Peer__propose</title>
<path fill="none" stroke="#1c2123" d="M253.5,-282.26C253.5,-282.26 292.5,-282.26 292.5,-282.26 298.5,-282.26 304.5,-288.26 304.5,-294.26 304.5,-294.26 304.5,-308.26 304.5,-308.26 304.5,-314.26 298.5,-320.26 292.5,-320.26 292.5,-320.26 253.5,-320.26 253.5,-320.26 247.5,-320.26 241.5,-314.26 241.5,-308.26 241.5,-308.26 241.5,-294.26 241.5,-294.26 241.5,-288.26 247.5,-282.26 253.5,-282.26"/>
<text text-anchor="start" x="249.5" y="-305.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="249.5" y="-290.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> propose</text>
</g>
<!-- PeerFsmDelegate__propose_raft_command&#45;&gt;Peer__propose -->
<g id="edge7" class="edge">
<title>PeerFsmDelegate__propose_raft_command&#45;&gt;Peer__propose</title>
<path fill="none" stroke="#666666" d="M121.95,-401.55C156.29,-378.6 202.64,-347.62 234.69,-326.2"/>
<polygon fill="#666666" stroke="#666666" points="236.96,-328.89 243.33,-320.42 233.07,-323.07 236.96,-328.89"/>
</g>
<!-- Peer__in_joint_state -->
<g id="node11" class="node">
<title>Peer__in_joint_state</title>
<path fill="none" stroke="#1c2123" d="M445.5,-559.76C445.5,-559.76 543.5,-559.76 543.5,-559.76 549.5,-559.76 555.5,-565.76 555.5,-571.76 555.5,-571.76 555.5,-638.76 555.5,-638.76 555.5,-644.76 549.5,-650.76 543.5,-650.76 543.5,-650.76 445.5,-650.76 445.5,-650.76 439.5,-650.76 433.5,-644.76 433.5,-638.76 433.5,-638.76 433.5,-571.76 433.5,-571.76 433.5,-565.76 439.5,-559.76 445.5,-559.76"/>
<text text-anchor="start" x="441.5" y="-635.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="441.5" y="-620.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> in_joint_state</text>
<polyline fill="none" stroke="#1c2123" points="433.5,-612.76 555.5,-612.76 "/>
<text text-anchor="start" x="441.5" y="-597.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">为了简单起见</text>
<text text-anchor="start" x="441.5" y="-582.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 在joint 共识时</text>
<text text-anchor="start" x="441.5" y="-567.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 不做region merge</text>
</g>
<!-- PeerFsmDelegate__check_merge_proposal&#45;&gt;Peer__in_joint_state -->
<g id="edge10" class="edge">
<title>PeerFsmDelegate__check_merge_proposal&#45;&gt;Peer__in_joint_state</title>
<path fill="none" stroke="#666666" d="M308.63,-470.48C331.94,-494.95 364.12,-526.47 396,-550.26 404.97,-556.96 414.85,-563.43 424.76,-569.43"/>
<polygon fill="#666666" stroke="#666666" points="423.08,-572.5 433.46,-574.58 426.64,-566.48 423.08,-572.5"/>
</g>
<!-- StoreMeta__regions_get__target_region -->
<g id="node12" class="node">
<title>StoreMeta__regions_get__target_region</title>
<path fill="none" stroke="#1c2123" d="M429.5,-434.26C429.5,-434.26 559.5,-434.26 559.5,-434.26 565.5,-434.26 571.5,-440.26 571.5,-446.26 571.5,-446.26 571.5,-528.26 571.5,-528.26 571.5,-534.26 565.5,-540.26 559.5,-540.26 559.5,-540.26 429.5,-540.26 429.5,-540.26 423.5,-540.26 417.5,-534.26 417.5,-528.26 417.5,-528.26 417.5,-446.26 417.5,-446.26 417.5,-440.26 423.5,-434.26 429.5,-434.26"/>
<text text-anchor="start" x="425.5" y="-525.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">StoreMeta</text>
<text text-anchor="start" x="425.5" y="-510.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> regions_get</text>
<text text-anchor="start" x="425.5" y="-495.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> target_region</text>
<polyline fill="none" stroke="#1c2123" points="417.5,-487.26 571.5,-487.26 "/>
<text text-anchor="start" x="425.5" y="-472.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">看本地StoreMeta中</text>
<text text-anchor="start" x="425.5" y="-457.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> target region是否和</text>
<text text-anchor="start" x="425.5" y="-442.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> prepareMerge中的一致</text>
</g>
<!-- PeerFsmDelegate__check_merge_proposal&#45;&gt;StoreMeta__regions_get__target_region -->
<g id="edge11" class="edge">
<title>PeerFsmDelegate__check_merge_proposal&#45;&gt;StoreMeta__regions_get__target_region</title>
<path fill="none" stroke="#666666" d="M352.01,-451.81C369.97,-456.31 389.18,-461.12 407.46,-465.7"/>
<polygon fill="#666666" stroke="#666666" points="406.67,-469.11 417.22,-468.15 408.37,-462.32 406.67,-469.11"/>
</g>
<!-- is_sibling_regions -->
<g id="node13" class="node">
<title>is_sibling_regions</title>
<path fill="none" stroke="#1c2123" d="M431,-339.26C431,-339.26 558,-339.26 558,-339.26 564,-339.26 570,-345.26 570,-351.26 570,-351.26 570,-403.26 570,-403.26 570,-409.26 564,-415.26 558,-415.26 558,-415.26 431,-415.26 431,-415.26 425,-415.26 419,-409.26 419,-403.26 419,-403.26 419,-351.26 419,-351.26 419,-345.26 425,-339.26 431,-339.26"/>
<text text-anchor="middle" x="494.5" y="-400.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">is_sibling_regions</text>
<polyline fill="none" stroke="#1c2123" points="419,-392.26 570,-392.26 "/>
<text text-anchor="start" x="427" y="-377.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">target_region</text>
<text text-anchor="start" x="427" y="-362.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 和source region是否是</text>
<text text-anchor="start" x="427" y="-347.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 相邻的</text>
</g>
<!-- PeerFsmDelegate__check_merge_proposal&#45;&gt;is_sibling_regions -->
<g id="edge12" class="edge">
<title>PeerFsmDelegate__check_merge_proposal&#45;&gt;is_sibling_regions</title>
<path fill="none" stroke="#666666" d="M352.01,-412.71C370.39,-408.11 390.07,-403.18 408.74,-398.5"/>
<polygon fill="#666666" stroke="#666666" points="409.84,-401.83 418.69,-396.01 408.14,-395.04 409.84,-401.83"/>
</g>
<!-- region_on_same_stores -->
<g id="node14" class="node">
<title>region_on_same_stores</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M419,-228.76C419,-228.76 570,-228.76 570,-228.76 576,-228.76 582,-234.76 582,-240.76 582,-240.76 582,-307.76 582,-307.76 582,-313.76 576,-319.76 570,-319.76 570,-319.76 419,-319.76 419,-319.76 413,-319.76 407,-313.76 407,-307.76 407,-307.76 407,-240.76 407,-240.76 407,-234.76 413,-228.76 419,-228.76"/>
<text text-anchor="middle" x="494.5" y="-304.56" font-family="Times,serif" font-size="14.00" fill="#5d6179">region_on_same_stores</text>
<polyline fill="none" stroke="#8a8898" points="407,-296.76 582,-296.76 "/>
<text text-anchor="start" x="415" y="-281.56" font-family="Times,serif" font-size="14.00" fill="#5d6179">target region</text>
<text text-anchor="start" x="415" y="-266.56" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 和source region</text>
<text text-anchor="start" x="415" y="-251.56" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 各个副本的store是对齐的</text>
<text text-anchor="start" x="415" y="-236.56" font-family="Times,serif" font-size="14.00" fill="#5d6179"> PeerRole 角色也是一样的</text>
</g>
<!-- PeerFsmDelegate__check_merge_proposal&#45;&gt;region_on_same_stores -->
<g id="edge13" class="edge">
<title>PeerFsmDelegate__check_merge_proposal&#45;&gt;region_on_same_stores</title>
<path fill="none" stroke="#666666" d="M315.74,-394.24C338.65,-374.18 368.03,-349.76 396,-330.26 398.36,-328.61 400.78,-326.97 403.23,-325.33"/>
<polygon fill="#666666" stroke="#666666" points="405.24,-328.2 411.7,-319.81 401.41,-322.34 405.24,-328.2"/>
</g>
<!-- Peer__propose_normal -->
<g id="node15" class="node">
<title>Peer__propose_normal</title>
<path fill="none" stroke="#1c2123" d="M452,-171.26C452,-171.26 537,-171.26 537,-171.26 543,-171.26 549,-177.26 549,-183.26 549,-183.26 549,-197.26 549,-197.26 549,-203.26 543,-209.26 537,-209.26 537,-209.26 452,-209.26 452,-209.26 446,-209.26 440,-203.26 440,-197.26 440,-197.26 440,-183.26 440,-183.26 440,-177.26 446,-171.26 452,-171.26"/>
<text text-anchor="start" x="448" y="-194.06" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="448" y="-179.06" font-family="Times,serif" font-size="14.00" fill="#2f3638"> propose_normal</text>
</g>
<!-- Peer__propose&#45;&gt;Peer__propose_normal -->
<g id="edge14" class="edge">
<title>Peer__propose&#45;&gt;Peer__propose_normal</title>
<path fill="none" stroke="#666666" d="M297.91,-281.97C321.6,-263.66 359.53,-236.45 396,-219.26 406.73,-214.2 418.55,-209.8 430.14,-206.06"/>
<polygon fill="#666666" stroke="#666666" points="431.27,-209.37 439.79,-203.07 429.2,-202.69 431.27,-209.37"/>
</g>
<!-- Peer__pre_propose -->
<g id="node16" class="node">
<title>Peer__pre_propose</title>
<path fill="none" stroke="#1c2123" d="M647.5,-183.76C647.5,-183.76 772.5,-183.76 772.5,-183.76 778.5,-183.76 784.5,-189.76 784.5,-195.76 784.5,-195.76 784.5,-270.76 784.5,-270.76 784.5,-276.76 778.5,-282.76 772.5,-282.76 772.5,-282.76 647.5,-282.76 647.5,-282.76 641.5,-282.76 635.5,-276.76 635.5,-270.76 635.5,-270.76 635.5,-195.76 635.5,-195.76 635.5,-189.76 641.5,-183.76 647.5,-183.76"/>
<text text-anchor="start" x="643.5" y="-267.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="643.5" y="-252.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> pre_propose</text>
<polyline fill="none" stroke="#1c2123" points="635.5,-244.76 784.5,-244.76 "/>
<text text-anchor="start" x="643.5" y="-229.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Validate requst</text>
<text text-anchor="start" x="643.5" y="-214.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> for unexpected changes</text>
<polyline fill="none" stroke="#1c2123" points="635.5,-206.76 784.5,-206.76 "/>
<text text-anchor="start" x="643.5" y="-191.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">准备了ProposalContext</text>
</g>
<!-- Peer__propose_normal&#45;&gt;Peer__pre_propose -->
<g id="edge15" class="edge">
<title>Peer__propose_normal&#45;&gt;Peer__pre_propose</title>
<path fill="none" stroke="#666666" d="M549.1,-201.06C572.11,-205.69 599.54,-211.21 625.13,-216.37"/>
<polygon fill="#666666" stroke="#666666" points="624.72,-219.85 635.21,-218.4 626.1,-212.99 624.72,-219.85"/>
</g>
<!-- RawNode__propose -->
<g id="node17" class="node">
<title>RawNode__propose</title>
<path fill="none" stroke="#1c2123" d="M761.5,-165.26C761.5,-165.26 658.5,-165.26 658.5,-165.26 652.5,-165.26 646.5,-159.26 646.5,-153.26 646.5,-153.26 646.5,-141.26 646.5,-141.26 646.5,-135.26 652.5,-129.26 658.5,-129.26 658.5,-129.26 761.5,-129.26 761.5,-129.26 767.5,-129.26 773.5,-135.26 773.5,-141.26 773.5,-141.26 773.5,-153.26 773.5,-153.26 773.5,-159.26 767.5,-165.26 761.5,-165.26"/>
<text text-anchor="middle" x="710" y="-143.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">RawNode__propose</text>
</g>
<!-- Peer__propose_normal&#45;&gt;RawNode__propose -->
<g id="edge16" class="edge">
<title>Peer__propose_normal&#45;&gt;RawNode__propose</title>
<path fill="none" stroke="#666666" d="M549.1,-179.46C575.51,-174.15 607.74,-167.65 636.33,-161.9"/>
<polygon fill="#666666" stroke="#666666" points="637.16,-165.3 646.28,-159.89 635.78,-158.44 637.16,-165.3"/>
</g>
<!-- Peer__pre_propose_prepare_merge -->
<g id="node18" class="node">
<title>Peer__pre_propose_prepare_merge</title>
<path fill="none" stroke="#1c2123" d="M938.5,-296.76C938.5,-296.76 1096.5,-296.76 1096.5,-296.76 1102.5,-296.76 1108.5,-302.76 1108.5,-308.76 1108.5,-308.76 1108.5,-345.76 1108.5,-345.76 1108.5,-351.76 1102.5,-357.76 1096.5,-357.76 1096.5,-357.76 938.5,-357.76 938.5,-357.76 932.5,-357.76 926.5,-351.76 926.5,-345.76 926.5,-345.76 926.5,-308.76 926.5,-308.76 926.5,-302.76 932.5,-296.76 938.5,-296.76"/>
<text text-anchor="start" x="934.5" y="-342.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="934.5" y="-327.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> pre_propose_prepare_merge</text>
<polyline fill="none" stroke="#1c2123" points="926.5,-319.76 1108.5,-319.76 "/>
<text text-anchor="start" x="934.5" y="-304.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">对PrepareMerge做一些check</text>
</g>
<!-- Peer__pre_propose&#45;&gt;Peer__pre_propose_prepare_merge -->
<g id="edge17" class="edge">
<title>Peer__pre_propose&#45;&gt;Peer__pre_propose_prepare_merge</title>
<path fill="none" stroke="#666666" d="M784.55,-270.54C798.43,-276.7 812.99,-282.59 827,-287.26 855.39,-296.73 886.95,-304.45 916.03,-310.49"/>
<polygon fill="#666666" stroke="#666666" points="915.72,-314 926.21,-312.56 917.11,-307.14 915.72,-314"/>
</g>
<!-- ProposalContext__insert__ProposalContext__PREPARE_MERGE -->
<g id="node19" class="node">
<title>ProposalContext__insert__ProposalContext__PREPARE_MERGE</title>
<path fill="none" stroke="#1c2123" d="M1196,-278.26C1196,-278.26 839,-278.26 839,-278.26 833,-278.26 827,-272.26 827,-266.26 827,-266.26 827,-254.26 827,-254.26 827,-248.26 833,-242.26 839,-242.26 839,-242.26 1196,-242.26 1196,-242.26 1202,-242.26 1208,-248.26 1208,-254.26 1208,-254.26 1208,-266.26 1208,-266.26 1208,-272.26 1202,-278.26 1196,-278.26"/>
<text text-anchor="middle" x="1017.5" y="-256.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">ProposalContext__insert__ProposalContext__PREPARE_MERGE</text>
</g>
<!-- Peer__pre_propose&#45;&gt;ProposalContext__insert__ProposalContext__PREPARE_MERGE -->
<g id="edge18" class="edge">
<title>Peer__pre_propose&#45;&gt;ProposalContext__insert__ProposalContext__PREPARE_MERGE</title>
<path fill="none" stroke="#666666" d="M784.56,-239.76C794.81,-240.67 805.7,-241.63 816.98,-242.63"/>
<polygon fill="#666666" stroke="#666666" points="816.71,-246.12 826.98,-243.51 817.32,-239.14 816.71,-246.12"/>
</g>
<!-- ProposalContext__insert__ProposalContext__SYNC_LOG -->
<g id="node20" class="node">
<title>ProposalContext__insert__ProposalContext__SYNC_LOG</title>
<path fill="none" stroke="#1c2123" d="M1174.5,-224.26C1174.5,-224.26 860.5,-224.26 860.5,-224.26 854.5,-224.26 848.5,-218.26 848.5,-212.26 848.5,-212.26 848.5,-200.26 848.5,-200.26 848.5,-194.26 854.5,-188.26 860.5,-188.26 860.5,-188.26 1174.5,-188.26 1174.5,-188.26 1180.5,-188.26 1186.5,-194.26 1186.5,-200.26 1186.5,-200.26 1186.5,-212.26 1186.5,-212.26 1186.5,-218.26 1180.5,-224.26 1174.5,-224.26"/>
<text text-anchor="middle" x="1017.5" y="-202.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">ProposalContext__insert__ProposalContext__SYNC_LOG</text>
</g>
<!-- Peer__pre_propose&#45;&gt;ProposalContext__insert__ProposalContext__SYNC_LOG -->
<g id="edge19" class="edge">
<title>Peer__pre_propose&#45;&gt;ProposalContext__insert__ProposalContext__SYNC_LOG</title>
<path fill="none" stroke="#666666" d="M784.56,-226.76C801.1,-225.3 819.35,-223.68 838.13,-222.02"/>
<polygon fill="#666666" stroke="#666666" points="838.65,-225.49 848.3,-221.13 838.03,-218.52 838.65,-225.49"/>
</g>
<!-- get_sync_log_from_request -->
<g id="node21" class="node">
<title>get_sync_log_from_request</title>
<path fill="none" stroke="#1c2123" d="M1089.5,-170.26C1089.5,-170.26 945.5,-170.26 945.5,-170.26 939.5,-170.26 933.5,-164.26 933.5,-158.26 933.5,-158.26 933.5,-146.26 933.5,-146.26 933.5,-140.26 939.5,-134.26 945.5,-134.26 945.5,-134.26 1089.5,-134.26 1089.5,-134.26 1095.5,-134.26 1101.5,-140.26 1101.5,-146.26 1101.5,-146.26 1101.5,-158.26 1101.5,-158.26 1101.5,-164.26 1095.5,-170.26 1089.5,-170.26"/>
<text text-anchor="middle" x="1017.5" y="-148.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">get_sync_log_from_request</text>
</g>
<!-- Peer__pre_propose&#45;&gt;get_sync_log_from_request -->
<g id="edge20" class="edge">
<title>Peer__pre_propose&#45;&gt;get_sync_log_from_request</title>
<path fill="none" stroke="#666666" d="M784.62,-195.07C798.43,-189.04 812.95,-183.43 827,-179.26 857.76,-170.13 892.27,-164.04 923.33,-160.01"/>
<polygon fill="#666666" stroke="#666666" points="923.79,-163.48 933.28,-158.77 922.93,-156.53 923.79,-163.48"/>
</g>
<!-- EntryTYpe__EntryConfChange -->
<g id="node22" class="node">
<title>EntryTYpe__EntryConfChange</title>
<path fill="none" stroke="#1c2123" d="M1428.5,-499.26C1428.5,-499.26 1264.5,-499.26 1264.5,-499.26 1258.5,-499.26 1252.5,-493.26 1252.5,-487.26 1252.5,-487.26 1252.5,-475.26 1252.5,-475.26 1252.5,-469.26 1258.5,-463.26 1264.5,-463.26 1264.5,-463.26 1428.5,-463.26 1428.5,-463.26 1434.5,-463.26 1440.5,-469.26 1440.5,-475.26 1440.5,-475.26 1440.5,-487.26 1440.5,-487.26 1440.5,-493.26 1434.5,-499.26 1428.5,-499.26"/>
<text text-anchor="middle" x="1346.5" y="-477.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">EntryTYpe__EntryConfChange</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;EntryTYpe__EntryConfChange -->
<g id="edge21" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;EntryTYpe__EntryConfChange</title>
<path fill="none" stroke="#666666" d="M1064.7,-357.89C1109.1,-386.2 1178.87,-427.76 1244,-454.26 1249.01,-456.3 1254.23,-458.23 1259.53,-460.05"/>
<polygon fill="#666666" stroke="#666666" points="1258.56,-463.41 1269.15,-463.2 1260.74,-456.76 1258.56,-463.41"/>
</g>
<!-- EntryTYpe__EntryConfChangeV2 -->
<g id="node23" class="node">
<title>EntryTYpe__EntryConfChangeV2</title>
<path fill="none" stroke="#1c2123" d="M1437,-445.26C1437,-445.26 1256,-445.26 1256,-445.26 1250,-445.26 1244,-439.26 1244,-433.26 1244,-433.26 1244,-421.26 1244,-421.26 1244,-415.26 1250,-409.26 1256,-409.26 1256,-409.26 1437,-409.26 1437,-409.26 1443,-409.26 1449,-415.26 1449,-421.26 1449,-421.26 1449,-433.26 1449,-433.26 1449,-439.26 1443,-445.26 1437,-445.26"/>
<text text-anchor="middle" x="1346.5" y="-423.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">EntryTYpe__EntryConfChangeV2</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;EntryTYpe__EntryConfChangeV2 -->
<g id="edge22" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;EntryTYpe__EntryConfChangeV2</title>
<path fill="none" stroke="#666666" d="M1108.68,-357.67C1149.8,-371.22 1199.2,-387.06 1244,-400.26 1251.11,-402.36 1258.53,-404.47 1265.97,-406.54"/>
<polygon fill="#666666" stroke="#666666" points="1265.18,-409.95 1275.75,-409.23 1267.04,-403.2 1265.18,-409.95"/>
</g>
<!-- Peer__get_min_progress -->
<g id="node24" class="node">
<title>Peer__get_min_progress</title>
<path fill="none" stroke="#1c2123" d="M1284,-199.76C1284,-199.76 1409,-199.76 1409,-199.76 1415,-199.76 1421,-205.76 1421,-211.76 1421,-211.76 1421,-286.76 1421,-286.76 1421,-292.76 1415,-298.76 1409,-298.76 1409,-298.76 1284,-298.76 1284,-298.76 1278,-298.76 1272,-292.76 1272,-286.76 1272,-286.76 1272,-211.76 1272,-211.76 1272,-205.76 1278,-199.76 1284,-199.76"/>
<text text-anchor="start" x="1280" y="-283.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<text text-anchor="start" x="1280" y="-268.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_min_progress</text>
<polyline fill="none" stroke="#1c2123" points="1272,-260.76 1421,-260.76 "/>
<text text-anchor="start" x="1280" y="-245.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">return minimal mathced</text>
<text text-anchor="start" x="1280" y="-230.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> comitted index</text>
<polyline fill="none" stroke="#1c2123" points="1272,-222.76 1421,-222.76 "/>
<text text-anchor="start" x="1280" y="-207.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">遍历raft的progress</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;Peer__get_min_progress -->
<g id="edge23" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;Peer__get_min_progress</title>
<path fill="none" stroke="#666666" d="M1108.88,-309.37C1140.35,-302.82 1175.82,-295.1 1208,-287.26 1225.56,-282.98 1244.29,-278.06 1262.08,-273.2"/>
<polygon fill="#666666" stroke="#666666" points="1263.15,-276.54 1271.86,-270.51 1261.29,-269.79 1263.15,-276.54"/>
</g>
<!-- RaftLog__last_index -->
<g id="node25" class="node">
<title>RaftLog__last_index</title>
<path fill="none" stroke="#1c2123" d="M1400,-391.26C1400,-391.26 1293,-391.26 1293,-391.26 1287,-391.26 1281,-385.26 1281,-379.26 1281,-379.26 1281,-367.26 1281,-367.26 1281,-361.26 1287,-355.26 1293,-355.26 1293,-355.26 1400,-355.26 1400,-355.26 1406,-355.26 1412,-361.26 1412,-367.26 1412,-367.26 1412,-379.26 1412,-379.26 1412,-385.26 1406,-391.26 1400,-391.26"/>
<text text-anchor="middle" x="1346.5" y="-369.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLog__last_index</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;RaftLog__last_index -->
<g id="edge24" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;RaftLog__last_index</title>
<path fill="none" stroke="#666666" d="M1108.72,-339.95C1159.73,-347.13 1222.73,-355.99 1270.92,-362.77"/>
<polygon fill="#666666" stroke="#666666" points="1270.58,-366.25 1280.97,-364.18 1271.55,-359.32 1270.58,-366.25"/>
</g>
<!-- Config__merge_max_log_gap -->
<g id="node26" class="node">
<title>Config__merge_max_log_gap</title>
<path fill="none" stroke="#1c2123" d="M1655,-345.26C1655,-345.26 1497,-345.26 1497,-345.26 1491,-345.26 1485,-339.26 1485,-333.26 1485,-333.26 1485,-321.26 1485,-321.26 1485,-315.26 1491,-309.26 1497,-309.26 1497,-309.26 1655,-309.26 1655,-309.26 1661,-309.26 1667,-315.26 1667,-321.26 1667,-321.26 1667,-333.26 1667,-333.26 1667,-339.26 1661,-345.26 1655,-345.26"/>
<text text-anchor="middle" x="1576" y="-323.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">Config__merge_max_log_gap</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;Config__merge_max_log_gap -->
<g id="edge25" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;Config__merge_max_log_gap</title>
<path fill="none" stroke="#666666" d="M1108.53,-327.26C1208.71,-327.26 1370.16,-327.26 1474.42,-327.26"/>
<polygon fill="#666666" stroke="#666666" points="1474.64,-330.76 1484.64,-327.26 1474.64,-323.76 1474.64,-330.76"/>
</g>
<!-- RaftLog__entries -->
<g id="node27" class="node">
<title>RaftLog__entries</title>
<path fill="none" stroke="#1c2123" d="M1275.5,-59.76C1275.5,-59.76 1417.5,-59.76 1417.5,-59.76 1423.5,-59.76 1429.5,-65.76 1429.5,-71.76 1429.5,-71.76 1429.5,-168.76 1429.5,-168.76 1429.5,-174.76 1423.5,-180.76 1417.5,-180.76 1417.5,-180.76 1275.5,-180.76 1275.5,-180.76 1269.5,-180.76 1263.5,-174.76 1263.5,-168.76 1263.5,-168.76 1263.5,-71.76 1263.5,-71.76 1263.5,-65.76 1269.5,-59.76 1275.5,-59.76"/>
<text text-anchor="start" x="1271.5" y="-165.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLog</text>
<text text-anchor="start" x="1271.5" y="-150.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> entries</text>
<polyline fill="none" stroke="#1c2123" points="1263.5,-142.76 1429.5,-142.76 "/>
<text text-anchor="start" x="1271.5" y="-127.56" font-family="Times,serif" font-size="14.00" fill="#2f3638">检查从min_committed +1</text>
<text text-anchor="start" x="1271.5" y="-112.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 开始的log entry</text>
<text text-anchor="start" x="1271.5" y="-97.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Any command that can </text>
<text text-anchor="start" x="1271.5" y="-82.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> change epoch or log</text>
<text text-anchor="start" x="1271.5" y="-67.56" font-family="Times,serif" font-size="14.00" fill="#2f3638"> gap should be rejected.</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;RaftLog__entries -->
<g id="edge26" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;RaftLog__entries</title>
<path fill="none" stroke="#666666" d="M1108.67,-326.26C1143.18,-321.6 1180.76,-310.76 1208,-287.26 1242.82,-257.23 1215.76,-226.55 1244,-190.26 1247.62,-185.61 1251.64,-181.14 1255.92,-176.88"/>
<polygon fill="#666666" stroke="#666666" points="1258.46,-179.3 1263.37,-169.91 1253.68,-174.19 1258.46,-179.3"/>
</g>
<!-- PrepareMerge__set_min_index -->
<g id="node28" class="node">
<title>PrepareMerge__set_min_index</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1715,-109.76C1715,-109.76 1809,-109.76 1809,-109.76 1815,-109.76 1821,-115.76 1821,-121.76 1821,-121.76 1821,-158.76 1821,-158.76 1821,-164.76 1815,-170.76 1809,-170.76 1809,-170.76 1715,-170.76 1715,-170.76 1709,-170.76 1703,-164.76 1703,-158.76 1703,-158.76 1703,-121.76 1703,-121.76 1703,-115.76 1709,-109.76 1715,-109.76"/>
<text text-anchor="start" x="1711" y="-155.56" font-family="Times,serif" font-size="14.00" fill="#5d6179">PrepareMerge</text>
<text text-anchor="middle" x="1762" y="-140.56" font-family="Times,serif" font-size="14.00" fill="#5d6179"> set_min_index</text>
<polyline fill="none" stroke="#8a8898" points="1703,-132.76 1821,-132.76 "/>
<text text-anchor="start" x="1711" y="-117.56" font-family="Times,serif" font-size="14.00" fill="#5d6179">设置最小的index</text>
</g>
<!-- Peer__pre_propose_prepare_merge&#45;&gt;PrepareMerge__set_min_index -->
<g id="edge27" class="edge">
<title>Peer__pre_propose_prepare_merge&#45;&gt;PrepareMerge__set_min_index</title>
<path fill="none" stroke="#666666" d="M1108.81,-329.25C1144.4,-325.22 1182.72,-314.03 1208,-287.26 1281.15,-209.8 1163.2,-119.71 1244,-50.26 1376.42,63.57 1600.35,-43.5 1704.54,-104.5"/>
<polygon fill="#666666" stroke="#666666" points="1702.96,-107.62 1713.34,-109.71 1706.52,-101.6 1702.96,-107.62"/>
</g>
<!-- Peer__get_min_progress&#45;&gt;Config__merge_max_log_gap -->
<g id="edge31" class="edge">
<title>Peer__get_min_progress&#45;&gt;Config__merge_max_log_gap</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1421.05,-274.48C1450.54,-284.59 1484.18,-296.12 1512.47,-305.82"/>
<polygon fill="green" stroke="green" points="1511.65,-309.24 1522.24,-309.17 1513.92,-302.62 1511.65,-309.24"/>
</g>
<!-- Progress__matched -->
<g id="node29" class="node">
<title>Progress__matched</title>
<path fill="#feed9b" stroke="#f7e495" d="M1554.5,-218.76C1554.5,-218.76 1597.5,-218.76 1597.5,-218.76 1603.5,-218.76 1609.5,-224.76 1609.5,-230.76 1609.5,-230.76 1609.5,-267.76 1609.5,-267.76 1609.5,-273.76 1603.5,-279.76 1597.5,-279.76 1597.5,-279.76 1554.5,-279.76 1554.5,-279.76 1548.5,-279.76 1542.5,-273.76 1542.5,-267.76 1542.5,-267.76 1542.5,-230.76 1542.5,-230.76 1542.5,-224.76 1548.5,-218.76 1554.5,-218.76"/>
<text text-anchor="start" x="1550.5" y="-264.56" font-family="Times,serif" font-size="14.00" fill="#40575d">Progress</text>
<text text-anchor="start" x="1550.5" y="-249.56" font-family="Times,serif" font-size="14.00" fill="#40575d"> matched</text>
<polyline fill="none" stroke="#f7e495" points="1542.5,-241.76 1609.5,-241.76 "/>
<text text-anchor="middle" x="1576" y="-226.56" font-family="Times,serif" font-size="14.00" fill="#40575d"> </text>
</g>
<!-- Peer__get_min_progress&#45;&gt;Progress__matched -->
<g id="edge28" class="edge">
<title>Peer__get_min_progress&#45;&gt;Progress__matched</title>
<path fill="none" stroke="#666666" d="M1421.05,-249.26C1457.79,-249.26 1500.95,-249.26 1532.21,-249.26"/>
<polygon fill="#666666" stroke="#666666" points="1532.33,-252.76 1542.33,-249.26 1532.33,-245.76 1532.33,-252.76"/>
</g>
<!-- Progress__comitted_index -->
<g id="node30" class="node">
<title>Progress__comitted_index</title>
<path fill="#feed9b" stroke="#f7e495" d="M1535.5,-161.26C1535.5,-161.26 1616.5,-161.26 1616.5,-161.26 1622.5,-161.26 1628.5,-167.26 1628.5,-173.26 1628.5,-173.26 1628.5,-187.26 1628.5,-187.26 1628.5,-193.26 1622.5,-199.26 1616.5,-199.26 1616.5,-199.26 1535.5,-199.26 1535.5,-199.26 1529.5,-199.26 1523.5,-193.26 1523.5,-187.26 1523.5,-187.26 1523.5,-173.26 1523.5,-173.26 1523.5,-167.26 1529.5,-161.26 1535.5,-161.26"/>
<text text-anchor="start" x="1531.5" y="-184.06" font-family="Times,serif" font-size="14.00" fill="#40575d">Progress</text>
<text text-anchor="start" x="1531.5" y="-169.06" font-family="Times,serif" font-size="14.00" fill="#40575d"> comitted_index</text>
</g>
<!-- Peer__get_min_progress&#45;&gt;Progress__comitted_index -->
<g id="edge29" class="edge">
<title>Peer__get_min_progress&#45;&gt;Progress__comitted_index</title>
<path fill="none" stroke="#666666" d="M1421.05,-226.95C1450.89,-217.9 1484.98,-207.56 1513.47,-198.92"/>
<polygon fill="#666666" stroke="#666666" points="1514.75,-202.19 1523.3,-195.94 1512.72,-195.49 1514.75,-202.19"/>
</g>
<!-- RaftLog__last_index&#45;&gt;Config__merge_max_log_gap -->
<g id="edge32" class="edge">
<title>RaftLog__last_index&#45;&gt;Config__merge_max_log_gap</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1412.08,-360.2C1431.91,-356.19 1454.19,-351.69 1475.77,-347.32"/>
<polygon fill="green" stroke="green" points="1476.52,-350.74 1485.63,-345.33 1475.13,-343.88 1476.52,-350.74"/>
</g>
<!-- Progress__matched&#45;&gt;PrepareMerge__set_min_index -->
<g id="edge30" class="edge">
<title>Progress__matched&#45;&gt;PrepareMerge__set_min_index</title>
<path fill="none" stroke="#666666" d="M1609.85,-236.16C1627.26,-228.76 1648.74,-218.88 1667,-208.26 1682.86,-199.03 1699.34,-187.76 1713.99,-177.06"/>
<polygon fill="#666666" stroke="#666666" points="1716.43,-179.62 1722.38,-170.85 1712.26,-173.99 1716.43,-179.62"/>
</g>
</g>
</svg>
