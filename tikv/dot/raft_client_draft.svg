<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: raft_client_send Pages: 1 -->
<svg width="4870pt" height="1331pt"
 viewBox="0.00 0.00 4870.00 1331.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1327)">
<title>raft_client_send</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1327 4866,-1327 4866,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_LruCache</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1696,-571C1696,-571 1787,-571 1787,-571 1793,-571 1799,-577 1799,-583 1799,-583 1799,-695 1799,-695 1799,-701 1793,-707 1787,-707 1787,-707 1696,-707 1696,-707 1690,-707 1684,-701 1684,-695 1684,-695 1684,-583 1684,-583 1684,-577 1690,-571 1696,-571"/>
<text text-anchor="middle" x="1741.5" y="-687" font-family="Times,serif" font-size="20.00">LruCache</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Waker</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M4641,-8C4641,-8 4842,-8 4842,-8 4848,-8 4854,-14 4854,-20 4854,-20 4854,-120 4854,-120 4854,-126 4848,-132 4842,-132 4842,-132 4641,-132 4641,-132 4635,-132 4629,-126 4629,-120 4629,-120 4629,-20 4629,-20 4629,-14 4635,-8 4641,-8"/>
<text text-anchor="middle" x="4741.5" y="-112" font-family="Times,serif" font-size="20.00">rustlib/Waker</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ArrayQueue</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M54,-1131C54,-1131 145,-1131 145,-1131 151,-1131 157,-1137 157,-1143 157,-1143 157,-1213 157,-1213 157,-1219 151,-1225 145,-1225 145,-1225 54,-1225 54,-1225 48,-1225 42,-1219 42,-1213 42,-1213 42,-1143 42,-1143 42,-1137 48,-1131 54,-1131"/>
<text text-anchor="middle" x="99.5" y="-1205" font-family="Times,serif" font-size="20.00">ArrayQueue</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_Queue</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1942.5,-35C1942.5,-35 4597,-35 4597,-35 4603,-35 4609,-41 4609,-47 4609,-47 4609,-163 4609,-163 4609,-169 4603,-175 4597,-175 4597,-175 1942.5,-175 1942.5,-175 1936.5,-175 1930.5,-169 1930.5,-163 1930.5,-163 1930.5,-47 1930.5,-47 1930.5,-41 1936.5,-35 1942.5,-35"/>
<text text-anchor="middle" x="3269.75" y="-155" font-family="Times,serif" font-size="20.00">Queue</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_grpc_sys</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M3052,-213C3052,-213 3425,-213 3425,-213 3431,-213 3437,-219 3437,-225 3437,-225 3437,-337 3437,-337 3437,-343 3431,-349 3425,-349 3425,-349 3052,-349 3052,-349 3046,-349 3040,-343 3040,-337 3040,-337 3040,-225 3040,-225 3040,-219 3046,-213 3052,-213"/>
<text text-anchor="middle" x="3238.5" y="-329" font-family="Times,serif" font-size="20.00">grpc_sys</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_ChannelBuilder</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M2645,-415C2645,-415 3201.5,-415 3201.5,-415 3207.5,-415 3213.5,-421 3213.5,-427 3213.5,-427 3213.5,-539 3213.5,-539 3213.5,-545 3207.5,-551 3201.5,-551 3201.5,-551 2645,-551 2645,-551 2639,-551 2633,-545 2633,-539 2633,-539 2633,-427 2633,-427 2633,-421 2639,-415 2645,-415"/>
<text text-anchor="middle" x="2923.25" y="-531" font-family="Times,serif" font-size="20.00">ChannelBuilder</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_SecurityManager</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M2642,-325C2642,-325 2772,-325 2772,-325 2778,-325 2784,-331 2784,-337 2784,-337 2784,-395 2784,-395 2784,-401 2778,-407 2772,-407 2772,-407 2642,-407 2642,-407 2636,-407 2630,-401 2630,-395 2630,-395 2630,-337 2630,-337 2630,-331 2636,-325 2642,-325"/>
<text text-anchor="middle" x="2707" y="-387" font-family="Times,serif" font-size="20.00">SecurityManager</text>
</g>
<g id="clust12" class="cluster">
<title>cluster_TikvClient</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M3469,-183C3469,-183 4230.5,-183 4230.5,-183 4236.5,-183 4242.5,-189 4242.5,-195 4242.5,-195 4242.5,-253 4242.5,-253 4242.5,-259 4236.5,-265 4230.5,-265 4230.5,-265 3469,-265 3469,-265 3463,-265 3457,-259 3457,-253 3457,-253 3457,-195 3457,-195 3457,-189 3463,-183 3469,-183"/>
<text text-anchor="middle" x="3849.75" y="-245" font-family="Times,serif" font-size="20.00">TikvClient</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_PdStoreAddrResolver</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M36,-1041C36,-1041 2753,-1041 2753,-1041 2759,-1041 2765,-1047 2765,-1053 2765,-1053 2765,-1111 2765,-1111 2765,-1117 2759,-1123 2753,-1123 2753,-1123 36,-1123 36,-1123 30,-1123 24,-1117 24,-1111 24,-1111 24,-1053 24,-1053 24,-1047 30,-1041 36,-1041"/>
<text text-anchor="middle" x="1394.5" y="-1103" font-family="Times,serif" font-size="20.00">PdStoreAddrResolver</text>
</g>
<g id="clust16" class="cluster">
<title>cluster_RaftCall</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M3828,-273C3828,-273 4403,-273 4403,-273 4409,-273 4415,-279 4415,-285 4415,-285 4415,-539 4415,-539 4415,-545 4409,-551 4403,-551 4403,-551 3828,-551 3828,-551 3822,-551 3816,-545 3816,-539 3816,-539 3816,-285 3816,-285 3816,-279 3822,-273 3828,-273"/>
<text text-anchor="middle" x="4115.5" y="-531" font-family="Times,serif" font-size="20.00">RaftCall</text>
</g>
<g id="clust17" class="cluster">
<title>cluster_StreamBackEnd</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1898,-559C1898,-559 3978.5,-559 3978.5,-559 3984.5,-559 3990.5,-565 3990.5,-571 3990.5,-571 3990.5,-695 3990.5,-695 3990.5,-701 3984.5,-707 3978.5,-707 3978.5,-707 1898,-707 1898,-707 1892,-707 1886,-701 1886,-695 1886,-695 1886,-571 1886,-571 1886,-565 1892,-559 1898,-559"/>
<text text-anchor="middle" x="2938.25" y="-687" font-family="Times,serif" font-size="20.00">StreamBackEnd</text>
</g>
<g id="clust23" class="cluster">
<title>cluster_RaftClient</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1411,-715C1411,-715 2407,-715 2407,-715 2413,-715 2419,-721 2419,-727 2419,-727 2419,-1021 2419,-1021 2419,-1027 2413,-1033 2407,-1033 2407,-1033 1411,-1033 1411,-1033 1405,-1033 1399,-1027 1399,-1021 1399,-1021 1399,-727 1399,-727 1399,-721 1405,-715 1411,-715"/>
<text text-anchor="middle" x="1909" y="-1013" font-family="Times,serif" font-size="20.00">RaftClient</text>
</g>
<g id="clust28" class="cluster">
<title>cluster_ServerTransport</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M559,-725C559,-725 1367,-725 1367,-725 1373,-725 1379,-731 1379,-737 1379,-737 1379,-849 1379,-849 1379,-855 1373,-861 1367,-861 1367,-861 559,-861 559,-861 553,-861 547,-855 547,-849 547,-849 547,-737 547,-737 547,-731 553,-725 559,-725"/>
<text text-anchor="middle" x="963" y="-841" font-family="Times,serif" font-size="20.00">ServerTransport</text>
</g>
<g id="clust29" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M765,-869C765,-869 1195,-869 1195,-869 1201,-869 1207,-875 1207,-881 1207,-881 1207,-993 1207,-993 1207,-999 1201,-1005 1195,-1005 1195,-1005 765,-1005 765,-1005 759,-1005 753,-999 753,-993 753,-993 753,-881 753,-881 753,-875 759,-869 765,-869"/>
<text text-anchor="middle" x="980" y="-985" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust30" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M421,-869C421,-869 709.5,-869 709.5,-869 715.5,-869 721.5,-875 721.5,-881 721.5,-881 721.5,-939 721.5,-939 721.5,-945 715.5,-951 709.5,-951 709.5,-951 421,-951 421,-951 415,-951 409,-945 409,-939 409,-939 409,-881 409,-881 409,-875 415,-869 421,-869"/>
<text text-anchor="middle" x="565.25" y="-931" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<g id="clust31" class="cluster">
<title>cluster_RaftPoller</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M248.5,-725C248.5,-725 515,-725 515,-725 521,-725 527,-731 527,-737 527,-737 527,-849 527,-849 527,-855 521,-861 515,-861 515,-861 248.5,-861 248.5,-861 242.5,-861 236.5,-855 236.5,-849 236.5,-849 236.5,-737 236.5,-737 236.5,-731 242.5,-725 248.5,-725"/>
<text text-anchor="middle" x="381.75" y="-841" font-family="Times,serif" font-size="20.00">RaftPoller</text>
</g>
<g id="clust35" class="cluster">
<title>cluster_Poller</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-579C20,-579 325,-579 325,-579 331,-579 337,-585 337,-591 337,-591 337,-705 337,-705 337,-711 331,-717 325,-717 325,-717 20,-717 20,-717 14,-717 8,-711 8,-705 8,-705 8,-591 8,-591 8,-585 14,-579 20,-579"/>
<text text-anchor="middle" x="172.5" y="-697" font-family="Times,serif" font-size="20.00">Poller</text>
</g>
<!-- cache_get_mut -->
<g id="node1" class="node">
<title>cache_get_mut</title>
<path fill="none" stroke="#1c2123" d="M1779,-669C1779,-669 1704,-669 1704,-669 1698,-669 1692,-663 1692,-657 1692,-657 1692,-645 1692,-645 1692,-639 1698,-633 1704,-633 1704,-633 1779,-633 1779,-633 1785,-633 1791,-639 1791,-645 1791,-645 1791,-657 1791,-657 1791,-663 1785,-669 1779,-669"/>
<text text-anchor="middle" x="1741.5" y="-647.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cache_get_mut</text>
</g>
<!-- cache_remove -->
<g id="node2" class="node">
<title>cache_remove</title>
<path fill="none" stroke="#1c2123" d="M1777,-615C1777,-615 1706,-615 1706,-615 1700,-615 1694,-609 1694,-603 1694,-603 1694,-591 1694,-591 1694,-585 1700,-579 1706,-579 1706,-579 1777,-579 1777,-579 1783,-579 1789,-585 1789,-591 1789,-591 1789,-603 1789,-603 1789,-609 1783,-615 1777,-615"/>
<text text-anchor="middle" x="1741.5" y="-593.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cache_remove</text>
</g>
<!-- wake -->
<g id="node3" class="node">
<title>wake</title>
<path fill="none" stroke="#1c2123" d="M4649,-17C4649,-17 4834,-17 4834,-17 4840,-17 4846,-23 4846,-29 4846,-29 4846,-81 4846,-81 4846,-87 4840,-93 4834,-93 4834,-93 4649,-93 4649,-93 4643,-93 4637,-87 4637,-81 4637,-81 4637,-29 4637,-29 4637,-23 4643,-17 4649,-17"/>
<text text-anchor="middle" x="4741.5" y="-77.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake</text>
<polyline fill="none" stroke="#1c2123" points="4637,-70 4846,-70 "/>
<text text-anchor="start" x="4645" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">waker.vtable.wake(self.waker.data)</text>
<text text-anchor="start" x="4645" y="-39.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> vtable.wake</text>
<text text-anchor="start" x="4645" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 是什么时候设置的呢？</text>
</g>
<!-- ArrayQueue -->
<g id="node4" class="node">
<title>ArrayQueue</title>
<path fill="none" stroke="#1c2123" d="M70,-1140C70,-1140 129,-1140 129,-1140 135,-1140 141,-1146 141,-1152 141,-1152 141,-1174 141,-1174 141,-1180 135,-1186 129,-1186 129,-1186 70,-1186 70,-1186 64,-1186 58,-1180 58,-1174 58,-1174 58,-1152 58,-1152 58,-1146 64,-1140 70,-1140"/>
<text text-anchor="middle" x="99.5" y="-1170.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ArrayQueue</text>
<polyline fill="none" stroke="#1c2123" points="58,-1163 141,-1163 "/>
<text text-anchor="middle" x="99.5" y="-1147.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> </text>
</g>
<!-- queue_push -->
<g id="node5" class="node">
<title>queue_push</title>
<path fill="none" stroke="#1c2123" d="M2208,-132C2208,-132 2151,-132 2151,-132 2145,-132 2139,-126 2139,-120 2139,-120 2139,-108 2139,-108 2139,-102 2145,-96 2151,-96 2151,-96 2208,-96 2208,-96 2214,-96 2220,-102 2220,-108 2220,-108 2220,-120 2220,-120 2220,-126 2214,-132 2208,-132"/>
<text text-anchor="middle" x="2179.5" y="-110.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">queue_push</text>
</g>
<!-- Queue -->
<g id="node6" class="node">
<title>Queue</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M4118,-44C4118,-44 4297,-44 4297,-44 4303,-44 4309,-50 4309,-56 4309,-56 4309,-124 4309,-124 4309,-130 4303,-136 4297,-136 4297,-136 4118,-136 4118,-136 4112,-136 4106,-130 4106,-124 4106,-124 4106,-56 4106,-56 4106,-50 4112,-44 4118,-44"/>
<text text-anchor="middle" x="4207.5" y="-120.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Queue</text>
<polyline fill="none" stroke="#60b5ac" points="4106,-113 4309,-113 "/>
<text text-anchor="start" x="4114" y="-97.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">buf: ArrayQueue&lt;RaftMessage&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="4106,-90 4309,-90 "/>
<text text-anchor="start" x="4114" y="-74.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">connected: AtomicBool,</text>
<polyline fill="none" stroke="#60b5ac" points="4106,-67 4309,-67 "/>
<text text-anchor="start" x="4114" y="-51.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">waker: Mutex&lt;Option&lt;Waker&gt;&gt;,</text>
</g>
<!-- queue_push&#45;&gt;Queue -->
<g id="edge1" class="edge">
<title>queue_push&#45;&gt;Queue:buf</title>
<path fill="none" stroke="#666666" d="M2220.19,-112.49C2284.5,-110.17 2415.49,-106 2526.5,-106 2526.5,-106 2526.5,-106 3753,-106 3906.37,-106 3947.28,-102.18 4095.6,-102.01"/>
<polygon fill="#666666" stroke="#666666" points="4096,-105.51 4106,-102 4096,-98.51 4096,-105.51"/>
</g>
<!-- pop -->
<g id="node8" class="node">
<title>pop</title>
<path fill="none" stroke="#1c2123" d="M4455,-63.5C4455,-63.5 4589,-63.5 4589,-63.5 4595,-63.5 4601,-69.5 4601,-75.5 4601,-75.5 4601,-112.5 4601,-112.5 4601,-118.5 4595,-124.5 4589,-124.5 4589,-124.5 4455,-124.5 4455,-124.5 4449,-124.5 4443,-118.5 4443,-112.5 4443,-112.5 4443,-75.5 4443,-75.5 4443,-69.5 4449,-63.5 4455,-63.5"/>
<text text-anchor="middle" x="4522" y="-109.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pop</text>
<polyline fill="none" stroke="#1c2123" points="4443,-101.5 4601,-101.5 "/>
<text text-anchor="start" x="4451" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">尝试从buf中取一个msg</text>
<text text-anchor="start" x="4451" y="-71.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果失败就设置waker</text>
</g>
<!-- Queue&#45;&gt;pop -->
<g id="edge4" class="edge">
<title>Queue:buf&#45;&gt;pop</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M4309,-102C4325.61,-102 4328.55,-94.24 4345,-92 4373.31,-88.14 4404.43,-87.37 4432.52,-87.94"/>
<polygon fill="green" stroke="green" points="4432.63,-91.45 4442.72,-88.21 4432.81,-84.45 4432.63,-91.45"/>
</g>
<!-- notify -->
<g id="node7" class="node">
<title>notify</title>
<path fill="none" stroke="#1c2123" d="M1950.5,-75.5C1950.5,-75.5 2046.5,-75.5 2046.5,-75.5 2052.5,-75.5 2058.5,-81.5 2058.5,-87.5 2058.5,-87.5 2058.5,-124.5 2058.5,-124.5 2058.5,-130.5 2052.5,-136.5 2046.5,-136.5 2046.5,-136.5 1950.5,-136.5 1950.5,-136.5 1944.5,-136.5 1938.5,-130.5 1938.5,-124.5 1938.5,-124.5 1938.5,-87.5 1938.5,-87.5 1938.5,-81.5 1944.5,-75.5 1950.5,-75.5"/>
<text text-anchor="middle" x="1998.5" y="-121.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">notify</text>
<polyline fill="none" stroke="#1c2123" points="1938.5,-113.5 2058.5,-113.5 "/>
<text text-anchor="start" x="1946.5" y="-98.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">有消息来了，</text>
<text text-anchor="start" x="1946.5" y="-83.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 通知等待消息的</text>
</g>
<!-- notify&#45;&gt;wake -->
<g id="edge2" class="edge">
<title>notify&#45;&gt;wake</title>
<path fill="none" stroke="#666666" d="M2058.58,-79.8C2124.69,-52.92 2235.63,-15 2335.5,-15 2335.5,-15 2335.5,-15 4377,-15 4460.98,-15 4555.23,-25.68 4626.7,-36"/>
<polygon fill="#666666" stroke="#666666" points="4626.24,-39.47 4636.64,-37.46 4627.25,-32.54 4626.24,-39.47"/>
</g>
<!-- pop&#45;&gt;wake -->
<g id="edge3" class="edge">
<title>pop&#45;&gt;wake</title>
<path fill="none" stroke="#666666" d="M4601.22,-79.98C4609.53,-78.48 4618.11,-76.95 4626.72,-75.4"/>
<polygon fill="#666666" stroke="#666666" points="4627.62,-78.8 4636.85,-73.59 4626.38,-71.91 4627.62,-78.8"/>
</g>
<!-- Context -->
<g id="node9" class="node">
<title>Context</title>
<path fill="none" stroke="#1c2123" d="M4393.5,-137C4393.5,-137 4358.5,-137 4358.5,-137 4352.5,-137 4346.5,-131 4346.5,-125 4346.5,-125 4346.5,-113 4346.5,-113 4346.5,-107 4352.5,-101 4358.5,-101 4358.5,-101 4393.5,-101 4393.5,-101 4399.5,-101 4405.5,-107 4405.5,-113 4405.5,-113 4405.5,-125 4405.5,-125 4405.5,-131 4399.5,-137 4393.5,-137"/>
<text text-anchor="middle" x="4376" y="-115.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Context</text>
</g>
<!-- Context&#45;&gt;pop -->
<g id="edge5" class="edge">
<title>Context&#45;&gt;pop</title>
<path fill="none" stroke="#666666" d="M4405.79,-114C4413.84,-112.6 4423.02,-111.01 4432.61,-109.35"/>
<polygon fill="#666666" stroke="#666666" points="4433.47,-112.75 4442.72,-107.59 4432.27,-105.85 4433.47,-112.75"/>
</g>
<!-- grpc_insecure_channel_create -->
<g id="node10" class="node">
<title>grpc_insecure_channel_create</title>
<path fill="none" stroke="#1c2123" d="M3216,-311C3216,-311 3060,-311 3060,-311 3054,-311 3048,-305 3048,-299 3048,-299 3048,-287 3048,-287 3048,-281 3054,-275 3060,-275 3060,-275 3216,-275 3216,-275 3222,-275 3228,-281 3228,-287 3228,-287 3228,-299 3228,-299 3228,-305 3222,-311 3216,-311"/>
<text text-anchor="middle" x="3138" y="-289.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">grpc_insecure_channel_create</text>
</g>
<!-- Channel -->
<g id="node12" class="node">
<title>Channel</title>
<path fill="none" stroke="#1c2123" d="M3276,-221.5C3276,-221.5 3417,-221.5 3417,-221.5 3423,-221.5 3429,-227.5 3429,-233.5 3429,-233.5 3429,-278.5 3429,-278.5 3429,-284.5 3423,-290.5 3417,-290.5 3417,-290.5 3276,-290.5 3276,-290.5 3270,-290.5 3264,-284.5 3264,-278.5 3264,-278.5 3264,-233.5 3264,-233.5 3264,-227.5 3270,-221.5 3276,-221.5"/>
<text text-anchor="middle" x="3346.5" y="-275.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Channel</text>
<polyline fill="none" stroke="#1c2123" points="3264,-267.5 3429,-267.5 "/>
<text text-anchor="start" x="3272" y="-252.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">inner: Arc&lt;ChannelInner&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3264,-244.5 3429,-244.5 "/>
<text text-anchor="start" x="3272" y="-229.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cq: CompletionQueue,</text>
</g>
<!-- grpc_insecure_channel_create&#45;&gt;Channel -->
<g id="edge6" class="edge">
<title>grpc_insecure_channel_create&#45;&gt;Channel</title>
<path fill="none" stroke="#666666" d="M3228.07,-277.04C3236.62,-275.51 3245.31,-273.95 3253.88,-272.42"/>
<polygon fill="#666666" stroke="#666666" points="3254.66,-275.83 3263.89,-270.62 3253.43,-268.94 3254.66,-275.83"/>
</g>
<!-- grpc_secure_channel_create -->
<g id="node11" class="node">
<title>grpc_secure_channel_create</title>
<path fill="none" stroke="#1c2123" d="M3211,-257C3211,-257 3065,-257 3065,-257 3059,-257 3053,-251 3053,-245 3053,-245 3053,-233 3053,-233 3053,-227 3059,-221 3065,-221 3065,-221 3211,-221 3211,-221 3217,-221 3223,-227 3223,-233 3223,-233 3223,-245 3223,-245 3223,-251 3217,-257 3211,-257"/>
<text text-anchor="middle" x="3138" y="-235.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">grpc_secure_channel_create</text>
</g>
<!-- grpc_secure_channel_create&#45;&gt;Channel -->
<g id="edge7" class="edge">
<title>grpc_secure_channel_create&#45;&gt;Channel</title>
<path fill="none" stroke="#666666" d="M3223.29,-245.94C3233.33,-246.77 3243.61,-247.61 3253.75,-248.45"/>
<polygon fill="#666666" stroke="#666666" points="3253.56,-251.94 3263.82,-249.28 3254.14,-244.97 3253.56,-251.94"/>
</g>
<!-- TikvClient_new -->
<g id="node21" class="node">
<title>TikvClient_new</title>
<path fill="none" stroke="#1c2123" d="M3557,-227C3557,-227 3477,-227 3477,-227 3471,-227 3465,-221 3465,-215 3465,-215 3465,-203 3465,-203 3465,-197 3471,-191 3477,-191 3477,-191 3557,-191 3557,-191 3563,-191 3569,-197 3569,-203 3569,-203 3569,-215 3569,-215 3569,-221 3563,-227 3557,-227"/>
<text text-anchor="middle" x="3517" y="-205.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TikvClient_new</text>
</g>
<!-- Channel&#45;&gt;TikvClient_new -->
<g id="edge31" class="edge">
<title>Channel&#45;&gt;TikvClient_new</title>
<path fill="none" stroke="#666666" d="M3429.28,-233.19C3437.96,-230.77 3446.67,-228.34 3455.05,-226"/>
<polygon fill="#666666" stroke="#666666" points="3456.02,-229.36 3464.72,-223.3 3454.14,-222.62 3456.02,-229.36"/>
</g>
<!-- ChannelBuilder_new -->
<g id="node13" class="node">
<title>ChannelBuilder_new</title>
<path fill="none" stroke="#1c2123" d="M2760,-513C2760,-513 2653,-513 2653,-513 2647,-513 2641,-507 2641,-501 2641,-501 2641,-489 2641,-489 2641,-483 2647,-477 2653,-477 2653,-477 2760,-477 2760,-477 2766,-477 2772,-483 2772,-489 2772,-489 2772,-501 2772,-501 2772,-507 2766,-513 2760,-513"/>
<text text-anchor="middle" x="2706.5" y="-491.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ChannelBuilder_new</text>
</g>
<!-- ChannelBuilder_connect -->
<g id="node14" class="node">
<title>ChannelBuilder_connect</title>
<path fill="none" stroke="#1c2123" d="M2979.5,-513C2979.5,-513 2852.5,-513 2852.5,-513 2846.5,-513 2840.5,-507 2840.5,-501 2840.5,-501 2840.5,-489 2840.5,-489 2840.5,-483 2846.5,-477 2852.5,-477 2852.5,-477 2979.5,-477 2979.5,-477 2985.5,-477 2991.5,-483 2991.5,-489 2991.5,-489 2991.5,-501 2991.5,-501 2991.5,-507 2985.5,-513 2979.5,-513"/>
<text text-anchor="middle" x="2916" y="-491.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ChannelBuilder_connect</text>
</g>
<!-- ChannelBuilder_connect&#45;&gt;grpc_insecure_channel_create -->
<g id="edge8" class="edge">
<title>ChannelBuilder_connect&#45;&gt;grpc_insecure_channel_create</title>
<path fill="none" stroke="#666666" d="M2991.68,-480.51C2999,-477.16 3005.94,-473.05 3012,-468 3033.67,-449.91 3024.71,-434.73 3040,-411 3061.84,-377.1 3091.96,-341.84 3112.82,-318.79"/>
<polygon fill="#666666" stroke="#666666" points="3115.62,-320.92 3119.78,-311.17 3110.45,-316.19 3115.62,-320.92"/>
</g>
<!-- prepare_connect_args -->
<g id="node15" class="node">
<title>prepare_connect_args</title>
<path fill="none" stroke="#1c2123" d="M3193.5,-486C3193.5,-486 3082.5,-486 3082.5,-486 3076.5,-486 3070.5,-480 3070.5,-474 3070.5,-474 3070.5,-462 3070.5,-462 3070.5,-456 3076.5,-450 3082.5,-450 3082.5,-450 3193.5,-450 3193.5,-450 3199.5,-450 3205.5,-456 3205.5,-462 3205.5,-462 3205.5,-474 3205.5,-474 3205.5,-480 3199.5,-486 3193.5,-486"/>
<text text-anchor="middle" x="3138" y="-464.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">prepare_connect_args</text>
</g>
<!-- ChannelBuilder_connect&#45;&gt;prepare_connect_args -->
<g id="edge9" class="edge">
<title>ChannelBuilder_connect&#45;&gt;prepare_connect_args</title>
<path fill="none" stroke="#666666" d="M2991.79,-485.82C3013.83,-483.12 3037.97,-480.15 3060.13,-477.43"/>
<polygon fill="#666666" stroke="#666666" points="3060.67,-480.89 3070.16,-476.2 3059.81,-473.95 3060.67,-480.89"/>
</g>
<!-- ChannelBuilder_secure_connect -->
<g id="node16" class="node">
<title>ChannelBuilder_secure_connect</title>
<path fill="none" stroke="#1c2123" d="M3000,-459C3000,-459 2832,-459 2832,-459 2826,-459 2820,-453 2820,-447 2820,-447 2820,-435 2820,-435 2820,-429 2826,-423 2832,-423 2832,-423 3000,-423 3000,-423 3006,-423 3012,-429 3012,-435 3012,-435 3012,-447 3012,-447 3012,-453 3006,-459 3000,-459"/>
<text text-anchor="middle" x="2916" y="-437.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ChannelBuilder_secure_connect</text>
</g>
<!-- ChannelBuilder_secure_connect&#45;&gt;grpc_secure_channel_create -->
<g id="edge10" class="edge">
<title>ChannelBuilder_secure_connect&#45;&gt;grpc_secure_channel_create</title>
<path fill="none" stroke="#666666" d="M2924.67,-422.77C2940.65,-387.04 2981,-307.66 3040,-266 3041.91,-264.65 3043.89,-263.36 3045.93,-262.14"/>
<polygon fill="#666666" stroke="#666666" points="3047.99,-265.01 3055.15,-257.2 3044.68,-258.84 3047.99,-265.01"/>
</g>
<!-- ChannelBuilder_secure_connect&#45;&gt;prepare_connect_args -->
<g id="edge11" class="edge">
<title>ChannelBuilder_secure_connect&#45;&gt;prepare_connect_args</title>
<path fill="none" stroke="#666666" d="M3012.22,-452.69C3028.31,-454.66 3044.84,-456.69 3060.39,-458.6"/>
<polygon fill="#666666" stroke="#666666" points="3060.1,-462.09 3070.45,-459.83 3060.95,-455.14 3060.1,-462.09"/>
</g>
<!-- manager_connect -->
<g id="node17" class="node">
<title>manager_connect</title>
<path fill="none" stroke="#1c2123" d="M2751,-369C2751,-369 2662,-369 2662,-369 2656,-369 2650,-363 2650,-357 2650,-357 2650,-345 2650,-345 2650,-339 2656,-333 2662,-333 2662,-333 2751,-333 2751,-333 2757,-333 2763,-339 2763,-345 2763,-345 2763,-357 2763,-357 2763,-363 2757,-369 2751,-369"/>
<text text-anchor="middle" x="2706.5" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">manager_connect</text>
</g>
<!-- manager_connect&#45;&gt;ChannelBuilder_connect -->
<g id="edge12" class="edge">
<title>manager_connect&#45;&gt;ChannelBuilder_connect</title>
<path fill="none" stroke="#666666" d="M2735.25,-369.23C2750.69,-380.2 2769.63,-395.09 2784,-411 2804.08,-433.24 2796.01,-450.05 2820,-468 2823.48,-470.6 2827.19,-472.95 2831.07,-475.07"/>
<polygon fill="#666666" stroke="#666666" points="2829.85,-478.37 2840.37,-479.63 2832.93,-472.08 2829.85,-478.37"/>
</g>
<!-- spawn -->
<g id="node18" class="node">
<title>spawn</title>
<path fill="none" stroke="#1c2123" d="M3962,-227C3962,-227 3932,-227 3932,-227 3926,-227 3920,-221 3920,-215 3920,-215 3920,-203 3920,-203 3920,-197 3926,-191 3932,-191 3932,-191 3962,-191 3962,-191 3968,-191 3974,-197 3974,-203 3974,-203 3974,-215 3974,-215 3974,-221 3968,-227 3962,-227"/>
<text text-anchor="middle" x="3947" y="-205.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">spawn</text>
</g>
<!-- poll -->
<g id="node19" class="node">
<title>poll</title>
<path fill="none" stroke="#1c2123" d="M4222.5,-227C4222.5,-227 4192.5,-227 4192.5,-227 4186.5,-227 4180.5,-221 4180.5,-215 4180.5,-215 4180.5,-203 4180.5,-203 4180.5,-197 4186.5,-191 4192.5,-191 4192.5,-191 4222.5,-191 4222.5,-191 4228.5,-191 4234.5,-197 4234.5,-203 4234.5,-203 4234.5,-215 4234.5,-215 4234.5,-221 4228.5,-227 4222.5,-227"/>
<text text-anchor="middle" x="4207.5" y="-205.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll</text>
</g>
<!-- spawn&#45;&gt;poll -->
<g id="edge13" class="edge">
<title>spawn&#45;&gt;poll</title>
<path fill="none" stroke="#666666" d="M3974.21,-209C4020.56,-209 4117.08,-209 4169.95,-209"/>
<polygon fill="#666666" stroke="#666666" points="4170.22,-212.5 4180.22,-209 4170.22,-205.5 4170.22,-212.5"/>
</g>
<!-- poll&#45;&gt;Context -->
<g id="edge19" class="edge">
<title>poll&#45;&gt;Context</title>
<path fill="none" stroke="#666666" d="M4234.54,-204.56C4255.61,-200.21 4285.53,-192.25 4309,-179 4324.93,-170.01 4340.21,-156.54 4352.05,-144.64"/>
<polygon fill="#666666" stroke="#666666" points="4354.89,-146.74 4359.31,-137.11 4349.85,-141.88 4354.89,-146.74"/>
</g>
<!-- fill_msg -->
<g id="node26" class="node">
<title>fill_msg</title>
<path fill="none" stroke="#1c2123" d="M4395,-317C4395,-317 4357,-317 4357,-317 4351,-317 4345,-311 4345,-305 4345,-305 4345,-293 4345,-293 4345,-287 4351,-281 4357,-281 4357,-281 4395,-281 4395,-281 4401,-281 4407,-287 4407,-293 4407,-293 4407,-305 4407,-305 4407,-311 4401,-317 4395,-317"/>
<text text-anchor="middle" x="4376" y="-295.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">fill_msg</text>
</g>
<!-- poll&#45;&gt;fill_msg -->
<g id="edge17" class="edge">
<title>poll&#45;&gt;fill_msg</title>
<path fill="none" stroke="#666666" d="M4234.52,-223.06C4261.74,-237.78 4304.78,-261.04 4336.05,-277.95"/>
<polygon fill="#666666" stroke="#666666" points="4334.48,-281.08 4344.94,-282.75 4337.81,-274.92 4334.48,-281.08"/>
</g>
<!-- TikvClient -->
<g id="node20" class="node">
<title>TikvClient</title>
<path fill="none" stroke="#1c2123" d="M3668,-227C3668,-227 3617,-227 3617,-227 3611,-227 3605,-221 3605,-215 3605,-215 3605,-203 3605,-203 3605,-197 3611,-191 3617,-191 3617,-191 3668,-191 3668,-191 3674,-191 3680,-197 3680,-203 3680,-203 3680,-215 3680,-215 3680,-221 3674,-227 3668,-227"/>
<text text-anchor="middle" x="3642.5" y="-205.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TikvClient</text>
</g>
<!-- back_end_call -->
<g id="node31" class="node">
<title>back_end_call</title>
<path fill="none" stroke="#1c2123" d="M3737,-568C3737,-568 3767,-568 3767,-568 3773,-568 3779,-574 3779,-580 3779,-580 3779,-592 3779,-592 3779,-598 3773,-604 3767,-604 3767,-604 3737,-604 3737,-604 3731,-604 3725,-598 3725,-592 3725,-592 3725,-580 3725,-580 3725,-574 3731,-568 3737,-568"/>
<text text-anchor="middle" x="3752" y="-582.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">call</text>
</g>
<!-- TikvClient&#45;&gt;back_end_call -->
<g id="edge32" class="edge">
<title>TikvClient&#45;&gt;back_end_call</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M3645.33,-227.3C3652.07,-291.83 3677.15,-507.88 3716,-564 3716.44,-564.64 3716.91,-565.27 3717.41,-565.88"/>
<polygon fill="green" stroke="green" points="3715.19,-568.61 3724.83,-573.02 3720.05,-563.56 3715.19,-568.61"/>
</g>
<!-- back_end_batch_call -->
<g id="node32" class="node">
<title>back_end_batch_call</title>
<path fill="none" stroke="#1c2123" d="M3728,-623C3728,-623 3776,-623 3776,-623 3782,-623 3788,-629 3788,-635 3788,-635 3788,-647 3788,-647 3788,-653 3782,-659 3776,-659 3776,-659 3728,-659 3728,-659 3722,-659 3716,-653 3716,-647 3716,-647 3716,-635 3716,-635 3716,-629 3722,-623 3728,-623"/>
<text text-anchor="middle" x="3752" y="-637.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">batch_call</text>
</g>
<!-- TikvClient&#45;&gt;back_end_batch_call -->
<g id="edge33" class="edge">
<title>TikvClient&#45;&gt;back_end_batch_call</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M3644.76,-227.13C3649.77,-294.9 3669.94,-533.36 3713.51,-613.75"/>
<polygon fill="green" stroke="green" points="3710.78,-615.99 3718.94,-622.74 3716.77,-612.37 3710.78,-615.99"/>
</g>
<!-- TikvClient_new&#45;&gt;TikvClient -->
<g id="edge14" class="edge">
<title>TikvClient_new&#45;&gt;TikvClient</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M3569.3,-209C3577.69,-209 3586.34,-209 3594.62,-209"/>
<polygon fill="green" stroke="green" points="3594.85,-212.5 3604.85,-209 3594.85,-205.5 3594.85,-212.5"/>
</g>
<!-- resolver_resolve -->
<g id="node22" class="node">
<title>resolver_resolve</title>
<path fill="none" stroke="#1c2123" d="M2568.5,-1085C2568.5,-1085 2486.5,-1085 2486.5,-1085 2480.5,-1085 2474.5,-1079 2474.5,-1073 2474.5,-1073 2474.5,-1061 2474.5,-1061 2474.5,-1055 2480.5,-1049 2486.5,-1049 2486.5,-1049 2568.5,-1049 2568.5,-1049 2574.5,-1049 2580.5,-1055 2580.5,-1061 2580.5,-1061 2580.5,-1073 2580.5,-1073 2580.5,-1079 2574.5,-1085 2568.5,-1085"/>
<text text-anchor="middle" x="2527.5" y="-1063.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">resolver_resolve</text>
</g>
<!-- sched_schedule -->
<g id="node23" class="node">
<title>sched_schedule</title>
<path fill="none" stroke="#1c2123" d="M2745,-1085C2745,-1085 2668,-1085 2668,-1085 2662,-1085 2656,-1079 2656,-1073 2656,-1073 2656,-1061 2656,-1061 2656,-1055 2662,-1049 2668,-1049 2668,-1049 2745,-1049 2745,-1049 2751,-1049 2757,-1055 2757,-1061 2757,-1061 2757,-1073 2757,-1073 2757,-1079 2751,-1085 2745,-1085"/>
<text text-anchor="middle" x="2706.5" y="-1063.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">sched_schedule</text>
</g>
<!-- resolver_resolve&#45;&gt;sched_schedule -->
<g id="edge15" class="edge">
<title>resolver_resolve&#45;&gt;sched_schedule</title>
<path fill="none" stroke="#666666" d="M2580.65,-1067C2601.07,-1067 2624.61,-1067 2645.71,-1067"/>
<polygon fill="#666666" stroke="#666666" points="2645.85,-1070.5 2655.85,-1067 2645.85,-1063.5 2645.85,-1070.5"/>
</g>
<!-- PdStoreAddrResolver -->
<g id="node24" class="node">
<title>PdStoreAddrResolver</title>
<path fill="none" stroke="#1c2123" d="M155,-1085C155,-1085 44,-1085 44,-1085 38,-1085 32,-1079 32,-1073 32,-1073 32,-1061 32,-1061 32,-1055 38,-1049 44,-1049 44,-1049 155,-1049 155,-1049 161,-1049 167,-1055 167,-1061 167,-1061 167,-1073 167,-1073 167,-1079 161,-1085 155,-1085"/>
<text text-anchor="middle" x="99.5" y="-1063.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PdStoreAddrResolver</text>
</g>
<!-- Scheduler -->
<g id="node25" class="node">
<title>Scheduler</title>
<path fill="none" stroke="#1c2123" d="M317,-1085C317,-1085 270,-1085 270,-1085 264,-1085 258,-1079 258,-1073 258,-1073 258,-1061 258,-1061 258,-1055 264,-1049 270,-1049 270,-1049 317,-1049 317,-1049 323,-1049 329,-1055 329,-1061 329,-1061 329,-1073 329,-1073 329,-1079 323,-1085 317,-1085"/>
<text text-anchor="middle" x="293.5" y="-1063.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Scheduler</text>
</g>
<!-- PdStoreAddrResolver&#45;&gt;Scheduler -->
<g id="edge16" class="edge">
<title>PdStoreAddrResolver&#45;&gt;Scheduler</title>
<path fill="none" stroke="#666666" d="M167.11,-1067C193.72,-1067 223.66,-1067 247.61,-1067"/>
<polygon fill="#666666" stroke="#666666" points="247.82,-1070.5 257.82,-1067 247.82,-1063.5 247.82,-1070.5"/>
</g>
<!-- fill_msg&#45;&gt;pop -->
<g id="edge18" class="edge">
<title>fill_msg&#45;&gt;pop</title>
<path fill="none" stroke="#666666" d="M4389.78,-280.81C4412.99,-247.76 4462.56,-177.19 4493.69,-132.88"/>
<polygon fill="#666666" stroke="#666666" points="4496.59,-134.85 4499.47,-124.65 4490.86,-130.82 4496.59,-134.85"/>
</g>
<!-- RaftCall -->
<g id="node27" class="node">
<title>RaftCall</title>
<path fill="none" stroke="#1c2123" d="M3836,-282C3836,-282 4058,-282 4058,-282 4064,-282 4070,-288 4070,-294 4070,-294 4070,-500 4070,-500 4070,-506 4064,-512 4058,-512 4058,-512 3836,-512 3836,-512 3830,-512 3824,-506 3824,-500 3824,-500 3824,-294 3824,-294 3824,-288 3830,-282 3836,-282"/>
<text text-anchor="middle" x="3947" y="-496.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCall</text>
<polyline fill="none" stroke="#1c2123" points="3824,-489 4070,-489 "/>
<text text-anchor="start" x="3832" y="-473.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">sender: ClientCStreamSender&lt;M&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-466 4070,-466 "/>
<text text-anchor="start" x="3832" y="-450.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">receiver: ClientCStreamReceiver&lt;Done&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-443 4070,-443 "/>
<text text-anchor="start" x="3832" y="-427.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">queue: Arc&lt;Queue&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-420 4070,-420 "/>
<text text-anchor="start" x="3832" y="-404.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">buffer: B,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-397 4070,-397 "/>
<text text-anchor="start" x="3832" y="-381.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">router: R,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-374 4070,-374 "/>
<text text-anchor="start" x="3832" y="-358.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">snap_scheduler: Scheduler&lt;SnapTask&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-351 4070,-351 "/>
<text text-anchor="start" x="3832" y="-335.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">lifetime: Option&lt;oneshot::Sender&lt;()&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-328 4070,-328 "/>
<text text-anchor="start" x="3832" y="-312.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">store_id: u64,</text>
<polyline fill="none" stroke="#1c2123" points="3824,-305 4070,-305 "/>
<text text-anchor="start" x="3832" y="-289.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">addr: String,</text>
</g>
<!-- RaftCall&#45;&gt;Queue -->
<g id="edge20" class="edge">
<title>RaftCall:queue&#45;&gt;Queue</title>
<path fill="none" stroke="#666666" d="M4070,-432C4126.79,-432 4079.09,-229.01 4106,-179 4113,-165.99 4122.69,-153.97 4133.32,-143.25"/>
<polygon fill="#666666" stroke="#666666" points="4136.03,-145.49 4140.8,-136.03 4131.17,-140.45 4136.03,-145.49"/>
</g>
<!-- StreamBackEnd -->
<g id="node28" class="node">
<title>StreamBackEnd</title>
<path fill="none" stroke="#1c2123" d="M1906,-576C1906,-576 2091,-576 2091,-576 2097,-576 2103,-582 2103,-588 2103,-588 2103,-656 2103,-656 2103,-662 2097,-668 2091,-668 2091,-668 1906,-668 1906,-668 1900,-668 1894,-662 1894,-656 1894,-656 1894,-588 1894,-588 1894,-582 1900,-576 1906,-576"/>
<text text-anchor="middle" x="1998.5" y="-652.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">StreamBackEnd</text>
<polyline fill="none" stroke="#1c2123" points="1894,-645 2103,-645 "/>
<text text-anchor="start" x="1902" y="-629.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">store_id: u64,</text>
<polyline fill="none" stroke="#1c2123" points="1894,-622 2103,-622 "/>
<text text-anchor="start" x="1902" y="-606.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">queue: Arc&lt;Queue&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="1894,-599 2103,-599 "/>
<text text-anchor="start" x="1902" y="-583.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">builder: ConnectionBuilder&lt;S, R&gt;,</text>
</g>
<!-- resolve -->
<g id="node29" class="node">
<title>resolve</title>
<path fill="none" stroke="#1c2123" d="M2268,-577.5C2268,-577.5 2405,-577.5 2405,-577.5 2411,-577.5 2417,-583.5 2417,-589.5 2417,-589.5 2417,-656.5 2417,-656.5 2417,-662.5 2411,-668.5 2405,-668.5 2405,-668.5 2268,-668.5 2268,-668.5 2262,-668.5 2256,-662.5 2256,-656.5 2256,-656.5 2256,-589.5 2256,-589.5 2256,-583.5 2262,-577.5 2268,-577.5"/>
<text text-anchor="middle" x="2336.5" y="-653.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">resolve</text>
<polyline fill="none" stroke="#1c2123" points="2256,-645.5 2417,-645.5 "/>
<text text-anchor="start" x="2264" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">调用resolver获取store_id</text>
<text text-anchor="start" x="2264" y="-615.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 对应的addr</text>
<text text-anchor="start" x="2264" y="-600.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 使用了oneshot channel</text>
<text text-anchor="start" x="2264" y="-585.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 来实现async</text>
</g>
<!-- resolve&#45;&gt;resolver_resolve -->
<g id="edge21" class="edge">
<title>resolve&#45;&gt;resolver_resolve</title>
<path fill="none" stroke="#666666" d="M2387.08,-668.7C2398.82,-681.48 2410.41,-696 2419,-711 2483,-822.74 2512.53,-976.47 2522.45,-1038.93"/>
<polygon fill="#666666" stroke="#666666" points="2518.99,-1039.48 2523.98,-1048.82 2525.91,-1038.41 2518.99,-1039.48"/>
</g>
<!-- oneshot_channel -->
<g id="node30" class="node">
<title>oneshot_channel</title>
<path fill="none" stroke="#1c2123" d="M2569,-603C2569,-603 2486,-603 2486,-603 2480,-603 2474,-597 2474,-591 2474,-591 2474,-579 2474,-579 2474,-573 2480,-567 2486,-567 2486,-567 2569,-567 2569,-567 2575,-567 2581,-573 2581,-579 2581,-579 2581,-591 2581,-591 2581,-597 2575,-603 2569,-603"/>
<text text-anchor="middle" x="2527.5" y="-581.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">oneshot_channel</text>
</g>
<!-- resolve&#45;&gt;oneshot_channel -->
<g id="edge22" class="edge">
<title>resolve&#45;&gt;oneshot_channel</title>
<path fill="none" stroke="#666666" d="M2417.11,-606.99C2432.68,-603.86 2448.81,-600.62 2463.74,-597.62"/>
<polygon fill="#666666" stroke="#666666" points="2464.75,-600.99 2473.86,-595.58 2463.37,-594.12 2464.75,-600.99"/>
</g>
<!-- back_end_connect -->
<g id="src/server/raft_client.rs#L567" class="node">
<title>back_end_connect</title>
<path fill="none" stroke="#1c2123" d="M2465,-622C2465,-622 2590,-622 2590,-622 2596,-622 2602,-628 2602,-634 2602,-634 2602,-656 2602,-656 2602,-662 2596,-668 2590,-668 2590,-668 2465,-668 2465,-668 2459,-668 2453,-662 2453,-656 2453,-656 2453,-634 2453,-634 2453,-628 2459,-622 2465,-622"/>
<text text-anchor="middle" x="2527.5" y="-652.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">connect</text>
<polyline fill="none" stroke="#1c2123" points="2453,-645 2602,-645 "/>
<text text-anchor="middle" x="2527.5" y="-629.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">connect to tikv endpoint</text>
</g>
<!-- resolve&#45;&gt;back_end_connect -->
<g id="edge34" class="edge">
<title>resolve&#45;&gt;back_end_connect</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M2417.11,-632.27C2425.59,-633.25 2434.24,-634.26 2442.77,-635.25"/>
<polygon fill="green" stroke="green" points="2442.37,-638.73 2452.71,-636.41 2443.18,-631.78 2442.37,-638.73"/>
</g>
<!-- back_end_call&#45;&gt;spawn -->
<g id="edge23" class="edge">
<title>back_end_call&#45;&gt;spawn</title>
<path fill="none" stroke="#666666" d="M3779.16,-573.51C3782.62,-570.82 3785.74,-567.67 3788,-564 3857.08,-451.87 3739.85,-376.45 3816,-269 3837.89,-238.11 3879.74,-222.74 3910.05,-215.36"/>
<polygon fill="#666666" stroke="#666666" points="3910.86,-218.76 3919.85,-213.15 3909.32,-211.93 3910.86,-218.76"/>
</g>
<!-- back_end_call&#45;&gt;RaftCall -->
<g id="edge24" class="edge">
<title>back_end_call&#45;&gt;RaftCall</title>
<path fill="none" stroke="#666666" d="M3779.13,-570.61C3782.2,-568.5 3785.23,-566.28 3788,-564 3804.59,-550.39 3821.18,-535.13 3837.04,-519.51"/>
<polygon fill="#666666" stroke="#666666" points="3839.65,-521.85 3844.27,-512.32 3834.71,-516.89 3839.65,-521.85"/>
</g>
<!-- back_end_batch_call&#45;&gt;spawn -->
<g id="edge25" class="edge">
<title>back_end_batch_call&#45;&gt;spawn</title>
<path fill="none" stroke="#666666" d="M3785.22,-622.84C3786.25,-621.63 3787.18,-620.35 3788,-619 3828.43,-552.27 3771.36,-332.99 3816,-269 3837.66,-237.95 3879.55,-222.61 3909.94,-215.28"/>
<polygon fill="#666666" stroke="#666666" points="3910.76,-218.68 3919.76,-213.09 3909.24,-211.85 3910.76,-218.68"/>
</g>
<!-- back_end_batch_call&#45;&gt;RaftCall -->
<g id="edge26" class="edge">
<title>back_end_batch_call&#45;&gt;RaftCall</title>
<path fill="none" stroke="#666666" d="M3784.37,-622.76C3785.65,-621.56 3786.88,-620.31 3788,-619 3808.26,-595.48 3799.76,-581.46 3816,-555 3823.1,-543.43 3830.98,-531.79 3839.25,-520.36"/>
<polygon fill="#666666" stroke="#666666" points="3842.23,-522.21 3845.33,-512.08 3836.59,-518.07 3842.23,-522.21"/>
</g>
<!-- batch_raft -->
<g id="node33" class="node">
<title>batch_raft</title>
<path fill="none" stroke="#1c2123" d="M3970.5,-659C3970.5,-659 3923.5,-659 3923.5,-659 3917.5,-659 3911.5,-653 3911.5,-647 3911.5,-647 3911.5,-635 3911.5,-635 3911.5,-629 3917.5,-623 3923.5,-623 3923.5,-623 3970.5,-623 3970.5,-623 3976.5,-623 3982.5,-629 3982.5,-635 3982.5,-635 3982.5,-647 3982.5,-647 3982.5,-653 3976.5,-659 3970.5,-659"/>
<text text-anchor="middle" x="3947" y="-637.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">batch_raft</text>
</g>
<!-- back_end_batch_call&#45;&gt;batch_raft -->
<g id="edge27" class="edge">
<title>back_end_batch_call&#45;&gt;batch_raft</title>
<path fill="none" stroke="#666666" d="M3788.4,-641C3820.16,-641 3866.91,-641 3901.25,-641"/>
<polygon fill="#666666" stroke="#666666" points="3901.47,-644.5 3911.47,-641 3901.47,-637.5 3901.47,-644.5"/>
</g>
<!-- back_end_connect&#45;&gt;Channel -->
<g id="edge35" class="edge">
<title>back_end_connect&#45;&gt;Channel</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M2592.89,-621.8C2596.31,-618.9 2599.41,-615.65 2602,-612 2643.48,-553.64 2582.05,-344.18 2630,-291 2719.76,-191.45 3096.1,-188.11 3228,-212 3236.89,-213.61 3245.99,-215.85 3254.99,-218.49"/>
<polygon fill="green" stroke="green" points="3254.12,-221.88 3264.71,-221.48 3256.18,-215.19 3254.12,-221.88"/>
</g>
<!-- back_end_connect&#45;&gt;ChannelBuilder_new -->
<g id="edge28" class="edge">
<title>back_end_connect&#45;&gt;ChannelBuilder_new</title>
<path fill="none" stroke="#666666" d="M2586.41,-621.88C2591.86,-618.86 2597.16,-615.56 2602,-612 2636.74,-586.44 2668.26,-547.49 2687.15,-521.65"/>
<polygon fill="#666666" stroke="#666666" points="2690.07,-523.59 2693.06,-513.42 2684.38,-519.5 2690.07,-523.59"/>
</g>
<!-- back_end_connect&#45;&gt;manager_connect -->
<g id="edge29" class="edge">
<title>back_end_connect&#45;&gt;manager_connect</title>
<path fill="none" stroke="#666666" d="M2592.35,-621.91C2595.95,-618.98 2599.23,-615.69 2602,-612 2656.12,-539.85 2585.27,-489.33 2630,-411 2638.17,-396.69 2651.22,-384.51 2664.19,-374.94"/>
<polygon fill="#666666" stroke="#666666" points="2666.46,-377.63 2672.65,-369.04 2662.45,-371.89 2666.46,-377.63"/>
</g>
<!-- back_end_connect&#45;&gt;TikvClient_new -->
<g id="edge30" class="edge">
<title>back_end_connect&#45;&gt;TikvClient_new</title>
<path fill="none" stroke="#666666" d="M2592.85,-621.77C2596.29,-618.88 2599.39,-615.64 2602,-612 2639.87,-559.22 2581.91,-364.68 2630,-321 2680.66,-274.98 2715.69,-316.75 2784,-321 2929,-330.03 3311.98,-427.01 3437,-353 3479.36,-327.92 3500.52,-271.18 3509.8,-236.88"/>
<polygon fill="#666666" stroke="#666666" points="3513.24,-237.58 3512.31,-227.02 3506.45,-235.85 3513.24,-237.58"/>
</g>
<!-- send -->
<g id="node35" class="node">
<title>send</title>
<path fill="none" stroke="#1c2123" d="M1419,-819.5C1419,-819.5 1577,-819.5 1577,-819.5 1583,-819.5 1589,-825.5 1589,-831.5 1589,-831.5 1589,-868.5 1589,-868.5 1589,-874.5 1583,-880.5 1577,-880.5 1577,-880.5 1419,-880.5 1419,-880.5 1413,-880.5 1407,-874.5 1407,-868.5 1407,-868.5 1407,-831.5 1407,-831.5 1407,-825.5 1413,-819.5 1419,-819.5"/>
<text text-anchor="middle" x="1498" y="-865.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
<polyline fill="none" stroke="#1c2123" points="1407,-857.5 1589,-857.5 "/>
<text text-anchor="start" x="1415" y="-842.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向queue中push msg</text>
<text text-anchor="start" x="1415" y="-827.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果full了调用 queue.notify</text>
</g>
<!-- send&#45;&gt;cache_get_mut -->
<g id="edge36" class="edge">
<title>send&#45;&gt;cache_get_mut</title>
<path fill="none" stroke="#666666" d="M1578.65,-819.34C1582.36,-816.48 1585.85,-813.38 1589,-810 1620.94,-775.76 1594.12,-746.19 1625,-711 1640.38,-693.47 1662.13,-680.33 1682.61,-670.88"/>
<polygon fill="#666666" stroke="#666666" points="1684.16,-674.02 1691.91,-666.79 1681.34,-667.61 1684.16,-674.02"/>
</g>
<!-- send&#45;&gt;cache_remove -->
<g id="edge37" class="edge">
<title>send&#45;&gt;cache_remove</title>
<path fill="none" stroke="#666666" d="M1580.09,-819.24C1583.34,-816.42 1586.34,-813.35 1589,-810 1641.41,-744.1 1566.62,-684.67 1625,-624 1640.15,-608.25 1662.6,-600.92 1683.68,-597.73"/>
<polygon fill="#666666" stroke="#666666" points="1684.38,-601.17 1693.88,-596.48 1683.53,-594.23 1684.38,-601.17"/>
</g>
<!-- send&#45;&gt;queue_push -->
<g id="edge38" class="edge">
<title>send&#45;&gt;queue_push</title>
<path fill="none" stroke="#666666" d="M1580.28,-819.38C1583.47,-816.52 1586.41,-813.4 1589,-810 1655.06,-723.07 1571.13,-661.96 1625,-567 1633.39,-552.22 2032.56,-231.15 2147.71,-138.7"/>
<polygon fill="#666666" stroke="#666666" points="2150.2,-141.19 2155.81,-132.2 2145.82,-135.73 2150.2,-141.19"/>
</g>
<!-- send&#45;&gt;notify -->
<g id="edge39" class="edge">
<title>send&#45;&gt;notify</title>
<path fill="none" stroke="#666666" d="M1580.81,-819.15C1583.82,-816.36 1586.58,-813.31 1589,-810 1675.51,-691.58 1561.87,-614.37 1625,-482 1664.02,-400.18 1864.14,-221.15 1953.88,-143.34"/>
<polygon fill="#666666" stroke="#666666" points="1956.42,-145.77 1961.69,-136.58 1951.84,-140.48 1956.42,-145.77"/>
</g>
<!-- dirty -->
<g id="node36" class="node">
<title>dirty</title>
<path fill="none" stroke="#1c2123" d="M1756.5,-759C1756.5,-759 1726.5,-759 1726.5,-759 1720.5,-759 1714.5,-753 1714.5,-747 1714.5,-747 1714.5,-735 1714.5,-735 1714.5,-729 1720.5,-723 1726.5,-723 1726.5,-723 1756.5,-723 1756.5,-723 1762.5,-723 1768.5,-729 1768.5,-735 1768.5,-735 1768.5,-747 1768.5,-747 1768.5,-753 1762.5,-759 1756.5,-759"/>
<text text-anchor="middle" x="1741.5" y="-737.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">dirty</text>
</g>
<!-- send&#45;&gt;dirty -->
<g id="edge40" class="edge">
<title>send&#45;&gt;dirty</title>
<path fill="none" stroke="#666666" d="M1574.6,-819.5C1579.62,-816.54 1584.47,-813.37 1589,-810 1608.72,-795.31 1603.99,-780.76 1625,-768 1649.07,-753.38 1680.39,-746.67 1704.34,-743.6"/>
<polygon fill="#666666" stroke="#666666" points="1704.89,-747.06 1714.44,-742.46 1704.11,-740.1 1704.89,-747.06"/>
</g>
<!-- load_stream -->
<g id="node37" class="node">
<title>load_stream</title>
<path fill="none" stroke="#1c2123" d="M1637,-832C1637,-832 1846,-832 1846,-832 1852,-832 1858,-838 1858,-844 1858,-844 1858,-904 1858,-904 1858,-910 1852,-916 1846,-916 1846,-916 1637,-916 1637,-916 1631,-916 1625,-910 1625,-904 1625,-904 1625,-844 1625,-844 1625,-838 1631,-832 1637,-832"/>
<text text-anchor="middle" x="1741.5" y="-900.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">load_stream</text>
<polyline fill="none" stroke="#1c2123" points="1625,-893 1858,-893 "/>
<text text-anchor="start" x="1633" y="-877.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">loads connection from pool</text>
<polyline fill="none" stroke="#1c2123" points="1625,-870 1858,-870 "/>
<text text-anchor="start" x="1633" y="-854.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果Pool中不存在，就创建一个</text>
<text text-anchor="start" x="1633" y="-839.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并插入pool中,key为store_id, conn_id</text>
</g>
<!-- send&#45;&gt;load_stream -->
<g id="edge41" class="edge">
<title>send&#45;&gt;load_stream</title>
<path fill="none" stroke="#666666" d="M1589.27,-858.97C1597.65,-859.8 1606.23,-860.66 1614.85,-861.51"/>
<polygon fill="#666666" stroke="#666666" points="1614.68,-865.01 1624.98,-862.52 1615.37,-858.05 1614.68,-865.01"/>
</g>
<!-- full_stores_push -->
<g id="node38" class="node">
<title>full_stores_push</title>
<path fill="none" stroke="#1c2123" d="M1782.5,-971C1782.5,-971 1700.5,-971 1700.5,-971 1694.5,-971 1688.5,-965 1688.5,-959 1688.5,-959 1688.5,-947 1688.5,-947 1688.5,-941 1694.5,-935 1700.5,-935 1700.5,-935 1782.5,-935 1782.5,-935 1788.5,-935 1794.5,-941 1794.5,-947 1794.5,-947 1794.5,-959 1794.5,-959 1794.5,-965 1788.5,-971 1782.5,-971"/>
<text text-anchor="middle" x="1741.5" y="-949.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">full_stores_push</text>
</g>
<!-- send&#45;&gt;full_stores_push -->
<g id="edge42" class="edge">
<title>send&#45;&gt;full_stores_push</title>
<path fill="none" stroke="#666666" d="M1542.12,-880.64C1565.67,-896.16 1595.89,-914.16 1625,-926 1641.74,-932.81 1660.58,-938.12 1678.11,-942.17"/>
<polygon fill="#666666" stroke="#666666" points="1677.74,-945.67 1688.26,-944.4 1679.25,-938.83 1677.74,-945.67"/>
</g>
<!-- need_flush -->
<g id="node39" class="node">
<title>need_flush</title>
<path fill="none" stroke="#1c2123" d="M1767,-813C1767,-813 1716,-813 1716,-813 1710,-813 1704,-807 1704,-801 1704,-801 1704,-789 1704,-789 1704,-783 1710,-777 1716,-777 1716,-777 1767,-777 1767,-777 1773,-777 1779,-783 1779,-789 1779,-789 1779,-801 1779,-801 1779,-807 1773,-813 1767,-813"/>
<text text-anchor="middle" x="1741.5" y="-791.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">need_flush</text>
</g>
<!-- send&#45;&gt;need_flush -->
<g id="edge43" class="edge">
<title>send&#45;&gt;need_flush</title>
<path fill="none" stroke="#666666" d="M1589.27,-829.44C1624.86,-821.34 1664.24,-812.37 1693.88,-805.62"/>
<polygon fill="#666666" stroke="#666666" points="1694.97,-808.96 1703.94,-803.33 1693.42,-802.13 1694.97,-808.96"/>
</g>
<!-- load_stream&#45;&gt;StreamBackEnd -->
<g id="edge47" class="edge">
<title>load_stream&#45;&gt;StreamBackEnd</title>
<path fill="none" stroke="#666666" d="M1848.3,-831.94C1851.78,-828.85 1855.03,-825.54 1858,-822 1890.68,-783 1858.45,-753.78 1886,-711 1894.55,-697.72 1905.76,-685.54 1917.77,-674.72"/>
<polygon fill="#666666" stroke="#666666" points="1920.07,-677.36 1925.34,-668.17 1915.49,-672.07 1920.07,-677.36"/>
</g>
<!-- pool_lock -->
<g id="node41" class="node">
<title>pool_lock</title>
<path fill="none" stroke="#1c2123" d="M2022,-759C2022,-759 1975,-759 1975,-759 1969,-759 1963,-753 1963,-747 1963,-747 1963,-735 1963,-735 1963,-729 1969,-723 1975,-723 1975,-723 2022,-723 2022,-723 2028,-723 2034,-729 2034,-735 2034,-735 2034,-747 2034,-747 2034,-753 2028,-759 2022,-759"/>
<text text-anchor="middle" x="1998.5" y="-737.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pool_lock</text>
</g>
<!-- load_stream&#45;&gt;pool_lock -->
<g id="edge48" class="edge">
<title>load_stream&#45;&gt;pool_lock</title>
<path fill="none" stroke="#666666" d="M1846.24,-831.82C1850.38,-828.75 1854.33,-825.48 1858,-822 1877.64,-803.42 1864.73,-784.68 1886,-768 1904.87,-753.2 1930.67,-746.35 1952.69,-743.24"/>
<polygon fill="#666666" stroke="#666666" points="1953.31,-746.69 1962.83,-742.03 1952.48,-739.74 1953.31,-746.69"/>
</g>
<!-- tombstone_stores_contains -->
<g id="node42" class="node">
<title>tombstone_stores_contains</title>
<path fill="none" stroke="#1c2123" d="M2068.5,-813C2068.5,-813 1928.5,-813 1928.5,-813 1922.5,-813 1916.5,-807 1916.5,-801 1916.5,-801 1916.5,-789 1916.5,-789 1916.5,-783 1922.5,-777 1928.5,-777 1928.5,-777 2068.5,-777 2068.5,-777 2074.5,-777 2080.5,-783 2080.5,-789 2080.5,-789 2080.5,-801 2080.5,-801 2080.5,-807 2074.5,-813 2068.5,-813"/>
<text text-anchor="middle" x="1998.5" y="-791.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">tombstone_stores_contains</text>
</g>
<!-- load_stream&#45;&gt;tombstone_stores_contains -->
<g id="edge49" class="edge">
<title>load_stream&#45;&gt;tombstone_stores_contains</title>
<path fill="none" stroke="#666666" d="M1854.91,-831.94C1865.37,-828.43 1875.85,-825.06 1886,-822 1893.31,-819.8 1900.93,-817.65 1908.6,-815.59"/>
<polygon fill="#666666" stroke="#666666" points="1909.55,-818.96 1918.33,-813.03 1907.76,-812.19 1909.55,-818.96"/>
</g>
<!-- drop_pool -->
<g id="node43" class="node">
<title>drop_pool</title>
<path fill="none" stroke="#1c2123" d="M2022.5,-867C2022.5,-867 1974.5,-867 1974.5,-867 1968.5,-867 1962.5,-861 1962.5,-855 1962.5,-855 1962.5,-843 1962.5,-843 1962.5,-837 1968.5,-831 1974.5,-831 1974.5,-831 2022.5,-831 2022.5,-831 2028.5,-831 2034.5,-837 2034.5,-843 2034.5,-843 2034.5,-855 2034.5,-855 2034.5,-861 2028.5,-867 2022.5,-867"/>
<text text-anchor="middle" x="1998.5" y="-845.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">drop_pool</text>
</g>
<!-- load_stream&#45;&gt;drop_pool -->
<g id="edge50" class="edge">
<title>load_stream&#45;&gt;drop_pool</title>
<path fill="none" stroke="#666666" d="M1858.06,-862.67C1891.45,-859.4 1925.94,-856.02 1952.26,-853.43"/>
<polygon fill="#666666" stroke="#666666" points="1952.68,-856.91 1962.29,-852.45 1952,-849.94 1952.68,-856.91"/>
</g>
<!-- cache_resize -->
<g id="node44" class="node">
<title>cache_resize</title>
<path fill="none" stroke="#1c2123" d="M2029.5,-921C2029.5,-921 1967.5,-921 1967.5,-921 1961.5,-921 1955.5,-915 1955.5,-909 1955.5,-909 1955.5,-897 1955.5,-897 1955.5,-891 1961.5,-885 1967.5,-885 1967.5,-885 2029.5,-885 2029.5,-885 2035.5,-885 2041.5,-891 2041.5,-897 2041.5,-897 2041.5,-909 2041.5,-909 2041.5,-915 2035.5,-921 2029.5,-921"/>
<text text-anchor="middle" x="1998.5" y="-899.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">cache_resize</text>
</g>
<!-- load_stream&#45;&gt;cache_resize -->
<g id="edge51" class="edge">
<title>load_stream&#45;&gt;cache_resize</title>
<path fill="none" stroke="#666666" d="M1858.06,-887.14C1888.52,-890.61 1919.9,-894.17 1945.16,-897.05"/>
<polygon fill="#666666" stroke="#666666" points="1944.9,-900.54 1955.23,-898.19 1945.69,-893.59 1944.9,-900.54"/>
</g>
<!-- start -->
<g id="node45" class="node">
<title>start</title>
<path fill="none" stroke="#1c2123" d="M2194.5,-922C2194.5,-922 2164.5,-922 2164.5,-922 2158.5,-922 2152.5,-916 2152.5,-910 2152.5,-910 2152.5,-898 2152.5,-898 2152.5,-892 2158.5,-886 2164.5,-886 2164.5,-886 2194.5,-886 2194.5,-886 2200.5,-886 2206.5,-892 2206.5,-898 2206.5,-898 2206.5,-910 2206.5,-910 2206.5,-916 2200.5,-922 2194.5,-922"/>
<text text-anchor="middle" x="2179.5" y="-900.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">start</text>
</g>
<!-- load_stream&#45;&gt;start -->
<g id="edge52" class="edge">
<title>load_stream&#45;&gt;start</title>
<path fill="none" stroke="#666666" d="M1835.58,-916.04C1852.07,-921.83 1869.31,-926.86 1886,-930 1980.78,-947.84 2007.88,-945.92 2103,-930 2116.27,-927.78 2130.33,-923.51 2142.67,-919.05"/>
<polygon fill="#666666" stroke="#666666" points="2144.03,-922.28 2152.16,-915.48 2141.57,-915.73 2144.03,-922.28"/>
</g>
<!-- future_pool_spawn_start -->
<g id="node46" class="node">
<title>future_pool_spawn_start</title>
<path fill="none" stroke="#1c2123" d="M2062,-995C2062,-995 1935,-995 1935,-995 1929,-995 1923,-989 1923,-983 1923,-983 1923,-971 1923,-971 1923,-965 1929,-959 1935,-959 1935,-959 2062,-959 2062,-959 2068,-959 2074,-965 2074,-971 2074,-971 2074,-983 2074,-983 2074,-989 2068,-995 2062,-995"/>
<text text-anchor="middle" x="1998.5" y="-973.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">future_pool_spawn_start</text>
</g>
<!-- load_stream&#45;&gt;future_pool_spawn_start -->
<g id="edge53" class="edge">
<title>load_stream&#45;&gt;future_pool_spawn_start</title>
<path fill="none" stroke="#666666" d="M1839.23,-916.04C1845.65,-919.29 1851.95,-922.62 1858,-926 1871.13,-933.34 1872.38,-938.62 1886,-945 1894.6,-949.02 1903.81,-952.65 1913.11,-955.89"/>
<polygon fill="#666666" stroke="#666666" points="1912.23,-959.29 1922.82,-959.13 1914.44,-952.65 1912.23,-959.29"/>
</g>
<!-- need_flush&#45;&gt;notify -->
<g id="edge46" class="edge">
<title>need_flush&#45;&gt;notify</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1779.14,-796.6C1804.98,-795.61 1838.37,-789.67 1858,-768 1890.05,-732.61 1877.12,-601.91 1886,-555 1914.8,-402.81 1963.48,-225.13 1985.75,-146.71"/>
<polygon fill="green" stroke="green" points="1989.21,-147.34 1988.58,-136.76 1982.48,-145.42 1989.21,-147.34"/>
</g>
<!-- flush -->
<g id="node40" class="node">
<title>flush</title>
<path fill="none" stroke="#1c2123" d="M1451,-724C1451,-724 1545,-724 1545,-724 1551,-724 1557,-730 1557,-736 1557,-736 1557,-788 1557,-788 1557,-794 1551,-800 1545,-800 1545,-800 1451,-800 1451,-800 1445,-800 1439,-794 1439,-788 1439,-788 1439,-736 1439,-736 1439,-730 1445,-724 1451,-724"/>
<text text-anchor="middle" x="1498" y="-784.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">flush</text>
<polyline fill="none" stroke="#1c2123" points="1439,-777 1557,-777 "/>
<text text-anchor="start" x="1447" y="-761.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">遍历need_flush的</text>
<text text-anchor="start" x="1447" y="-746.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> store_id,conn_id</text>
<text text-anchor="start" x="1447" y="-731.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送queue.notify</text>
</g>
<!-- flush&#45;&gt;notify -->
<g id="edge44" class="edge">
<title>flush&#45;&gt;notify</title>
<path fill="none" stroke="#666666" d="M1504.23,-723.93C1519.14,-620.16 1564.74,-335.42 1625,-265 1703.42,-173.36 1843.98,-133.14 1928.21,-116.58"/>
<polygon fill="#666666" stroke="#666666" points="1929.02,-119.99 1938.19,-114.67 1927.71,-113.11 1929.02,-119.99"/>
</g>
<!-- flush&#45;&gt;need_flush -->
<g id="edge45" class="edge">
<title>flush&#45;&gt;need_flush</title>
<path fill="none" stroke="#666666" d="M1557.15,-769.95C1599.05,-775.67 1654.84,-783.29 1693.83,-788.62"/>
<polygon fill="#666666" stroke="#666666" points="1693.48,-792.11 1703.86,-789.99 1694.43,-785.17 1693.48,-792.11"/>
</g>
<!-- start&#45;&gt;resolve -->
<g id="edge55" class="edge">
<title>start&#45;&gt;resolve</title>
<path fill="none" stroke="#666666" d="M2206.83,-893.57C2211.84,-890.52 2216.58,-886.7 2220,-882 2268.51,-815.32 2216.59,-772.43 2256,-700 2260.45,-691.82 2266.07,-683.98 2272.25,-676.64"/>
<polygon fill="#666666" stroke="#666666" points="2275.12,-678.68 2279.14,-668.88 2269.88,-674.03 2275.12,-678.68"/>
</g>
<!-- start&#45;&gt;back_end_call -->
<g id="edge56" class="edge">
<title>start&#45;&gt;back_end_call</title>
<path fill="none" stroke="#666666" d="M2199.58,-922.24C2213.89,-934.7 2234.62,-950.3 2256,-958 2369.4,-998.82 2405.98,-977 2526.5,-977 2526.5,-977 2526.5,-977 3518,-977 3590.27,-977 3626.41,-1011.49 3680,-963 3731.65,-916.27 3746.3,-694.23 3749.93,-614.55"/>
<polygon fill="#666666" stroke="#666666" points="3753.44,-614.42 3750.37,-604.28 3746.44,-614.12 3753.44,-614.42"/>
</g>
<!-- start&#45;&gt;back_end_batch_call -->
<g id="edge57" class="edge">
<title>start&#45;&gt;back_end_batch_call</title>
<path fill="none" stroke="#666666" d="M2194.52,-922.19C2231.02,-967.83 2334.44,-1086.41 2453,-1127 2559.34,-1163.4 2593.11,-1141 2705.5,-1141 2705.5,-1141 2705.5,-1141 3518,-1141 3590.27,-1141 3627.42,-1176.58 3680,-1127 3746.77,-1064.05 3751.45,-763.43 3751.25,-669.27"/>
<polygon fill="#666666" stroke="#666666" points="3754.75,-669.06 3751.21,-659.08 3747.75,-669.09 3754.75,-669.06"/>
</g>
<!-- start&#45;&gt;back_end_connect -->
<g id="edge58" class="edge">
<title>start&#45;&gt;back_end_connect</title>
<path fill="none" stroke="#666666" d="M2206.63,-893.43C2211.65,-890.38 2216.45,-886.6 2220,-882 2259.25,-831.13 2212.72,-789.48 2256,-742 2269.23,-727.49 2368.48,-694.14 2442.96,-670.61"/>
<polygon fill="#666666" stroke="#666666" points="2444.34,-673.85 2452.83,-667.51 2442.24,-667.17 2444.34,-673.85"/>
</g>
<!-- maybe_backoff -->
<g id="node47" class="node">
<title>maybe_backoff</title>
<path fill="none" stroke="#1c2123" d="M2375,-949C2375,-949 2298,-949 2298,-949 2292,-949 2286,-943 2286,-937 2286,-937 2286,-925 2286,-925 2286,-919 2292,-913 2298,-913 2298,-913 2375,-913 2375,-913 2381,-913 2387,-919 2387,-925 2387,-925 2387,-937 2387,-937 2387,-943 2381,-949 2375,-949"/>
<text text-anchor="middle" x="2336.5" y="-927.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">maybe_backoff</text>
</g>
<!-- start&#45;&gt;maybe_backoff -->
<g id="edge59" class="edge">
<title>start&#45;&gt;maybe_backoff</title>
<path fill="none" stroke="#666666" d="M2206.79,-908.58C2225.69,-911.87 2251.93,-916.44 2275.79,-920.6"/>
<polygon fill="#666666" stroke="#666666" points="2275.4,-924.08 2285.85,-922.35 2276.6,-917.19 2275.4,-924.08"/>
</g>
<!-- clear_pending_message -->
<g id="node48" class="node">
<title>clear_pending_message</title>
<path fill="none" stroke="#1c2123" d="M2397.5,-787C2397.5,-787 2275.5,-787 2275.5,-787 2269.5,-787 2263.5,-781 2263.5,-775 2263.5,-775 2263.5,-763 2263.5,-763 2263.5,-757 2269.5,-751 2275.5,-751 2275.5,-751 2397.5,-751 2397.5,-751 2403.5,-751 2409.5,-757 2409.5,-763 2409.5,-763 2409.5,-775 2409.5,-775 2409.5,-781 2403.5,-787 2397.5,-787"/>
<text text-anchor="middle" x="2336.5" y="-765.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">clear_pending_message</text>
</g>
<!-- start&#45;&gt;clear_pending_message -->
<g id="edge60" class="edge">
<title>start&#45;&gt;clear_pending_message</title>
<path fill="none" stroke="#666666" d="M2206.55,-892.77C2211.46,-889.8 2216.23,-886.21 2220,-882 2247.62,-851.11 2225.71,-824.27 2256,-796 2257.13,-794.94 2258.31,-793.93 2259.52,-792.95"/>
<polygon fill="#666666" stroke="#666666" points="2261.78,-795.64 2268.01,-787.07 2257.8,-789.89 2261.78,-795.64"/>
</g>
<!-- tombstone_stores_insert -->
<g id="node49" class="node">
<title>tombstone_stores_insert</title>
<path fill="none" stroke="#1c2123" d="M2399,-841C2399,-841 2274,-841 2274,-841 2268,-841 2262,-835 2262,-829 2262,-829 2262,-817 2262,-817 2262,-811 2268,-805 2274,-805 2274,-805 2399,-805 2399,-805 2405,-805 2411,-811 2411,-817 2411,-817 2411,-829 2411,-829 2411,-835 2405,-841 2399,-841"/>
<text text-anchor="middle" x="2336.5" y="-819.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">tombstone_stores_insert</text>
</g>
<!-- start&#45;&gt;tombstone_stores_insert -->
<g id="edge61" class="edge">
<title>start&#45;&gt;tombstone_stores_insert</title>
<path fill="none" stroke="#666666" d="M2206.92,-890.35C2211.39,-887.74 2215.9,-884.91 2220,-882 2237.46,-869.61 2237.5,-860.77 2256,-850 2258.83,-848.35 2261.79,-846.78 2264.81,-845.29"/>
<polygon fill="#666666" stroke="#666666" points="2266.42,-848.41 2274.06,-841.07 2263.51,-842.04 2266.42,-848.41"/>
</g>
<!-- broadcast_unreachable -->
<g id="node50" class="node">
<title>broadcast_unreachable</title>
<path fill="none" stroke="#1c2123" d="M2394.5,-895C2394.5,-895 2278.5,-895 2278.5,-895 2272.5,-895 2266.5,-889 2266.5,-883 2266.5,-883 2266.5,-871 2266.5,-871 2266.5,-865 2272.5,-859 2278.5,-859 2278.5,-859 2394.5,-859 2394.5,-859 2400.5,-859 2406.5,-865 2406.5,-871 2406.5,-871 2406.5,-883 2406.5,-883 2406.5,-889 2400.5,-895 2394.5,-895"/>
<text text-anchor="middle" x="2336.5" y="-873.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">broadcast_unreachable</text>
</g>
<!-- start&#45;&gt;broadcast_unreachable -->
<g id="edge62" class="edge">
<title>start&#45;&gt;broadcast_unreachable</title>
<path fill="none" stroke="#666666" d="M2206.79,-899.42C2220.64,-897.01 2238.43,-893.91 2256.35,-890.79"/>
<polygon fill="#666666" stroke="#666666" points="2257.03,-894.22 2266.28,-889.06 2255.83,-887.33 2257.03,-894.22"/>
</g>
<!-- future_pool_spawn_start&#45;&gt;start -->
<g id="edge54" class="edge">
<title>future_pool_spawn_start&#45;&gt;start</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M2064.8,-958.96C2077.63,-954.82 2090.87,-950.11 2103,-945 2116.61,-939.27 2130.98,-931.84 2143.49,-924.88"/>
<polygon fill="green" stroke="green" points="2145.25,-927.91 2152.23,-919.93 2141.8,-921.82 2145.25,-927.91"/>
</g>
<!-- ServerTransport_send -->
<g id="node51" class="node">
<title>ServerTransport_send</title>
<path fill="none" stroke="#1c2123" d="M1359,-823C1359,-823 1247,-823 1247,-823 1241,-823 1235,-817 1235,-811 1235,-811 1235,-799 1235,-799 1235,-793 1241,-787 1247,-787 1247,-787 1359,-787 1359,-787 1365,-787 1371,-793 1371,-799 1371,-799 1371,-811 1371,-811 1371,-817 1365,-823 1359,-823"/>
<text text-anchor="middle" x="1303" y="-801.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport_send</text>
</g>
<!-- ServerTransport_send&#45;&gt;send -->
<g id="edge63" class="edge">
<title>ServerTransport_send&#45;&gt;send</title>
<path fill="none" stroke="#666666" d="M1371.23,-820.68C1379.61,-822.63 1388.31,-824.66 1397.05,-826.7"/>
<polygon fill="#666666" stroke="#666666" points="1396.39,-830.14 1406.92,-829 1397.98,-823.32 1396.39,-830.14"/>
</g>
<!-- ServerTransport_flush -->
<g id="node52" class="node">
<title>ServerTransport_flush</title>
<path fill="none" stroke="#1c2123" d="M696.5,-769C696.5,-769 583.5,-769 583.5,-769 577.5,-769 571.5,-763 571.5,-757 571.5,-757 571.5,-745 571.5,-745 571.5,-739 577.5,-733 583.5,-733 583.5,-733 696.5,-733 696.5,-733 702.5,-733 708.5,-739 708.5,-745 708.5,-745 708.5,-757 708.5,-757 708.5,-763 702.5,-769 696.5,-769"/>
<text text-anchor="middle" x="640" y="-747.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport_flush</text>
</g>
<!-- ServerTransport_flush&#45;&gt;flush -->
<g id="edge64" class="edge">
<title>ServerTransport_flush&#45;&gt;flush</title>
<path fill="none" stroke="#666666" d="M708.77,-752.21C780.58,-753.39 897.28,-755 998,-755 998,-755 998,-755 1136,-755 1237.87,-755 1355.88,-757.82 1428.48,-759.88"/>
<polygon fill="#666666" stroke="#666666" points="1428.76,-763.39 1438.86,-760.18 1428.96,-756.39 1428.76,-763.39"/>
</g>
<!-- ServerTransport_need_flush -->
<g id="node53" class="node">
<title>ServerTransport_need_flush</title>
<path fill="none" stroke="#1c2123" d="M713,-823C713,-823 567,-823 567,-823 561,-823 555,-817 555,-811 555,-811 555,-799 555,-799 555,-793 561,-787 567,-787 567,-787 713,-787 713,-787 719,-787 725,-793 725,-799 725,-799 725,-811 725,-811 725,-817 719,-823 713,-823"/>
<text text-anchor="middle" x="640" y="-801.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport_need_flush</text>
</g>
<!-- ServerTransport_need_flush&#45;&gt;need_flush -->
<g id="edge65" class="edge">
<title>ServerTransport_need_flush&#45;&gt;need_flush</title>
<path fill="none" stroke="#666666" d="M677.94,-823C694.82,-833.07 713.57,-847.21 725,-865 760.25,-919.85 703.89,-966.11 753,-1009 835.15,-1080.75 888.93,-1023 998,-1023 998,-1023 998,-1023 1304,-1023 1443.78,-1023 1487.41,-986.01 1589,-890 1613.57,-866.78 1598.25,-843.67 1625,-823 1644.54,-807.9 1671.05,-800.8 1693.75,-797.52"/>
<polygon fill="#666666" stroke="#666666" points="1694.37,-800.97 1703.87,-796.27 1693.51,-794.02 1694.37,-800.97"/>
</g>
<!-- Peer_send -->
<g id="node54" class="node">
<title>Peer_send</title>
<path fill="none" stroke="#1c2123" d="M1023,-967C1023,-967 975,-967 975,-967 969,-967 963,-961 963,-955 963,-955 963,-943 963,-943 963,-937 969,-931 975,-931 975,-931 1023,-931 1023,-931 1029,-931 1035,-937 1035,-943 1035,-943 1035,-955 1035,-955 1035,-961 1029,-967 1023,-967"/>
<text text-anchor="middle" x="999" y="-945.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer_send</text>
</g>
<!-- send_raft_message -->
<g id="node55" class="node">
<title>send_raft_message</title>
<path fill="none" stroke="#1c2123" d="M1183,-967C1183,-967 1087,-967 1087,-967 1081,-967 1075,-961 1075,-955 1075,-955 1075,-943 1075,-943 1075,-937 1081,-931 1087,-931 1087,-931 1183,-931 1183,-931 1189,-931 1195,-937 1195,-943 1195,-943 1195,-955 1195,-955 1195,-961 1189,-967 1183,-967"/>
<text text-anchor="middle" x="1135" y="-945.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send_raft_message</text>
</g>
<!-- Peer_send&#45;&gt;send_raft_message -->
<g id="edge66" class="edge">
<title>Peer_send&#45;&gt;send_raft_message</title>
<path fill="none" stroke="#666666" d="M1035.21,-949C1044.34,-949 1054.49,-949 1064.72,-949"/>
<polygon fill="#666666" stroke="#666666" points="1064.94,-952.5 1074.94,-949 1064.94,-945.5 1064.94,-952.5"/>
</g>
<!-- send_raft_message&#45;&gt;ServerTransport_send -->
<g id="edge69" class="edge">
<title>send_raft_message&#45;&gt;ServerTransport_send</title>
<path fill="none" stroke="#666666" d="M1195.07,-933.86C1199.26,-931.85 1203.28,-929.57 1207,-927 1242.91,-902.18 1271.53,-859.66 1287.63,-831.95"/>
<polygon fill="#666666" stroke="#666666" points="1290.73,-833.59 1292.61,-823.16 1284.63,-830.14 1290.73,-833.59"/>
</g>
<!-- handle_raft_ready_advance -->
<g id="node56" class="node">
<title>handle_raft_ready_advance</title>
<path fill="none" stroke="#1c2123" d="M915,-913C915,-913 773,-913 773,-913 767,-913 761,-907 761,-901 761,-901 761,-889 761,-889 761,-883 767,-877 773,-877 773,-877 915,-877 915,-877 921,-877 927,-883 927,-889 927,-889 927,-901 927,-901 927,-907 921,-913 915,-913"/>
<text text-anchor="middle" x="844" y="-891.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_advance</text>
</g>
<!-- handle_raft_ready_advance&#45;&gt;Peer_send -->
<g id="edge67" class="edge">
<title>handle_raft_ready_advance&#45;&gt;Peer_send</title>
<path fill="none" stroke="#666666" d="M896.37,-913.13C914.83,-919.65 935.49,-926.94 953.33,-933.23"/>
<polygon fill="#666666" stroke="#666666" points="952.32,-936.59 962.92,-936.62 954.65,-929.99 952.32,-936.59"/>
</g>
<!-- handle_raft_ready_append -->
<g id="node57" class="node">
<title>handle_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M912.5,-967C912.5,-967 775.5,-967 775.5,-967 769.5,-967 763.5,-961 763.5,-955 763.5,-955 763.5,-943 763.5,-943 763.5,-937 769.5,-931 775.5,-931 775.5,-931 912.5,-931 912.5,-931 918.5,-931 924.5,-937 924.5,-943 924.5,-943 924.5,-955 924.5,-955 924.5,-961 918.5,-967 912.5,-967"/>
<text text-anchor="middle" x="844" y="-945.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_append</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;Peer_send -->
<g id="edge68" class="edge">
<title>handle_raft_ready_append&#45;&gt;Peer_send</title>
<path fill="none" stroke="#666666" d="M924.64,-949C934.24,-949 943.78,-949 952.64,-949"/>
<polygon fill="#666666" stroke="#666666" points="952.7,-952.5 962.7,-949 952.7,-945.5 952.7,-952.5"/>
</g>
<!-- send_extra_message -->
<g id="node58" class="node">
<title>send_extra_message</title>
<path fill="none" stroke="#1c2123" d="M1187,-913C1187,-913 1083,-913 1083,-913 1077,-913 1071,-907 1071,-901 1071,-901 1071,-889 1071,-889 1071,-883 1077,-877 1083,-877 1083,-877 1187,-877 1187,-877 1193,-877 1199,-883 1199,-889 1199,-889 1199,-901 1199,-901 1199,-907 1193,-913 1187,-913"/>
<text text-anchor="middle" x="1135" y="-891.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send_extra_message</text>
</g>
<!-- send_extra_message&#45;&gt;ServerTransport_send -->
<g id="edge70" class="edge">
<title>send_extra_message&#45;&gt;ServerTransport_send</title>
<path fill="none" stroke="#666666" d="M1198.41,-876.94C1201.35,-875.69 1204.23,-874.38 1207,-873 1230.79,-861.19 1255.1,-843.67 1273.17,-829.37"/>
<polygon fill="#666666" stroke="#666666" points="1275.41,-832.06 1281.01,-823.06 1271.02,-826.6 1275.41,-832.06"/>
</g>
<!-- post_raft_ready_append -->
<g id="node59" class="node">
<title>post_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M701.5,-913C701.5,-913 578.5,-913 578.5,-913 572.5,-913 566.5,-907 566.5,-901 566.5,-901 566.5,-889 566.5,-889 566.5,-883 572.5,-877 578.5,-877 578.5,-877 701.5,-877 701.5,-877 707.5,-877 713.5,-883 713.5,-889 713.5,-889 713.5,-901 713.5,-901 713.5,-907 707.5,-913 701.5,-913"/>
<text text-anchor="middle" x="640" y="-891.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_raft_ready_append</text>
</g>
<!-- post_raft_ready_append&#45;&gt;handle_raft_ready_advance -->
<g id="edge71" class="edge">
<title>post_raft_ready_append&#45;&gt;handle_raft_ready_advance</title>
<path fill="none" stroke="#666666" d="M713.64,-895C725.57,-895 738.07,-895 750.41,-895"/>
<polygon fill="#666666" stroke="#666666" points="750.72,-898.5 760.72,-895 750.72,-891.5 750.72,-898.5"/>
</g>
<!-- collect_ready -->
<g id="node60" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M494,-913C494,-913 429,-913 429,-913 423,-913 417,-907 417,-901 417,-901 417,-889 417,-889 417,-883 423,-877 429,-877 429,-877 494,-877 494,-877 500,-877 506,-883 506,-889 506,-889 506,-901 506,-901 506,-907 500,-913 494,-913"/>
<text text-anchor="middle" x="461.5" y="-891.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- collect_ready&#45;&gt;handle_raft_ready_append -->
<g id="edge72" class="edge">
<title>collect_ready&#45;&gt;handle_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M506.31,-911C519.26,-915.18 533.57,-919.28 547,-922 615.48,-935.89 694.34,-942.64 753.43,-945.92"/>
<polygon fill="#666666" stroke="#666666" points="753.31,-949.42 763.48,-946.45 753.68,-942.43 753.31,-949.42"/>
</g>
<!-- end -->
<g id="node61" class="node">
<title>end</title>
<path fill="none" stroke="#1c2123" d="M308.5,-769C308.5,-769 278.5,-769 278.5,-769 272.5,-769 266.5,-763 266.5,-757 266.5,-757 266.5,-745 266.5,-745 266.5,-739 272.5,-733 278.5,-733 278.5,-733 308.5,-733 308.5,-733 314.5,-733 320.5,-739 320.5,-745 320.5,-745 320.5,-757 320.5,-757 320.5,-763 314.5,-769 308.5,-769"/>
<text text-anchor="middle" x="293.5" y="-747.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">end</text>
</g>
<!-- handle_raft_ready -->
<g id="node62" class="node">
<title>handle_raft_ready</title>
<path fill="none" stroke="#1c2123" d="M507,-823C507,-823 416,-823 416,-823 410,-823 404,-817 404,-811 404,-811 404,-799 404,-799 404,-793 410,-787 416,-787 416,-787 507,-787 507,-787 513,-787 519,-793 519,-799 519,-799 519,-811 519,-811 519,-817 513,-823 507,-823"/>
<text text-anchor="middle" x="461.5" y="-801.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready</text>
</g>
<!-- end&#45;&gt;handle_raft_ready -->
<g id="edge73" class="edge">
<title>end&#45;&gt;handle_raft_ready</title>
<path fill="none" stroke="#666666" d="M320.8,-759.56C340.83,-766.07 369.28,-775.33 395.29,-783.79"/>
<polygon fill="#666666" stroke="#666666" points="394.52,-787.22 405.12,-786.98 396.69,-780.56 394.52,-787.22"/>
</g>
<!-- handle_raft_ready&#45;&gt;ServerTransport_flush -->
<g id="edge74" class="edge">
<title>handle_raft_ready&#45;&gt;ServerTransport_flush</title>
<path fill="none" stroke="#666666" d="M518.35,-786.95C527.89,-783.92 537.72,-780.84 547,-778 553.42,-776.03 560.09,-774.02 566.79,-772.02"/>
<polygon fill="#666666" stroke="#666666" points="568,-775.31 576.58,-769.1 566,-768.6 568,-775.31"/>
</g>
<!-- handle_raft_ready&#45;&gt;ServerTransport_need_flush -->
<g id="edge75" class="edge">
<title>handle_raft_ready&#45;&gt;ServerTransport_need_flush</title>
<path fill="none" stroke="#666666" d="M519.32,-805C527.5,-805 536.1,-805 544.78,-805"/>
<polygon fill="#666666" stroke="#666666" points="544.98,-808.5 554.98,-805 544.98,-801.5 544.98,-808.5"/>
</g>
<!-- handle_raft_ready&#45;&gt;post_raft_ready_append -->
<g id="edge76" class="edge">
<title>handle_raft_ready&#45;&gt;post_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M484.27,-823.26C500.68,-836.31 524.18,-853.51 547,-865 552.95,-867.99 559.26,-870.78 565.68,-873.35"/>
<polygon fill="#666666" stroke="#666666" points="564.55,-876.66 575.14,-876.96 567.04,-870.13 564.55,-876.66"/>
</g>
<!-- pause -->
<g id="node63" class="node">
<title>pause</title>
<path fill="none" stroke="#1c2123" d="M476.5,-769C476.5,-769 446.5,-769 446.5,-769 440.5,-769 434.5,-763 434.5,-757 434.5,-757 434.5,-745 434.5,-745 434.5,-739 440.5,-733 446.5,-733 446.5,-733 476.5,-733 476.5,-733 482.5,-733 488.5,-739 488.5,-745 488.5,-745 488.5,-757 488.5,-757 488.5,-763 482.5,-769 476.5,-769"/>
<text text-anchor="middle" x="461.5" y="-747.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pause</text>
</g>
<!-- pause&#45;&gt;ServerTransport_flush -->
<g id="edge77" class="edge">
<title>pause&#45;&gt;ServerTransport_flush</title>
<path fill="none" stroke="#666666" d="M488.54,-751C507.76,-751 534.98,-751 561,-751"/>
<polygon fill="#666666" stroke="#666666" points="561.28,-754.5 571.28,-751 561.28,-747.5 561.28,-754.5"/>
</g>
<!-- pause&#45;&gt;ServerTransport_need_flush -->
<g id="edge78" class="edge">
<title>pause&#45;&gt;ServerTransport_need_flush</title>
<path fill="none" stroke="#666666" d="M488.71,-759.55C505.37,-764.95 527.42,-772 547,-778 553.42,-779.97 560.09,-781.98 566.79,-783.98"/>
<polygon fill="#666666" stroke="#666666" points="566,-787.4 576.58,-786.9 568,-780.69 566,-787.4"/>
</g>
<!-- handle_normal -->
<g id="node64" class="node">
<title>handle_normal</title>
<path fill="none" stroke="#1c2123" d="M330.5,-823C330.5,-823 256.5,-823 256.5,-823 250.5,-823 244.5,-817 244.5,-811 244.5,-811 244.5,-799 244.5,-799 244.5,-793 250.5,-787 256.5,-787 256.5,-787 330.5,-787 330.5,-787 336.5,-787 342.5,-793 342.5,-799 342.5,-799 342.5,-811 342.5,-811 342.5,-817 336.5,-823 330.5,-823"/>
<text text-anchor="middle" x="293.5" y="-801.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_normal</text>
</g>
<!-- handle_normal&#45;&gt;collect_ready -->
<g id="edge79" class="edge">
<title>handle_normal&#45;&gt;collect_ready</title>
<path fill="none" stroke="#666666" d="M327.5,-823.23C349.2,-835.18 378.24,-851.11 404,-865 408.29,-867.32 412.78,-869.72 417.26,-872.12"/>
<polygon fill="#666666" stroke="#666666" points="415.93,-875.37 426.4,-876.99 419.22,-869.2 415.93,-875.37"/>
</g>
<!-- poller_poll -->
<g id="node65" class="node">
<title>poller_poll</title>
<path fill="none" stroke="#1c2123" d="M28,-587.5C28,-587.5 171,-587.5 171,-587.5 177,-587.5 183,-593.5 183,-599.5 183,-599.5 183,-666.5 183,-666.5 183,-672.5 177,-678.5 171,-678.5 171,-678.5 28,-678.5 28,-678.5 22,-678.5 16,-672.5 16,-666.5 16,-666.5 16,-599.5 16,-599.5 16,-593.5 22,-587.5 28,-587.5"/>
<text text-anchor="middle" x="99.5" y="-663.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll</text>
<polyline fill="none" stroke="#1c2123" points="16,-655.5 183,-655.5 "/>
<text text-anchor="start" x="24" y="-640.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchSystem Poller主循环</text>
<text text-anchor="start" x="24" y="-625.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> fetch fsm</text>
<text text-anchor="start" x="24" y="-610.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 然后在调用RaftPoller</text>
<text text-anchor="start" x="24" y="-595.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 处理有消息的的fsm</text>
</g>
<!-- poller_poll&#45;&gt;end -->
<g id="edge80" class="edge">
<title>poller_poll&#45;&gt;end</title>
<path fill="none" stroke="#666666" d="M155.79,-678.55C175.09,-693.21 197.34,-708.8 219,-721 230.84,-727.67 244.47,-733.66 256.75,-738.49"/>
<polygon fill="#666666" stroke="#666666" points="255.66,-741.82 266.25,-742.12 258.15,-735.28 255.66,-741.82"/>
</g>
<!-- poller_poll&#45;&gt;pause -->
<g id="edge81" class="edge">
<title>poller_poll&#45;&gt;pause</title>
<path fill="none" stroke="#666666" d="M183.08,-615.4C238.2,-607.84 310.79,-606.17 368,-634 406.28,-652.62 433.55,-695.59 448.15,-723.94"/>
<polygon fill="#666666" stroke="#666666" points="445.04,-725.54 452.62,-732.94 451.31,-722.43 445.04,-725.54"/>
</g>
<!-- poller_poll&#45;&gt;handle_normal -->
<g id="edge82" class="edge">
<title>poller_poll&#45;&gt;handle_normal</title>
<path fill="none" stroke="#666666" d="M128.38,-678.73C149.73,-710.41 181.79,-751.5 219,-778 223.89,-781.49 229.29,-784.57 234.87,-787.29"/>
<polygon fill="#666666" stroke="#666666" points="233.81,-790.66 244.37,-791.54 236.67,-784.26 233.81,-790.66"/>
</g>
<!-- fetch_fsm -->
<g id="node66" class="node">
<title>fetch_fsm</title>
<path fill="none" stroke="#1c2123" d="M317,-679C317,-679 270,-679 270,-679 264,-679 258,-673 258,-667 258,-667 258,-655 258,-655 258,-649 264,-643 270,-643 270,-643 317,-643 317,-643 323,-643 329,-649 329,-655 329,-655 329,-667 329,-667 329,-673 323,-679 317,-679"/>
<text text-anchor="middle" x="293.5" y="-657.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">fetch_fsm</text>
</g>
<!-- poller_poll&#45;&gt;fetch_fsm -->
<g id="edge83" class="edge">
<title>poller_poll&#45;&gt;fetch_fsm</title>
<path fill="none" stroke="#666666" d="M183.04,-645.04C205.27,-648.28 228.48,-651.66 247.77,-654.48"/>
<polygon fill="#666666" stroke="#666666" points="247.37,-657.96 257.77,-655.94 248.38,-651.03 247.37,-657.96"/>
</g>
<!-- Server_new -->
<g id="node67" class="node">
<title>Server_new</title>
<path fill="none" stroke="#1c2123" d="M128,-1269C128,-1269 71,-1269 71,-1269 65,-1269 59,-1263 59,-1257 59,-1257 59,-1245 59,-1245 59,-1239 65,-1233 71,-1233 71,-1233 128,-1233 128,-1233 134,-1233 140,-1239 140,-1245 140,-1245 140,-1257 140,-1257 140,-1263 134,-1269 128,-1269"/>
<text text-anchor="middle" x="99.5" y="-1247.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Server_new</text>
</g>
<!-- RaftClient_new -->
<g id="node68" class="node">
<title>RaftClient_new</title>
<path fill="none" stroke="#1c2123" d="M332.5,-1323C332.5,-1323 254.5,-1323 254.5,-1323 248.5,-1323 242.5,-1317 242.5,-1311 242.5,-1311 242.5,-1299 242.5,-1299 242.5,-1293 248.5,-1287 254.5,-1287 254.5,-1287 332.5,-1287 332.5,-1287 338.5,-1287 344.5,-1293 344.5,-1299 344.5,-1299 344.5,-1311 344.5,-1311 344.5,-1317 338.5,-1323 332.5,-1323"/>
<text text-anchor="middle" x="293.5" y="-1301.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftClient_new</text>
</g>
<!-- Server_new&#45;&gt;RaftClient_new -->
<g id="edge84" class="edge">
<title>Server_new&#45;&gt;RaftClient_new</title>
<path fill="none" stroke="#666666" d="M140.28,-1262.19C166.83,-1269.65 202.23,-1279.61 232.21,-1288.04"/>
<polygon fill="#666666" stroke="#666666" points="231.58,-1291.5 242.15,-1290.84 233.47,-1284.76 231.58,-1291.5"/>
</g>
<!-- ServerTransport_new -->
<g id="node69" class="node">
<title>ServerTransport_new</title>
<path fill="none" stroke="#1c2123" d="M348.5,-1269C348.5,-1269 238.5,-1269 238.5,-1269 232.5,-1269 226.5,-1263 226.5,-1257 226.5,-1257 226.5,-1245 226.5,-1245 226.5,-1239 232.5,-1233 238.5,-1233 238.5,-1233 348.5,-1233 348.5,-1233 354.5,-1233 360.5,-1239 360.5,-1245 360.5,-1245 360.5,-1257 360.5,-1257 360.5,-1263 354.5,-1269 348.5,-1269"/>
<text text-anchor="middle" x="293.5" y="-1247.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport_new</text>
</g>
<!-- Server_new&#45;&gt;ServerTransport_new -->
<g id="edge85" class="edge">
<title>Server_new&#45;&gt;ServerTransport_new</title>
<path fill="none" stroke="#666666" d="M140.28,-1251C162.2,-1251 190.15,-1251 216.1,-1251"/>
<polygon fill="#666666" stroke="#666666" points="216.31,-1254.5 226.31,-1251 216.31,-1247.5 216.31,-1254.5"/>
</g>
<!-- ConnectionBuilder_new -->
<g id="node70" class="node">
<title>ConnectionBuilder_new</title>
<path fill="none" stroke="#1c2123" d="M356,-1215C356,-1215 231,-1215 231,-1215 225,-1215 219,-1209 219,-1203 219,-1203 219,-1191 219,-1191 219,-1185 225,-1179 231,-1179 231,-1179 356,-1179 356,-1179 362,-1179 368,-1185 368,-1191 368,-1191 368,-1203 368,-1203 368,-1209 362,-1215 356,-1215"/>
<text text-anchor="middle" x="293.5" y="-1193.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ConnectionBuilder_new</text>
</g>
<!-- Server_new&#45;&gt;ConnectionBuilder_new -->
<g id="edge86" class="edge">
<title>Server_new&#45;&gt;ConnectionBuilder_new</title>
<path fill="none" stroke="#666666" d="M140.42,-1240.56C153.95,-1236.97 169.15,-1232.87 183,-1229 195.62,-1225.47 209.02,-1221.64 221.97,-1217.88"/>
<polygon fill="#666666" stroke="#666666" points="223.13,-1221.18 231.76,-1215.03 221.18,-1214.46 223.13,-1221.18"/>
</g>
</g>
</svg>
