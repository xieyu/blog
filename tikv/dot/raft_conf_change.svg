<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: raft_conf_change Pages: 1 -->
<svg width="1020pt" height="205pt"
 viewBox="0.00 0.00 1020.00 205.33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 201.33)">
<title>raft_conf_change</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-201.33 1016,-201.33 1016,4 -4,4"/>
<!-- MsgPropose -->
<g id="node1" class="node">
<title>MsgPropose</title>
<path fill="none" stroke="#1c2123" d="M424.5,-133C424.5,-133 551.5,-133 551.5,-133 557.5,-133 563.5,-139 563.5,-145 563.5,-145 563.5,-182 563.5,-182 563.5,-188 557.5,-194 551.5,-194 551.5,-194 424.5,-194 424.5,-194 418.5,-194 412.5,-188 412.5,-182 412.5,-182 412.5,-145 412.5,-145 412.5,-139 418.5,-133 424.5,-133"/>
<text text-anchor="middle" x="488" y="-178.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">MsgPropose</text>
<polyline fill="none" stroke="#1c2123" points="412.5,-171 563.5,-171 "/>
<text text-anchor="start" x="420.5" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">像正常的log entry那样</text>
<text text-anchor="start" x="420.5" y="-140.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> append日志</text>
</g>
<!-- RaftCore__step_leader -->
<g id="node2" class="node">
<title>RaftCore__step_leader</title>
<path fill="none" stroke="#1c2123" d="M418,-25C418,-25 558,-25 558,-25 564,-25 570,-31 570,-37 570,-37 570,-74 570,-74 570,-80 564,-86 558,-86 558,-86 418,-86 418,-86 412,-86 406,-80 406,-74 406,-74 406,-37 406,-37 406,-31 412,-25 418,-25"/>
<text text-anchor="middle" x="488" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__step_leader</text>
<polyline fill="none" stroke="#1c2123" points="406,-63 570,-63 "/>
<text text-anchor="start" x="414" y="-47.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">leader节点会检查是否有</text>
<text text-anchor="start" x="414" y="-32.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 未applied的conf change</text>
</g>
<!-- RaftCore__has_pending_conf -->
<g id="node7" class="node">
<title>RaftCore__has_pending_conf</title>
<path fill="none" stroke="#1c2123" d="M773,-50.5C773,-50.5 618,-50.5 618,-50.5 612,-50.5 606,-44.5 606,-38.5 606,-38.5 606,-26.5 606,-26.5 606,-20.5 612,-14.5 618,-14.5 618,-14.5 773,-14.5 773,-14.5 779,-14.5 785,-20.5 785,-26.5 785,-26.5 785,-38.5 785,-38.5 785,-44.5 779,-50.5 773,-50.5"/>
<text text-anchor="middle" x="695.5" y="-28.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__has_pending_conf</text>
</g>
<!-- RaftCore__step_leader&#45;&gt;RaftCore__has_pending_conf -->
<g id="edge8" class="edge">
<title>RaftCore__step_leader&#45;&gt;RaftCore__has_pending_conf</title>
<path fill="none" stroke="#666666" d="M570.22,-46.41C578.61,-45.47 587.19,-44.51 595.74,-43.55"/>
<polygon fill="#666666" stroke="#666666" points="596.2,-47.02 605.75,-42.43 595.42,-40.07 596.2,-47.02"/>
</g>
<!-- RaftCore__pending_conf_index -->
<g id="node8" class="node">
<title>RaftCore__pending_conf_index</title>
<path fill="#feed9b" stroke="#f7e495" d="M833,-55.5C833,-55.5 1000,-55.5 1000,-55.5 1006,-55.5 1012,-61.5 1012,-67.5 1012,-67.5 1012,-89.5 1012,-89.5 1012,-95.5 1006,-101.5 1000,-101.5 1000,-101.5 833,-101.5 833,-101.5 827,-101.5 821,-95.5 821,-89.5 821,-89.5 821,-67.5 821,-67.5 821,-61.5 827,-55.5 833,-55.5"/>
<text text-anchor="middle" x="916.5" y="-86.3" font-family="Times,serif" font-size="14.00" fill="#40575d">RaftCore__pending_conf_index</text>
<polyline fill="none" stroke="#f7e495" points="821,-78.5 1012,-78.5 "/>
<text text-anchor="start" x="829" y="-63.3" font-family="Times,serif" font-size="14.00" fill="#40575d">记录了conf change index</text>
</g>
<!-- RaftCore__step_leader&#45;&gt;RaftCore__pending_conf_index -->
<g id="edge9" class="edge">
<title>RaftCore__step_leader&#45;&gt;RaftCore__pending_conf_index</title>
<path fill="none" stroke="#666666" d="M570.23,-59.88C638.44,-63.56 736.36,-68.84 810.51,-72.84"/>
<polygon fill="#666666" stroke="#666666" points="810.64,-76.35 820.81,-73.39 811.01,-69.36 810.64,-76.35"/>
</g>
<!-- RawNode__propose_conf_change -->
<g id="node3" class="node">
<title>RawNode__propose_conf_change</title>
<path fill="none" stroke="#1c2123" d="M191,-154.5C191,-154.5 12,-154.5 12,-154.5 6,-154.5 0,-148.5 0,-142.5 0,-142.5 0,-130.5 0,-130.5 0,-124.5 6,-118.5 12,-118.5 12,-118.5 191,-118.5 191,-118.5 197,-118.5 203,-124.5 203,-130.5 203,-130.5 203,-142.5 203,-142.5 203,-148.5 197,-154.5 191,-154.5"/>
<text text-anchor="middle" x="101.5" y="-132.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RawNode__propose_conf_change</text>
</g>
<!-- RawNode__propose_conf_change&#45;&gt;MsgPropose -->
<g id="edge1" class="edge">
<title>RawNode__propose_conf_change&#45;&gt;MsgPropose</title>
<path fill="none" stroke="#666666" d="M137.32,-154.52C164.27,-167.4 202.95,-183.63 239,-190.5 296.19,-201.4 312.15,-197.09 370,-190.5 380.55,-189.3 391.52,-187.51 402.35,-185.41"/>
<polygon fill="#666666" stroke="#666666" points="403.12,-188.82 412.23,-183.4 401.73,-181.96 403.12,-188.82"/>
</g>
<!-- RaftCore__step -->
<g id="node4" class="node">
<title>RaftCore__step</title>
<path fill="none" stroke="#1c2123" d="M343,-73.5C343,-73.5 266,-73.5 266,-73.5 260,-73.5 254,-67.5 254,-61.5 254,-61.5 254,-49.5 254,-49.5 254,-43.5 260,-37.5 266,-37.5 266,-37.5 343,-37.5 343,-37.5 349,-37.5 355,-43.5 355,-49.5 355,-49.5 355,-61.5 355,-61.5 355,-67.5 349,-73.5 343,-73.5"/>
<text text-anchor="middle" x="304.5" y="-51.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__step</text>
</g>
<!-- RawNode__propose_conf_change&#45;&gt;RaftCore__step -->
<g id="edge2" class="edge">
<title>RawNode__propose_conf_change&#45;&gt;RaftCore__step</title>
<path fill="none" stroke="#666666" d="M147.36,-118.42C177.45,-106.3 217.26,-90.25 249.16,-77.4"/>
<polygon fill="#666666" stroke="#666666" points="250.81,-80.51 258.78,-73.52 248.2,-74.01 250.81,-80.51"/>
</g>
<!-- EntryConfChange -->
<g id="node5" class="node">
<title>EntryConfChange</title>
<path fill="none" stroke="#1c2123" d="M350,-181.5C350,-181.5 259,-181.5 259,-181.5 253,-181.5 247,-175.5 247,-169.5 247,-169.5 247,-157.5 247,-157.5 247,-151.5 253,-145.5 259,-145.5 259,-145.5 350,-145.5 350,-145.5 356,-145.5 362,-151.5 362,-157.5 362,-157.5 362,-169.5 362,-169.5 362,-175.5 356,-181.5 350,-181.5"/>
<text text-anchor="middle" x="304.5" y="-159.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">EntryConfChange</text>
</g>
<!-- RawNode__propose_conf_change&#45;&gt;EntryConfChange -->
<g id="edge3" class="edge">
<title>RawNode__propose_conf_change&#45;&gt;EntryConfChange</title>
<path fill="none" stroke="#666666" d="M203.29,-150.04C214.65,-151.57 226,-153.09 236.77,-154.54"/>
<polygon fill="#666666" stroke="#666666" points="236.52,-158.03 246.9,-155.9 237.45,-151.1 236.52,-158.03"/>
</g>
<!-- EntryConfChangeV2 -->
<g id="node6" class="node">
<title>EntryConfChangeV2</title>
<path fill="none" stroke="#1c2123" d="M358,-127.5C358,-127.5 251,-127.5 251,-127.5 245,-127.5 239,-121.5 239,-115.5 239,-115.5 239,-103.5 239,-103.5 239,-97.5 245,-91.5 251,-91.5 251,-91.5 358,-91.5 358,-91.5 364,-91.5 370,-97.5 370,-103.5 370,-103.5 370,-115.5 370,-115.5 370,-121.5 364,-127.5 358,-127.5"/>
<text text-anchor="middle" x="304.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">EntryConfChangeV2</text>
</g>
<!-- RawNode__propose_conf_change&#45;&gt;EntryConfChangeV2 -->
<g id="edge4" class="edge">
<title>RawNode__propose_conf_change&#45;&gt;EntryConfChangeV2</title>
<path fill="none" stroke="#666666" d="M203.29,-122.96C211.86,-121.81 220.42,-120.66 228.73,-119.54"/>
<polygon fill="#666666" stroke="#666666" points="229.28,-123 238.73,-118.2 228.35,-116.06 229.28,-123"/>
</g>
<!-- RaftCore__step&#45;&gt;RaftCore__step_leader -->
<g id="edge7" class="edge">
<title>RaftCore__step&#45;&gt;RaftCore__step_leader</title>
<path fill="none" stroke="#666666" d="M355.1,-55.5C367.68,-55.5 381.6,-55.5 395.55,-55.5"/>
<polygon fill="#666666" stroke="#666666" points="395.69,-59 405.69,-55.5 395.69,-52 395.69,-59"/>
</g>
<!-- EntryConfChange&#45;&gt;MsgPropose -->
<g id="edge5" class="edge">
<title>EntryConfChange&#45;&gt;MsgPropose</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M362.43,-163.5C375.02,-163.5 388.63,-163.5 402.06,-163.5"/>
<polygon fill="green" stroke="green" points="402.28,-167 412.28,-163.5 402.28,-160 402.28,-167"/>
</g>
<!-- EntryConfChangeV2&#45;&gt;MsgPropose -->
<g id="edge6" class="edge">
<title>EntryConfChangeV2&#45;&gt;MsgPropose</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M366.19,-127.56C377.9,-131.04 390.36,-134.75 402.66,-138.41"/>
<polygon fill="green" stroke="green" points="401.9,-141.83 412.48,-141.33 403.89,-135.12 401.9,-141.83"/>
</g>
<!-- RaftCore__has_pending_conf&#45;&gt;RaftCore__pending_conf_index -->
<g id="edge10" class="edge">
<title>RaftCore__has_pending_conf&#45;&gt;RaftCore__pending_conf_index</title>
<path fill="none" stroke="#666666" d="M782.43,-50.55C791.76,-52.51 801.34,-54.52 810.87,-56.52"/>
<polygon fill="#666666" stroke="#666666" points="810.27,-59.97 820.77,-58.6 811.71,-53.12 810.27,-59.97"/>
</g>
<!-- RaftLog__applied -->
<g id="node9" class="node">
<title>RaftLog__applied</title>
<path fill="#feed9b" stroke="#f7e495" d="M871,-0.5C871,-0.5 962,-0.5 962,-0.5 968,-0.5 974,-6.5 974,-12.5 974,-12.5 974,-24.5 974,-24.5 974,-30.5 968,-36.5 962,-36.5 962,-36.5 871,-36.5 871,-36.5 865,-36.5 859,-30.5 859,-24.5 859,-24.5 859,-12.5 859,-12.5 859,-6.5 865,-0.5 871,-0.5"/>
<text text-anchor="middle" x="916.5" y="-14.8" font-family="Times,serif" font-size="14.00" fill="#40575d">RaftLog__applied</text>
</g>
<!-- RaftCore__has_pending_conf&#45;&gt;RaftLog__applied -->
<g id="edge11" class="edge">
<title>RaftCore__has_pending_conf&#45;&gt;RaftLog__applied</title>
<path fill="none" stroke="#666666" d="M785.26,-26.83C806.36,-25.48 828.53,-24.06 848.47,-22.78"/>
<polygon fill="#666666" stroke="#666666" points="848.93,-26.26 858.68,-22.13 848.48,-19.28 848.93,-26.26"/>
</g>
</g>
</svg>
