<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: follower_step_msgs Pages: 1 -->
<svg width="900pt" height="336pt"
 viewBox="0.00 0.00 900.00 335.76" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 331.76)">
<title>follower_step_msgs</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-331.76 896,-331.76 896,4 -4,4"/>
<!-- RaftCore__step_follower -->
<g id="node1" class="node">
<title>RaftCore__step_follower</title>
<path fill="none" stroke="#1c2123" d="M142,-144C142,-144 12,-144 12,-144 6,-144 0,-138 0,-132 0,-132 0,-120 0,-120 0,-114 6,-108 12,-108 12,-108 142,-108 142,-108 148,-108 154,-114 154,-120 154,-120 154,-132 154,-132 154,-138 148,-144 142,-144"/>
<text text-anchor="middle" x="77" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__step_follower</text>
</g>
<!-- RaftCore__send -->
<g id="node2" class="node">
<title>RaftCore__send</title>
<path fill="none" stroke="#1c2123" d="M762,-144C762,-144 682,-144 682,-144 676,-144 670,-138 670,-132 670,-132 670,-120 670,-120 670,-114 676,-108 682,-108 682,-108 762,-108 762,-108 768,-108 774,-114 774,-120 774,-120 774,-132 774,-132 774,-138 768,-144 762,-144"/>
<text text-anchor="middle" x="722" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__send</text>
</g>
<!-- RaftCore__step_follower&#45;&gt;RaftCore__send -->
<g id="edge1" class="edge">
<title>RaftCore__step_follower&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M93.24,-144.07C113.26,-166.74 150.53,-205.36 190,-228 286.94,-283.61 319.53,-286.14 430,-303 519.63,-316.68 557.04,-350.93 634,-303 686.67,-270.2 708.37,-195.14 716.55,-154.09"/>
<polygon fill="#666666" stroke="#666666" points="720,-154.66 718.39,-144.19 713.12,-153.38 720,-154.66"/>
</g>
<!-- RaftCore__handle_append_entries -->
<g id="node3" class="node">
<title>RaftCore__handle_append_entries</title>
<path fill="none" stroke="#1c2123" d="M382,-219C382,-219 202,-219 202,-219 196,-219 190,-213 190,-207 190,-207 190,-195 190,-195 190,-189 196,-183 202,-183 202,-183 382,-183 382,-183 388,-183 394,-189 394,-195 394,-195 394,-207 394,-207 394,-213 388,-219 382,-219"/>
<text text-anchor="middle" x="292" y="-197.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_append_entries</text>
</g>
<!-- RaftCore__step_follower&#45;&gt;RaftCore__handle_append_entries -->
<g id="edge2" class="edge">
<title>RaftCore__step_follower&#45;&gt;RaftCore__handle_append_entries</title>
<path fill="none" stroke="#666666" d="M129.29,-144.06C159.63,-154.74 198.24,-168.34 230.12,-179.56"/>
<polygon fill="#666666" stroke="#666666" points="229.19,-182.95 239.79,-182.97 231.52,-176.34 229.19,-182.95"/>
</g>
<!-- RaftCore__handle_heartbeat -->
<g id="node4" class="node">
<title>RaftCore__handle_heartbeat</title>
<path fill="none" stroke="#1c2123" d="M366,-144C366,-144 218,-144 218,-144 212,-144 206,-138 206,-132 206,-132 206,-120 206,-120 206,-114 212,-108 218,-108 218,-108 366,-108 366,-108 372,-108 378,-114 378,-120 378,-120 378,-132 378,-132 378,-138 372,-144 366,-144"/>
<text text-anchor="middle" x="292" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_heartbeat</text>
</g>
<!-- RaftCore__step_follower&#45;&gt;RaftCore__handle_heartbeat -->
<g id="edge3" class="edge">
<title>RaftCore__step_follower&#45;&gt;RaftCore__handle_heartbeat</title>
<path fill="none" stroke="#666666" d="M154.3,-126C167.74,-126 181.89,-126 195.78,-126"/>
<polygon fill="#666666" stroke="#666666" points="195.84,-129.5 205.84,-126 195.84,-122.5 195.84,-129.5"/>
</g>
<!-- RaftCore__handle_snapshot -->
<g id="node5" class="node">
<title>RaftCore__handle_snapshot</title>
<path fill="none" stroke="#1c2123" d="M365,-90C365,-90 219,-90 219,-90 213,-90 207,-84 207,-78 207,-78 207,-66 207,-66 207,-60 213,-54 219,-54 219,-54 365,-54 365,-54 371,-54 377,-60 377,-66 377,-66 377,-78 377,-78 377,-84 371,-90 365,-90"/>
<text text-anchor="middle" x="292" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_snapshot</text>
</g>
<!-- RaftCore__step_follower&#45;&gt;RaftCore__handle_snapshot -->
<g id="edge4" class="edge">
<title>RaftCore__step_follower&#45;&gt;RaftCore__handle_snapshot</title>
<path fill="none" stroke="#666666" d="M149.22,-107.94C168.76,-102.99 190.09,-97.58 210.12,-92.5"/>
<polygon fill="#666666" stroke="#666666" points="211.01,-95.89 219.85,-90.04 209.29,-89.1 211.01,-95.89"/>
</g>
<!-- RaftCore__hup -->
<g id="node6" class="node">
<title>RaftCore__hup</title>
<path fill="none" stroke="#1c2123" d="M330,-36C330,-36 254,-36 254,-36 248,-36 242,-30 242,-24 242,-24 242,-12 242,-12 242,-6 248,0 254,0 254,0 330,0 330,0 336,0 342,-6 342,-12 342,-12 342,-24 342,-24 342,-30 336,-36 330,-36"/>
<text text-anchor="middle" x="292" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__hup</text>
</g>
<!-- RaftCore__step_follower&#45;&gt;RaftCore__hup -->
<g id="edge5" class="edge">
<title>RaftCore__step_follower&#45;&gt;RaftCore__hup</title>
<path fill="none" stroke="#666666" d="M98.41,-107.67C119.8,-89.35 155.11,-61.58 190,-45 203.19,-38.73 218.06,-33.74 232.25,-29.84"/>
<polygon fill="#666666" stroke="#666666" points="233.15,-33.22 241.94,-27.31 231.38,-26.45 233.15,-33.22"/>
</g>
<!-- Raft__msgs -->
<g id="node9" class="node">
<title>Raft__msgs</title>
<path fill="none" stroke="#1c2123" d="M880,-144C880,-144 822,-144 822,-144 816,-144 810,-138 810,-132 810,-132 810,-120 810,-120 810,-114 816,-108 822,-108 822,-108 880,-108 880,-108 886,-108 892,-114 892,-120 892,-120 892,-132 892,-132 892,-138 886,-144 880,-144"/>
<text text-anchor="middle" x="851" y="-122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Raft__msgs</text>
</g>
<!-- RaftCore__send&#45;&gt;Raft__msgs -->
<g id="edge13" class="edge">
<title>RaftCore__send&#45;&gt;Raft__msgs</title>
<path fill="none" stroke="#666666" d="M774.29,-126C782.71,-126 791.42,-126 799.81,-126"/>
<polygon fill="#666666" stroke="#666666" points="799.85,-129.5 809.85,-126 799.85,-122.5 799.85,-129.5"/>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftCore__send -->
<g id="edge6" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M317.15,-219.17C343.35,-237.64 387.18,-265.05 430,-276 517.84,-298.47 555.44,-321.26 634,-276 679.59,-249.74 703.48,-189.44 714.05,-153.8"/>
<polygon fill="#666666" stroke="#666666" points="717.46,-154.6 716.8,-144.03 710.72,-152.71 717.46,-154.6"/>
</g>
<!-- RaftCore__send_request_snapshot -->
<g id="node7" class="node">
<title>RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#1c2123" d="M442,-95.5C442,-95.5 622,-95.5 622,-95.5 628,-95.5 634,-101.5 634,-107.5 634,-107.5 634,-144.5 634,-144.5 634,-150.5 628,-156.5 622,-156.5 622,-156.5 442,-156.5 442,-156.5 436,-156.5 430,-150.5 430,-144.5 430,-144.5 430,-107.5 430,-107.5 430,-101.5 436,-95.5 442,-95.5"/>
<text text-anchor="middle" x="532" y="-141.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__send_request_snapshot</text>
<polyline fill="none" stroke="#1c2123" points="430,-133.5 634,-133.5 "/>
<text text-anchor="start" x="438" y="-118.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">follower日志落后太多了</text>
<text text-anchor="start" x="438" y="-103.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 让leader发送snapshot过来</text>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftCore__send_request_snapshot -->
<g id="edge7" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#666666" d="M350.31,-182.94C372.51,-175.95 398.66,-167.7 424.08,-159.69"/>
<polygon fill="#666666" stroke="#666666" points="425.29,-162.98 433.77,-156.64 423.18,-156.31 425.29,-162.98"/>
</g>
<!-- RaftLog__maybe_append -->
<g id="node8" class="node">
<title>RaftLog__maybe_append</title>
<path fill="none" stroke="#1c2123" d="M454.5,-175.5C454.5,-175.5 609.5,-175.5 609.5,-175.5 615.5,-175.5 621.5,-181.5 621.5,-187.5 621.5,-187.5 621.5,-254.5 621.5,-254.5 621.5,-260.5 615.5,-266.5 609.5,-266.5 609.5,-266.5 454.5,-266.5 454.5,-266.5 448.5,-266.5 442.5,-260.5 442.5,-254.5 442.5,-254.5 442.5,-187.5 442.5,-187.5 442.5,-181.5 448.5,-175.5 454.5,-175.5"/>
<text text-anchor="middle" x="532" y="-251.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLog__maybe_append</text>
<polyline fill="none" stroke="#1c2123" points="442.5,-243.5 621.5,-243.5 "/>
<text text-anchor="start" x="450.5" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">append leade发来的log entry</text>
<text text-anchor="start" x="450.5" y="-213.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果不能append</text>
<text text-anchor="start" x="450.5" y="-198.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 就handle_append_entries</text>
<text text-anchor="start" x="450.5" y="-183.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 就会发送reject消息</text>
</g>
<!-- RaftCore__handle_append_entries&#45;&gt;RaftLog__maybe_append -->
<g id="edge8" class="edge">
<title>RaftCore__handle_append_entries&#45;&gt;RaftLog__maybe_append</title>
<path fill="none" stroke="#666666" d="M394.28,-209.51C406.86,-210.57 419.71,-211.65 432.25,-212.7"/>
<polygon fill="#666666" stroke="#666666" points="431.97,-216.19 442.23,-213.54 432.55,-209.21 431.97,-216.19"/>
</g>
<!-- RaftCore__handle_heartbeat&#45;&gt;RaftCore__send -->
<g id="edge9" class="edge">
<title>RaftCore__handle_heartbeat&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M363.58,-107.96C373.83,-105.1 384.21,-102.07 394,-99 410.23,-93.91 413.24,-88.93 430,-86 519.31,-70.37 545.43,-66.61 634,-86 650.12,-89.53 666.82,-96.33 681.22,-103.34"/>
<polygon fill="#666666" stroke="#666666" points="679.83,-106.56 690.33,-107.95 682.98,-100.31 679.83,-106.56"/>
</g>
<!-- RaftCore__handle_heartbeat&#45;&gt;RaftCore__send_request_snapshot -->
<g id="edge10" class="edge">
<title>RaftCore__handle_heartbeat&#45;&gt;RaftCore__send_request_snapshot</title>
<path fill="none" stroke="#666666" d="M378.25,-126C391.67,-126 405.71,-126 419.61,-126"/>
<polygon fill="#666666" stroke="#666666" points="419.7,-129.5 429.7,-126 419.7,-122.5 419.7,-129.5"/>
</g>
<!-- RaftCore__handle_snapshot&#45;&gt;RaftCore__send -->
<g id="edge11" class="edge">
<title>RaftCore__handle_snapshot&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M377.31,-57.14C447.56,-48 549.43,-42.39 634,-68 655.9,-74.63 677.32,-88.79 693.43,-101.46"/>
<polygon fill="#666666" stroke="#666666" points="691.38,-104.3 701.34,-107.9 695.8,-98.87 691.38,-104.3"/>
</g>
<!-- RaftCore__send_request_snapshot&#45;&gt;RaftCore__send -->
<g id="edge12" class="edge">
<title>RaftCore__send_request_snapshot&#45;&gt;RaftCore__send</title>
<path fill="none" stroke="#666666" d="M634.15,-126C642.83,-126 651.43,-126 659.64,-126"/>
<polygon fill="#666666" stroke="#666666" points="659.82,-129.5 669.82,-126 659.82,-122.5 659.82,-129.5"/>
</g>
</g>
</svg>
