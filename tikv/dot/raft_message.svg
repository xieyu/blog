<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: raft_message Pages: 1 -->
<svg width="1283pt" height="1146pt"
 viewBox="0.00 0.00 1283.00 1146.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1142)">
<title>raft_message</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1142 1279,-1142 1279,4 -4,4"/>
<!-- RaftMessage -->
<g id="node1" class="node">
<title>RaftMessage</title>
<path fill="none" stroke="#1c2123" d="M12,-217C12,-217 226,-217 226,-217 232,-217 238,-223 238,-229 238,-229 238,-481 238,-481 238,-487 232,-493 226,-493 226,-493 12,-493 12,-493 6,-493 0,-487 0,-481 0,-481 0,-229 0,-229 0,-223 6,-217 12,-217"/>
<text text-anchor="middle" x="119" y="-477.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftMessage</text>
<polyline fill="none" stroke="#1c2123" points="0,-470 238,-470 "/>
<text text-anchor="start" x="8" y="-454.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 region_id = 1;</text>
<polyline fill="none" stroke="#1c2123" points="0,-447 238,-447 "/>
<text text-anchor="start" x="8" y="-431.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">metapb.Peer from_peer = 2;</text>
<polyline fill="none" stroke="#1c2123" points="0,-424 238,-424 "/>
<text text-anchor="start" x="8" y="-408.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">metapb.Peer to_peer = 3;</text>
<polyline fill="none" stroke="#1c2123" points="0,-401 238,-401 "/>
<text text-anchor="start" x="8" y="-385.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">eraftpb.Message message = 4;</text>
<polyline fill="none" stroke="#1c2123" points="0,-378 238,-378 "/>
<text text-anchor="start" x="8" y="-362.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">metapb.RegionEpoch region_epoch = 5;</text>
<polyline fill="none" stroke="#1c2123" points="0,-355 238,-355 "/>
<text text-anchor="start" x="8" y="-339.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bool is_tombstone = 6;</text>
<polyline fill="none" stroke="#1c2123" points="0,-332 238,-332 "/>
<text text-anchor="start" x="8" y="-316.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes start_key = 7;</text>
<polyline fill="none" stroke="#1c2123" points="0,-309 238,-309 "/>
<text text-anchor="start" x="8" y="-293.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes end_key = 8;</text>
<polyline fill="none" stroke="#1c2123" points="0,-286 238,-286 "/>
<text text-anchor="start" x="8" y="-270.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">metapb.Region merge_target = 9;</text>
<polyline fill="none" stroke="#1c2123" points="0,-263 238,-263 "/>
<text text-anchor="start" x="8" y="-247.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ExtraMessage extra_msg = 10;</text>
<polyline fill="none" stroke="#1c2123" points="0,-240 238,-240 "/>
<text text-anchor="start" x="8" y="-224.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes extra_ctx = 11;</text>
</g>
<!-- Message -->
<g id="node2" class="node">
<title>Message</title>
<path fill="none" stroke="#1c2123" d="M346.5,-621.5C346.5,-621.5 503.5,-621.5 503.5,-621.5 509.5,-621.5 515.5,-627.5 515.5,-633.5 515.5,-633.5 515.5,-954.5 515.5,-954.5 515.5,-960.5 509.5,-966.5 503.5,-966.5 503.5,-966.5 346.5,-966.5 346.5,-966.5 340.5,-966.5 334.5,-960.5 334.5,-954.5 334.5,-954.5 334.5,-633.5 334.5,-633.5 334.5,-627.5 340.5,-621.5 346.5,-621.5"/>
<text text-anchor="middle" x="425" y="-951.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Message</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-943.5 515.5,-943.5 "/>
<text text-anchor="start" x="342.5" y="-928.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">MessageType msg_type = 1;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-920.5 515.5,-920.5 "/>
<text text-anchor="start" x="342.5" y="-905.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 to = 2;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-897.5 515.5,-897.5 "/>
<text text-anchor="start" x="342.5" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 from = 3;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-874.5 515.5,-874.5 "/>
<text text-anchor="start" x="342.5" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 term = 4;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-851.5 515.5,-851.5 "/>
<text text-anchor="start" x="342.5" y="-836.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 log_term = 5;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-828.5 515.5,-828.5 "/>
<text text-anchor="start" x="342.5" y="-813.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 index = 6;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-805.5 515.5,-805.5 "/>
<text text-anchor="start" x="342.5" y="-790.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated Entry entries = 7;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-782.5 515.5,-782.5 "/>
<text text-anchor="start" x="342.5" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 commit = 8;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-759.5 515.5,-759.5 "/>
<text text-anchor="start" x="342.5" y="-744.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Snapshot snapshot = 9;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-736.5 515.5,-736.5 "/>
<text text-anchor="start" x="342.5" y="-721.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 request_snapshot = 13;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-713.5 515.5,-713.5 "/>
<text text-anchor="start" x="342.5" y="-698.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bool reject = 10;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-690.5 515.5,-690.5 "/>
<text text-anchor="start" x="342.5" y="-675.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 reject_hint = 11;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-667.5 515.5,-667.5 "/>
<text text-anchor="start" x="342.5" y="-652.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes context = 12;</text>
<polyline fill="none" stroke="#1c2123" points="334.5,-644.5 515.5,-644.5 "/>
<text text-anchor="start" x="342.5" y="-629.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 priority = 14;</text>
</g>
<!-- RaftMessage&#45;&gt;Message -->
<g id="edge1" class="edge">
<title>RaftMessage&#45;&gt;Message</title>
<path fill="none" stroke="#666666" d="M215.77,-493.3C251.78,-545.31 292.7,-604.39 328.67,-656.34"/>
<polygon fill="#666666" stroke="#666666" points="325.83,-658.39 334.4,-664.62 331.59,-654.4 325.83,-658.39"/>
</g>
<!-- RegionEpoch -->
<g id="node3" class="node">
<title>RegionEpoch</title>
<path fill="none" stroke="#1c2123" d="M665.5,-320.5C665.5,-320.5 770.5,-320.5 770.5,-320.5 776.5,-320.5 782.5,-326.5 782.5,-332.5 782.5,-332.5 782.5,-377.5 782.5,-377.5 782.5,-383.5 776.5,-389.5 770.5,-389.5 770.5,-389.5 665.5,-389.5 665.5,-389.5 659.5,-389.5 653.5,-383.5 653.5,-377.5 653.5,-377.5 653.5,-332.5 653.5,-332.5 653.5,-326.5 659.5,-320.5 665.5,-320.5"/>
<text text-anchor="middle" x="718" y="-374.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RegionEpoch</text>
<polyline fill="none" stroke="#1c2123" points="653.5,-366.5 782.5,-366.5 "/>
<text text-anchor="start" x="661.5" y="-351.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 conf_ver = 1;</text>
<polyline fill="none" stroke="#1c2123" points="653.5,-343.5 782.5,-343.5 "/>
<text text-anchor="start" x="661.5" y="-328.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 version = 2;</text>
</g>
<!-- RaftMessage&#45;&gt;RegionEpoch -->
<g id="edge2" class="edge">
<title>RaftMessage&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M238.36,-432.18C250.06,-437.34 262.04,-441.76 274,-445 403.56,-480.08 455.03,-503.14 576,-445 599.08,-433.9 591.62,-415.51 612,-400 621.78,-392.56 632.97,-386.09 644.32,-380.55"/>
<polygon fill="#666666" stroke="#666666" points="645.84,-383.7 653.43,-376.3 642.89,-377.35 645.84,-383.7"/>
</g>
<!-- Region -->
<g id="node4" class="node">
<title>Region</title>
<path fill="none" stroke="#1c2123" d="M286,-274.5C286,-274.5 564,-274.5 564,-274.5 570,-274.5 576,-280.5 576,-286.5 576,-286.5 576,-423.5 576,-423.5 576,-429.5 570,-435.5 564,-435.5 564,-435.5 286,-435.5 286,-435.5 280,-435.5 274,-429.5 274,-423.5 274,-423.5 274,-286.5 274,-286.5 274,-280.5 280,-274.5 286,-274.5"/>
<text text-anchor="middle" x="425" y="-420.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Region</text>
<polyline fill="none" stroke="#1c2123" points="274,-412.5 576,-412.5 "/>
<text text-anchor="start" x="282" y="-397.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 id = 1;</text>
<polyline fill="none" stroke="#1c2123" points="274,-389.5 576,-389.5 "/>
<text text-anchor="start" x="282" y="-374.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes start_key = 2;</text>
<polyline fill="none" stroke="#1c2123" points="274,-366.5 576,-366.5 "/>
<text text-anchor="start" x="282" y="-351.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes end_key = 3;</text>
<polyline fill="none" stroke="#1c2123" points="274,-343.5 576,-343.5 "/>
<text text-anchor="start" x="282" y="-328.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RegionEpoch region_epoch = 4;</text>
<polyline fill="none" stroke="#1c2123" points="274,-320.5 576,-320.5 "/>
<text text-anchor="start" x="282" y="-305.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated Peer peers = 5;</text>
<polyline fill="none" stroke="#1c2123" points="274,-297.5 576,-297.5 "/>
<text text-anchor="start" x="282" y="-282.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">encryptionpb.EncryptionMeta encryption_meta = 6;</text>
</g>
<!-- RaftMessage&#45;&gt;Region -->
<g id="edge3" class="edge">
<title>RaftMessage&#45;&gt;Region</title>
<path fill="none" stroke="#666666" d="M238.4,-355C246.79,-355 255.32,-355 263.89,-355"/>
<polygon fill="#666666" stroke="#666666" points="263.96,-358.5 273.96,-355 263.96,-351.5 263.96,-358.5"/>
</g>
<!-- ExtraMessage -->
<g id="node5" class="node">
<title>ExtraMessage</title>
<path fill="none" stroke="#1c2123" d="M321.5,-163C321.5,-163 528.5,-163 528.5,-163 534.5,-163 540.5,-169 540.5,-175 540.5,-175 540.5,-243 540.5,-243 540.5,-249 534.5,-255 528.5,-255 528.5,-255 321.5,-255 321.5,-255 315.5,-255 309.5,-249 309.5,-243 309.5,-243 309.5,-175 309.5,-175 309.5,-169 315.5,-163 321.5,-163"/>
<text text-anchor="middle" x="425" y="-239.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ExtraMessage</text>
<polyline fill="none" stroke="#1c2123" points="309.5,-232 540.5,-232 "/>
<text text-anchor="start" x="317.5" y="-216.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ExtraMessageType type = 1;</text>
<polyline fill="none" stroke="#1c2123" points="309.5,-209 540.5,-209 "/>
<text text-anchor="start" x="317.5" y="-193.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 premerge_commit = 2;</text>
<polyline fill="none" stroke="#1c2123" points="309.5,-186 540.5,-186 "/>
<text text-anchor="start" x="317.5" y="-170.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated metapb.Peer check_peers = 3;</text>
</g>
<!-- RaftMessage&#45;&gt;ExtraMessage -->
<g id="edge4" class="edge">
<title>RaftMessage&#45;&gt;ExtraMessage</title>
<path fill="none" stroke="#666666" d="M238.29,-283.16C250.21,-276.75 262.25,-270.58 274,-265 282.39,-261.02 291.14,-257.12 300.02,-253.36"/>
<polygon fill="#666666" stroke="#666666" points="301.42,-256.57 309.31,-249.49 298.73,-250.11 301.42,-256.57"/>
</g>
<!-- Peer -->
<g id="node6" class="node">
<title>Peer</title>
<path fill="none" stroke="#1c2123" d="M374.5,-35C374.5,-35 475.5,-35 475.5,-35 481.5,-35 487.5,-41 487.5,-47 487.5,-47 487.5,-115 487.5,-115 487.5,-121 481.5,-127 475.5,-127 475.5,-127 374.5,-127 374.5,-127 368.5,-127 362.5,-121 362.5,-115 362.5,-115 362.5,-47 362.5,-47 362.5,-41 368.5,-35 374.5,-35"/>
<text text-anchor="middle" x="425" y="-111.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Peer</text>
<polyline fill="none" stroke="#1c2123" points="362.5,-104 487.5,-104 "/>
<text text-anchor="start" x="370.5" y="-88.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 id = 1;</text>
<polyline fill="none" stroke="#1c2123" points="362.5,-81 487.5,-81 "/>
<text text-anchor="start" x="370.5" y="-65.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 store_id = 2;</text>
<polyline fill="none" stroke="#1c2123" points="362.5,-58 487.5,-58 "/>
<text text-anchor="start" x="370.5" y="-42.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerRole role = 3;</text>
</g>
<!-- RaftMessage&#45;&gt;Peer -->
<g id="edge5" class="edge">
<title>RaftMessage&#45;&gt;Peer</title>
<path fill="none" stroke="#666666" d="M211.06,-216.99C230.1,-193.88 251.35,-171.45 274,-153 297.34,-133.99 326.54,-118.53 352.95,-106.87"/>
<polygon fill="#666666" stroke="#666666" points="354.36,-110.07 362.16,-102.91 351.6,-103.64 354.36,-110.07"/>
</g>
<!-- Entry -->
<g id="node7" class="node">
<title>Entry</title>
<path fill="none" stroke="#1c2123" d="M649,-976.5C649,-976.5 787,-976.5 787,-976.5 793,-976.5 799,-982.5 799,-988.5 799,-988.5 799,-1125.5 799,-1125.5 799,-1131.5 793,-1137.5 787,-1137.5 787,-1137.5 649,-1137.5 649,-1137.5 643,-1137.5 637,-1131.5 637,-1125.5 637,-1125.5 637,-988.5 637,-988.5 637,-982.5 643,-976.5 649,-976.5"/>
<text text-anchor="middle" x="718" y="-1122.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Entry</text>
<polyline fill="none" stroke="#1c2123" points="637,-1114.5 799,-1114.5 "/>
<text text-anchor="start" x="645" y="-1099.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">EntryType entry_type = 1;</text>
<polyline fill="none" stroke="#1c2123" points="637,-1091.5 799,-1091.5 "/>
<text text-anchor="start" x="645" y="-1076.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 term = 2;</text>
<polyline fill="none" stroke="#1c2123" points="637,-1068.5 799,-1068.5 "/>
<text text-anchor="start" x="645" y="-1053.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 index = 3;</text>
<polyline fill="none" stroke="#1c2123" points="637,-1045.5 799,-1045.5 "/>
<text text-anchor="start" x="645" y="-1030.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes data = 4;</text>
<polyline fill="none" stroke="#1c2123" points="637,-1022.5 799,-1022.5 "/>
<text text-anchor="start" x="645" y="-1007.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes context = 6;</text>
<polyline fill="none" stroke="#1c2123" points="637,-999.5 799,-999.5 "/>
<text text-anchor="start" x="645" y="-984.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bool sync_log = 5;</text>
</g>
<!-- Message&#45;&gt;Entry -->
<g id="edge6" class="edge">
<title>Message&#45;&gt;Entry</title>
<path fill="none" stroke="#666666" d="M515.67,-878.78C546.02,-907.1 580.26,-938.65 612,-967 617.48,-971.89 623.15,-976.9 628.88,-981.93"/>
<polygon fill="#666666" stroke="#666666" points="626.9,-984.84 636.73,-988.78 631.5,-979.57 626.9,-984.84"/>
</g>
<!-- Snapshot -->
<g id="node8" class="node">
<title>Snapshot</title>
<path fill="none" stroke="#1c2123" d="M631.5,-888.5C631.5,-888.5 804.5,-888.5 804.5,-888.5 810.5,-888.5 816.5,-894.5 816.5,-900.5 816.5,-900.5 816.5,-945.5 816.5,-945.5 816.5,-951.5 810.5,-957.5 804.5,-957.5 804.5,-957.5 631.5,-957.5 631.5,-957.5 625.5,-957.5 619.5,-951.5 619.5,-945.5 619.5,-945.5 619.5,-900.5 619.5,-900.5 619.5,-894.5 625.5,-888.5 631.5,-888.5"/>
<text text-anchor="middle" x="718" y="-942.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Snapshot</text>
<polyline fill="none" stroke="#1c2123" points="619.5,-934.5 816.5,-934.5 "/>
<text text-anchor="start" x="627.5" y="-919.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">bytes data = 1;</text>
<polyline fill="none" stroke="#1c2123" points="619.5,-911.5 816.5,-911.5 "/>
<text text-anchor="start" x="627.5" y="-896.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotMetadata metadata = 2;</text>
</g>
<!-- Message&#45;&gt;Snapshot -->
<g id="edge7" class="edge">
<title>Message&#45;&gt;Snapshot</title>
<path fill="none" stroke="#666666" d="M515.62,-835.65C546.11,-849.64 580.45,-865.19 612,-879 616.08,-880.79 620.26,-882.6 624.48,-884.42"/>
<polygon fill="#666666" stroke="#666666" points="623.22,-887.69 633.79,-888.42 625.98,-881.26 623.22,-887.69"/>
</g>
<!-- MessageType -->
<g id="node9" class="node">
<title>MessageType</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M624,-409C624,-409 812,-409 812,-409 818,-409 824,-415 824,-421 824,-421 824,-857 824,-857 824,-863 818,-869 812,-869 812,-869 624,-869 624,-869 618,-869 612,-863 612,-857 612,-857 612,-421 612,-421 612,-415 618,-409 624,-409"/>
<text text-anchor="middle" x="718" y="-853.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">enum MessageType</text>
<polyline fill="none" stroke="#8a8898" points="612,-846 824,-846 "/>
<text text-anchor="start" x="620" y="-830.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgHup = 0;</text>
<polyline fill="none" stroke="#8a8898" points="612,-823 824,-823 "/>
<text text-anchor="start" x="620" y="-807.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgBeat = 1;</text>
<polyline fill="none" stroke="#8a8898" points="612,-800 824,-800 "/>
<text text-anchor="start" x="620" y="-784.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgPropose = 2;</text>
<polyline fill="none" stroke="#8a8898" points="612,-777 824,-777 "/>
<text text-anchor="start" x="620" y="-761.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgAppend = 3;</text>
<polyline fill="none" stroke="#8a8898" points="612,-754 824,-754 "/>
<text text-anchor="start" x="620" y="-738.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgAppendResponse = 4;</text>
<polyline fill="none" stroke="#8a8898" points="612,-731 824,-731 "/>
<text text-anchor="start" x="620" y="-715.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgRequestVote = 5;</text>
<polyline fill="none" stroke="#8a8898" points="612,-708 824,-708 "/>
<text text-anchor="start" x="620" y="-692.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgRequestVoteResponse = 6;</text>
<polyline fill="none" stroke="#8a8898" points="612,-685 824,-685 "/>
<text text-anchor="start" x="620" y="-669.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgSnapshot = 7;</text>
<polyline fill="none" stroke="#8a8898" points="612,-662 824,-662 "/>
<text text-anchor="start" x="620" y="-646.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgHeartbeat = 8;</text>
<polyline fill="none" stroke="#8a8898" points="612,-639 824,-639 "/>
<text text-anchor="start" x="620" y="-623.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgHeartbeatResponse = 9;</text>
<polyline fill="none" stroke="#8a8898" points="612,-616 824,-616 "/>
<text text-anchor="start" x="620" y="-600.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgUnreachable = 10;</text>
<polyline fill="none" stroke="#8a8898" points="612,-593 824,-593 "/>
<text text-anchor="start" x="620" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgSnapStatus = 11;</text>
<polyline fill="none" stroke="#8a8898" points="612,-570 824,-570 "/>
<text text-anchor="start" x="620" y="-554.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgCheckQuorum = 12;</text>
<polyline fill="none" stroke="#8a8898" points="612,-547 824,-547 "/>
<text text-anchor="start" x="620" y="-531.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgTransferLeader = 13;</text>
<polyline fill="none" stroke="#8a8898" points="612,-524 824,-524 "/>
<text text-anchor="start" x="620" y="-508.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgTimeoutNow = 14;</text>
<polyline fill="none" stroke="#8a8898" points="612,-501 824,-501 "/>
<text text-anchor="start" x="620" y="-485.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgReadIndex = 15;</text>
<polyline fill="none" stroke="#8a8898" points="612,-478 824,-478 "/>
<text text-anchor="start" x="620" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgReadIndexResp = 16;</text>
<polyline fill="none" stroke="#8a8898" points="612,-455 824,-455 "/>
<text text-anchor="start" x="620" y="-439.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgRequestPreVote = 17;</text>
<polyline fill="none" stroke="#8a8898" points="612,-432 824,-432 "/>
<text text-anchor="start" x="620" y="-416.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgRequestPreVoteResponse = 18;</text>
</g>
<!-- Message&#45;&gt;MessageType -->
<g id="edge8" class="edge">
<title>Message&#45;&gt;MessageType</title>
<path fill="none" stroke="#666666" d="M515.68,-746.23C543.23,-731.56 573.92,-715.21 602.87,-699.79"/>
<polygon fill="#666666" stroke="#666666" points="604.61,-702.83 611.79,-695.04 601.32,-696.65 604.61,-702.83"/>
</g>
<!-- Region&#45;&gt;RegionEpoch -->
<g id="edge12" class="edge">
<title>Region&#45;&gt;RegionEpoch</title>
<path fill="none" stroke="#666666" d="M576.19,-355C599.49,-355 622.63,-355 643.22,-355"/>
<polygon fill="#666666" stroke="#666666" points="643.42,-358.5 653.42,-355 643.42,-351.5 643.42,-358.5"/>
</g>
<!-- ExtraMessageType -->
<g id="node13" class="node">
<title>ExtraMessageType</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M627.5,-134.5C627.5,-134.5 808.5,-134.5 808.5,-134.5 814.5,-134.5 820.5,-140.5 820.5,-146.5 820.5,-146.5 820.5,-283.5 820.5,-283.5 820.5,-289.5 814.5,-295.5 808.5,-295.5 808.5,-295.5 627.5,-295.5 627.5,-295.5 621.5,-295.5 615.5,-289.5 615.5,-283.5 615.5,-283.5 615.5,-146.5 615.5,-146.5 615.5,-140.5 621.5,-134.5 627.5,-134.5"/>
<text text-anchor="middle" x="718" y="-280.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">enum ExtraMessageType</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-272.5 820.5,-272.5 "/>
<text text-anchor="start" x="623.5" y="-257.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgRegionWakeUp = 0;</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-249.5 820.5,-249.5 "/>
<text text-anchor="start" x="623.5" y="-234.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgWantRollbackMerge = 1;</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-226.5 820.5,-226.5 "/>
<text text-anchor="start" x="623.5" y="-211.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgCheckStalePeer = 2;</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-203.5 820.5,-203.5 "/>
<text text-anchor="start" x="623.5" y="-188.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgCheckStalePeerResponse = 3;</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-180.5 820.5,-180.5 "/>
<text text-anchor="start" x="623.5" y="-165.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgHibernateRequest = 4;</text>
<polyline fill="none" stroke="#8a8898" points="615.5,-157.5 820.5,-157.5 "/>
<text text-anchor="start" x="623.5" y="-142.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">MsgHibernateResponse = 5;</text>
</g>
<!-- ExtraMessage&#45;&gt;ExtraMessageType -->
<g id="edge13" class="edge">
<title>ExtraMessage&#45;&gt;ExtraMessageType</title>
<path fill="none" stroke="#666666" d="M540.59,-211.36C561.78,-211.8 583.88,-212.26 604.99,-212.69"/>
<polygon fill="#666666" stroke="#666666" points="605.19,-216.2 615.26,-212.9 605.34,-209.2 605.19,-216.2"/>
</g>
<!-- PeerRole -->
<g id="node14" class="node">
<title>PeerRole</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M666.5,-0.5C666.5,-0.5 769.5,-0.5 769.5,-0.5 775.5,-0.5 781.5,-6.5 781.5,-12.5 781.5,-12.5 781.5,-103.5 781.5,-103.5 781.5,-109.5 775.5,-115.5 769.5,-115.5 769.5,-115.5 666.5,-115.5 666.5,-115.5 660.5,-115.5 654.5,-109.5 654.5,-103.5 654.5,-103.5 654.5,-12.5 654.5,-12.5 654.5,-6.5 660.5,-0.5 666.5,-0.5"/>
<text text-anchor="middle" x="718" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">enum PeerRole</text>
<polyline fill="none" stroke="#8a8898" points="654.5,-92.5 781.5,-92.5 "/>
<text text-anchor="start" x="662.5" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Voter = 0;</text>
<polyline fill="none" stroke="#8a8898" points="654.5,-69.5 781.5,-69.5 "/>
<text text-anchor="start" x="662.5" y="-54.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Learner = 1;</text>
<polyline fill="none" stroke="#8a8898" points="654.5,-46.5 781.5,-46.5 "/>
<text text-anchor="start" x="662.5" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">IncomingVoter = 2;</text>
<polyline fill="none" stroke="#8a8898" points="654.5,-23.5 781.5,-23.5 "/>
<text text-anchor="start" x="662.5" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">DemotingVoter = 3;</text>
</g>
<!-- Peer&#45;&gt;PeerRole -->
<g id="edge14" class="edge">
<title>Peer&#45;&gt;PeerRole</title>
<path fill="none" stroke="#666666" d="M487.71,-76.12C533.51,-72.5 596.1,-67.56 644.31,-63.75"/>
<polygon fill="#666666" stroke="#666666" points="644.68,-67.23 654.37,-62.95 644.13,-60.25 644.68,-67.23"/>
</g>
<!-- EntryType -->
<g id="node10" class="node">
<title>EntryType</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M872,-1015C872,-1015 1009,-1015 1009,-1015 1015,-1015 1021,-1021 1021,-1027 1021,-1027 1021,-1087 1021,-1087 1021,-1093 1015,-1099 1009,-1099 1009,-1099 872,-1099 872,-1099 866,-1099 860,-1093 860,-1087 860,-1087 860,-1027 860,-1027 860,-1021 866,-1015 872,-1015"/>
<text text-anchor="middle" x="940.5" y="-1083.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EntryType</text>
<polyline fill="none" stroke="#8a8898" points="860,-1076 1021,-1076 "/>
<text text-anchor="start" x="868" y="-1060.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EntryNormal = 0;</text>
<polyline fill="none" stroke="#8a8898" points="860,-1053 1021,-1053 "/>
<text text-anchor="start" x="868" y="-1037.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">EntryConfChange = 1;</text>
<text text-anchor="middle" x="940.5" y="-1022.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> EntryConfChangeV2 = 2;</text>
</g>
<!-- Entry&#45;&gt;EntryType -->
<g id="edge9" class="edge">
<title>Entry&#45;&gt;EntryType</title>
<path fill="none" stroke="#666666" d="M799.23,-1057C815.55,-1057 832.81,-1057 849.44,-1057"/>
<polygon fill="#666666" stroke="#666666" points="849.7,-1060.5 859.7,-1057 849.7,-1053.5 849.7,-1060.5"/>
</g>
<!-- SnapshotMetadata -->
<g id="node11" class="node">
<title>SnapshotMetadata</title>
<path fill="none" stroke="#1c2123" d="M874.5,-877C874.5,-877 1006.5,-877 1006.5,-877 1012.5,-877 1018.5,-883 1018.5,-889 1018.5,-889 1018.5,-957 1018.5,-957 1018.5,-963 1012.5,-969 1006.5,-969 1006.5,-969 874.5,-969 874.5,-969 868.5,-969 862.5,-963 862.5,-957 862.5,-957 862.5,-889 862.5,-889 862.5,-883 868.5,-877 874.5,-877"/>
<text text-anchor="middle" x="940.5" y="-953.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotMetadata</text>
<polyline fill="none" stroke="#1c2123" points="862.5,-946 1018.5,-946 "/>
<text text-anchor="start" x="870.5" y="-930.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ConfState conf_state = 1;</text>
<polyline fill="none" stroke="#1c2123" points="862.5,-923 1018.5,-923 "/>
<text text-anchor="start" x="870.5" y="-907.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 index = 2;</text>
<polyline fill="none" stroke="#1c2123" points="862.5,-900 1018.5,-900 "/>
<text text-anchor="start" x="870.5" y="-884.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">uint64 term = 3;</text>
</g>
<!-- Snapshot&#45;&gt;SnapshotMetadata -->
<g id="edge10" class="edge">
<title>Snapshot&#45;&gt;SnapshotMetadata</title>
<path fill="none" stroke="#666666" d="M816.68,-923C828.53,-923 840.57,-923 852.26,-923"/>
<polygon fill="#666666" stroke="#666666" points="852.42,-926.5 862.42,-923 852.42,-919.5 852.42,-926.5"/>
</g>
<!-- ConfState -->
<g id="node12" class="node">
<title>ConfState</title>
<path fill="none" stroke="#1c2123" d="M1069,-854C1069,-854 1263,-854 1263,-854 1269,-854 1275,-860 1275,-866 1275,-866 1275,-980 1275,-980 1275,-986 1269,-992 1263,-992 1263,-992 1069,-992 1069,-992 1063,-992 1057,-986 1057,-980 1057,-980 1057,-866 1057,-866 1057,-860 1063,-854 1069,-854"/>
<text text-anchor="middle" x="1166" y="-976.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ConfState</text>
<polyline fill="none" stroke="#1c2123" points="1057,-969 1275,-969 "/>
<text text-anchor="start" x="1065" y="-953.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated uint64 voters = 1;</text>
<polyline fill="none" stroke="#1c2123" points="1057,-946 1275,-946 "/>
<text text-anchor="start" x="1065" y="-930.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated uint64 learners = 2;</text>
<polyline fill="none" stroke="#1c2123" points="1057,-923 1275,-923 "/>
<text text-anchor="start" x="1065" y="-907.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated uint64 voters_outgoing = 3;</text>
<polyline fill="none" stroke="#1c2123" points="1057,-900 1275,-900 "/>
<text text-anchor="start" x="1065" y="-884.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">repeated uint64 learners_next = 4;</text>
<polyline fill="none" stroke="#1c2123" points="1057,-877 1275,-877 "/>
<text text-anchor="start" x="1065" y="-861.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">bool auto_leave = 5;</text>
</g>
<!-- SnapshotMetadata&#45;&gt;ConfState -->
<g id="edge11" class="edge">
<title>SnapshotMetadata&#45;&gt;ConfState</title>
<path fill="none" stroke="#666666" d="M1018.73,-923C1027.72,-923 1037.04,-923 1046.42,-923"/>
<polygon fill="#666666" stroke="#666666" points="1046.61,-926.5 1056.61,-923 1046.61,-919.5 1046.61,-926.5"/>
</g>
</g>
</svg>
