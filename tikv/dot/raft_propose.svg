<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: propose Pages: 1 -->
<svg width="1753pt" height="377pt"
 viewBox="0.00 0.00 1753.00 377.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 373)">
<title>propose</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-373 1749,-373 1749,4 -4,4"/>
<!-- RaftCore__step_leader -->
<g id="node1" class="node">
<title>RaftCore__step_leader</title>
<path fill="none" stroke="#1c2123" d="M129,-195.5C129,-195.5 12,-195.5 12,-195.5 6,-195.5 0,-189.5 0,-183.5 0,-183.5 0,-171.5 0,-171.5 0,-165.5 6,-159.5 12,-159.5 12,-159.5 129,-159.5 129,-159.5 135,-159.5 141,-165.5 141,-171.5 141,-171.5 141,-183.5 141,-183.5 141,-189.5 135,-195.5 129,-195.5"/>
<text text-anchor="middle" x="70.5" y="-173.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__step_leader</text>
</g>
<!-- RaftCore__append_entry -->
<g id="node2" class="node">
<title>RaftCore__append_entry</title>
<path fill="none" stroke="#1c2123" d="M232.5,-227C232.5,-227 378.5,-227 378.5,-227 384.5,-227 390.5,-233 390.5,-239 390.5,-239 390.5,-276 390.5,-276 390.5,-282 384.5,-288 378.5,-288 378.5,-288 232.5,-288 232.5,-288 226.5,-288 220.5,-282 220.5,-276 220.5,-276 220.5,-239 220.5,-239 220.5,-233 226.5,-227 232.5,-227"/>
<text text-anchor="middle" x="305.5" y="-272.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__append_entry</text>
<polyline fill="none" stroke="#1c2123" points="220.5,-265 390.5,-265 "/>
<text text-anchor="start" x="228.5" y="-249.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">将log entry append到leader</text>
<text text-anchor="start" x="228.5" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 的raft log 上</text>
</g>
<!-- RaftCore__step_leader&#45;&gt;RaftCore__append_entry -->
<g id="edge1" class="edge">
<title>RaftCore__step_leader&#45;&gt;RaftCore__append_entry</title>
<path fill="none" stroke="#666666" d="M117.25,-195.51C135.72,-202.61 157.29,-210.68 177,-217.5 187.88,-221.26 199.32,-225.07 210.72,-228.76"/>
<polygon fill="#666666" stroke="#666666" points="209.67,-232.1 220.26,-231.84 211.81,-225.44 209.67,-232.1"/>
</g>
<!-- RaftCore__bcast_append -->
<g id="node3" class="node">
<title>RaftCore__bcast_append</title>
<path fill="none" stroke="#1c2123" d="M239,-147C239,-147 372,-147 372,-147 378,-147 384,-153 384,-159 384,-159 384,-196 384,-196 384,-202 378,-208 372,-208 372,-208 239,-208 239,-208 233,-208 227,-202 227,-196 227,-196 227,-159 227,-159 227,-153 233,-147 239,-147"/>
<text text-anchor="middle" x="305.5" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__bcast_append</text>
<polyline fill="none" stroke="#1c2123" points="227,-185 384,-185 "/>
<text text-anchor="start" x="235" y="-169.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">向progress tracker中的</text>
<text text-anchor="start" x="235" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 所有Pr发送AppendMsg</text>
</g>
<!-- RaftCore__step_leader&#45;&gt;RaftCore__bcast_append -->
<g id="edge2" class="edge">
<title>RaftCore__step_leader&#45;&gt;RaftCore__bcast_append</title>
<path fill="none" stroke="#666666" d="M141.09,-177.5C164.78,-177.5 191.58,-177.5 216.52,-177.5"/>
<polygon fill="#666666" stroke="#666666" points="216.71,-181 226.7,-177.5 216.7,-174 216.71,-181"/>
</g>
<!-- RaftCore__handle_append_response -->
<g id="node4" class="node">
<title>RaftCore__handle_append_response</title>
<path fill="none" stroke="#1c2123" d="M189,-37C189,-37 422,-37 422,-37 428,-37 434,-43 434,-49 434,-49 434,-116 434,-116 434,-122 428,-128 422,-128 422,-128 189,-128 189,-128 183,-128 177,-122 177,-116 177,-116 177,-49 177,-49 177,-43 183,-37 189,-37"/>
<text text-anchor="middle" x="305.5" y="-112.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__handle_append_response</text>
<polyline fill="none" stroke="#1c2123" points="177,-105 434,-105 "/>
<text text-anchor="start" x="185" y="-89.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">处理follower的append response</text>
<text text-anchor="start" x="185" y="-74.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> follower 可能reject了leader的AppendMsg</text>
<text text-anchor="start" x="185" y="-59.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 重新计算follower pr的next_idx</text>
<text text-anchor="start" x="185" y="-44.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 重新发送消息</text>
</g>
<!-- RaftCore__step_leader&#45;&gt;RaftCore__handle_append_response -->
<g id="edge3" class="edge">
<title>RaftCore__step_leader&#45;&gt;RaftCore__handle_append_response</title>
<path fill="none" stroke="#666666" d="M115.87,-159.41C135.22,-151.52 158.95,-141.84 182.96,-132.05"/>
<polygon fill="#666666" stroke="#666666" points="184.59,-135.17 192.53,-128.15 181.95,-128.69 184.59,-135.17"/>
</g>
<!-- RaftCore__send_append -->
<g id="node5" class="node">
<title>RaftCore__send_append</title>
<path fill="none" stroke="#1c2123" d="M614.5,-195.5C614.5,-195.5 488.5,-195.5 488.5,-195.5 482.5,-195.5 476.5,-189.5 476.5,-183.5 476.5,-183.5 476.5,-171.5 476.5,-171.5 476.5,-165.5 482.5,-159.5 488.5,-159.5 488.5,-159.5 614.5,-159.5 614.5,-159.5 620.5,-159.5 626.5,-165.5 626.5,-171.5 626.5,-171.5 626.5,-183.5 626.5,-183.5 626.5,-189.5 620.5,-195.5 614.5,-195.5"/>
<text text-anchor="middle" x="551.5" y="-173.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__send_append</text>
</g>
<!-- RaftCore__bcast_append&#45;&gt;RaftCore__send_append -->
<g id="edge4" class="edge">
<title>RaftCore__bcast_append&#45;&gt;RaftCore__send_append</title>
<path fill="none" stroke="#666666" d="M384.04,-177.5C410.27,-177.5 439.68,-177.5 466.4,-177.5"/>
<polygon fill="#666666" stroke="#666666" points="466.49,-181 476.49,-177.5 466.49,-174 466.49,-181"/>
</g>
<!-- RaftCore__handle_append_response&#45;&gt;RaftCore__send_append -->
<g id="edge13" class="edge">
<title>RaftCore__handle_append_response&#45;&gt;RaftCore__send_append</title>
<path fill="none" stroke="#666666" d="M423.5,-128.05C448.32,-137.72 473.41,-147.49 494.67,-155.76"/>
<polygon fill="#666666" stroke="#666666" points="493.56,-159.09 504.15,-159.45 496.1,-152.56 493.56,-159.09"/>
</g>
<!-- Progress__maybe_decr_to -->
<g id="node12" class="node">
<title>Progress__maybe_decr_to</title>
<path fill="none" stroke="#1c2123" d="M482,-52C482,-52 621,-52 621,-52 627,-52 633,-58 633,-64 633,-64 633,-101 633,-101 633,-107 627,-113 621,-113 621,-113 482,-113 482,-113 476,-113 470,-107 470,-101 470,-101 470,-64 470,-64 470,-58 476,-52 482,-52"/>
<text text-anchor="middle" x="551.5" y="-97.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Progress__maybe_decr_to</text>
<polyline fill="none" stroke="#1c2123" points="470,-90 633,-90 "/>
<text text-anchor="start" x="478" y="-74.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据follower的reject_hint</text>
<text text-anchor="start" x="478" y="-59.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 重新计算pr的next_idx</text>
</g>
<!-- RaftCore__handle_append_response&#45;&gt;Progress__maybe_decr_to -->
<g id="edge14" class="edge">
<title>RaftCore__handle_append_response&#45;&gt;Progress__maybe_decr_to</title>
<path fill="none" stroke="#666666" d="M434.22,-82.5C442.82,-82.5 451.39,-82.5 459.75,-82.5"/>
<polygon fill="#666666" stroke="#666666" points="459.83,-86 469.83,-82.5 459.83,-79 459.83,-86"/>
</g>
<!-- Progress__become_probe -->
<g id="node13" class="node">
<title>Progress__become_probe</title>
<path fill="none" stroke="#1c2123" d="M699.5,-0.5C699.5,-0.5 832.5,-0.5 832.5,-0.5 838.5,-0.5 844.5,-6.5 844.5,-12.5 844.5,-12.5 844.5,-34.5 844.5,-34.5 844.5,-40.5 838.5,-46.5 832.5,-46.5 832.5,-46.5 699.5,-46.5 699.5,-46.5 693.5,-46.5 687.5,-40.5 687.5,-34.5 687.5,-34.5 687.5,-12.5 687.5,-12.5 687.5,-6.5 693.5,-0.5 699.5,-0.5"/>
<text text-anchor="middle" x="766" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Progress__become_probe</text>
<polyline fill="none" stroke="#1c2123" points="687.5,-23.5 844.5,-23.5 "/>
<text text-anchor="start" x="695.5" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">进入probe状态</text>
</g>
<!-- RaftCore__handle_append_response&#45;&gt;Progress__become_probe -->
<g id="edge15" class="edge">
<title>RaftCore__handle_append_response&#45;&gt;Progress__become_probe</title>
<path fill="none" stroke="#666666" d="M434.15,-49C446.21,-46.52 458.3,-44.29 470,-42.5 539.17,-31.89 618.36,-27.2 677.26,-25.12"/>
<polygon fill="#666666" stroke="#666666" points="677.39,-28.62 687.27,-24.79 677.16,-21.62 677.39,-28.62"/>
</g>
<!-- RaftCore__maybe_send_append -->
<g id="node6" class="node">
<title>RaftCore__maybe_send_append</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M681,-190.5C681,-190.5 851,-190.5 851,-190.5 857,-190.5 863,-196.5 863,-202.5 863,-202.5 863,-254.5 863,-254.5 863,-260.5 857,-266.5 851,-266.5 851,-266.5 681,-266.5 681,-266.5 675,-266.5 669,-260.5 669,-254.5 669,-254.5 669,-202.5 669,-202.5 669,-196.5 675,-190.5 681,-190.5"/>
<text text-anchor="middle" x="766" y="-251.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">RaftCore__maybe_send_append</text>
<polyline fill="none" stroke="#8a8898" points="669,-243.5 863,-243.5 "/>
<text text-anchor="start" x="677" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">根据follower的Progress</text>
<text text-anchor="start" x="677" y="-213.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 发送log entry或者snapshot给</text>
<text text-anchor="start" x="677" y="-198.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> follower</text>
</g>
<!-- RaftCore__send_append&#45;&gt;RaftCore__maybe_send_append -->
<g id="edge5" class="edge">
<title>RaftCore__send_append&#45;&gt;RaftCore__maybe_send_append</title>
<path fill="none" stroke="#666666" d="M626.52,-195.27C636.98,-197.77 647.89,-200.39 658.81,-203.01"/>
<polygon fill="#666666" stroke="#666666" points="658.27,-206.49 668.82,-205.42 659.91,-199.68 658.27,-206.49"/>
</g>
<!-- Progress__next_idx -->
<g id="node7" class="node">
<title>Progress__next_idx</title>
<path fill="#feed9b" stroke="#f7e495" d="M1557,-198C1557,-198 1733,-198 1733,-198 1739,-198 1745,-204 1745,-210 1745,-210 1745,-247 1745,-247 1745,-253 1739,-259 1733,-259 1733,-259 1557,-259 1557,-259 1551,-259 1545,-253 1545,-247 1545,-247 1545,-210 1545,-210 1545,-204 1551,-198 1557,-198"/>
<text text-anchor="middle" x="1645" y="-243.8" font-family="Times,serif" font-size="14.00" fill="#40575d">Progress__next_idx</text>
<polyline fill="none" stroke="#f7e495" points="1545,-236 1745,-236 "/>
<text text-anchor="start" x="1553" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#40575d">决定了leader该从哪个log index</text>
<text text-anchor="start" x="1553" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> 发送日志给follower</text>
</g>
<!-- RaftCore__maybe_send_append&#45;&gt;Progress__next_idx -->
<g id="edge6" class="edge">
<title>RaftCore__maybe_send_append&#45;&gt;Progress__next_idx</title>
<path fill="none" stroke="#666666" d="M799.96,-266.61C824.4,-291.79 860.1,-322.61 899,-336.5 1132.79,-419.95 1429.78,-320.12 1567.48,-263.03"/>
<polygon fill="#666666" stroke="#666666" points="1569.25,-266.09 1577.12,-259 1566.54,-259.63 1569.25,-266.09"/>
</g>
<!-- RaftCore__prepare_send_snapshot -->
<g id="node8" class="node">
<title>RaftCore__prepare_send_snapshot</title>
<path fill="none" stroke="#1c2123" d="M1100,-327.5C1100,-327.5 918,-327.5 918,-327.5 912,-327.5 906,-321.5 906,-315.5 906,-315.5 906,-303.5 906,-303.5 906,-297.5 912,-291.5 918,-291.5 918,-291.5 1100,-291.5 1100,-291.5 1106,-291.5 1112,-297.5 1112,-303.5 1112,-303.5 1112,-315.5 1112,-315.5 1112,-321.5 1106,-327.5 1100,-327.5"/>
<text text-anchor="middle" x="1009" y="-305.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__prepare_send_snapshot</text>
</g>
<!-- RaftCore__maybe_send_append&#45;&gt;RaftCore__prepare_send_snapshot -->
<g id="edge7" class="edge">
<title>RaftCore__maybe_send_append&#45;&gt;RaftCore__prepare_send_snapshot</title>
<path fill="none" stroke="#666666" d="M855.1,-266.6C869.63,-272.29 884.64,-277.81 899,-282.5 905.54,-284.63 912.34,-286.69 919.22,-288.66"/>
<polygon fill="#666666" stroke="#666666" points="918.75,-292.16 929.32,-291.46 920.62,-285.41 918.75,-292.16"/>
</g>
<!-- RaftCore__prepare_send_entries -->
<g id="node9" class="node">
<title>RaftCore__prepare_send_entries</title>
<path fill="none" stroke="#1c2123" d="M1094,-273.5C1094,-273.5 924,-273.5 924,-273.5 918,-273.5 912,-267.5 912,-261.5 912,-261.5 912,-249.5 912,-249.5 912,-243.5 918,-237.5 924,-237.5 924,-237.5 1094,-237.5 1094,-237.5 1100,-237.5 1106,-243.5 1106,-249.5 1106,-249.5 1106,-261.5 1106,-261.5 1106,-267.5 1100,-273.5 1094,-273.5"/>
<text text-anchor="middle" x="1009" y="-251.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__prepare_send_entries</text>
</g>
<!-- RaftCore__maybe_send_append&#45;&gt;RaftCore__prepare_send_entries -->
<g id="edge8" class="edge">
<title>RaftCore__maybe_send_append&#45;&gt;RaftCore__prepare_send_entries</title>
<path fill="none" stroke="#666666" d="M863.29,-239.29C875.91,-240.7 888.9,-242.16 901.68,-243.59"/>
<polygon fill="#666666" stroke="#666666" points="901.54,-247.09 911.86,-244.73 902.32,-240.14 901.54,-247.09"/>
</g>
<!-- RaftCore__try_batching -->
<g id="node10" class="node">
<title>RaftCore__try_batching</title>
<path fill="none" stroke="#1c2123" d="M1071,-219.5C1071,-219.5 947,-219.5 947,-219.5 941,-219.5 935,-213.5 935,-207.5 935,-207.5 935,-195.5 935,-195.5 935,-189.5 941,-183.5 947,-183.5 947,-183.5 1071,-183.5 1071,-183.5 1077,-183.5 1083,-189.5 1083,-195.5 1083,-195.5 1083,-207.5 1083,-207.5 1083,-213.5 1077,-219.5 1071,-219.5"/>
<text text-anchor="middle" x="1009" y="-197.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftCore__try_batching</text>
</g>
<!-- RaftCore__maybe_send_append&#45;&gt;RaftCore__try_batching -->
<g id="edge9" class="edge">
<title>RaftCore__maybe_send_append&#45;&gt;RaftCore__try_batching</title>
<path fill="none" stroke="#666666" d="M863.29,-217.71C883.61,-215.44 904.89,-213.05 924.68,-210.83"/>
<polygon fill="#666666" stroke="#666666" points="925.34,-214.28 934.88,-209.69 924.56,-207.33 925.34,-214.28"/>
</g>
<!-- Progress__pending_request_snapshot -->
<g id="node11" class="node">
<title>Progress__pending_request_snapshot</title>
<path fill="#feed9b" stroke="#f7e495" d="M911,-104C911,-104 1107,-104 1107,-104 1113,-104 1119,-110 1119,-116 1119,-116 1119,-153 1119,-153 1119,-159 1113,-165 1107,-165 1107,-165 911,-165 911,-165 905,-165 899,-159 899,-153 899,-153 899,-116 899,-116 899,-110 905,-104 911,-104"/>
<text text-anchor="middle" x="1009" y="-149.8" font-family="Times,serif" font-size="14.00" fill="#40575d">Progress__pending_request_snapshot</text>
<polyline fill="none" stroke="#f7e495" points="899,-142 1119,-142 "/>
<text text-anchor="start" x="907" y="-126.8" font-family="Times,serif" font-size="14.00" fill="#40575d">follower log entry落后太多了</text>
<text text-anchor="start" x="907" y="-111.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> 需要leader发送snapshot过来</text>
</g>
<!-- RaftCore__maybe_send_append&#45;&gt;Progress__pending_request_snapshot -->
<g id="edge10" class="edge">
<title>RaftCore__maybe_send_append&#45;&gt;Progress__pending_request_snapshot</title>
<path fill="none" stroke="#666666" d="M858.79,-190.45C872.24,-185.02 885.96,-179.56 899,-174.5 903.99,-172.56 909.12,-170.6 914.31,-168.63"/>
<polygon fill="#666666" stroke="#666666" points="915.56,-171.9 923.68,-165.09 913.09,-165.35 915.56,-171.9"/>
</g>
<!-- Progress__update_state -->
<g id="node15" class="node">
<title>Progress__update_state</title>
<path fill="none" stroke="#1c2123" d="M1287,-246.5C1287,-246.5 1167,-246.5 1167,-246.5 1161,-246.5 1155,-240.5 1155,-234.5 1155,-234.5 1155,-222.5 1155,-222.5 1155,-216.5 1161,-210.5 1167,-210.5 1167,-210.5 1287,-210.5 1287,-210.5 1293,-210.5 1299,-216.5 1299,-222.5 1299,-222.5 1299,-234.5 1299,-234.5 1299,-240.5 1293,-246.5 1287,-246.5"/>
<text text-anchor="middle" x="1227" y="-224.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Progress__update_state</text>
</g>
<!-- RaftCore__prepare_send_entries&#45;&gt;Progress__update_state -->
<g id="edge17" class="edge">
<title>RaftCore__prepare_send_entries&#45;&gt;Progress__update_state</title>
<path fill="none" stroke="#666666" d="M1106.31,-243.46C1119.18,-241.85 1132.28,-240.21 1144.86,-238.64"/>
<polygon fill="#666666" stroke="#666666" points="1145.33,-242.11 1154.82,-237.4 1144.46,-235.17 1145.33,-242.11"/>
</g>
<!-- RaftCore__try_batching&#45;&gt;Progress__update_state -->
<g id="edge16" class="edge">
<title>RaftCore__try_batching&#45;&gt;Progress__update_state</title>
<path fill="none" stroke="#666666" d="M1083.13,-210.64C1102.92,-213.11 1124.45,-215.81 1144.66,-218.33"/>
<polygon fill="#666666" stroke="#666666" points="1144.42,-221.83 1154.78,-219.6 1145.29,-214.88 1144.42,-221.83"/>
</g>
<!-- Progress__maybe_decr_to&#45;&gt;Progress__next_idx -->
<g id="edge20" class="edge">
<title>Progress__maybe_decr_to&#45;&gt;Progress__next_idx</title>
<path fill="none" stroke="#666666" d="M633.13,-80.51C724.16,-78.44 876.71,-75.5 1008,-75.5 1008,-75.5 1008,-75.5 1228,-75.5 1363.23,-75.5 1508.82,-147.59 1586.83,-192.8"/>
<polygon fill="#666666" stroke="#666666" points="1585.15,-195.87 1595.55,-197.91 1588.68,-189.83 1585.15,-195.87"/>
</g>
<!-- Progress__maybe_decr_to&#45;&gt;Progress__pending_request_snapshot -->
<g id="edge11" class="edge">
<title>Progress__maybe_decr_to&#45;&gt;Progress__pending_request_snapshot</title>
<path fill="none" stroke="#666666" d="M633.15,-91.71C703.97,-99.79 807.95,-111.66 888.45,-120.85"/>
<polygon fill="#666666" stroke="#666666" points="888.31,-124.36 898.64,-122.02 889.1,-117.4 888.31,-124.36"/>
</g>
<!-- Progress__maybe_decr_to&#45;&gt;Progress__become_probe -->
<g id="edge12" class="edge">
<title>Progress__maybe_decr_to&#45;&gt;Progress__become_probe</title>
<path fill="none" stroke="#666666" d="M633.14,-60.11C647.55,-56.11 662.62,-51.93 677.21,-47.87"/>
<polygon fill="#666666" stroke="#666666" points="678.52,-51.14 687.22,-45.09 676.65,-44.4 678.52,-51.14"/>
</g>
<!-- Progress__optimistic_update -->
<g id="node14" class="node">
<title>Progress__optimistic_update</title>
<path fill="none" stroke="#1c2123" d="M1347,-198C1347,-198 1497,-198 1497,-198 1503,-198 1509,-204 1509,-210 1509,-210 1509,-247 1509,-247 1509,-253 1503,-259 1497,-259 1497,-259 1347,-259 1347,-259 1341,-259 1335,-253 1335,-247 1335,-247 1335,-210 1335,-210 1335,-204 1341,-198 1347,-198"/>
<text text-anchor="middle" x="1422" y="-243.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Progress__optimistic_update</text>
<polyline fill="none" stroke="#1c2123" points="1335,-236 1509,-236 "/>
<text text-anchor="start" x="1343" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">乐观的更新下一次开始要</text>
<text text-anchor="start" x="1343" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送的Log entry的idx</text>
</g>
<!-- Progress__optimistic_update&#45;&gt;Progress__next_idx -->
<g id="edge19" class="edge">
<title>Progress__optimistic_update&#45;&gt;Progress__next_idx</title>
<path fill="none" stroke="#666666" d="M1509.08,-228.5C1517.53,-228.5 1526.18,-228.5 1534.82,-228.5"/>
<polygon fill="#666666" stroke="#666666" points="1534.94,-232 1544.94,-228.5 1534.94,-225 1534.94,-232"/>
</g>
<!-- Progress__update_state&#45;&gt;Progress__optimistic_update -->
<g id="edge18" class="edge">
<title>Progress__update_state&#45;&gt;Progress__optimistic_update</title>
<path fill="none" stroke="#666666" d="M1299.04,-228.5C1307.39,-228.5 1316,-228.5 1324.62,-228.5"/>
<polygon fill="#666666" stroke="#666666" points="1324.72,-232 1334.72,-228.5 1324.72,-225 1324.72,-232"/>
</g>
</g>
</svg>
