<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: router_try_send Pages: 1 -->
<svg width="1505pt" height="847pt"
 viewBox="0.00 0.00 1505.00 847.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 843)">
<title>router_try_send</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-843 1501,-843 1501,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Fsm</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M957.5,-8C957.5,-8 1477,-8 1477,-8 1483,-8 1489,-14 1489,-20 1489,-20 1489,-238 1489,-238 1489,-244 1483,-250 1477,-250 1477,-250 957.5,-250 957.5,-250 951.5,-250 945.5,-244 945.5,-238 945.5,-238 945.5,-20 945.5,-20 945.5,-14 951.5,-8 957.5,-8"/>
<text text-anchor="middle" x="1217.25" y="-230" font-family="Times,serif" font-size="20.00">Fsm</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_mailbox</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M436.5,-258C436.5,-258 1137,-258 1137,-258 1143,-258 1149,-264 1149,-270 1149,-270 1149,-556 1149,-556 1149,-562 1143,-568 1137,-568 1137,-568 436.5,-568 436.5,-568 430.5,-568 424.5,-562 424.5,-556 424.5,-556 424.5,-270 424.5,-270 424.5,-264 430.5,-258 436.5,-258"/>
<text text-anchor="middle" x="786.75" y="-548" font-family="Times,serif" font-size="20.00">mailbox</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_FsmState</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M710,-368C710,-368 1129,-368 1129,-368 1135,-368 1141,-374 1141,-380 1141,-380 1141,-518 1141,-518 1141,-524 1135,-530 1129,-530 1129,-530 710,-530 710,-530 704,-530 698,-524 698,-518 698,-518 698,-380 698,-380 698,-374 704,-368 710,-368"/>
<text text-anchor="middle" x="919.5" y="-510" font-family="Times,serif" font-size="20.00">FsmState</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_Router</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-576C20,-576 859,-576 859,-576 865,-576 871,-582 871,-588 871,-588 871,-819 871,-819 871,-825 865,-831 859,-831 859,-831 20,-831 20,-831 14,-831 8,-825 8,-819 8,-819 8,-588 8,-588 8,-582 14,-576 20,-576"/>
<text text-anchor="middle" x="439.5" y="-811" font-family="Times,serif" font-size="20.00">Router</text>
</g>
<!-- set_mailbox -->
<g id="node1" class="node">
<title>set_mailbox</title>
<path fill="none" stroke="#1c2123" d="M965.5,-146.5C965.5,-146.5 1095.5,-146.5 1095.5,-146.5 1101.5,-146.5 1107.5,-152.5 1107.5,-158.5 1107.5,-158.5 1107.5,-195.5 1107.5,-195.5 1107.5,-201.5 1101.5,-207.5 1095.5,-207.5 1095.5,-207.5 965.5,-207.5 965.5,-207.5 959.5,-207.5 953.5,-201.5 953.5,-195.5 953.5,-195.5 953.5,-158.5 953.5,-158.5 953.5,-152.5 959.5,-146.5 965.5,-146.5"/>
<text text-anchor="middle" x="1030.5" y="-192.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">set_mailbox</text>
<polyline fill="none" stroke="#1c2123" points="953.5,-184.5 1107.5,-184.5 "/>
<text text-anchor="start" x="961.5" y="-169.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">给fsm设置一个mailbox</text>
<text text-anchor="start" x="961.5" y="-154.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 用来给自己发消息</text>
</g>
<!-- PeerFsm -->
<g id="node2" class="node">
<title>PeerFsm</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1215.5,-16.5C1215.5,-16.5 1434.5,-16.5 1434.5,-16.5 1440.5,-16.5 1446.5,-22.5 1446.5,-28.5 1446.5,-28.5 1446.5,-111.5 1446.5,-111.5 1446.5,-117.5 1440.5,-123.5 1434.5,-123.5 1434.5,-123.5 1215.5,-123.5 1215.5,-123.5 1209.5,-123.5 1203.5,-117.5 1203.5,-111.5 1203.5,-111.5 1203.5,-28.5 1203.5,-28.5 1203.5,-22.5 1209.5,-16.5 1215.5,-16.5"/>
<text text-anchor="middle" x="1325" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">PeerFsm</text>
<polyline fill="none" stroke="#60b5ac" points="1203.5,-100.5 1446.5,-100.5 "/>
<text text-anchor="start" x="1211.5" y="-85.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mailbox: Option&lt;BasicMailbox</text>
<text text-anchor="start" x="1211.5" y="-70.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> &lt;PeerFsm&lt;EK, ER&gt;&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="1203.5,-62.5 1446.5,-62.5 "/>
<text text-anchor="start" x="1211.5" y="-47.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub receiver: Receiver&lt;PeerMsg&lt;EK&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="1203.5,-39.5 1446.5,-39.5 "/>
<text text-anchor="middle" x="1325" y="-24.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
</g>
<!-- set_mailbox&#45;&gt;PeerFsm -->
<g id="edge1" class="edge">
<title>set_mailbox&#45;&gt;PeerFsm</title>
<path fill="none" stroke="#666666" d="M1107.59,-149.17C1133.94,-139.53 1164.26,-128.43 1193.72,-117.66"/>
<polygon fill="#666666" stroke="#666666" points="1195.06,-120.9 1203.25,-114.17 1192.65,-114.32 1195.06,-120.9"/>
</g>
<!-- ApplyFsm -->
<g id="node3" class="node">
<title>ApplyFsm</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1181,-142.5C1181,-142.5 1469,-142.5 1469,-142.5 1475,-142.5 1481,-148.5 1481,-154.5 1481,-154.5 1481,-199.5 1481,-199.5 1481,-205.5 1475,-211.5 1469,-211.5 1469,-211.5 1181,-211.5 1181,-211.5 1175,-211.5 1169,-205.5 1169,-199.5 1169,-199.5 1169,-154.5 1169,-154.5 1169,-148.5 1175,-142.5 1181,-142.5"/>
<text text-anchor="middle" x="1325" y="-196.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">ApplyFsm</text>
<polyline fill="none" stroke="#60b5ac" points="1169,-188.5 1481,-188.5 "/>
<polyline fill="none" stroke="#60b5ac" points="1169,-188.5 1481,-188.5 "/>
<text text-anchor="start" x="1177" y="-173.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">receiver: Receiver&lt;Msg&lt;EK&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="1169,-165.5 1481,-165.5 "/>
<text text-anchor="start" x="1177" y="-150.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mailbox: Option&lt;BasicMailbox&lt;ApplyFsm&lt;EK&gt;&gt;&gt;,</text>
</g>
<!-- set_mailbox&#45;&gt;ApplyFsm -->
<g id="edge2" class="edge">
<title>set_mailbox&#45;&gt;ApplyFsm</title>
<path fill="none" stroke="#666666" d="M1107.59,-177C1123.44,-177 1140.72,-177 1158.4,-177"/>
<polygon fill="#666666" stroke="#666666" points="1158.84,-180.5 1168.84,-177 1158.84,-173.5 1158.84,-180.5"/>
</g>
<!-- sender_try_send -->
<g id="node4" class="node">
<title>sender_try_send</title>
<path fill="none" stroke="#1c2123" d="M956.5,-266.5C956.5,-266.5 1104.5,-266.5 1104.5,-266.5 1110.5,-266.5 1116.5,-272.5 1116.5,-278.5 1116.5,-278.5 1116.5,-345.5 1116.5,-345.5 1116.5,-351.5 1110.5,-357.5 1104.5,-357.5 1104.5,-357.5 956.5,-357.5 956.5,-357.5 950.5,-357.5 944.5,-351.5 944.5,-345.5 944.5,-345.5 944.5,-278.5 944.5,-278.5 944.5,-272.5 950.5,-266.5 956.5,-266.5"/>
<text text-anchor="middle" x="1030.5" y="-342.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">self.sender.try_send</text>
<polyline fill="none" stroke="#1c2123" points="944.5,-334.5 1116.5,-334.5 "/>
<text text-anchor="start" x="952.5" y="-319.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">mailbox自己的sender</text>
<text text-anchor="start" x="952.5" y="-304.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发消息给fsm的reciver</text>
<text text-anchor="start" x="952.5" y="-289.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> poller在handle_normal时</text>
<text text-anchor="start" x="952.5" y="-274.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 会从该reciver中接收消息</text>
</g>
<!-- sender_try_send&#45;&gt;PeerFsm -->
<g id="edge3" class="edge">
<title>sender_try_send&#45;&gt;PeerFsm</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1116.6,-282.44C1129.01,-274.87 1140.46,-265.51 1149,-254 1181.47,-210.22 1134.97,-175.58 1169,-133 1176.22,-123.96 1184.95,-116.21 1194.54,-109.57"/>
<polygon fill="green" stroke="green" points="1196.66,-112.36 1203.17,-104.01 1192.87,-106.48 1196.66,-112.36"/>
</g>
<!-- sender_try_send&#45;&gt;ApplyFsm -->
<g id="edge4" class="edge">
<title>sender_try_send&#45;&gt;ApplyFsm</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1116.89,-272.59C1155.6,-254.72 1201.24,-233.66 1239.81,-215.85"/>
<polygon fill="green" stroke="green" points="1241.33,-219.01 1248.95,-211.64 1238.4,-212.65 1241.33,-219.01"/>
</g>
<!-- mailbox_try_send -->
<g id="node5" class="node">
<title>mailbox_try_send</title>
<path fill="none" stroke="#1c2123" d="M444.5,-413.5C444.5,-413.5 655.5,-413.5 655.5,-413.5 661.5,-413.5 667.5,-419.5 667.5,-425.5 667.5,-425.5 667.5,-492.5 667.5,-492.5 667.5,-498.5 661.5,-504.5 655.5,-504.5 655.5,-504.5 444.5,-504.5 444.5,-504.5 438.5,-504.5 432.5,-498.5 432.5,-492.5 432.5,-492.5 432.5,-425.5 432.5,-425.5 432.5,-419.5 438.5,-413.5 444.5,-413.5"/>
<text text-anchor="middle" x="550" y="-489.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">try_send</text>
<polyline fill="none" stroke="#1c2123" points="432.5,-481.5 667.5,-481.5 "/>
<text text-anchor="start" x="440.5" y="-466.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送消息给fsm的reciver</text>
<text text-anchor="start" x="440.5" y="-451.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并且使用state notify</text>
<text text-anchor="start" x="440.5" y="-436.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送消息给BatchSystem.reciver</text>
<text text-anchor="start" x="440.5" y="-421.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 这样poller fetch_fsm 能够取到该fsm</text>
</g>
<!-- mailbox_try_send&#45;&gt;sender_try_send -->
<g id="edge5" class="edge">
<title>mailbox_try_send&#45;&gt;sender_try_send</title>
<path fill="none" stroke="#666666" d="M609.08,-413.42C634.95,-395.31 666.63,-375.97 698,-364 774.23,-334.9 866.27,-322.08 934.01,-316.43"/>
<polygon fill="#666666" stroke="#666666" points="934.55,-319.9 944.25,-315.62 934,-312.92 934.55,-319.9"/>
</g>
<!-- notify -->
<g id="node6" class="node">
<title>notify</title>
<path fill="none" stroke="#1c2123" d="M718,-388.5C718,-388.5 880,-388.5 880,-388.5 886,-388.5 892,-394.5 892,-400.5 892,-400.5 892,-467.5 892,-467.5 892,-473.5 886,-479.5 880,-479.5 880,-479.5 718,-479.5 718,-479.5 712,-479.5 706,-473.5 706,-467.5 706,-467.5 706,-400.5 706,-400.5 706,-394.5 712,-388.5 718,-388.5"/>
<text text-anchor="middle" x="799" y="-464.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">notify</text>
<polyline fill="none" stroke="#1c2123" points="706,-456.5 892,-456.5 "/>
<text text-anchor="start" x="714" y="-441.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果为IDLE状态，</text>
<text text-anchor="start" x="714" y="-426.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 将状态改为NOTIFIED</text>
<text text-anchor="start" x="714" y="-411.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 然后使用传过来的scheduler</text>
<text text-anchor="start" x="714" y="-396.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发消息</text>
</g>
<!-- mailbox_try_send&#45;&gt;notify -->
<g id="edge6" class="edge">
<title>mailbox_try_send&#45;&gt;notify</title>
<path fill="none" stroke="#666666" d="M667.63,-447.2C677.08,-446.24 686.58,-445.28 695.91,-444.33"/>
<polygon fill="#666666" stroke="#666666" points="696.37,-447.8 705.96,-443.32 695.66,-440.84 696.37,-447.8"/>
</g>
<!-- notify&#45;&gt;set_mailbox -->
<g id="edge7" class="edge">
<title>notify&#45;&gt;set_mailbox</title>
<path fill="none" stroke="#666666" d="M827.07,-388.21C850.9,-349.99 887.96,-295.29 928,-254 942.03,-239.53 958.93,-225.61 974.88,-213.67"/>
<polygon fill="#666666" stroke="#666666" points="977.13,-216.36 983.12,-207.62 972.99,-210.72 977.13,-216.36"/>
</g>
<!-- take_fsm -->
<g id="node7" class="node">
<title>take_fsm</title>
<path fill="none" stroke="#1c2123" d="M1052,-412C1052,-412 1009,-412 1009,-412 1003,-412 997,-406 997,-400 997,-400 997,-388 997,-388 997,-382 1003,-376 1009,-376 1009,-376 1052,-376 1052,-376 1058,-376 1064,-382 1064,-388 1064,-388 1064,-400 1064,-400 1064,-406 1058,-412 1052,-412"/>
<text text-anchor="middle" x="1030.5" y="-390.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">take_fsm</text>
</g>
<!-- notify&#45;&gt;take_fsm -->
<g id="edge8" class="edge">
<title>notify&#45;&gt;take_fsm</title>
<path fill="none" stroke="#666666" d="M892.02,-417.96C924.72,-412.26 959.98,-406.12 986.61,-401.48"/>
<polygon fill="#666666" stroke="#666666" points="987.48,-404.88 996.73,-399.71 986.27,-397.98 987.48,-404.88"/>
</g>
<!-- scheduler_schedule -->
<g id="node8" class="node">
<title>scheduler_schedule</title>
<path fill="none" stroke="#1c2123" d="M940,-430.5C940,-430.5 1121,-430.5 1121,-430.5 1127,-430.5 1133,-436.5 1133,-442.5 1133,-442.5 1133,-479.5 1133,-479.5 1133,-485.5 1127,-491.5 1121,-491.5 1121,-491.5 940,-491.5 940,-491.5 934,-491.5 928,-485.5 928,-479.5 928,-479.5 928,-442.5 928,-442.5 928,-436.5 934,-430.5 940,-430.5"/>
<text text-anchor="middle" x="1030.5" y="-476.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">scheduler.schdule</text>
<polyline fill="none" stroke="#1c2123" points="928,-468.5 1133,-468.5 "/>
<text text-anchor="start" x="936" y="-453.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">使用FsmTypes包装fsm box指针</text>
<text text-anchor="start" x="936" y="-438.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送消息给BatchSystem.reciver</text>
</g>
<!-- notify&#45;&gt;scheduler_schedule -->
<g id="edge9" class="edge">
<title>notify&#45;&gt;scheduler_schedule</title>
<path fill="none" stroke="#666666" d="M892.02,-444.83C900.45,-445.82 909.05,-446.83 917.62,-447.84"/>
<polygon fill="#666666" stroke="#666666" points="917.32,-451.33 927.66,-449.02 918.14,-444.37 917.32,-451.33"/>
</g>
<!-- BatchSystem -->
<g id="node9" class="node">
<title>BatchSystem</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1194.5,-415C1194.5,-415 1455.5,-415 1455.5,-415 1461.5,-415 1467.5,-421 1467.5,-427 1467.5,-427 1467.5,-495 1467.5,-495 1467.5,-501 1461.5,-507 1455.5,-507 1455.5,-507 1194.5,-507 1194.5,-507 1188.5,-507 1182.5,-501 1182.5,-495 1182.5,-495 1182.5,-427 1182.5,-427 1182.5,-421 1188.5,-415 1194.5,-415"/>
<text text-anchor="middle" x="1325" y="-491.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">BatchSystem</text>
<polyline fill="none" stroke="#60b5ac" points="1182.5,-484 1467.5,-484 "/>
<text text-anchor="start" x="1190.5" y="-468.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">router: BatchRouter&lt;N, C&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="1182.5,-461 1467.5,-461 "/>
<text text-anchor="start" x="1190.5" y="-445.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">receiver: channel::Receiver&lt;FsmTypes&lt;N, C&gt;&gt;,</text>
<polyline fill="none" stroke="#60b5ac" points="1182.5,-438 1467.5,-438 "/>
<text text-anchor="middle" x="1325" y="-422.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
</g>
<!-- scheduler_schedule&#45;&gt;BatchSystem -->
<g id="edge10" class="edge">
<title>scheduler_schedule&#45;&gt;BatchSystem:reciever</title>
<path fill="none" stroke="#666666" d="M1133.33,-461C1145.99,-461 1159.15,-461 1172.38,-461"/>
<polygon fill="#666666" stroke="#666666" points="1172.5,-464.5 1182.5,-461 1172.5,-457.5 1172.5,-464.5"/>
</g>
<!-- try_send -->
<g id="node10" class="node">
<title>try_send</title>
<path fill="none" stroke="#1c2123" d="M28,-608C28,-608 117,-608 117,-608 123,-608 129,-614 129,-620 129,-620 129,-642 129,-642 129,-648 123,-654 117,-654 117,-654 28,-654 28,-654 22,-654 16,-648 16,-642 16,-642 16,-620 16,-620 16,-614 22,-608 28,-608"/>
<text text-anchor="middle" x="72.5" y="-638.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">try_send</text>
<polyline fill="none" stroke="#1c2123" points="16,-631 129,-631 "/>
<text text-anchor="start" x="24" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">发送normal消息</text>
</g>
<!-- try_send&#45;&gt;mailbox_try_send -->
<g id="edge11" class="edge">
<title>try_send&#45;&gt;mailbox_try_send</title>
<path fill="none" stroke="#666666" d="M107.61,-607.76C124.37,-597.06 145.19,-584.81 165,-576 248.03,-539.07 346.11,-509.41 422.36,-489.19"/>
<polygon fill="#666666" stroke="#666666" points="423.71,-492.45 432.49,-486.52 421.93,-485.68 423.71,-492.45"/>
</g>
<!-- check_do -->
<g id="node11" class="node">
<title>check_do</title>
<path fill="none" stroke="#1c2123" d="M177,-585.5C177,-585.5 382,-585.5 382,-585.5 388,-585.5 394,-591.5 394,-597.5 394,-597.5 394,-664.5 394,-664.5 394,-670.5 388,-676.5 382,-676.5 382,-676.5 177,-676.5 177,-676.5 171,-676.5 165,-670.5 165,-664.5 165,-664.5 165,-597.5 165,-597.5 165,-591.5 171,-585.5 177,-585.5"/>
<text text-anchor="middle" x="279.5" y="-661.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_do</text>
<polyline fill="none" stroke="#1c2123" points="165,-653.5 394,-653.5 "/>
<text text-anchor="start" x="173" y="-638.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据region addr, 从normals</text>
<text text-anchor="start" x="173" y="-623.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> HashMaps, normals找到fsm mailbox</text>
<text text-anchor="start" x="173" y="-608.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 这个地方所lock</text>
<text text-anchor="start" x="173" y="-593.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 所以加了一层cache</text>
</g>
<!-- try_send&#45;&gt;check_do -->
<g id="edge12" class="edge">
<title>try_send&#45;&gt;check_do</title>
<path fill="none" stroke="#666666" d="M129.25,-631C137.34,-631 145.94,-631 154.75,-631"/>
<polygon fill="#666666" stroke="#666666" points="154.78,-634.5 164.78,-631 154.78,-627.5 154.78,-634.5"/>
</g>
<!-- normal_scheduler -->
<g id="node12" class="node">
<title>normal_scheduler</title>
<path fill="none" stroke="#1c2123" d="M747,-650C747,-650 851,-650 851,-650 857,-650 863,-656 863,-662 863,-662 863,-714 863,-714 863,-720 857,-726 851,-726 851,-726 747,-726 747,-726 741,-726 735,-720 735,-714 735,-714 735,-662 735,-662 735,-656 741,-650 747,-650"/>
<text text-anchor="middle" x="799" y="-710.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">normal_scheduler</text>
<polyline fill="none" stroke="#1c2123" points="735,-703 863,-703 "/>
<text text-anchor="start" x="743" y="-687.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">将normal_scheduler</text>
<text text-anchor="start" x="743" y="-672.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 传给mailbox</text>
<text text-anchor="start" x="743" y="-657.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 用来notify</text>
</g>
<!-- try_send&#45;&gt;normal_scheduler -->
<g id="edge13" class="edge">
<title>try_send&#45;&gt;normal_scheduler</title>
<path fill="none" stroke="#666666" d="M108.28,-654C125.02,-664.53 145.62,-676.69 165,-686 275.85,-739.24 303.45,-760.33 424.5,-782 531.9,-801.23 566.32,-815.98 670,-782 700.35,-772.05 729.44,-751.86 752.2,-732.73"/>
<polygon fill="#666666" stroke="#666666" points="754.69,-735.21 759.98,-726.03 750.12,-729.91 754.69,-735.21"/>
</g>
<!-- check_do&#45;&gt;mailbox_try_send -->
<g id="edge15" class="edge">
<title>check_do&#45;&gt;mailbox_try_send</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M351.75,-585.36C387.85,-562.23 431.81,-534.07 469.06,-510.21"/>
<polygon fill="green" stroke="green" points="471.35,-512.9 477.89,-504.56 467.58,-507 471.35,-512.9"/>
</g>
<!-- caches -->
<g id="node13" class="node">
<title>caches</title>
<path fill="#feed9b" stroke="#f7e495" d="M499,-696C499,-696 601,-696 601,-696 607,-696 613,-702 613,-708 613,-708 613,-760 613,-760 613,-766 607,-772 601,-772 601,-772 499,-772 499,-772 493,-772 487,-766 487,-760 487,-760 487,-708 487,-708 487,-702 493,-696 499,-696"/>
<text text-anchor="middle" x="550" y="-756.8" font-family="Times,serif" font-size="14.00" fill="#40575d">caches</text>
<polyline fill="none" stroke="#f7e495" points="487,-749 613,-749 "/>
<text text-anchor="start" x="495" y="-733.8" font-family="Times,serif" font-size="14.00" fill="#40575d">放入LRU caches中</text>
<text text-anchor="start" x="495" y="-718.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> caches怎么考虑</text>
<text text-anchor="start" x="495" y="-703.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> 失效的问题？</text>
</g>
<!-- check_do&#45;&gt;caches -->
<g id="edge16" class="edge">
<title>check_do&#45;&gt;caches</title>
<path fill="none" stroke="#666666" d="M394.04,-675.28C404.34,-679.25 414.61,-683.21 424.5,-687 441.61,-693.56 460.07,-700.56 477.4,-707.11"/>
<polygon fill="#666666" stroke="#666666" points="476.3,-710.44 486.89,-710.69 478.77,-703.89 476.3,-710.44"/>
</g>
<!-- normals_lock -->
<g id="node14" class="node">
<title>normals_lock</title>
<path fill="none" stroke="#1c2123" d="M442,-585C442,-585 658,-585 658,-585 664,-585 670,-591 670,-597 670,-597 670,-665 670,-665 670,-671 664,-677 658,-677 658,-677 442,-677 442,-677 436,-677 430,-671 430,-665 430,-665 430,-597 430,-597 430,-591 436,-585 442,-585"/>
<text text-anchor="middle" x="550" y="-661.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">normals_lock</text>
<polyline fill="none" stroke="#1c2123" points="430,-654 670,-654 "/>
<text text-anchor="start" x="438" y="-638.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">let mut boxes = normals.lock().unwrap()</text>
<polyline fill="none" stroke="#1c2123" points="430,-631 670,-631 "/>
<text text-anchor="start" x="438" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">let b = match boxes.get_mut(&amp;addr)</text>
<polyline fill="none" stroke="#1c2123" points="430,-608 670,-608 "/>
<text text-anchor="start" x="438" y="-592.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">从normals中获取addr对应mailbox</text>
</g>
<!-- check_do&#45;&gt;normals_lock -->
<g id="edge17" class="edge">
<title>check_do&#45;&gt;normals_lock</title>
<path fill="none" stroke="#666666" d="M394.37,-631C402.7,-631 411.14,-631 419.55,-631"/>
<polygon fill="#666666" stroke="#666666" points="419.8,-634.5 429.8,-631 419.8,-627.5 419.8,-634.5"/>
</g>
<!-- normal_scheduler&#45;&gt;scheduler_schedule -->
<g id="edge14" class="edge">
<title>normal_scheduler&#45;&gt;scheduler_schedule</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M838.67,-649.75C881.09,-607.79 948.76,-540.86 991.08,-499.01"/>
<polygon fill="green" stroke="green" points="993.77,-501.27 998.41,-491.75 988.84,-496.29 993.77,-501.27"/>
</g>
</g>
</svg>
