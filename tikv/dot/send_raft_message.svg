<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: send_raft_message Pages: 1 -->
<svg width="1669pt" height="417pt"
 viewBox="0.00 0.00 1669.00 416.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 412.5)">
<title>send_raft_message</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-412.5 1665,-412.5 1665,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M701,-144.5C701,-144.5 1406,-144.5 1406,-144.5 1412,-144.5 1418,-150.5 1418,-156.5 1418,-156.5 1418,-388.5 1418,-388.5 1418,-394.5 1412,-400.5 1406,-400.5 1406,-400.5 701,-400.5 701,-400.5 695,-400.5 689,-394.5 689,-388.5 689,-388.5 689,-156.5 689,-156.5 689,-150.5 695,-144.5 701,-144.5"/>
<text text-anchor="middle" x="1053.5" y="-380.5" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_raft</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M903,-164.5C903,-164.5 1071,-164.5 1071,-164.5 1077,-164.5 1083,-170.5 1083,-176.5 1083,-176.5 1083,-340.5 1083,-340.5 1083,-346.5 1077,-352.5 1071,-352.5 1071,-352.5 903,-352.5 903,-352.5 897,-352.5 891,-346.5 891,-340.5 891,-340.5 891,-176.5 891,-176.5 891,-170.5 897,-164.5 903,-164.5"/>
<text text-anchor="middle" x="987" y="-332.5" font-family="Times,serif" font-size="20.00">raft</text>
</g>
<!-- send -->
<g id="node1" class="node">
<title>send</title>
<path fill="none" stroke="#1c2123" d="M1599,-220.5C1599,-220.5 1648,-220.5 1648,-220.5 1654,-220.5 1660,-226.5 1660,-232.5 1660,-232.5 1660,-254.5 1660,-254.5 1660,-260.5 1654,-266.5 1648,-266.5 1648,-266.5 1599,-266.5 1599,-266.5 1593,-266.5 1587,-260.5 1587,-254.5 1587,-254.5 1587,-232.5 1587,-232.5 1587,-226.5 1593,-220.5 1599,-220.5"/>
<text text-anchor="middle" x="1623.5" y="-251.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftClient</text>
<polyline fill="none" stroke="#1c2123" points="1587,-243.5 1660,-243.5 "/>
<text text-anchor="middle" x="1623.5" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
</g>
<!-- flush -->
<g id="node2" class="node">
<title>flush</title>
<path fill="none" stroke="#1c2123" d="M1599,-77.5C1599,-77.5 1648,-77.5 1648,-77.5 1654,-77.5 1660,-83.5 1660,-89.5 1660,-89.5 1660,-111.5 1660,-111.5 1660,-117.5 1654,-123.5 1648,-123.5 1648,-123.5 1599,-123.5 1599,-123.5 1593,-123.5 1587,-117.5 1587,-111.5 1587,-111.5 1587,-89.5 1587,-89.5 1587,-83.5 1593,-77.5 1599,-77.5"/>
<text text-anchor="middle" x="1623.5" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftClient</text>
<polyline fill="none" stroke="#1c2123" points="1587,-100.5 1660,-100.5 "/>
<text text-anchor="middle" x="1623.5" y="-85.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">flush</text>
</g>
<!-- need_flush -->
<g id="node3" class="node">
<title>need_flush</title>
<path fill="none" stroke="#1c2123" d="M1598,-0.5C1598,-0.5 1649,-0.5 1649,-0.5 1655,-0.5 1661,-6.5 1661,-12.5 1661,-12.5 1661,-34.5 1661,-34.5 1661,-40.5 1655,-46.5 1649,-46.5 1649,-46.5 1598,-46.5 1598,-46.5 1592,-46.5 1586,-40.5 1586,-34.5 1586,-34.5 1586,-12.5 1586,-12.5 1586,-6.5 1592,-0.5 1598,-0.5"/>
<text text-anchor="middle" x="1623.5" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftClient</text>
<polyline fill="none" stroke="#1c2123" points="1586,-23.5 1661,-23.5 "/>
<text text-anchor="middle" x="1623.5" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">need_flush</text>
</g>
<!-- ServerTransport_send -->
<g id="node4" class="node">
<title>ServerTransport_send</title>
<path fill="none" stroke="#1c2123" d="M1458,-220.5C1458,-220.5 1538,-220.5 1538,-220.5 1544,-220.5 1550,-226.5 1550,-232.5 1550,-232.5 1550,-254.5 1550,-254.5 1550,-260.5 1544,-266.5 1538,-266.5 1538,-266.5 1458,-266.5 1458,-266.5 1452,-266.5 1446,-260.5 1446,-254.5 1446,-254.5 1446,-232.5 1446,-232.5 1446,-226.5 1452,-220.5 1458,-220.5"/>
<text text-anchor="middle" x="1498" y="-251.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport</text>
<polyline fill="none" stroke="#1c2123" points="1446,-243.5 1550,-243.5 "/>
<text text-anchor="middle" x="1498" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
</g>
<!-- ServerTransport_send&#45;&gt;send -->
<g id="edge1" class="edge">
<title>ServerTransport_send&#45;&gt;send</title>
<path fill="none" stroke="#666666" d="M1550.3,-243.5C1559.07,-243.5 1568.12,-243.5 1576.73,-243.5"/>
<polygon fill="#666666" stroke="#666666" points="1576.96,-247 1586.96,-243.5 1576.96,-240 1576.96,-247"/>
</g>
<!-- ServerTransport_flush -->
<g id="node5" class="node">
<title>ServerTransport_flush</title>
<path fill="none" stroke="#1c2123" d="M1458,-77.5C1458,-77.5 1538,-77.5 1538,-77.5 1544,-77.5 1550,-83.5 1550,-89.5 1550,-89.5 1550,-111.5 1550,-111.5 1550,-117.5 1544,-123.5 1538,-123.5 1538,-123.5 1458,-123.5 1458,-123.5 1452,-123.5 1446,-117.5 1446,-111.5 1446,-111.5 1446,-89.5 1446,-89.5 1446,-83.5 1452,-77.5 1458,-77.5"/>
<text text-anchor="middle" x="1498" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport</text>
<polyline fill="none" stroke="#1c2123" points="1446,-100.5 1550,-100.5 "/>
<text text-anchor="middle" x="1498" y="-85.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">flush</text>
</g>
<!-- ServerTransport_flush&#45;&gt;flush -->
<g id="edge2" class="edge">
<title>ServerTransport_flush&#45;&gt;flush</title>
<path fill="none" stroke="#666666" d="M1550.3,-100.5C1559.07,-100.5 1568.12,-100.5 1576.73,-100.5"/>
<polygon fill="#666666" stroke="#666666" points="1576.96,-104 1586.96,-100.5 1576.96,-97 1576.96,-104"/>
</g>
<!-- ServerTransport_need_flush -->
<g id="node6" class="node">
<title>ServerTransport_need_flush</title>
<path fill="none" stroke="#1c2123" d="M1458,-0.5C1458,-0.5 1538,-0.5 1538,-0.5 1544,-0.5 1550,-6.5 1550,-12.5 1550,-12.5 1550,-34.5 1550,-34.5 1550,-40.5 1544,-46.5 1538,-46.5 1538,-46.5 1458,-46.5 1458,-46.5 1452,-46.5 1446,-40.5 1446,-34.5 1446,-34.5 1446,-12.5 1446,-12.5 1446,-6.5 1452,-0.5 1458,-0.5"/>
<text text-anchor="middle" x="1498" y="-31.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerTransport</text>
<polyline fill="none" stroke="#1c2123" points="1446,-23.5 1550,-23.5 "/>
<text text-anchor="middle" x="1498" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">need_flush</text>
</g>
<!-- ServerTransport_need_flush&#45;&gt;need_flush -->
<g id="edge3" class="edge">
<title>ServerTransport_need_flush&#45;&gt;need_flush</title>
<path fill="none" stroke="#666666" d="M1550.3,-23.5C1558.69,-23.5 1567.34,-23.5 1575.62,-23.5"/>
<polygon fill="#666666" stroke="#666666" points="1575.85,-27 1585.85,-23.5 1575.85,-20 1575.85,-27"/>
</g>
<!-- ready -->
<g id="node7" class="node">
<title>ready</title>
<path fill="none" stroke="#1c2123" d="M911,-253C911,-253 1063,-253 1063,-253 1069,-253 1075,-259 1075,-265 1075,-265 1075,-302 1075,-302 1075,-308 1069,-314 1063,-314 1063,-314 911,-314 911,-314 905,-314 899,-308 899,-302 899,-302 899,-265 899,-265 899,-259 905,-253 911,-253"/>
<text text-anchor="middle" x="987" y="-298.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">ready</text>
<polyline fill="none" stroke="#1c2123" points="899,-291 1075,-291 "/>
<text text-anchor="start" x="907" y="-275.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_group.ready()</text>
<text text-anchor="start" x="907" y="-260.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取raft要发送的messages</text>
</g>
<!-- Peer_send -->
<g id="node9" class="node">
<title>Peer_send</title>
<path fill="none" stroke="#1c2123" d="M1123,-213C1123,-213 1219,-213 1219,-213 1225,-213 1231,-219 1231,-225 1231,-225 1231,-262 1231,-262 1231,-268 1225,-274 1219,-274 1219,-274 1123,-274 1123,-274 1117,-274 1111,-268 1111,-262 1111,-262 1111,-225 1111,-225 1111,-219 1117,-213 1123,-213"/>
<text text-anchor="middle" x="1171" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
<polyline fill="none" stroke="#1c2123" points="1111,-251 1231,-251 "/>
<text text-anchor="start" x="1119" y="-235.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">遍历messages</text>
<text text-anchor="start" x="1119" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 发送每一条消息</text>
</g>
<!-- ready&#45;&gt;Peer_send -->
<g id="edge4" class="edge">
<title>ready&#45;&gt;Peer_send</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1075,-264.38C1083.74,-262.46 1092.52,-260.53 1101.04,-258.66"/>
<polygon fill="green" stroke="green" points="1101.87,-262.06 1110.88,-256.49 1100.37,-255.22 1101.87,-262.06"/>
</g>
<!-- advance_append -->
<g id="node8" class="node">
<title>advance_append</title>
<path fill="none" stroke="#1c2123" d="M911,-173C911,-173 1063,-173 1063,-173 1069,-173 1075,-179 1075,-185 1075,-185 1075,-222 1075,-222 1075,-228 1069,-234 1063,-234 1063,-234 911,-234 911,-234 905,-234 899,-228 899,-222 899,-222 899,-185 899,-185 899,-179 905,-173 911,-173"/>
<text text-anchor="middle" x="987" y="-218.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">advance_append</text>
<polyline fill="none" stroke="#1c2123" points="899,-211 1075,-211 "/>
<text text-anchor="start" x="907" y="-195.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft_group.advance_append()</text>
<text text-anchor="start" x="907" y="-180.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取light ready</text>
</g>
<!-- advance_append&#45;&gt;Peer_send -->
<g id="edge5" class="edge">
<title>advance_append&#45;&gt;Peer_send</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1075,-222.62C1083.74,-224.54 1092.52,-226.47 1101.04,-228.34"/>
<polygon fill="green" stroke="green" points="1100.37,-231.78 1110.88,-230.51 1101.87,-224.94 1100.37,-231.78"/>
</g>
<!-- send_raft_message -->
<g id="node10" class="node">
<title>send_raft_message</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1279,-205.5C1279,-205.5 1398,-205.5 1398,-205.5 1404,-205.5 1410,-211.5 1410,-217.5 1410,-217.5 1410,-269.5 1410,-269.5 1410,-275.5 1404,-281.5 1398,-281.5 1398,-281.5 1279,-281.5 1279,-281.5 1273,-281.5 1267,-275.5 1267,-269.5 1267,-269.5 1267,-217.5 1267,-217.5 1267,-211.5 1273,-205.5 1279,-205.5"/>
<text text-anchor="middle" x="1338.5" y="-266.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">send_raft_message</text>
<polyline fill="none" stroke="#8a8898" points="1267,-258.5 1410,-258.5 "/>
<text text-anchor="start" x="1275" y="-243.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">给messag加上自己的</text>
<text text-anchor="start" x="1275" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> region_id, epoch</text>
<text text-anchor="start" x="1275" y="-213.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 设置peer等</text>
</g>
<!-- Peer_send&#45;&gt;send_raft_message -->
<g id="edge6" class="edge">
<title>Peer_send&#45;&gt;send_raft_message</title>
<path fill="none" stroke="#666666" d="M1231.28,-243.5C1239.55,-243.5 1248.16,-243.5 1256.73,-243.5"/>
<polygon fill="#666666" stroke="#666666" points="1256.77,-247 1266.77,-243.5 1256.77,-240 1256.77,-247"/>
</g>
<!-- send_raft_message&#45;&gt;ServerTransport_send -->
<g id="edge11" class="edge">
<title>send_raft_message&#45;&gt;ServerTransport_send</title>
<path fill="none" stroke="#666666" d="M1410.42,-243.5C1418.8,-243.5 1427.3,-243.5 1435.54,-243.5"/>
<polygon fill="#666666" stroke="#666666" points="1435.8,-247 1445.8,-243.5 1435.8,-240 1435.8,-247"/>
</g>
<!-- handle_raft_ready_advance -->
<g id="node11" class="node">
<title>handle_raft_ready_advance</title>
<path fill="none" stroke="#1c2123" d="M851,-194.5C851,-194.5 709,-194.5 709,-194.5 703,-194.5 697,-188.5 697,-182.5 697,-182.5 697,-170.5 697,-170.5 697,-164.5 703,-158.5 709,-158.5 709,-158.5 851,-158.5 851,-158.5 857,-158.5 863,-164.5 863,-170.5 863,-170.5 863,-182.5 863,-182.5 863,-188.5 857,-194.5 851,-194.5"/>
<text text-anchor="middle" x="780" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_advance</text>
</g>
<!-- handle_raft_ready_advance&#45;&gt;advance_append -->
<g id="edge7" class="edge">
<title>handle_raft_ready_advance&#45;&gt;advance_append</title>
<path fill="none" stroke="#666666" d="M863.2,-187.33C871.61,-188.43 880.2,-189.57 888.75,-190.69"/>
<polygon fill="#666666" stroke="#666666" points="888.38,-194.17 898.75,-192.01 889.29,-187.23 888.38,-194.17"/>
</g>
<!-- handle_raft_ready_advance&#45;&gt;Peer_send -->
<g id="edge8" class="edge">
<title>handle_raft_ready_advance&#45;&gt;Peer_send</title>
<path fill="none" stroke="#666666" d="M842.77,-158.47C905.62,-143.46 1004.65,-129.12 1083,-160.5 1105.85,-169.65 1126.12,-187.99 1141.32,-205.1"/>
<polygon fill="#666666" stroke="#666666" points="1138.79,-207.52 1147.95,-212.84 1144.1,-202.97 1138.79,-207.52"/>
</g>
<!-- handle_raft_ready_append -->
<g id="node12" class="node">
<title>handle_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M848.5,-301.5C848.5,-301.5 711.5,-301.5 711.5,-301.5 705.5,-301.5 699.5,-295.5 699.5,-289.5 699.5,-289.5 699.5,-277.5 699.5,-277.5 699.5,-271.5 705.5,-265.5 711.5,-265.5 711.5,-265.5 848.5,-265.5 848.5,-265.5 854.5,-265.5 860.5,-271.5 860.5,-277.5 860.5,-277.5 860.5,-289.5 860.5,-289.5 860.5,-295.5 854.5,-301.5 848.5,-301.5"/>
<text text-anchor="middle" x="780" y="-279.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready_append</text>
</g>
<!-- handle_raft_ready_append&#45;&gt;ready -->
<g id="edge9" class="edge">
<title>handle_raft_ready_append&#45;&gt;ready</title>
<path fill="none" stroke="#666666" d="M860.55,-283.5C869.73,-283.5 879.16,-283.5 888.54,-283.5"/>
<polygon fill="#666666" stroke="#666666" points="888.67,-287 898.67,-283.5 888.67,-280 888.67,-287"/>
</g>
<!-- handle_raft_ready_append&#45;&gt;Peer_send -->
<g id="edge10" class="edge">
<title>handle_raft_ready_append&#45;&gt;Peer_send</title>
<path fill="none" stroke="#666666" d="M800.61,-301.8C821.27,-319.72 855.67,-345.84 891,-356.5 972.7,-381.14 1006.44,-394.18 1083,-356.5 1113.9,-341.29 1136.91,-309.25 1151.47,-283.16"/>
<polygon fill="#666666" stroke="#666666" points="1154.63,-284.68 1156.27,-274.21 1148.46,-281.37 1154.63,-284.68"/>
</g>
<!-- post_raft_ready_append -->
<g id="node13" class="node">
<title>post_raft_ready_append</title>
<path fill="none" stroke="#1c2123" d="M526,-153.5C526,-153.5 649,-153.5 649,-153.5 655,-153.5 661,-159.5 661,-165.5 661,-165.5 661,-187.5 661,-187.5 661,-193.5 655,-199.5 649,-199.5 649,-199.5 526,-199.5 526,-199.5 520,-199.5 514,-193.5 514,-187.5 514,-187.5 514,-165.5 514,-165.5 514,-159.5 520,-153.5 526,-153.5"/>
<text text-anchor="middle" x="587.5" y="-184.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<polyline fill="none" stroke="#1c2123" points="514,-176.5 661,-176.5 "/>
<text text-anchor="middle" x="587.5" y="-161.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">post_raft_ready_append</text>
</g>
<!-- post_raft_ready_append&#45;&gt;handle_raft_ready_advance -->
<g id="edge12" class="edge">
<title>post_raft_ready_append&#45;&gt;handle_raft_ready_advance</title>
<path fill="none" stroke="#666666" d="M661.06,-176.5C669.45,-176.5 678.09,-176.5 686.7,-176.5"/>
<polygon fill="#666666" stroke="#666666" points="686.77,-180 696.77,-176.5 686.77,-173 686.77,-180"/>
</g>
<!-- collect_ready -->
<g id="node14" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M543,-239.5C543,-239.5 632,-239.5 632,-239.5 638,-239.5 644,-245.5 644,-251.5 644,-251.5 644,-273.5 644,-273.5 644,-279.5 638,-285.5 632,-285.5 632,-285.5 543,-285.5 543,-285.5 537,-285.5 531,-279.5 531,-273.5 531,-273.5 531,-251.5 531,-251.5 531,-245.5 537,-239.5 543,-239.5"/>
<text text-anchor="middle" x="587.5" y="-270.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerFsmDelegate</text>
<polyline fill="none" stroke="#1c2123" points="531,-262.5 644,-262.5 "/>
<text text-anchor="middle" x="587.5" y="-247.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- collect_ready&#45;&gt;handle_raft_ready_append -->
<g id="edge13" class="edge">
<title>collect_ready&#45;&gt;handle_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M644.11,-268.63C658.26,-270.19 673.82,-271.91 689.19,-273.6"/>
<polygon fill="#666666" stroke="#666666" points="688.93,-277.09 699.25,-274.71 689.69,-270.13 688.93,-277.09"/>
</g>
<!-- handle_raft_ready -->
<g id="node15" class="node">
<title>handle_raft_ready</title>
<path fill="none" stroke="#1c2123" d="M375,-101.5C375,-101.5 466,-101.5 466,-101.5 472,-101.5 478,-107.5 478,-113.5 478,-113.5 478,-135.5 478,-135.5 478,-141.5 472,-147.5 466,-147.5 466,-147.5 375,-147.5 375,-147.5 369,-147.5 363,-141.5 363,-135.5 363,-135.5 363,-113.5 363,-113.5 363,-107.5 369,-101.5 375,-101.5"/>
<text text-anchor="middle" x="420.5" y="-132.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftPoller</text>
<polyline fill="none" stroke="#1c2123" points="363,-124.5 478,-124.5 "/>
<text text-anchor="middle" x="420.5" y="-109.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_raft_ready</text>
</g>
<!-- handle_raft_ready&#45;&gt;ServerTransport_flush -->
<g id="edge15" class="edge">
<title>handle_raft_ready&#45;&gt;ServerTransport_flush</title>
<path fill="none" stroke="#666666" d="M478.15,-124.5C548.65,-124.5 672.71,-124.5 779,-124.5 779,-124.5 779,-124.5 1172,-124.5 1264.1,-124.5 1370.49,-114.8 1435.75,-107.73"/>
<polygon fill="#666666" stroke="#666666" points="1436.3,-111.19 1445.86,-106.62 1435.54,-104.23 1436.3,-111.19"/>
</g>
<!-- handle_raft_ready&#45;&gt;ServerTransport_need_flush -->
<g id="edge16" class="edge">
<title>handle_raft_ready&#45;&gt;ServerTransport_need_flush</title>
<path fill="none" stroke="#666666" d="M478.27,-114.71C548.61,-103.45 672.27,-86.5 779,-86.5 779,-86.5 779,-86.5 1172,-86.5 1265.48,-86.5 1371.37,-61.07 1436.16,-42.52"/>
<polygon fill="#666666" stroke="#666666" points="1437.18,-45.87 1445.81,-39.72 1435.23,-39.15 1437.18,-45.87"/>
</g>
<!-- handle_raft_ready&#45;&gt;post_raft_ready_append -->
<g id="edge17" class="edge">
<title>handle_raft_ready&#45;&gt;post_raft_ready_append</title>
<path fill="none" stroke="#666666" d="M478.28,-142.4C486.7,-145.05 495.52,-147.83 504.33,-150.61"/>
<polygon fill="#666666" stroke="#666666" points="503.29,-153.94 513.88,-153.61 505.39,-147.27 503.29,-153.94"/>
</g>
<!-- end -->
<g id="node16" class="node">
<title>end</title>
<path fill="none" stroke="#1c2123" d="M267,-101.5C267,-101.5 315,-101.5 315,-101.5 321,-101.5 327,-107.5 327,-113.5 327,-113.5 327,-135.5 327,-135.5 327,-141.5 321,-147.5 315,-147.5 315,-147.5 267,-147.5 267,-147.5 261,-147.5 255,-141.5 255,-135.5 255,-135.5 255,-113.5 255,-113.5 255,-107.5 261,-101.5 267,-101.5"/>
<text text-anchor="middle" x="291" y="-132.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftPoller</text>
<polyline fill="none" stroke="#1c2123" points="255,-124.5 327,-124.5 "/>
<text text-anchor="middle" x="291" y="-109.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">end</text>
</g>
<!-- end&#45;&gt;handle_raft_ready -->
<g id="edge14" class="edge">
<title>end&#45;&gt;handle_raft_ready</title>
<path fill="none" stroke="#666666" d="M327.18,-124.5C335.21,-124.5 344.01,-124.5 352.88,-124.5"/>
<polygon fill="#666666" stroke="#666666" points="352.89,-128 362.89,-124.5 352.89,-121 352.89,-128"/>
</g>
<!-- pause -->
<g id="node17" class="node">
<title>pause</title>
<path fill="none" stroke="#1c2123" d="M267,-25.5C267,-25.5 315,-25.5 315,-25.5 321,-25.5 327,-31.5 327,-37.5 327,-37.5 327,-59.5 327,-59.5 327,-65.5 321,-71.5 315,-71.5 315,-71.5 267,-71.5 267,-71.5 261,-71.5 255,-65.5 255,-59.5 255,-59.5 255,-37.5 255,-37.5 255,-31.5 261,-25.5 267,-25.5"/>
<text text-anchor="middle" x="291" y="-56.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftPoller</text>
<polyline fill="none" stroke="#1c2123" points="255,-48.5 327,-48.5 "/>
<text text-anchor="middle" x="291" y="-33.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pause</text>
</g>
<!-- pause&#45;&gt;ServerTransport_flush -->
<g id="edge18" class="edge">
<title>pause&#45;&gt;ServerTransport_flush</title>
<path fill="none" stroke="#666666" d="M327.36,-48.5C382.65,-48.5 492.93,-48.5 586.5,-48.5 586.5,-48.5 586.5,-48.5 1172,-48.5 1264.89,-48.5 1370.85,-69.47 1435.83,-84.77"/>
<polygon fill="#666666" stroke="#666666" points="1435.36,-88.26 1445.9,-87.18 1436.99,-81.45 1435.36,-88.26"/>
</g>
<!-- pause&#45;&gt;ServerTransport_need_flush -->
<g id="edge19" class="edge">
<title>pause&#45;&gt;ServerTransport_need_flush</title>
<path fill="none" stroke="#666666" d="M327.17,-40.99C382.21,-29.92 492.16,-10.5 586.5,-10.5 586.5,-10.5 586.5,-10.5 1172,-10.5 1263.93,-10.5 1370.36,-15.76 1435.68,-19.58"/>
<polygon fill="#666666" stroke="#666666" points="1435.61,-23.09 1445.8,-20.19 1436.03,-16.1 1435.61,-23.09"/>
</g>
<!-- handle_normal -->
<g id="node18" class="node">
<title>handle_normal</title>
<path fill="none" stroke="#1c2123" d="M383.5,-213.5C383.5,-213.5 457.5,-213.5 457.5,-213.5 463.5,-213.5 469.5,-219.5 469.5,-225.5 469.5,-225.5 469.5,-247.5 469.5,-247.5 469.5,-253.5 463.5,-259.5 457.5,-259.5 457.5,-259.5 383.5,-259.5 383.5,-259.5 377.5,-259.5 371.5,-253.5 371.5,-247.5 371.5,-247.5 371.5,-225.5 371.5,-225.5 371.5,-219.5 377.5,-213.5 383.5,-213.5"/>
<text text-anchor="middle" x="420.5" y="-244.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftPoller</text>
<polyline fill="none" stroke="#1c2123" points="371.5,-236.5 469.5,-236.5 "/>
<text text-anchor="middle" x="420.5" y="-221.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_normal</text>
</g>
<!-- handle_normal&#45;&gt;collect_ready -->
<g id="edge20" class="edge">
<title>handle_normal&#45;&gt;collect_ready</title>
<path fill="none" stroke="#666666" d="M469.67,-244.09C485.65,-246.61 503.73,-249.46 520.8,-252.15"/>
<polygon fill="#666666" stroke="#666666" points="520.29,-255.61 530.71,-253.71 521.38,-248.7 520.29,-255.61"/>
</g>
<!-- poller_poll -->
<g id="node19" class="node">
<title>poller_poll</title>
<path fill="none" stroke="#1c2123" d="M12,-82.5C12,-82.5 207,-82.5 207,-82.5 213,-82.5 219,-88.5 219,-94.5 219,-94.5 219,-154.5 219,-154.5 219,-160.5 213,-166.5 207,-166.5 207,-166.5 12,-166.5 12,-166.5 6,-166.5 0,-160.5 0,-154.5 0,-154.5 0,-94.5 0,-94.5 0,-88.5 6,-82.5 12,-82.5"/>
<text text-anchor="middle" x="109.5" y="-151.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll</text>
<polyline fill="none" stroke="#1c2123" points="0,-143.5 219,-143.5 "/>
<text text-anchor="start" x="8" y="-128.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchSystem Poller主循环fetch fsm</text>
<polyline fill="none" stroke="#1c2123" points="0,-120.5 219,-120.5 "/>
<text text-anchor="start" x="8" y="-105.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">然后在调用RaftPoller</text>
<text text-anchor="start" x="8" y="-90.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 处理有消息的的fsm</text>
</g>
<!-- poller_poll&#45;&gt;end -->
<g id="edge21" class="edge">
<title>poller_poll&#45;&gt;end</title>
<path fill="none" stroke="#666666" d="M219.06,-124.5C227.99,-124.5 236.66,-124.5 244.7,-124.5"/>
<polygon fill="#666666" stroke="#666666" points="244.86,-128 254.86,-124.5 244.86,-121 244.86,-128"/>
</g>
<!-- poller_poll&#45;&gt;pause -->
<g id="edge22" class="edge">
<title>poller_poll&#45;&gt;pause</title>
<path fill="none" stroke="#666666" d="M209.7,-82.5C222.24,-77.19 234.54,-71.98 245.59,-67.3"/>
<polygon fill="#666666" stroke="#666666" points="247.11,-70.46 254.95,-63.34 244.38,-64.02 247.11,-70.46"/>
</g>
<!-- poller_poll&#45;&gt;handle_normal -->
<g id="edge23" class="edge">
<title>poller_poll&#45;&gt;handle_normal</title>
<path fill="none" stroke="#666666" d="M219.01,-163.83C267.04,-181.24 321.6,-201.02 361.67,-215.54"/>
<polygon fill="#666666" stroke="#666666" points="360.68,-218.9 371.27,-219.02 363.06,-212.32 360.68,-218.9"/>
</g>
</g>
</svg>
