<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: async_snapshot Pages: 1 -->
<svg width="1760pt" height="849pt"
 viewBox="0.00 0.00 1760.00 849.09" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 845.09)">
<title>async_snapshot</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-845.09 1756,-845.09 1756,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_RaftRouter</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1061,-53.09C1061,-53.09 1142,-53.09 1142,-53.09 1148,-53.09 1154,-59.09 1154,-65.09 1154,-65.09 1154,-123.09 1154,-123.09 1154,-129.09 1148,-135.09 1142,-135.09 1142,-135.09 1061,-135.09 1061,-135.09 1055,-135.09 1049,-129.09 1049,-123.09 1049,-123.09 1049,-65.09 1049,-65.09 1049,-59.09 1055,-53.09 1061,-53.09"/>
<text text-anchor="middle" x="1101.5" y="-115.09" font-family="Times,serif" font-size="20.00">RaftRouter</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_LocalReader</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M288,-173.09C288,-173.09 1205,-173.09 1205,-173.09 1211,-173.09 1217,-179.09 1217,-185.09 1217,-185.09 1217,-597.09 1217,-597.09 1217,-603.09 1211,-609.09 1205,-609.09 1205,-609.09 288,-609.09 288,-609.09 282,-609.09 276,-603.09 276,-597.09 276,-597.09 276,-185.09 276,-185.09 276,-179.09 282,-173.09 288,-173.09"/>
<text text-anchor="middle" x="746.5" y="-589.09" font-family="Times,serif" font-size="20.00">LocalReader</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_leader_lease</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M832.5,-283.09C832.5,-283.09 1197,-283.09 1197,-283.09 1203,-283.09 1209,-289.09 1209,-295.09 1209,-295.09 1209,-407.09 1209,-407.09 1209,-413.09 1203,-419.09 1197,-419.09 1197,-419.09 832.5,-419.09 832.5,-419.09 826.5,-419.09 820.5,-413.09 820.5,-407.09 820.5,-407.09 820.5,-295.09 820.5,-295.09 820.5,-289.09 826.5,-283.09 832.5,-283.09"/>
<text text-anchor="middle" x="1014.75" y="-399.09" font-family="Times,serif" font-size="20.00">leader lease</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_RaftKV</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-617.09C20,-617.09 1732,-617.09 1732,-617.09 1738,-617.09 1744,-623.09 1744,-629.09 1744,-629.09 1744,-821.09 1744,-821.09 1744,-827.09 1738,-833.09 1732,-833.09 1732,-833.09 20,-833.09 20,-833.09 14,-833.09 8,-827.09 8,-821.09 8,-821.09 8,-629.09 8,-629.09 8,-623.09 14,-617.09 20,-617.09"/>
<text text-anchor="middle" x="876" y="-813.09" font-family="Times,serif" font-size="20.00">RaftKV</text>
</g>
<!-- send -->
<g id="node1" class="node">
<title>send</title>
<path fill="none" stroke="#1c2123" d="M1116,-97.09C1116,-97.09 1086,-97.09 1086,-97.09 1080,-97.09 1074,-91.09 1074,-85.09 1074,-85.09 1074,-73.09 1074,-73.09 1074,-67.09 1080,-61.09 1086,-61.09 1086,-61.09 1116,-61.09 1116,-61.09 1122,-61.09 1128,-67.09 1128,-73.09 1128,-73.09 1128,-85.09 1128,-85.09 1128,-91.09 1122,-97.09 1116,-97.09"/>
<text text-anchor="middle" x="1101" y="-75.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">send</text>
</g>
<!-- is_in_leader_lease -->
<g id="node2" class="node">
<title>is_in_leader_lease</title>
<path fill="none" stroke="#1c2123" d="M1013,-296.09C1013,-296.09 1189,-296.09 1189,-296.09 1195,-296.09 1201,-302.09 1201,-308.09 1201,-308.09 1201,-368.09 1201,-368.09 1201,-374.09 1195,-380.09 1189,-380.09 1189,-380.09 1013,-380.09 1013,-380.09 1007,-380.09 1001,-374.09 1001,-368.09 1001,-368.09 1001,-308.09 1001,-308.09 1001,-302.09 1007,-296.09 1013,-296.09"/>
<text text-anchor="middle" x="1101" y="-364.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">is_in_leader_lease</text>
<polyline fill="none" stroke="#1c2123" points="1001,-357.09 1201,-357.09 "/>
<text text-anchor="start" x="1009" y="-341.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">ReadDelegate::is_in_leader_lease</text>
<polyline fill="none" stroke="#1c2123" points="1001,-334.09 1201,-334.09 "/>
<text text-anchor="start" x="1009" y="-318.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">Leader can read local </text>
<text text-anchor="start" x="1009" y="-303.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> if an only if it is in lease</text>
</g>
<!-- execute -->
<g id="node3" class="node">
<title>execute</title>
<path fill="none" stroke="#1c2123" d="M897,-381.09C897,-381.09 863,-381.09 863,-381.09 857,-381.09 851,-375.09 851,-369.09 851,-369.09 851,-357.09 851,-357.09 851,-351.09 857,-345.09 863,-345.09 863,-345.09 897,-345.09 897,-345.09 903,-345.09 909,-351.09 909,-357.09 909,-357.09 909,-369.09 909,-369.09 909,-375.09 903,-381.09 897,-381.09"/>
<text text-anchor="middle" x="880" y="-359.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">execute</text>
</g>
<!-- cb_invoke_read -->
<g id="node4" class="node">
<title>cb_invoke_read</title>
<path fill="none" stroke="#1c2123" d="M919.5,-327.09C919.5,-327.09 840.5,-327.09 840.5,-327.09 834.5,-327.09 828.5,-321.09 828.5,-315.09 828.5,-315.09 828.5,-303.09 828.5,-303.09 828.5,-297.09 834.5,-291.09 840.5,-291.09 840.5,-291.09 919.5,-291.09 919.5,-291.09 925.5,-291.09 931.5,-297.09 931.5,-303.09 931.5,-303.09 931.5,-315.09 931.5,-315.09 931.5,-321.09 925.5,-327.09 919.5,-327.09"/>
<text text-anchor="middle" x="880" y="-305.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">cb_invoke_read</text>
</g>
<!-- Store_Callback_read_cb -->
<g id="node14" class="node">
<title>Store_Callback_read_cb</title>
<path fill="none" stroke="#1c2123" d="M1249,-626.09C1249,-626.09 1370,-626.09 1370,-626.09 1376,-626.09 1382,-632.09 1382,-638.09 1382,-638.09 1382,-660.09 1382,-660.09 1382,-666.09 1376,-672.09 1370,-672.09 1370,-672.09 1249,-672.09 1249,-672.09 1243,-672.09 1237,-666.09 1237,-660.09 1237,-660.09 1237,-638.09 1237,-638.09 1237,-632.09 1243,-626.09 1249,-626.09"/>
<text text-anchor="middle" x="1309.5" y="-656.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">Store:Callback::Read</text>
<polyline fill="none" stroke="#1c2123" points="1237,-649.09 1382,-649.09 "/>
<text text-anchor="middle" x="1309.5" y="-633.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">raft read ready callback</text>
</g>
<!-- cb_invoke_read&#45;&gt;Store_Callback_read_cb -->
<g id="edge14" class="edge">
<title>cb_invoke_read&#45;&gt;Store_Callback_read_cb</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M931.87,-304.4C943.98,-301.12 955.98,-295.76 965,-287.09 1004.54,-249.1 956.93,-201.72 1001,-169.09 1039.58,-140.52 1180.02,-138.49 1217,-169.09 1286.13,-226.29 1303.49,-516.71 1307.43,-615.86"/>
<polygon fill="green" stroke="green" points="1303.94,-616.06 1307.81,-625.92 1310.93,-615.79 1303.94,-616.06"/>
</g>
<!-- pre_propose_raft_command -->
<g id="node5" class="node">
<title>pre_propose_raft_command</title>
<path fill="none" stroke="#1c2123" d="M953,-463.09C953,-463.09 807,-463.09 807,-463.09 801,-463.09 795,-457.09 795,-451.09 795,-451.09 795,-439.09 795,-439.09 795,-433.09 801,-427.09 807,-427.09 807,-427.09 953,-427.09 953,-427.09 959,-427.09 965,-433.09 965,-439.09 965,-439.09 965,-451.09 965,-451.09 965,-457.09 959,-463.09 953,-463.09"/>
<text text-anchor="middle" x="880" y="-441.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">pre_propose_raft_command</text>
</g>
<!-- pre_propose_raft_command&#45;&gt;is_in_leader_lease -->
<g id="edge4" class="edge">
<title>pre_propose_raft_command&#45;&gt;is_in_leader_lease</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M957.76,-426.98C960.24,-425.77 962.66,-424.47 965,-423.09 982.68,-412.63 982.53,-401.67 1000.1,-386.46"/>
<polygon fill="green" stroke="green" points="1002.41,-389.09 1008.12,-380.17 998.09,-383.58 1002.41,-389.09"/>
</g>
<!-- check_peer_id -->
<g id="node6" class="node">
<title>check_peer_id</title>
<path fill="none" stroke="#1c2123" d="M1136.5,-463.09C1136.5,-463.09 1065.5,-463.09 1065.5,-463.09 1059.5,-463.09 1053.5,-457.09 1053.5,-451.09 1053.5,-451.09 1053.5,-439.09 1053.5,-439.09 1053.5,-433.09 1059.5,-427.09 1065.5,-427.09 1065.5,-427.09 1136.5,-427.09 1136.5,-427.09 1142.5,-427.09 1148.5,-433.09 1148.5,-439.09 1148.5,-439.09 1148.5,-451.09 1148.5,-451.09 1148.5,-457.09 1142.5,-463.09 1136.5,-463.09"/>
<text text-anchor="middle" x="1101" y="-441.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_peer_id</text>
</g>
<!-- pre_propose_raft_command&#45;&gt;check_peer_id -->
<g id="edge1" class="edge">
<title>pre_propose_raft_command&#45;&gt;check_peer_id</title>
<path fill="none" stroke="#666666" d="M965.04,-445.09C991.1,-445.09 1019.2,-445.09 1042.97,-445.09"/>
<polygon fill="#666666" stroke="#666666" points="1043.22,-448.59 1053.22,-445.09 1043.22,-441.59 1043.22,-448.59"/>
</g>
<!-- check_region_epoch -->
<g id="node7" class="node">
<title>check_region_epoch</title>
<path fill="none" stroke="#1c2123" d="M1153,-517.09C1153,-517.09 1049,-517.09 1049,-517.09 1043,-517.09 1037,-511.09 1037,-505.09 1037,-505.09 1037,-493.09 1037,-493.09 1037,-487.09 1043,-481.09 1049,-481.09 1049,-481.09 1153,-481.09 1153,-481.09 1159,-481.09 1165,-487.09 1165,-493.09 1165,-493.09 1165,-505.09 1165,-505.09 1165,-511.09 1159,-517.09 1153,-517.09"/>
<text text-anchor="middle" x="1101" y="-495.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_region_epoch</text>
</g>
<!-- pre_propose_raft_command&#45;&gt;check_region_epoch -->
<g id="edge2" class="edge">
<title>pre_propose_raft_command&#45;&gt;check_region_epoch</title>
<path fill="none" stroke="#666666" d="M954.23,-463.14C977.62,-468.91 1003.5,-475.29 1026.89,-481.06"/>
<polygon fill="#666666" stroke="#666666" points="1026.19,-484.49 1036.74,-483.49 1027.87,-477.7 1026.19,-484.49"/>
</g>
<!-- check_term -->
<g id="node8" class="node">
<title>check_term</title>
<path fill="none" stroke="#1c2123" d="M1129,-571.09C1129,-571.09 1073,-571.09 1073,-571.09 1067,-571.09 1061,-565.09 1061,-559.09 1061,-559.09 1061,-547.09 1061,-547.09 1061,-541.09 1067,-535.09 1073,-535.09 1073,-535.09 1129,-535.09 1129,-535.09 1135,-535.09 1141,-541.09 1141,-547.09 1141,-547.09 1141,-559.09 1141,-559.09 1141,-565.09 1135,-571.09 1129,-571.09"/>
<text text-anchor="middle" x="1101" y="-549.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_term</text>
</g>
<!-- pre_propose_raft_command&#45;&gt;check_term -->
<g id="edge3" class="edge">
<title>pre_propose_raft_command&#45;&gt;check_term</title>
<path fill="none" stroke="#666666" d="M903.11,-463.3C926.24,-481.53 964.22,-509.22 1001,-526.09 1016.69,-533.28 1034.68,-538.9 1050.99,-543.1"/>
<polygon fill="#666666" stroke="#666666" points="1050.35,-546.55 1060.89,-545.54 1052.02,-539.75 1050.35,-546.55"/>
</g>
<!-- LocalReadRouter_read -->
<g id="node9" class="node">
<title>LocalReadRouter_read</title>
<path fill="none" stroke="#1c2123" d="M296,-321.09C296,-321.09 443,-321.09 443,-321.09 449,-321.09 455,-327.09 455,-333.09 455,-333.09 455,-393.09 455,-393.09 455,-399.09 449,-405.09 443,-405.09 443,-405.09 296,-405.09 296,-405.09 290,-405.09 284,-399.09 284,-393.09 284,-393.09 284,-333.09 284,-333.09 284,-327.09 290,-321.09 296,-321.09"/>
<text text-anchor="middle" x="369.5" y="-389.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">trait LocalReadRouter::read</text>
<polyline fill="none" stroke="#1c2123" points="284,-382.09 455,-382.09 "/>
<text text-anchor="start" x="292" y="-366.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">ServerRaftStoreRouter::read</text>
<text text-anchor="start" x="292" y="-351.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> read ready之后调用回调</text>
<polyline fill="none" stroke="#1c2123" points="284,-344.09 455,-344.09 "/>
<text text-anchor="middle" x="369.5" y="-328.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> </text>
</g>
<!-- LocalReader_read -->
<g id="node10" class="node">
<title>LocalReader_read</title>
<path fill="none" stroke="#1c2123" d="M595,-381.09C595,-381.09 503,-381.09 503,-381.09 497,-381.09 491,-375.09 491,-369.09 491,-369.09 491,-357.09 491,-357.09 491,-351.09 497,-345.09 503,-345.09 503,-345.09 595,-345.09 595,-345.09 601,-345.09 607,-351.09 607,-357.09 607,-357.09 607,-369.09 607,-369.09 607,-375.09 601,-381.09 595,-381.09"/>
<text text-anchor="middle" x="549" y="-359.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">LocalReader_read</text>
</g>
<!-- LocalReadRouter_read&#45;&gt;LocalReader_read -->
<g id="edge18" class="edge">
<title>LocalReadRouter_read&#45;&gt;LocalReader_read</title>
<path fill="none" stroke="#666666" d="M455.09,-363.09C463.72,-363.09 472.41,-363.09 480.82,-363.09"/>
<polygon fill="#666666" stroke="#666666" points="480.92,-366.59 490.92,-363.09 480.92,-359.59 480.92,-366.59"/>
</g>
<!-- LocalReadRouter_read&#45;&gt;Store_Callback_read_cb -->
<g id="edge19" class="edge">
<title>LocalReadRouter_read&#45;&gt;Store_Callback_read_cb</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M388.42,-320.96C429.43,-231.99 539.09,-33.09 700,-33.09 700,-33.09 700,-33.09 881,-33.09 1030.5,-33.09 1105.95,51 1217,-49.09 1301.64,-125.37 1308.57,-500.99 1308.69,-615.74"/>
<polygon fill="green" stroke="green" points="1305.19,-616 1308.68,-626.01 1312.19,-616.01 1305.19,-616"/>
</g>
<!-- propose_raft_cmd -->
<g id="node11" class="node">
<title>propose_raft_cmd</title>
<path fill="none" stroke="#1c2123" d="M747,-381.09C747,-381.09 655,-381.09 655,-381.09 649,-381.09 643,-375.09 643,-369.09 643,-369.09 643,-357.09 643,-357.09 643,-351.09 649,-345.09 655,-345.09 655,-345.09 747,-345.09 747,-345.09 753,-345.09 759,-351.09 759,-357.09 759,-357.09 759,-369.09 759,-369.09 759,-375.09 753,-381.09 747,-381.09"/>
<text text-anchor="middle" x="701" y="-359.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_raft_cmd</text>
</g>
<!-- LocalReader_read&#45;&gt;propose_raft_cmd -->
<g id="edge5" class="edge">
<title>LocalReader_read&#45;&gt;propose_raft_cmd</title>
<path fill="none" stroke="#666666" d="M607.14,-363.09C615.38,-363.09 623.92,-363.09 632.34,-363.09"/>
<polygon fill="#666666" stroke="#666666" points="632.53,-366.59 642.53,-363.09 632.53,-359.59 632.53,-366.59"/>
</g>
<!-- propose_raft_cmd&#45;&gt;is_in_leader_lease -->
<g id="edge6" class="edge">
<title>propose_raft_cmd&#45;&gt;is_in_leader_lease</title>
<path fill="none" stroke="#666666" d="M754.55,-381.14C767.61,-384.85 781.68,-388.19 795,-390.09 869.8,-400.73 890.72,-403.9 965,-390.09 974.54,-388.31 984.27,-385.89 993.92,-383.06"/>
<polygon fill="#666666" stroke="#666666" points="995.01,-386.38 1003.54,-380.09 992.95,-379.7 995.01,-386.38"/>
</g>
<!-- propose_raft_cmd&#45;&gt;execute -->
<g id="edge7" class="edge">
<title>propose_raft_cmd&#45;&gt;execute</title>
<path fill="none" stroke="#666666" d="M759.47,-363.09C786.02,-363.09 816.85,-363.09 840.54,-363.09"/>
<polygon fill="#666666" stroke="#666666" points="840.55,-366.59 850.55,-363.09 840.55,-359.59 840.55,-366.59"/>
</g>
<!-- propose_raft_cmd&#45;&gt;cb_invoke_read -->
<g id="edge8" class="edge">
<title>propose_raft_cmd&#45;&gt;cb_invoke_read</title>
<path fill="none" stroke="#666666" d="M759.47,-345.56C778.38,-339.79 799.45,-333.36 818.58,-327.52"/>
<polygon fill="#666666" stroke="#666666" points="819.84,-330.8 828.38,-324.53 817.79,-324.1 819.84,-330.8"/>
</g>
<!-- propose_raft_cmd&#45;&gt;pre_propose_raft_command -->
<g id="edge9" class="edge">
<title>propose_raft_cmd&#45;&gt;pre_propose_raft_command</title>
<path fill="none" stroke="#666666" d="M725.28,-381.09C743.41,-394.35 769.67,-411.94 795,-423.09 795.1,-423.13 795.2,-423.17 795.3,-423.22"/>
<polygon fill="#666666" stroke="#666666" points="794.22,-426.56 804.8,-427.06 796.84,-420.07 794.22,-426.56"/>
</g>
<!-- redirect -->
<g id="node12" class="node">
<title>redirect</title>
<path fill="none" stroke="#1c2123" d="M829.5,-205.09C829.5,-205.09 930.5,-205.09 930.5,-205.09 936.5,-205.09 942.5,-211.09 942.5,-217.09 942.5,-217.09 942.5,-239.09 942.5,-239.09 942.5,-245.09 936.5,-251.09 930.5,-251.09 930.5,-251.09 829.5,-251.09 829.5,-251.09 823.5,-251.09 817.5,-245.09 817.5,-239.09 817.5,-239.09 817.5,-217.09 817.5,-217.09 817.5,-211.09 823.5,-205.09 829.5,-205.09"/>
<text text-anchor="middle" x="880" y="-235.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">redirect</text>
<polyline fill="none" stroke="#1c2123" points="817.5,-228.09 942.5,-228.09 "/>
<text text-anchor="middle" x="880" y="-212.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">Forward to raftstore</text>
</g>
<!-- propose_raft_cmd&#45;&gt;redirect -->
<g id="edge10" class="edge">
<title>propose_raft_cmd&#45;&gt;redirect</title>
<path fill="none" stroke="#666666" d="M719.99,-344.95C738.1,-327.15 767.26,-299.75 795,-279.09 805.58,-271.21 817.42,-263.44 828.81,-256.43"/>
<polygon fill="#666666" stroke="#666666" points="830.66,-259.4 837.4,-251.23 827.03,-253.42 830.66,-259.4"/>
</g>
<!-- redirect&#45;&gt;send -->
<g id="edge11" class="edge">
<title>redirect&#45;&gt;send</title>
<path fill="none" stroke="#666666" d="M910.52,-204.99C934.48,-186.54 969.35,-160.35 1001,-139.09 1021.88,-125.06 1046.01,-110.4 1065.22,-99.09"/>
<polygon fill="#666666" stroke="#666666" points="1067.09,-102.05 1073.95,-93.98 1063.55,-96.01 1067.09,-102.05"/>
</g>
<!-- RaftCommand -->
<g id="node13" class="node">
<title>RaftCommand</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M1020.5,-182.09C1020.5,-182.09 1181.5,-182.09 1181.5,-182.09 1187.5,-182.09 1193.5,-188.09 1193.5,-194.09 1193.5,-194.09 1193.5,-262.09 1193.5,-262.09 1193.5,-268.09 1187.5,-274.09 1181.5,-274.09 1181.5,-274.09 1020.5,-274.09 1020.5,-274.09 1014.5,-274.09 1008.5,-268.09 1008.5,-262.09 1008.5,-262.09 1008.5,-194.09 1008.5,-194.09 1008.5,-188.09 1014.5,-182.09 1020.5,-182.09"/>
<text text-anchor="middle" x="1101" y="-258.89" font-family="Times,serif" font-size="14.00" fill="#5d6179">RaftCommand</text>
<polyline fill="none" stroke="#60b5ac" points="1008.5,-251.09 1193.5,-251.09 "/>
<text text-anchor="start" x="1016.5" y="-235.89" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub send_time: Instant,</text>
<polyline fill="none" stroke="#60b5ac" points="1008.5,-228.09 1193.5,-228.09 "/>
<text text-anchor="start" x="1016.5" y="-212.89" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub request: RaftCmdRequest,</text>
<polyline fill="none" stroke="#60b5ac" points="1008.5,-205.09 1193.5,-205.09 "/>
<text text-anchor="start" x="1016.5" y="-189.89" font-family="Times,serif" font-size="14.00" fill="#5d6179">pub callback: Callback&lt;S&gt;,</text>
</g>
<!-- redirect&#45;&gt;RaftCommand -->
<g id="edge12" class="edge">
<title>redirect&#45;&gt;RaftCommand</title>
<path fill="none" stroke="#666666" d="M942.59,-228.09C959.85,-228.09 979.1,-228.09 998.04,-228.09"/>
<polygon fill="#666666" stroke="#666666" points="998.21,-231.59 1008.21,-228.09 998.21,-224.59 998.21,-231.59"/>
</g>
<!-- RaftCommand&#45;&gt;Store_Callback_read_cb -->
<g id="edge13" class="edge">
<title>RaftCommand&#45;&gt;Store_Callback_read_cb</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1193.6,-258.84C1202.35,-264.53 1210.4,-271.22 1217,-279.09 1260.34,-330.76 1292.68,-534.74 1304.05,-615.71"/>
<polygon fill="green" stroke="green" points="1300.62,-616.42 1305.46,-625.85 1307.55,-615.46 1300.62,-616.42"/>
</g>
<!-- box_new_cb -->
<g id="node17" class="node">
<title>box_new_cb</title>
<path fill="none" stroke="#1c2123" d="M1430,-680.09C1430,-680.09 1530,-680.09 1530,-680.09 1536,-680.09 1542,-686.09 1542,-692.09 1542,-692.09 1542,-782.09 1542,-782.09 1542,-788.09 1536,-794.09 1530,-794.09 1530,-794.09 1430,-794.09 1430,-794.09 1424,-794.09 1418,-788.09 1418,-782.09 1418,-782.09 1418,-692.09 1418,-692.09 1418,-686.09 1424,-680.09 1430,-680.09"/>
<text text-anchor="middle" x="1480" y="-778.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">box_new_cb</text>
<polyline fill="none" stroke="#1c2123" points="1418,-771.09 1542,-771.09 "/>
<text text-anchor="start" x="1426" y="-755.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">exec_snapshot向下</text>
<text text-anchor="start" x="1426" y="-740.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 传的callback</text>
<polyline fill="none" stroke="#1c2123" points="1418,-733.09 1542,-733.09 "/>
<text text-anchor="start" x="1426" y="-717.89" font-family="Times,serif" font-size="14.00" fill="#2f3638">被回调时候</text>
<text text-anchor="start" x="1426" y="-702.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 会调用上层传</text>
<text text-anchor="start" x="1426" y="-687.89" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 入的callback</text>
</g>
<!-- Store_Callback_read_cb&#45;&gt;box_new_cb -->
<g id="edge20" class="edge">
<title>Store_Callback_read_cb&#45;&gt;box_new_cb</title>
<path fill="none" stroke="#666666" d="M1354.77,-672.21C1371.36,-680.87 1390.65,-690.94 1409,-700.53"/>
<polygon fill="#666666" stroke="#666666" points="1407.44,-703.66 1417.92,-705.19 1410.68,-697.46 1407.44,-703.66"/>
</g>
<!-- on_read_result -->
<g id="node18" class="node">
<title>on_read_result</title>
<path fill="none" stroke="#1c2123" d="M1516.5,-661.09C1516.5,-661.09 1443.5,-661.09 1443.5,-661.09 1437.5,-661.09 1431.5,-655.09 1431.5,-649.09 1431.5,-649.09 1431.5,-637.09 1431.5,-637.09 1431.5,-631.09 1437.5,-625.09 1443.5,-625.09 1443.5,-625.09 1516.5,-625.09 1516.5,-625.09 1522.5,-625.09 1528.5,-631.09 1528.5,-637.09 1528.5,-637.09 1528.5,-649.09 1528.5,-649.09 1528.5,-655.09 1522.5,-661.09 1516.5,-661.09"/>
<text text-anchor="middle" x="1480" y="-639.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_read_result</text>
</g>
<!-- Store_Callback_read_cb&#45;&gt;on_read_result -->
<g id="edge21" class="edge">
<title>Store_Callback_read_cb&#45;&gt;on_read_result</title>
<path fill="none" stroke="#666666" d="M1382.45,-646.53C1395.31,-646.07 1408.56,-645.6 1420.96,-645.15"/>
<polygon fill="#666666" stroke="#666666" points="1421.29,-648.64 1431.16,-644.79 1421.04,-641.65 1421.29,-648.64"/>
</g>
<!-- engine_async_snapshot -->
<g id="node15" class="node">
<title>engine_async_snapshot</title>
<path fill="none" stroke="#1c2123" d="M28,-671.09C28,-671.09 105,-671.09 105,-671.09 111,-671.09 117,-677.09 117,-683.09 117,-683.09 117,-695.09 117,-695.09 117,-701.09 111,-707.09 105,-707.09 105,-707.09 28,-707.09 28,-707.09 22,-707.09 16,-701.09 16,-695.09 16,-695.09 16,-683.09 16,-683.09 16,-677.09 22,-671.09 28,-671.09"/>
<text text-anchor="middle" x="66.5" y="-685.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">async_snapshot</text>
</g>
<!-- exec_snapshot -->
<g id="node16" class="node">
<title>exec_snapshot</title>
<path fill="none" stroke="#1c2123" d="M236,-689.09C236,-689.09 165,-689.09 165,-689.09 159,-689.09 153,-683.09 153,-677.09 153,-677.09 153,-665.09 153,-665.09 153,-659.09 159,-653.09 165,-653.09 165,-653.09 236,-653.09 236,-653.09 242,-653.09 248,-659.09 248,-665.09 248,-665.09 248,-677.09 248,-677.09 248,-683.09 242,-689.09 236,-689.09"/>
<text text-anchor="middle" x="200.5" y="-667.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">exec_snapshot</text>
</g>
<!-- engine_async_snapshot&#45;&gt;exec_snapshot -->
<g id="edge15" class="edge">
<title>engine_async_snapshot&#45;&gt;exec_snapshot</title>
<path fill="none" stroke="#666666" d="M117.03,-682.33C125.44,-681.19 134.23,-679.99 142.81,-678.82"/>
<polygon fill="#666666" stroke="#666666" points="143.32,-682.28 152.75,-677.46 142.37,-675.35 143.32,-682.28"/>
</g>
<!-- engine_async_snapshot&#45;&gt;box_new_cb -->
<g id="edge16" class="edge">
<title>engine_async_snapshot&#45;&gt;box_new_cb</title>
<path fill="none" stroke="#666666" d="M117.19,-695.75C176.79,-703.16 279.75,-714.09 368.5,-714.09 368.5,-714.09 368.5,-714.09 1102,-714.09 1208.47,-714.09 1331.53,-723.34 1407.32,-730.11"/>
<polygon fill="#666666" stroke="#666666" points="1407.41,-733.63 1417.69,-731.04 1408.04,-726.66 1407.41,-733.63"/>
</g>
<!-- exec_snapshot&#45;&gt;LocalReadRouter_read -->
<g id="edge17" class="edge">
<title>exec_snapshot&#45;&gt;LocalReadRouter_read</title>
<path fill="none" stroke="#666666" d="M211.45,-652.74C236.48,-606.58 302.79,-484.27 340.76,-414.24"/>
<polygon fill="#666666" stroke="#666666" points="344.01,-415.59 345.7,-405.13 337.86,-412.26 344.01,-415.59"/>
</g>
<!-- callback -->
<g id="node20" class="node">
<title>callback</title>
<path fill="none" stroke="#1c2123" d="M1676,-755.09C1676,-755.09 1638,-755.09 1638,-755.09 1632,-755.09 1626,-749.09 1626,-743.09 1626,-743.09 1626,-731.09 1626,-731.09 1626,-725.09 1632,-719.09 1638,-719.09 1638,-719.09 1676,-719.09 1676,-719.09 1682,-719.09 1688,-725.09 1688,-731.09 1688,-731.09 1688,-743.09 1688,-743.09 1688,-749.09 1682,-755.09 1676,-755.09"/>
<text text-anchor="middle" x="1657" y="-733.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">callback</text>
</g>
<!-- box_new_cb&#45;&gt;callback -->
<g id="edge23" class="edge">
<title>box_new_cb&#45;&gt;callback</title>
<path fill="none" stroke="#666666" d="M1542.21,-737.09C1566.43,-737.09 1593.62,-737.09 1615.35,-737.09"/>
<polygon fill="#666666" stroke="#666666" points="1615.54,-740.59 1625.54,-737.09 1615.54,-733.59 1615.54,-740.59"/>
</g>
<!-- check_raft_cmd_response -->
<g id="node19" class="node">
<title>check_raft_cmd_response</title>
<path fill="none" stroke="#1c2123" d="M1724,-661.09C1724,-661.09 1590,-661.09 1590,-661.09 1584,-661.09 1578,-655.09 1578,-649.09 1578,-649.09 1578,-637.09 1578,-637.09 1578,-631.09 1584,-625.09 1590,-625.09 1590,-625.09 1724,-625.09 1724,-625.09 1730,-625.09 1736,-631.09 1736,-637.09 1736,-637.09 1736,-649.09 1736,-649.09 1736,-655.09 1730,-661.09 1724,-661.09"/>
<text text-anchor="middle" x="1657" y="-639.39" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_raft_cmd_response</text>
</g>
<!-- on_read_result&#45;&gt;check_raft_cmd_response -->
<g id="edge22" class="edge">
<title>on_read_result&#45;&gt;check_raft_cmd_response</title>
<path fill="none" stroke="#666666" d="M1528.82,-643.09C1540.92,-643.09 1554.3,-643.09 1567.7,-643.09"/>
<polygon fill="#666666" stroke="#666666" points="1567.94,-646.59 1577.94,-643.09 1567.94,-639.59 1567.94,-646.59"/>
</g>
</g>
</svg>
