<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.44.1 (20200629.0846)
 -->
<!-- Title: tick Pages: 1 -->
<svg width="1663pt" height="304pt"
 viewBox="0.00 0.00 1663.00 304.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 300)">
<title>tick</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-300 1659,-300 1659,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_RawNode</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1545,-8C1545,-8 1635,-8 1635,-8 1641,-8 1647,-14 1647,-20 1647,-20 1647,-78 1647,-78 1647,-84 1641,-90 1635,-90 1635,-90 1545,-90 1545,-90 1539,-90 1533,-84 1533,-78 1533,-78 1533,-20 1533,-20 1533,-14 1539,-8 1545,-8"/>
<text text-anchor="middle" x="1590" y="-70" font-family="Times,serif" font-size="20.00">RawNode</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1174.5,-8C1174.5,-8 1501,-8 1501,-8 1507,-8 1513,-14 1513,-20 1513,-20 1513,-78 1513,-78 1513,-84 1507,-90 1501,-90 1501,-90 1174.5,-90 1174.5,-90 1168.5,-90 1162.5,-84 1162.5,-78 1162.5,-78 1162.5,-20 1162.5,-20 1162.5,-14 1168.5,-8 1174.5,-8"/>
<text text-anchor="middle" x="1337.75" y="-70" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_RaftPoller</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M858,-98C858,-98 1259,-98 1259,-98 1265,-98 1271,-104 1271,-110 1271,-110 1271,-276 1271,-276 1271,-282 1265,-288 1259,-288 1259,-288 858,-288 858,-288 852,-288 846,-282 846,-276 846,-276 846,-110 846,-110 846,-104 852,-98 858,-98"/>
<text text-anchor="middle" x="1058.5" y="-268" font-family="Times,serif" font-size="20.00">RaftPoller</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_Poller</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-68C20,-68 814,-68 814,-68 820,-68 826,-74 826,-80 826,-80 826,-250 826,-250 826,-256 820,-262 814,-262 814,-262 20,-262 20,-262 14,-262 8,-256 8,-250 8,-250 8,-80 8,-80 8,-74 14,-68 20,-68"/>
<text text-anchor="middle" x="417" y="-242" font-family="Times,serif" font-size="20.00">Poller</text>
</g>
<!-- RawNode_tick -->
<g id="node1" class="node">
<title>RawNode_tick</title>
<path fill="none" stroke="#1c2123" d="M1627,-52C1627,-52 1553,-52 1553,-52 1547,-52 1541,-46 1541,-40 1541,-40 1541,-28 1541,-28 1541,-22 1547,-16 1553,-16 1553,-16 1627,-16 1627,-16 1633,-16 1639,-22 1639,-28 1639,-28 1639,-40 1639,-40 1639,-46 1633,-52 1627,-52"/>
<text text-anchor="middle" x="1590" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RawNode_tick</text>
</g>
<!-- on_raft_base_tick -->
<g id="node2" class="node">
<title>on_raft_base_tick</title>
<path fill="none" stroke="#1c2123" d="M1493,-52C1493,-52 1404,-52 1404,-52 1398,-52 1392,-46 1392,-40 1392,-40 1392,-28 1392,-28 1392,-22 1398,-16 1404,-16 1404,-16 1493,-16 1493,-16 1499,-16 1505,-22 1505,-28 1505,-28 1505,-40 1505,-40 1505,-46 1499,-52 1493,-52"/>
<text text-anchor="middle" x="1448.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_raft_base_tick</text>
</g>
<!-- on_raft_base_tick&#45;&gt;RawNode_tick -->
<g id="edge1" class="edge">
<title>on_raft_base_tick&#45;&gt;RawNode_tick</title>
<path fill="none" stroke="#666666" d="M1505.03,-34C1513.46,-34 1522.18,-34 1530.66,-34"/>
<polygon fill="#666666" stroke="#666666" points="1530.86,-37.5 1540.86,-34 1530.86,-30.5 1530.86,-37.5"/>
</g>
<!-- on_tick -->
<g id="node3" class="node">
<title>on_tick</title>
<path fill="none" stroke="#1c2123" d="M1344,-52C1344,-52 1311,-52 1311,-52 1305,-52 1299,-46 1299,-40 1299,-40 1299,-28 1299,-28 1299,-22 1305,-16 1311,-16 1311,-16 1344,-16 1344,-16 1350,-16 1356,-22 1356,-28 1356,-28 1356,-40 1356,-40 1356,-46 1350,-52 1344,-52"/>
<text text-anchor="middle" x="1327.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">on_tick</text>
</g>
<!-- on_tick&#45;&gt;on_raft_base_tick -->
<g id="edge2" class="edge">
<title>on_tick&#45;&gt;on_raft_base_tick</title>
<path fill="none" stroke="#666666" d="M1356.1,-34C1363.88,-34 1372.7,-34 1381.71,-34"/>
<polygon fill="#666666" stroke="#666666" points="1381.92,-37.5 1391.92,-34 1381.92,-30.5 1381.92,-37.5"/>
</g>
<!-- handle_msgs -->
<g id="node4" class="node">
<title>handle_msgs</title>
<path fill="none" stroke="#1c2123" d="M1246.5,-52C1246.5,-52 1182.5,-52 1182.5,-52 1176.5,-52 1170.5,-46 1170.5,-40 1170.5,-40 1170.5,-28 1170.5,-28 1170.5,-22 1176.5,-16 1182.5,-16 1182.5,-16 1246.5,-16 1246.5,-16 1252.5,-16 1258.5,-22 1258.5,-28 1258.5,-28 1258.5,-40 1258.5,-40 1258.5,-46 1252.5,-52 1246.5,-52"/>
<text text-anchor="middle" x="1214.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_msgs</text>
</g>
<!-- handle_msgs&#45;&gt;on_tick -->
<g id="edge3" class="edge">
<title>handle_msgs&#45;&gt;on_tick</title>
<path fill="none" stroke="#666666" d="M1258.73,-34C1268.66,-34 1279.13,-34 1288.8,-34"/>
<polygon fill="#666666" stroke="#666666" points="1288.91,-37.5 1298.91,-34 1288.91,-30.5 1288.91,-37.5"/>
</g>
<!-- handle_normal -->
<g id="node5" class="node">
<title>handle_normal</title>
<path fill="none" stroke="#1c2123" d="M940,-169C940,-169 866,-169 866,-169 860,-169 854,-163 854,-157 854,-157 854,-145 854,-145 854,-139 860,-133 866,-133 866,-133 940,-133 940,-133 946,-133 952,-139 952,-145 952,-145 952,-157 952,-157 952,-163 946,-169 940,-169"/>
<text text-anchor="middle" x="903" y="-147.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_normal</text>
</g>
<!-- handle_normal&#45;&gt;handle_msgs -->
<g id="edge4" class="edge">
<title>handle_normal&#45;&gt;handle_msgs</title>
<path fill="none" stroke="#666666" d="M927.89,-132.89C944.13,-121.29 966.49,-106.65 988,-97 1044.49,-71.65 1113.59,-54.16 1160.3,-44.15"/>
<polygon fill="#666666" stroke="#666666" points="1161.14,-47.55 1170.2,-42.07 1159.7,-40.7 1161.14,-47.55"/>
</g>
<!-- peer_receiver_try_recv -->
<g id="node6" class="node">
<title>peer_receiver_try_recv</title>
<path fill="none" stroke="#1c2123" d="M1118,-142C1118,-142 1000,-142 1000,-142 994,-142 988,-136 988,-130 988,-130 988,-118 988,-118 988,-112 994,-106 1000,-106 1000,-106 1118,-106 1118,-106 1124,-106 1130,-112 1130,-118 1130,-118 1130,-130 1130,-130 1130,-136 1124,-142 1118,-142"/>
<text text-anchor="middle" x="1059" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">peer_receiver_try_recv</text>
</g>
<!-- handle_normal&#45;&gt;peer_receiver_try_recv -->
<g id="edge5" class="edge">
<title>handle_normal&#45;&gt;peer_receiver_try_recv</title>
<path fill="none" stroke="#666666" d="M952.3,-142.53C960.51,-141.09 969.22,-139.57 977.98,-138.03"/>
<polygon fill="#666666" stroke="#666666" points="978.63,-141.47 987.87,-136.3 977.42,-134.57 978.63,-141.47"/>
</g>
<!-- messages_per_tick -->
<g id="node7" class="node">
<title>messages_per_tick</title>
<path fill="none" stroke="#1c2123" d="M1106.5,-196C1106.5,-196 1011.5,-196 1011.5,-196 1005.5,-196 999.5,-190 999.5,-184 999.5,-184 999.5,-172 999.5,-172 999.5,-166 1005.5,-160 1011.5,-160 1011.5,-160 1106.5,-160 1106.5,-160 1112.5,-160 1118.5,-166 1118.5,-172 1118.5,-172 1118.5,-184 1118.5,-184 1118.5,-190 1112.5,-196 1106.5,-196"/>
<text text-anchor="middle" x="1059" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">messages_per_tick</text>
</g>
<!-- handle_normal&#45;&gt;messages_per_tick -->
<g id="edge6" class="edge">
<title>handle_normal&#45;&gt;messages_per_tick</title>
<path fill="none" stroke="#666666" d="M952.3,-159.47C964.07,-161.53 976.87,-163.78 989.38,-165.97"/>
<polygon fill="#666666" stroke="#666666" points="988.87,-169.43 999.32,-167.71 990.07,-162.54 988.87,-169.43"/>
</g>
<!-- collect_ready -->
<g id="node8" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M1091.5,-250C1091.5,-250 1026.5,-250 1026.5,-250 1020.5,-250 1014.5,-244 1014.5,-238 1014.5,-238 1014.5,-226 1014.5,-226 1014.5,-220 1020.5,-214 1026.5,-214 1026.5,-214 1091.5,-214 1091.5,-214 1097.5,-214 1103.5,-220 1103.5,-226 1103.5,-226 1103.5,-238 1103.5,-238 1103.5,-244 1097.5,-250 1091.5,-250"/>
<text text-anchor="middle" x="1059" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- handle_normal&#45;&gt;collect_ready -->
<g id="edge7" class="edge">
<title>handle_normal&#45;&gt;collect_ready</title>
<path fill="none" stroke="#666666" d="M929.3,-169.19C945.57,-180.4 967.44,-194.56 988,-205 993.36,-207.72 999.06,-210.34 1004.8,-212.8"/>
<polygon fill="#666666" stroke="#666666" points="1003.88,-216.2 1014.46,-216.78 1006.55,-209.73 1003.88,-216.2"/>
</g>
<!-- PeerMsg_Tick -->
<g id="node9" class="node">
<title>PeerMsg_Tick</title>
<path fill="none" stroke="#1c2123" d="M1251,-142C1251,-142 1178,-142 1178,-142 1172,-142 1166,-136 1166,-130 1166,-130 1166,-118 1166,-118 1166,-112 1172,-106 1178,-106 1178,-106 1251,-106 1251,-106 1257,-106 1263,-112 1263,-118 1263,-118 1263,-130 1263,-130 1263,-136 1257,-142 1251,-142"/>
<text text-anchor="middle" x="1214.5" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PeerMsg_Tick</text>
</g>
<!-- peer_receiver_try_recv&#45;&gt;PeerMsg_Tick -->
<g id="edge8" class="edge">
<title>peer_receiver_try_recv&#45;&gt;PeerMsg_Tick</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1130.01,-124C1138.67,-124 1147.44,-124 1155.88,-124"/>
<polygon fill="green" stroke="green" points="1155.99,-127.5 1165.99,-124 1155.99,-120.5 1155.99,-127.5"/>
</g>
<!-- PeerMsg_Tick&#45;&gt;on_tick -->
<g id="edge9" class="edge">
<title>PeerMsg_Tick&#45;&gt;on_tick</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1252.98,-105.94C1259.22,-102.32 1265.46,-98.3 1271,-94 1283.72,-84.13 1296.07,-71.22 1305.87,-59.91"/>
<polygon fill="green" stroke="green" points="1308.76,-61.92 1312.53,-52.02 1303.41,-57.4 1308.76,-61.92"/>
</g>
<!-- BatchSystem_spawn -->
<g id="node10" class="node">
<title>BatchSystem_spawn</title>
<path fill="none" stroke="#1c2123" d="M134,-148C134,-148 28,-148 28,-148 22,-148 16,-142 16,-136 16,-136 16,-124 16,-124 16,-118 22,-112 28,-112 28,-112 134,-112 134,-112 140,-112 146,-118 146,-124 146,-124 146,-136 146,-136 146,-142 140,-148 134,-148"/>
<text text-anchor="middle" x="81" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">BatchSystem_spawn</text>
</g>
<!-- thread_new_spawn -->
<g id="node11" class="node">
<title>thread_new_spawn</title>
<path fill="none" stroke="#1c2123" d="M194,-77C194,-77 409,-77 409,-77 415,-77 421,-83 421,-89 421,-89 421,-171 421,-171 421,-177 415,-183 409,-183 409,-183 194,-183 194,-183 188,-183 182,-177 182,-171 182,-171 182,-89 182,-89 182,-83 188,-77 194,-77"/>
<text text-anchor="middle" x="301.5" y="-167.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">thread_new_spawn</text>
<polyline fill="none" stroke="#1c2123" points="182,-160 421,-160 "/>
<text text-anchor="start" x="190" y="-144.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">开启线程调用poll</text>
<text text-anchor="start" x="190" y="-129.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> thread:Builder::new().spawn(move||{</text>
<text text-anchor="start" x="190" y="-114.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> set_io_type(IOType::ForegroundWrite);</text>
<text text-anchor="start" x="190" y="-99.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> poller.poll()</text>
<text text-anchor="start" x="190" y="-84.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> }</text>
</g>
<!-- BatchSystem_spawn&#45;&gt;thread_new_spawn -->
<g id="edge10" class="edge">
<title>BatchSystem_spawn&#45;&gt;thread_new_spawn</title>
<path fill="none" stroke="#666666" d="M146.08,-130C154.32,-130 162.96,-130 171.79,-130"/>
<polygon fill="#666666" stroke="#666666" points="171.81,-133.5 181.81,-130 171.81,-126.5 171.81,-133.5"/>
</g>
<!-- poll -->
<g id="node12" class="node">
<title>poll</title>
<path fill="none" stroke="#1c2123" d="M499,-130C499,-130 469,-130 469,-130 463,-130 457,-124 457,-118 457,-118 457,-106 457,-106 457,-100 463,-94 469,-94 469,-94 499,-94 499,-94 505,-94 511,-100 511,-106 511,-106 511,-118 511,-118 511,-124 505,-130 499,-130"/>
<text text-anchor="middle" x="484" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">poll</text>
</g>
<!-- thread_new_spawn&#45;&gt;poll -->
<g id="edge11" class="edge">
<title>thread_new_spawn&#45;&gt;poll</title>
<path fill="none" stroke="#666666" d="M421.13,-118.17C430.24,-117.26 438.92,-116.4 446.74,-115.62"/>
<polygon fill="#666666" stroke="#666666" points="447.23,-119.08 456.84,-114.61 446.54,-112.12 447.23,-119.08"/>
</g>
<!-- poll&#45;&gt;handle_normal -->
<g id="edge12" class="edge">
<title>poll&#45;&gt;handle_normal</title>
<path fill="none" stroke="#666666" d="M511.14,-99.53C570.11,-73.27 716.84,-18.55 826,-67 852.19,-78.62 873.18,-104.22 886.41,-124.12"/>
<polygon fill="#666666" stroke="#666666" points="883.61,-126.24 891.94,-132.8 889.52,-122.48 883.61,-126.24"/>
</g>
<!-- fetch_fsm -->
<g id="node13" class="node">
<title>fetch_fsm</title>
<path fill="none" stroke="#1c2123" d="M606,-130C606,-130 559,-130 559,-130 553,-130 547,-124 547,-118 547,-118 547,-106 547,-106 547,-100 553,-94 559,-94 559,-94 606,-94 606,-94 612,-94 618,-100 618,-106 618,-106 618,-118 618,-118 618,-124 612,-130 606,-130"/>
<text text-anchor="middle" x="582.5" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">fetch_fsm</text>
</g>
<!-- poll&#45;&gt;fetch_fsm -->
<g id="edge13" class="edge">
<title>poll&#45;&gt;fetch_fsm</title>
<path fill="none" stroke="#666666" d="M511.11,-112C518.98,-112 527.84,-112 536.56,-112"/>
<polygon fill="#666666" stroke="#666666" points="536.66,-115.5 546.66,-112 536.66,-108.5 536.66,-115.5"/>
</g>
<!-- fsm_receiver_try_recv -->
<g id="node14" class="node">
<title>fsm_receiver_try_recv</title>
<path fill="none" stroke="#1c2123" d="M794,-112C794,-112 678,-112 678,-112 672,-112 666,-106 666,-100 666,-100 666,-88 666,-88 666,-82 672,-76 678,-76 678,-76 794,-76 794,-76 800,-76 806,-82 806,-88 806,-88 806,-100 806,-100 806,-106 800,-112 794,-112"/>
<text text-anchor="middle" x="736" y="-90.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">fsm_receiver_try_recv</text>
</g>
<!-- fetch_fsm&#45;&gt;fsm_receiver_try_recv -->
<g id="edge14" class="edge">
<title>fetch_fsm&#45;&gt;fsm_receiver_try_recv</title>
<path fill="none" stroke="#666666" d="M618.26,-107.87C629.53,-106.53 642.55,-104.98 655.7,-103.42"/>
<polygon fill="#666666" stroke="#666666" points="656.25,-106.88 665.76,-102.23 655.42,-99.93 656.25,-106.88"/>
</g>
<!-- batch -->
<g id="node15" class="node">
<title>batch</title>
<path fill="#feed9b" stroke="#f7e495" d="M666,-131C666,-131 806,-131 806,-131 812,-131 818,-137 818,-143 818,-143 818,-211 818,-211 818,-217 812,-223 806,-223 806,-223 666,-223 666,-223 660,-223 654,-217 654,-211 654,-211 654,-143 654,-143 654,-137 660,-131 666,-131"/>
<text text-anchor="middle" x="736" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#40575d">batch</text>
<polyline fill="none" stroke="#f7e495" points="654,-200 818,-200 "/>
<text text-anchor="start" x="662" y="-184.8" font-family="Times,serif" font-size="14.00" fill="#40575d">normals: Vec&lt;Box&lt;N&gt;&gt;</text>
<polyline fill="none" stroke="#f7e495" points="654,-177 818,-177 "/>
<text text-anchor="start" x="662" y="-161.8" font-family="Times,serif" font-size="14.00" fill="#40575d">timers: Vec&lt;Instant&gt;</text>
<polyline fill="none" stroke="#f7e495" points="654,-154 818,-154 "/>
<text text-anchor="start" x="662" y="-138.8" font-family="Times,serif" font-size="14.00" fill="#40575d">control: Option&lt;Box&lt;C&gt;&gt;</text>
</g>
<!-- fetch_fsm&#45;&gt;batch -->
<g id="edge15" class="edge">
<title>fetch_fsm&#45;&gt;batch</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M618.26,-126.91C626.32,-130.37 635.26,-134.21 644.51,-138.18"/>
<polygon fill="green" stroke="green" points="643.27,-141.45 653.84,-142.18 646.03,-135.02 643.27,-141.45"/>
</g>
<!-- batch&#45;&gt;handle_normal -->
<g id="edge16" class="edge">
<title>batch&#45;&gt;handle_normal</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M818.05,-164.23C826.74,-162.86 835.45,-161.49 843.8,-160.17"/>
<polygon fill="green" stroke="green" points="844.44,-163.61 853.78,-158.6 843.35,-156.7 844.44,-163.61"/>
</g>
</g>
</svg>
