<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: dig Pages: 1 -->
<svg width="1714pt" height="989pt"
 viewBox="0.00 0.00 1714.00 989.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 985)">
<title>dig</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-985 1710,-985 1710,4 -4,4"/>
<!-- rollback_lock -->
<g id="node1" class="node">
<title>rollback_lock</title>
<path fill="none" stroke="#1c2123" d="M92,-443C92,-443 25,-443 25,-443 19,-443 13,-437 13,-431 13,-431 13,-419 13,-419 13,-413 19,-407 25,-407 25,-407 92,-407 92,-407 98,-407 104,-413 104,-419 104,-419 104,-431 104,-431 104,-437 98,-443 92,-443"/>
<text text-anchor="middle" x="58.5" y="-421.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">rollback_lock</text>
</g>
<!-- SnapshotReader__get_txn_commit_record -->
<g id="node2" class="node">
<title>SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#1c2123" d="M165,-549C165,-549 293,-549 293,-549 299,-549 305,-555 305,-561 305,-561 305,-613 305,-613 305,-619 299,-625 293,-625 293,-625 165,-625 165,-625 159,-625 153,-619 153,-613 153,-613 153,-561 153,-561 153,-555 159,-549 165,-549"/>
<text text-anchor="start" x="161" y="-609.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader</text>
<text text-anchor="start" x="161" y="-594.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> get_txn_commit_record</text>
<polyline fill="none" stroke="#1c2123" points="153,-587 305,-587 "/>
<text text-anchor="start" x="161" y="-571.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">scan all versions from</text>
<text text-anchor="start" x="161" y="-556.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> max to start_ts</text>
</g>
<!-- rollback_lock&#45;&gt;SnapshotReader__get_txn_commit_record -->
<g id="edge1" class="edge">
<title>rollback_lock&#45;&gt;SnapshotReader__get_txn_commit_record</title>
<path fill="none" stroke="#666666" d="M78.5,-443.27C103.15,-466.96 146.99,-509.11 180.84,-541.66"/>
<polygon fill="#666666" stroke="#666666" points="178.7,-544.46 188.34,-548.87 183.55,-539.41 178.7,-544.46"/>
</g>
<!-- MvccTxn__unlock_key -->
<g id="node3" class="node">
<title>MvccTxn__unlock_key</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1599,-516C1599,-516 1658,-516 1658,-516 1664,-516 1670,-522 1670,-528 1670,-528 1670,-542 1670,-542 1670,-548 1664,-554 1658,-554 1658,-554 1599,-554 1599,-554 1593,-554 1587,-548 1587,-542 1587,-542 1587,-528 1587,-528 1587,-522 1593,-516 1599,-516"/>
<text text-anchor="start" x="1595" y="-538.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn</text>
<text text-anchor="start" x="1595" y="-523.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> unlock_key</text>
</g>
<!-- rollback_lock&#45;&gt;MvccTxn__unlock_key -->
<g id="edge2" class="edge">
<title>rollback_lock&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="#666666" d="M104.23,-426.31C192.03,-428.98 393.1,-435.62 562,-445 985.98,-468.56 1094.07,-457.04 1515,-513 1535.41,-515.71 1557.7,-519.83 1577.01,-523.77"/>
<polygon fill="#666666" stroke="#666666" points="1576.32,-527.2 1586.82,-525.8 1577.74,-520.34 1576.32,-527.2"/>
</g>
<!-- MvccTxn__delete_value -->
<g id="node4" class="node">
<title>MvccTxn__delete_value</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1596,-99C1596,-99 1661,-99 1661,-99 1667,-99 1673,-105 1673,-111 1673,-111 1673,-125 1673,-125 1673,-131 1667,-137 1661,-137 1661,-137 1596,-137 1596,-137 1590,-137 1584,-131 1584,-125 1584,-125 1584,-111 1584,-111 1584,-105 1590,-99 1596,-99"/>
<text text-anchor="start" x="1592" y="-121.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">MvccTxn</text>
<text text-anchor="start" x="1592" y="-106.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> delete_value</text>
</g>
<!-- rollback_lock&#45;&gt;MvccTxn__delete_value -->
<g id="edge3" class="edge">
<title>rollback_lock&#45;&gt;MvccTxn__delete_value</title>
<path fill="none" stroke="#666666" d="M72.03,-406.96C116.12,-345.78 271.24,-150 450.5,-150 450.5,-150 450.5,-150 1186.5,-150 1326.51,-150 1490.87,-133.76 1573.82,-124.42"/>
<polygon fill="#666666" stroke="#666666" points="1574.22,-127.89 1583.76,-123.28 1573.43,-120.94 1574.22,-127.89"/>
</g>
<!-- MvccTxn__put_write -->
<g id="node5" class="node">
<title>MvccTxn__put_write</title>
<path fill="#f5b691" stroke="#d69043" d="M1563,-873C1563,-873 1694,-873 1694,-873 1700,-873 1706,-879 1706,-885 1706,-885 1706,-937 1706,-937 1706,-943 1700,-949 1694,-949 1694,-949 1563,-949 1563,-949 1557,-949 1551,-943 1551,-937 1551,-937 1551,-885 1551,-885 1551,-879 1557,-873 1563,-873"/>
<text text-anchor="start" x="1559" y="-933.8" font-family="Times,serif" font-size="14.00" fill="#6b6969">MvccTxn</text>
<text text-anchor="start" x="1559" y="-918.8" font-family="Times,serif" font-size="14.00" fill="#6b6969"> put_write</text>
<polyline fill="none" stroke="#d69043" points="1551,-911 1706,-911 "/>
<text text-anchor="start" x="1559" y="-895.8" font-family="Times,serif" font-size="14.00" fill="#6b6969">注意此处用的是start_ts</text>
<text text-anchor="start" x="1559" y="-880.8" font-family="Times,serif" font-size="14.00" fill="#6b6969"> key,start_ts</text>
</g>
<!-- rollback_lock&#45;&gt;MvccTxn__put_write -->
<g id="edge4" class="edge">
<title>rollback_lock&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M60.47,-443.12C64.11,-495.75 80.74,-651.24 153,-752 212.2,-834.55 245.27,-848 341,-882 407.56,-905.64 752.17,-925.82 1296,-941 1393.3,-943.72 1418.49,-953.65 1515,-941 1523.52,-939.88 1532.31,-938.31 1541.05,-936.46"/>
<polygon fill="#666666" stroke="#666666" points="1541.88,-939.87 1550.87,-934.27 1540.35,-933.03 1541.88,-939.87"/>
</g>
<!-- make_rollback -->
<g id="node6" class="node">
<title>make_rollback</title>
<path fill="none" stroke="#1c2123" d="M865.5,-847C865.5,-847 1008.5,-847 1008.5,-847 1014.5,-847 1020.5,-853 1020.5,-859 1020.5,-859 1020.5,-881 1020.5,-881 1020.5,-887 1014.5,-893 1008.5,-893 1008.5,-893 865.5,-893 865.5,-893 859.5,-893 853.5,-887 853.5,-881 853.5,-881 853.5,-859 853.5,-859 853.5,-853 859.5,-847 865.5,-847"/>
<text text-anchor="start" x="861.5" y="-877.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">make_rollback</text>
<polyline fill="none" stroke="#1c2123" points="853.5,-870 1020.5,-870 "/>
<text text-anchor="start" x="861.5" y="-854.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">创建rollback Write Record</text>
</g>
<!-- rollback_lock&#45;&gt;make_rollback -->
<g id="edge5" class="edge">
<title>rollback_lock&#45;&gt;make_rollback</title>
<path fill="none" stroke="#666666" d="M64.79,-443.21C85.86,-511.97 171.04,-756.5 341,-849 423.7,-894.01 668.96,-891.61 763,-887 789.08,-885.72 817.29,-883.37 843.21,-880.81"/>
<polygon fill="#666666" stroke="#666666" points="843.81,-884.26 853.4,-879.78 843.1,-877.3 843.81,-884.26"/>
</g>
<!-- collapse_prev_rollback -->
<g id="node7" class="node">
<title>collapse_prev_rollback</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M876.5,-263.5C876.5,-263.5 997.5,-263.5 997.5,-263.5 1003.5,-263.5 1009.5,-269.5 1009.5,-275.5 1009.5,-275.5 1009.5,-312.5 1009.5,-312.5 1009.5,-318.5 1003.5,-324.5 997.5,-324.5 997.5,-324.5 876.5,-324.5 876.5,-324.5 870.5,-324.5 864.5,-318.5 864.5,-312.5 864.5,-312.5 864.5,-275.5 864.5,-275.5 864.5,-269.5 870.5,-263.5 876.5,-263.5"/>
<text text-anchor="start" x="872.5" y="-309.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">collapse_prev_rollback</text>
<polyline fill="none" stroke="#8a8898" points="864.5,-301.5 1009.5,-301.5 "/>
<text text-anchor="start" x="872.5" y="-286.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">删除之前不被保护的</text>
<text text-anchor="start" x="872.5" y="-271.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> rollback类型的write</text>
</g>
<!-- rollback_lock&#45;&gt;collapse_prev_rollback -->
<g id="edge6" class="edge">
<title>rollback_lock&#45;&gt;collapse_prev_rollback</title>
<path fill="none" stroke="#666666" d="M104.21,-418.3C119.66,-415.99 137.09,-413.38 153,-411 409.04,-372.7 712.18,-327.42 854.51,-306.17"/>
<polygon fill="#666666" stroke="#666666" points="855.1,-309.62 864.48,-304.68 854.07,-302.7 855.1,-309.62"/>
</g>
<!-- LockType__Put -->
<g id="node8" class="node">
<title>LockType__Put</title>
<path fill="none" stroke="#1c2123" d="M378.5,-0.5C378.5,-0.5 524.5,-0.5 524.5,-0.5 530.5,-0.5 536.5,-6.5 536.5,-12.5 536.5,-12.5 536.5,-109.5 536.5,-109.5 536.5,-115.5 530.5,-121.5 524.5,-121.5 524.5,-121.5 378.5,-121.5 378.5,-121.5 372.5,-121.5 366.5,-115.5 366.5,-109.5 366.5,-109.5 366.5,-12.5 366.5,-12.5 366.5,-6.5 372.5,-0.5 378.5,-0.5"/>
<text text-anchor="start" x="374.5" y="-106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">LockType</text>
<text text-anchor="start" x="374.5" y="-91.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Put</text>
<polyline fill="none" stroke="#1c2123" points="366.5,-83.5 536.5,-83.5 "/>
<text text-anchor="start" x="374.5" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果lockTYpe为Put</text>
<text text-anchor="start" x="374.5" y="-53.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并且short value 不为None</text>
<text text-anchor="start" x="374.5" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 说明是写了数据</text>
<text text-anchor="start" x="374.5" y="-23.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 需要删掉之前</text>
<text text-anchor="start" x="374.5" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 写入的数据</text>
</g>
<!-- rollback_lock&#45;&gt;LockType__Put -->
<g id="edge7" class="edge">
<title>rollback_lock&#45;&gt;LockType__Put</title>
<path fill="none" stroke="#666666" d="M59.66,-406.97C61.14,-356.28 72.54,-211.32 153,-136 207.44,-85.03 291.32,-67.38 356.15,-61.85"/>
<polygon fill="#666666" stroke="#666666" points="356.69,-65.32 366.39,-61.06 356.15,-58.34 356.69,-65.32"/>
</g>
<!-- TxnCommitRecord__None -->
<g id="node12" class="node">
<title>TxnCommitRecord__None</title>
<path fill="none" stroke="#1c2123" d="M353,-763C353,-763 550,-763 550,-763 556,-763 562,-769 562,-775 562,-775 562,-827 562,-827 562,-833 556,-839 550,-839 550,-839 353,-839 353,-839 347,-839 341,-833 341,-827 341,-827 341,-775 341,-775 341,-769 347,-763 353,-763"/>
<text text-anchor="start" x="349" y="-823.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord</text>
<text text-anchor="start" x="349" y="-808.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> None(Some(OverlappedWrite))</text>
<polyline fill="none" stroke="#1c2123" points="341,-801 562,-801 "/>
<text text-anchor="start" x="349" y="-785.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">commit_ts == start_ts</text>
<text text-anchor="middle" x="451.5" y="-770.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 并且!write.has_overlapped_rollback</text>
</g>
<!-- SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__None -->
<g id="edge14" class="edge">
<title>SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__None</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M259.81,-625.1C281.21,-651.49 311.4,-686.8 341,-715 356.12,-729.4 373.5,-743.87 389.89,-756.73"/>
<polygon fill="green" stroke="green" points="387.8,-759.54 397.85,-762.9 392.09,-754.01 387.8,-759.54"/>
</g>
<!-- TxnCommitRecord__SingleRecord -->
<g id="node13" class="node">
<title>TxnCommitRecord__SingleRecord</title>
<path fill="none" stroke="#1c2123" d="M388.5,-644.5C388.5,-644.5 514.5,-644.5 514.5,-644.5 520.5,-644.5 526.5,-650.5 526.5,-656.5 526.5,-656.5 526.5,-693.5 526.5,-693.5 526.5,-699.5 520.5,-705.5 514.5,-705.5 514.5,-705.5 388.5,-705.5 388.5,-705.5 382.5,-705.5 376.5,-699.5 376.5,-693.5 376.5,-693.5 376.5,-656.5 376.5,-656.5 376.5,-650.5 382.5,-644.5 388.5,-644.5"/>
<text text-anchor="start" x="384.5" y="-690.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord</text>
<text text-anchor="start" x="384.5" y="-675.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> SingleRecord</text>
<polyline fill="none" stroke="#1c2123" points="376.5,-667.5 526.5,-667.5 "/>
<text text-anchor="start" x="384.5" y="-652.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write.start_ts == start_ts</text>
</g>
<!-- SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__SingleRecord -->
<g id="edge15" class="edge">
<title>SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__SingleRecord</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M305.29,-620.25C317.19,-625.31 329.4,-630.38 341,-635 349.35,-638.33 358.11,-641.71 366.87,-645.02"/>
<polygon fill="green" stroke="green" points="365.77,-648.34 376.36,-648.58 368.22,-641.79 365.77,-648.34"/>
</g>
<!-- TxnCommitRecord__OverlappedRollback -->
<g id="node14" class="node">
<title>TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="#1c2123" d="M362.5,-454C362.5,-454 540.5,-454 540.5,-454 546.5,-454 552.5,-460 552.5,-466 552.5,-466 552.5,-518 552.5,-518 552.5,-524 546.5,-530 540.5,-530 540.5,-530 362.5,-530 362.5,-530 356.5,-530 350.5,-524 350.5,-518 350.5,-518 350.5,-466 350.5,-466 350.5,-460 356.5,-454 362.5,-454"/>
<text text-anchor="start" x="358.5" y="-514.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord</text>
<text text-anchor="start" x="358.5" y="-499.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> OverlappedRollback</text>
<polyline fill="none" stroke="#1c2123" points="350.5,-492 552.5,-492 "/>
<text text-anchor="start" x="358.5" y="-476.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">commit_ts == start_ts</text>
<text text-anchor="start" x="358.5" y="-461.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 且write.has_overlapped_rollback</text>
</g>
<!-- SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__OverlappedRollback -->
<g id="edge16" class="edge">
<title>SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__OverlappedRollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M305.27,-554.57C320.6,-547.97 336.94,-540.93 352.91,-534.04"/>
<polygon fill="green" stroke="green" points="354.47,-537.18 362.27,-530.01 351.7,-530.76 354.47,-537.18"/>
</g>
<!-- TxnCommitRecord__None_None -->
<g id="node15" class="node">
<title>TxnCommitRecord__None_None</title>
<path fill="none" stroke="#1c2123" d="M377,-549C377,-549 526,-549 526,-549 532,-549 538,-555 538,-561 538,-561 538,-613 538,-613 538,-619 532,-625 526,-625 526,-625 377,-625 377,-625 371,-625 365,-619 365,-613 365,-613 365,-561 365,-561 365,-555 371,-549 377,-549"/>
<text text-anchor="start" x="373" y="-609.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnCommitRecord</text>
<text text-anchor="start" x="373" y="-594.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> None</text>
<polyline fill="none" stroke="#1c2123" points="365,-587 538,-587 "/>
<text text-anchor="start" x="373" y="-571.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">overlapped_write: None</text>
<text text-anchor="start" x="373" y="-556.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 没到对应的commit record</text>
</g>
<!-- SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__None_None -->
<g id="edge17" class="edge">
<title>SnapshotReader__get_txn_commit_record&#45;&gt;TxnCommitRecord__None_None</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M305.27,-587C321.18,-587 338.17,-587 354.73,-587"/>
<polygon fill="green" stroke="green" points="354.96,-590.5 364.96,-587 354.96,-583.5 354.96,-590.5"/>
</g>
<!-- Write__set_ovelapped_rollback -->
<g id="node9" class="node">
<title>Write__set_ovelapped_rollback</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1123,-850C1123,-850 1248,-850 1248,-850 1254,-850 1260,-856 1260,-862 1260,-862 1260,-876 1260,-876 1260,-882 1254,-888 1248,-888 1248,-888 1123,-888 1123,-888 1117,-888 1111,-882 1111,-876 1111,-876 1111,-862 1111,-862 1111,-856 1117,-850 1123,-850"/>
<text text-anchor="start" x="1119" y="-872.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Write</text>
<text text-anchor="start" x="1119" y="-857.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> set_ovelapped_rollback</text>
</g>
<!-- make_rollback&#45;&gt;Write__set_ovelapped_rollback -->
<g id="edge9" class="edge">
<title>make_rollback&#45;&gt;Write__set_ovelapped_rollback</title>
<path fill="none" stroke="#666666" d="M1020.77,-869.66C1046.45,-869.56 1074.77,-869.45 1100.53,-869.34"/>
<polygon fill="#666666" stroke="#666666" points="1100.66,-872.84 1110.65,-869.3 1100.63,-865.84 1100.66,-872.84"/>
</g>
<!-- Write__new_rollback -->
<g id="node10" class="node">
<title>Write__new_rollback</title>
<path fill="#bcffb9" stroke="#8a8898" d="M1134.5,-736.5C1134.5,-736.5 1236.5,-736.5 1236.5,-736.5 1242.5,-736.5 1248.5,-742.5 1248.5,-748.5 1248.5,-748.5 1248.5,-815.5 1248.5,-815.5 1248.5,-821.5 1242.5,-827.5 1236.5,-827.5 1236.5,-827.5 1134.5,-827.5 1134.5,-827.5 1128.5,-827.5 1122.5,-821.5 1122.5,-815.5 1122.5,-815.5 1122.5,-748.5 1122.5,-748.5 1122.5,-742.5 1128.5,-736.5 1134.5,-736.5"/>
<text text-anchor="start" x="1130.5" y="-812.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Write</text>
<text text-anchor="start" x="1130.5" y="-797.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> new_rollback</text>
<polyline fill="none" stroke="#8a8898" points="1122.5,-789.5 1248.5,-789.5 "/>
<text text-anchor="start" x="1130.5" y="-774.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">如果需要protect</text>
<text text-anchor="start" x="1130.5" y="-759.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 这设置short_value</text>
<text text-anchor="start" x="1130.5" y="-744.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 为b&#39;p</text>
</g>
<!-- make_rollback&#45;&gt;Write__new_rollback -->
<g id="edge10" class="edge">
<title>make_rollback&#45;&gt;Write__new_rollback</title>
<path fill="none" stroke="#666666" d="M1002.44,-846.99C1036.21,-834.94 1077.68,-820.14 1112.5,-807.7"/>
<polygon fill="#666666" stroke="#666666" points="1113.89,-810.92 1122.14,-804.26 1111.54,-804.33 1113.89,-810.92"/>
</g>
<!-- MvccTxn__delete_write -->
<g id="node21" class="node">
<title>MvccTxn__delete_write</title>
<path fill="#f5b691" stroke="#d69043" d="M1597,-227C1597,-227 1660,-227 1660,-227 1666,-227 1672,-233 1672,-239 1672,-239 1672,-253 1672,-253 1672,-259 1666,-265 1660,-265 1660,-265 1597,-265 1597,-265 1591,-265 1585,-259 1585,-253 1585,-253 1585,-239 1585,-239 1585,-233 1591,-227 1597,-227"/>
<text text-anchor="start" x="1593" y="-249.8" font-family="Times,serif" font-size="14.00" fill="#6b6969">MvccTxn</text>
<text text-anchor="start" x="1593" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#6b6969"> delete_write</text>
</g>
<!-- collapse_prev_rollback&#45;&gt;MvccTxn__delete_write -->
<g id="edge26" class="edge">
<title>collapse_prev_rollback&#45;&gt;MvccTxn__delete_write</title>
<path fill="none" stroke="#666666" d="M1009.71,-280.39C1040.74,-275.02 1077.55,-269.34 1111,-266 1279.91,-249.12 1481.2,-246.27 1574.8,-245.93"/>
<polygon fill="#666666" stroke="#666666" points="1574.87,-249.43 1584.86,-245.9 1574.85,-242.43 1574.87,-249.43"/>
</g>
<!-- SnapshotReader__seek_write -->
<g id="node22" class="node">
<title>SnapshotReader__seek_write</title>
<path fill="none" stroke="#1c2123" d="M1145.5,-275C1145.5,-275 1225.5,-275 1225.5,-275 1231.5,-275 1237.5,-281 1237.5,-287 1237.5,-287 1237.5,-301 1237.5,-301 1237.5,-307 1231.5,-313 1225.5,-313 1225.5,-313 1145.5,-313 1145.5,-313 1139.5,-313 1133.5,-307 1133.5,-301 1133.5,-301 1133.5,-287 1133.5,-287 1133.5,-281 1139.5,-275 1145.5,-275"/>
<text text-anchor="start" x="1141.5" y="-297.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">SnapshotReader</text>
<text text-anchor="start" x="1141.5" y="-282.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> seek_write</text>
</g>
<!-- collapse_prev_rollback&#45;&gt;SnapshotReader__seek_write -->
<g id="edge27" class="edge">
<title>collapse_prev_rollback&#45;&gt;SnapshotReader__seek_write</title>
<path fill="none" stroke="#666666" d="M1009.63,-294C1045.57,-294 1088.66,-294 1123.07,-294"/>
<polygon fill="#666666" stroke="#666666" points="1123.46,-297.5 1133.46,-294 1123.46,-290.5 1123.46,-297.5"/>
</g>
<!-- Write__is_protected -->
<g id="node23" class="node">
<title>Write__is_protected</title>
<path fill="#bcffb9" stroke="#8a8898" d="M1330.5,-312.5C1330.5,-312.5 1480.5,-312.5 1480.5,-312.5 1486.5,-312.5 1492.5,-318.5 1492.5,-324.5 1492.5,-324.5 1492.5,-437.5 1492.5,-437.5 1492.5,-443.5 1486.5,-449.5 1480.5,-449.5 1480.5,-449.5 1330.5,-449.5 1330.5,-449.5 1324.5,-449.5 1318.5,-443.5 1318.5,-437.5 1318.5,-437.5 1318.5,-324.5 1318.5,-324.5 1318.5,-318.5 1324.5,-312.5 1330.5,-312.5"/>
<text text-anchor="start" x="1326.5" y="-434.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">Write</text>
<text text-anchor="start" x="1326.5" y="-419.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> is_protected</text>
<polyline fill="none" stroke="#8a8898" points="1318.5,-411.5 1492.5,-411.5 "/>
<text text-anchor="start" x="1326.5" y="-396.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">如果WriteType为Rollback</text>
<text text-anchor="start" x="1326.5" y="-381.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> 并且short_value 为b&#39;p</text>
<polyline fill="none" stroke="#8a8898" points="1318.5,-373.5 1492.5,-373.5 "/>
<text text-anchor="start" x="1326.5" y="-358.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">PROTECTED_ROLLBACK</text>
<text text-anchor="start" x="1326.5" y="-343.3" font-family="Times,serif" font-size="14.00" fill="#5d6179"> _SHORT_VALUE</text>
<polyline fill="none" stroke="#8a8898" points="1318.5,-335.5 1492.5,-335.5 "/>
<text text-anchor="start" x="1326.5" y="-320.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">则不删除</text>
</g>
<!-- collapse_prev_rollback&#45;&gt;Write__is_protected -->
<g id="edge28" class="edge">
<title>collapse_prev_rollback&#45;&gt;Write__is_protected</title>
<path fill="none" stroke="#666666" d="M1009.61,-307.36C1089.54,-322.26 1219.28,-346.46 1308.09,-363.02"/>
<polygon fill="#666666" stroke="#666666" points="1307.7,-366.51 1318.17,-364.9 1308.98,-359.63 1307.7,-366.51"/>
</g>
<!-- WriteType__Rollback -->
<g id="node24" class="node">
<title>WriteType__Rollback</title>
<path fill="none" stroke="#1c2123" d="M1380,-179C1380,-179 1431,-179 1431,-179 1437,-179 1443,-185 1443,-191 1443,-191 1443,-205 1443,-205 1443,-211 1437,-217 1431,-217 1431,-217 1380,-217 1380,-217 1374,-217 1368,-211 1368,-205 1368,-205 1368,-191 1368,-191 1368,-185 1374,-179 1380,-179"/>
<text text-anchor="start" x="1376" y="-201.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">WriteType</text>
<text text-anchor="start" x="1376" y="-186.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Rollback</text>
</g>
<!-- collapse_prev_rollback&#45;&gt;WriteType__Rollback -->
<g id="edge29" class="edge">
<title>collapse_prev_rollback&#45;&gt;WriteType__Rollback</title>
<path fill="none" stroke="#666666" d="M1009.7,-264.14C1040.41,-252.45 1076.98,-239.96 1111,-232 1196.76,-211.95 1299.5,-203.5 1357.87,-200.11"/>
<polygon fill="#666666" stroke="#666666" points="1358.1,-203.6 1367.89,-199.55 1357.71,-196.61 1358.1,-203.6"/>
</g>
<!-- LockType__Put&#45;&gt;MvccTxn__delete_value -->
<g id="edge8" class="edge">
<title>LockType__Put&#45;&gt;MvccTxn__delete_value</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M536.72,-68C633.13,-75.39 795.84,-86 936,-86 936,-86 936,-86 1186.5,-86 1326.51,-86 1490.87,-102.24 1573.82,-111.58"/>
<polygon fill="green" stroke="green" points="1573.43,-115.06 1583.76,-112.72 1574.22,-108.11 1573.43,-115.06"/>
</g>
<!-- Write -->
<g id="node11" class="node">
<title>Write</title>
<path fill="none" stroke="#1c2123" d="M1308,-793C1308,-793 1503,-793 1503,-793 1509,-793 1515,-799 1515,-805 1515,-805 1515,-919 1515,-919 1515,-925 1509,-931 1503,-931 1503,-931 1308,-931 1308,-931 1302,-931 1296,-925 1296,-919 1296,-919 1296,-805 1296,-805 1296,-799 1302,-793 1308,-793"/>
<text text-anchor="start" x="1304" y="-915.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Write</text>
<polyline fill="none" stroke="#1c2123" points="1296,-908 1515,-908 "/>
<text text-anchor="start" x="1304" y="-892.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub write_type: WriteType,</text>
<polyline fill="none" stroke="#1c2123" points="1296,-885 1515,-885 "/>
<text text-anchor="start" x="1304" y="-869.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub start_ts: TimeStamp,</text>
<polyline fill="none" stroke="#1c2123" points="1296,-862 1515,-862 "/>
<text text-anchor="start" x="1304" y="-846.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub short_value: Option&lt;Value&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="1296,-839 1515,-839 "/>
<text text-anchor="start" x="1304" y="-823.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub has_overlapped_rollback: bool,</text>
<polyline fill="none" stroke="#1c2123" points="1296,-816 1515,-816 "/>
<text text-anchor="start" x="1304" y="-800.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub gc_fence: Option&lt;TimeStamp&gt;,</text>
</g>
<!-- Write__set_ovelapped_rollback&#45;&gt;Write -->
<g id="edge11" class="edge">
<title>Write__set_ovelapped_rollback&#45;&gt;Write</title>
<path fill="none" stroke="#666666" d="M1260,-866.64C1268.26,-866.37 1276.83,-866.1 1285.48,-865.82"/>
<polygon fill="#666666" stroke="#666666" points="1285.79,-869.31 1295.67,-865.49 1285.56,-862.32 1285.79,-869.31"/>
</g>
<!-- Write__new_rollback&#45;&gt;Write -->
<g id="edge12" class="edge">
<title>Write__new_rollback&#45;&gt;Write</title>
<path fill="none" stroke="#666666" d="M1248.68,-804.82C1260.53,-809.17 1273.29,-813.85 1286.22,-818.6"/>
<polygon fill="#666666" stroke="#666666" points="1285.07,-821.9 1295.66,-822.06 1287.48,-815.33 1285.07,-821.9"/>
</g>
<!-- Write&#45;&gt;MvccTxn__put_write -->
<g id="edge13" class="edge">
<title>Write&#45;&gt;MvccTxn__put_write</title>
<path fill="none" stroke="#666666" d="M1515.06,-886.07C1523.77,-888 1532.49,-889.93 1541.02,-891.82"/>
<polygon fill="#666666" stroke="#666666" points="1540.4,-895.27 1550.92,-894.02 1541.91,-888.44 1540.4,-895.27"/>
</g>
<!-- OverlappedWrite -->
<g id="node17" class="node">
<title>OverlappedWrite</title>
<path fill="none" stroke="#1c2123" d="M610,-808.5C610,-808.5 751,-808.5 751,-808.5 757,-808.5 763,-814.5 763,-820.5 763,-820.5 763,-865.5 763,-865.5 763,-871.5 757,-877.5 751,-877.5 751,-877.5 610,-877.5 610,-877.5 604,-877.5 598,-871.5 598,-865.5 598,-865.5 598,-820.5 598,-820.5 598,-814.5 604,-808.5 610,-808.5"/>
<text text-anchor="start" x="606" y="-862.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">OverlappedWrite</text>
<polyline fill="none" stroke="#1c2123" points="598,-854.5 763,-854.5 "/>
<text text-anchor="start" x="606" y="-839.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub write: Write,</text>
<polyline fill="none" stroke="#1c2123" points="598,-831.5 763,-831.5 "/>
<text text-anchor="start" x="606" y="-816.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub gc_fence: TimeStamp,</text>
</g>
<!-- TxnCommitRecord__None&#45;&gt;OverlappedWrite -->
<g id="edge21" class="edge">
<title>TxnCommitRecord__None&#45;&gt;OverlappedWrite</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M562.01,-821.26C570.65,-822.86 579.32,-824.46 587.82,-826.04"/>
<polygon fill="green" stroke="green" points="587.23,-829.49 597.7,-827.87 588.51,-822.6 587.23,-829.49"/>
</g>
<!-- panic -->
<g id="node16" class="node">
<title>panic</title>
<path fill="none" stroke="#1c2123" d="M611,-583C611,-583 750,-583 750,-583 756,-583 762,-589 762,-595 762,-595 762,-693 762,-693 762,-699 756,-705 750,-705 750,-705 611,-705 611,-705 605,-705 599,-699 599,-693 599,-693 599,-595 599,-595 599,-589 605,-583 611,-583"/>
<text text-anchor="start" x="607" y="-689.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">panic</text>
<polyline fill="none" stroke="#1c2123" points="599,-682 762,-682 "/>
<text text-anchor="start" x="607" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果writeType !=</text>
<text text-anchor="start" x="607" y="-651.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> WriteType::rollback</text>
<polyline fill="none" stroke="#1c2123" points="599,-644 762,-644 "/>
<text text-anchor="start" x="607" y="-628.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">txn record found</text>
<text text-anchor="start" x="607" y="-613.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> but not expected</text>
<polyline fill="none" stroke="#1c2123" points="599,-606 762,-606 "/>
<text text-anchor="start" x="607" y="-590.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">write type只能是Rollback</text>
</g>
<!-- TxnCommitRecord__SingleRecord&#45;&gt;panic -->
<g id="edge20" class="edge">
<title>TxnCommitRecord__SingleRecord&#45;&gt;panic</title>
<path fill="none" stroke="#666666" d="M526.51,-664.89C546.42,-662.17 568.17,-659.2 588.86,-656.38"/>
<polygon fill="#666666" stroke="#666666" points="589.49,-659.82 598.93,-655 588.54,-652.89 589.49,-659.82"/>
</g>
<!-- TxnCommitRecord__OverlappedRollback&#45;&gt;MvccTxn__unlock_key -->
<g id="edge18" class="edge">
<title>TxnCommitRecord__OverlappedRollback&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M552.9,-499.89C650.64,-506.89 803.42,-516 936,-516 936,-516 936,-516 1186.5,-516 1327.97,-516 1494.73,-525.88 1576.74,-531.39"/>
<polygon fill="green" stroke="green" points="1576.58,-534.89 1586.79,-532.07 1577.05,-527.9 1576.58,-534.89"/>
</g>
<!-- TxnCommitRecord__None_None&#45;&gt;MvccTxn__unlock_key -->
<g id="edge19" class="edge">
<title>TxnCommitRecord__None_None&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M538.41,-577.59C634.99,-567.83 796.54,-554 936,-554 936,-554 936,-554 1186.5,-554 1327.97,-554 1494.73,-544.12 1576.74,-538.61"/>
<polygon fill="green" stroke="green" points="1577.05,-542.1 1586.79,-537.93 1576.58,-535.11 1577.05,-542.1"/>
</g>
<!-- OverlappedWrite&#45;&gt;make_rollback -->
<g id="edge22" class="edge">
<title>OverlappedWrite&#45;&gt;make_rollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M763.08,-851.65C788.49,-854.35 816.71,-857.34 842.85,-860.12"/>
<polygon fill="green" stroke="green" points="842.83,-863.63 853.14,-861.21 843.56,-856.67 842.83,-863.63"/>
</g>
<!-- OverlappedWrite&#45;&gt;Write__set_ovelapped_rollback -->
<g id="edge23" class="edge">
<title>OverlappedWrite&#45;&gt;Write__set_ovelapped_rollback</title>
<path fill="none" stroke="#666666" d="M763.34,-834.84C843.25,-828.54 968.08,-823.16 1075,-838 1089.39,-840 1104.55,-843.41 1118.84,-847.25"/>
<polygon fill="#666666" stroke="#666666" points="1118.01,-850.65 1128.58,-849.97 1119.89,-843.91 1118.01,-850.65"/>
</g>
<!-- is_pessimistic_txn -->
<g id="node18" class="node">
<title>is_pessimistic_txn</title>
<path fill="none" stroke="#1c2123" d="M105,-831C105,-831 12,-831 12,-831 6,-831 0,-825 0,-819 0,-819 0,-807 0,-807 0,-801 6,-795 12,-795 12,-795 105,-795 105,-795 111,-795 117,-801 117,-807 117,-807 117,-819 117,-819 117,-825 111,-831 105,-831"/>
<text text-anchor="middle" x="58.5" y="-809.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">is_pessimistic_txn</text>
</g>
<!-- is_pessimistic_txn&#45;&gt;MvccTxn__unlock_key -->
<g id="edge33" class="edge">
<title>is_pessimistic_txn&#45;&gt;MvccTxn__unlock_key</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M117.11,-798.91C173.76,-785.53 262.86,-765.76 341,-754 527.26,-725.97 576.92,-744.15 763,-715 779.19,-712.46 782.97,-710.42 799,-707 1116.64,-639.33 1197.65,-630.02 1515,-561 1535.35,-556.57 1557.71,-551.46 1577.1,-546.94"/>
<polygon fill="green" stroke="green" points="1578,-550.33 1586.94,-544.64 1576.41,-543.51 1578,-550.33"/>
</g>
<!-- protected -->
<g id="node20" class="node">
<title>protected</title>
<path fill="#feed9b" stroke="#f7e495" d="M175.5,-935C175.5,-935 282.5,-935 282.5,-935 288.5,-935 294.5,-941 294.5,-947 294.5,-947 294.5,-961 294.5,-961 294.5,-967 288.5,-973 282.5,-973 282.5,-973 175.5,-973 175.5,-973 169.5,-973 163.5,-967 163.5,-961 163.5,-961 163.5,-947 163.5,-947 163.5,-941 169.5,-935 175.5,-935"/>
<text text-anchor="start" x="171.5" y="-957.8" font-family="Times,serif" font-size="14.00" fill="#40575d">protected</text>
<text text-anchor="start" x="171.5" y="-942.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> rollback需要protect</text>
</g>
<!-- is_pessimistic_txn&#45;&gt;protected -->
<g id="edge24" class="edge">
<title>is_pessimistic_txn&#45;&gt;protected</title>
<path fill="none" stroke="#666666" d="M71.53,-831.02C87.73,-854.17 118.55,-894.4 153,-920 157.97,-923.69 163.4,-927.11 169.01,-930.24"/>
<polygon fill="#666666" stroke="#666666" points="167.42,-933.36 177.9,-934.92 170.68,-927.16 167.42,-933.36"/>
</g>
<!-- key__is_encoded_from__lock__primary -->
<g id="node19" class="node">
<title>key__is_encoded_from__lock__primary</title>
<path fill="none" stroke="#1c2123" d="M13,-927.5C13,-927.5 104,-927.5 104,-927.5 110,-927.5 116,-933.5 116,-939.5 116,-939.5 116,-968.5 116,-968.5 116,-974.5 110,-980.5 104,-980.5 104,-980.5 13,-980.5 13,-980.5 7,-980.5 1,-974.5 1,-968.5 1,-968.5 1,-939.5 1,-939.5 1,-933.5 7,-927.5 13,-927.5"/>
<text text-anchor="start" x="9" y="-965.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">key</text>
<text text-anchor="start" x="9" y="-950.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> is_encoded_from</text>
<text text-anchor="start" x="9" y="-935.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> lock__primary</text>
</g>
<!-- key__is_encoded_from__lock__primary&#45;&gt;protected -->
<g id="edge25" class="edge">
<title>key__is_encoded_from__lock__primary&#45;&gt;protected</title>
<path fill="none" stroke="#666666" d="M116.08,-954C127.95,-954 140.65,-954 153.08,-954"/>
<polygon fill="#666666" stroke="#666666" points="153.43,-957.5 163.43,-954 153.43,-950.5 153.43,-957.5"/>
</g>
<!-- protected&#45;&gt;Write__set_ovelapped_rollback -->
<g id="edge37" class="edge">
<title>protected&#45;&gt;Write__set_ovelapped_rollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M294.55,-956.72C309.78,-957.25 325.96,-957.73 341,-958 668.08,-963.89 754.64,-969.25 1075,-903 1090.03,-899.89 1105.94,-895.57 1120.84,-891.05"/>
<polygon fill="green" stroke="green" points="1121.95,-894.37 1130.46,-888.06 1119.87,-887.69 1121.95,-894.37"/>
</g>
<!-- protected&#45;&gt;Write__new_rollback -->
<g id="edge36" class="edge">
<title>protected&#45;&gt;Write__new_rollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M294.75,-945.91C365.94,-934.36 480.95,-907.66 562,-849 584.18,-832.94 573.81,-811.84 598,-799 684.93,-752.87 974.74,-766.69 1111.66,-776.24"/>
<polygon fill="green" stroke="green" points="1111.82,-779.76 1122.04,-776.98 1112.32,-772.78 1111.82,-779.76"/>
</g>
<!-- SnapshotReader__seek_write&#45;&gt;MvccTxn__delete_write -->
<g id="edge31" class="edge">
<title>SnapshotReader__seek_write&#45;&gt;MvccTxn__delete_write</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1237.75,-289.03C1302.41,-282.68 1417.02,-271.17 1515,-260 1534.47,-257.78 1555.81,-255.17 1574.62,-252.81"/>
<polygon fill="green" stroke="green" points="1575.3,-256.25 1584.79,-251.53 1574.43,-249.31 1575.3,-256.25"/>
</g>
<!-- SnapshotReader__seek_write&#45;&gt;Write__is_protected -->
<g id="edge32" class="edge">
<title>SnapshotReader__seek_write&#45;&gt;Write__is_protected</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1234.34,-313.09C1256.22,-321.82 1282.96,-332.5 1308.7,-342.77"/>
<polygon fill="green" stroke="green" points="1307.55,-346.08 1318.13,-346.53 1310.14,-339.57 1307.55,-346.08"/>
</g>
<!-- WriteType__Rollback&#45;&gt;MvccTxn__delete_write -->
<g id="edge30" class="edge">
<title>WriteType__Rollback&#45;&gt;MvccTxn__delete_write</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1443.49,-206.03C1479.4,-213.83 1534.26,-225.75 1574.75,-234.54"/>
<polygon fill="green" stroke="green" points="1574.19,-238 1584.71,-236.71 1575.68,-231.16 1574.19,-238"/>
</g>
<!-- PROTECTED_ROLLBACK_SHORT_VALUE -->
<g id="node25" class="node">
<title>PROTECTED_ROLLBACK_SHORT_VALUE</title>
<path fill="none" stroke="#1c2123" d="M1063,-752C1063,-752 811,-752 811,-752 805,-752 799,-746 799,-740 799,-740 799,-728 799,-728 799,-722 805,-716 811,-716 811,-716 1063,-716 1063,-716 1069,-716 1075,-722 1075,-728 1075,-728 1075,-740 1075,-740 1075,-746 1069,-752 1063,-752"/>
<text text-anchor="middle" x="937" y="-730.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PROTECTED_ROLLBACK_SHORT_VALUE</text>
</g>
<!-- PROTECTED_ROLLBACK_SHORT_VALUE&#45;&gt;Write__new_rollback -->
<g id="edge35" class="edge">
<title>PROTECTED_ROLLBACK_SHORT_VALUE&#45;&gt;Write__new_rollback</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1030.49,-752.01C1057.5,-757.27 1086.63,-762.94 1112.2,-767.92"/>
<polygon fill="green" stroke="green" points="1111.69,-771.39 1122.18,-769.86 1113.03,-764.52 1111.69,-771.39"/>
</g>
<!-- PROTECTED_ROLLBACK_SHORT_VALUE&#45;&gt;Write__is_protected -->
<g id="edge34" class="edge">
<title>PROTECTED_ROLLBACK_SHORT_VALUE&#45;&gt;Write__is_protected</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M962.1,-715.76C1025.62,-667.7 1200.3,-535.52 1310.21,-452.35"/>
<polygon fill="green" stroke="green" points="1312.47,-455.03 1318.33,-446.2 1308.25,-449.45 1312.47,-455.03"/>
</g>
</g>
</svg>
