<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: propose_conf_change Pages: 1 -->
<svg width="1537pt" height="262pt"
 viewBox="0.00 0.00 1537.00 262.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 258)">
<title>propose_conf_change</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-258 1533,-258 1533,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Raft</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1214,-8C1214,-8 1365,-8 1365,-8 1371,-8 1377,-14 1377,-20 1377,-20 1377,-90 1377,-90 1377,-96 1371,-102 1365,-102 1365,-102 1214,-102 1214,-102 1208,-102 1202,-96 1202,-90 1202,-90 1202,-20 1202,-20 1202,-14 1208,-8 1214,-8"/>
<text text-anchor="middle" x="1289.5" y="-82" font-family="Times,serif" font-size="20.00">raft&#45;rs</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Peer</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M332,-110C332,-110 1509,-110 1509,-110 1515,-110 1521,-116 1521,-122 1521,-122 1521,-234 1521,-234 1521,-240 1515,-246 1509,-246 1509,-246 332,-246 332,-246 326,-246 320,-240 320,-234 320,-234 320,-122 320,-122 320,-116 326,-110 332,-110"/>
<text text-anchor="middle" x="920.5" y="-226" font-family="Times,serif" font-size="20.00">Peer</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_PeerFsmDelegate</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M154,-86C154,-86 288,-86 288,-86 294,-86 300,-92 300,-98 300,-98 300,-210 300,-210 300,-216 294,-222 288,-222 288,-222 154,-222 154,-222 148,-222 142,-216 142,-210 142,-210 142,-98 142,-98 142,-92 148,-86 154,-86"/>
<text text-anchor="middle" x="221" y="-202" font-family="Times,serif" font-size="20.00">PeerFsmDelegate</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_RaftPoller</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-113C20,-113 110,-113 110,-113 116,-113 122,-119 122,-125 122,-125 122,-183 122,-183 122,-189 116,-195 110,-195 110,-195 20,-195 20,-195 14,-195 8,-189 8,-183 8,-183 8,-125 8,-125 8,-119 14,-113 20,-113"/>
<text text-anchor="middle" x="65" y="-175" font-family="Times,serif" font-size="20.00">RaftPoller</text>
</g>
<!-- raft_propose_conf_change -->
<g id="node1" class="node">
<title>raft_propose_conf_change</title>
<path fill="none" stroke="#1c2123" d="M1222,-17C1222,-17 1357,-17 1357,-17 1363,-17 1369,-23 1369,-29 1369,-29 1369,-51 1369,-51 1369,-57 1363,-63 1357,-63 1357,-63 1222,-63 1222,-63 1216,-63 1210,-57 1210,-51 1210,-51 1210,-29 1210,-29 1210,-23 1216,-17 1222,-17"/>
<text text-anchor="start" x="1218" y="-47.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change</text>
<polyline fill="none" stroke="#1c2123" points="1210,-40 1369,-40 "/>
<text text-anchor="start" x="1218" y="-24.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">向raft prpose conf change</text>
</g>
<!-- propose -->
<g id="node2" class="node">
<title>propose</title>
<path fill="none" stroke="#1c2123" d="M375,-184C375,-184 340,-184 340,-184 334,-184 328,-178 328,-172 328,-172 328,-160 328,-160 328,-154 334,-148 340,-148 340,-148 375,-148 375,-148 381,-148 387,-154 387,-160 387,-160 387,-172 387,-172 387,-178 381,-184 375,-184"/>
<text text-anchor="middle" x="357.5" y="-162.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose</text>
</g>
<!-- inspect -->
<g id="node3" class="node">
<title>inspect</title>
<path fill="none" stroke="#1c2123" d="M466,-165C466,-165 435,-165 435,-165 429,-165 423,-159 423,-153 423,-153 423,-141 423,-141 423,-135 429,-129 435,-129 435,-129 466,-129 466,-129 472,-129 478,-135 478,-141 478,-141 478,-153 478,-153 478,-159 472,-165 466,-165"/>
<text text-anchor="middle" x="450.5" y="-143.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">inspect</text>
</g>
<!-- propose&#45;&gt;inspect -->
<g id="edge1" class="edge">
<title>propose&#45;&gt;inspect</title>
<path fill="none" stroke="#666666" d="M387.29,-159.99C395.36,-158.3 404.25,-156.45 412.71,-154.68"/>
<polygon fill="#666666" stroke="#666666" points="413.68,-158.06 422.75,-152.59 412.25,-151.2 413.68,-158.06"/>
</g>
<!-- propose_conf_change -->
<g id="node4" class="node">
<title>propose_conf_change</title>
<path fill="none" stroke="#1c2123" d="M776,-119C776,-119 943,-119 943,-119 949,-119 955,-125 955,-131 955,-131 955,-183 955,-183 955,-189 949,-195 943,-195 943,-195 776,-195 776,-195 770,-195 764,-189 764,-183 764,-183 764,-131 764,-131 764,-125 770,-119 776,-119"/>
<text text-anchor="middle" x="859.5" y="-179.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change</text>
<polyline fill="none" stroke="#1c2123" points="764,-172 955,-172 "/>
<text text-anchor="start" x="772" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">做一些检查,然后调用</text>
<text text-anchor="start" x="772" y="-141.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> propose_conf_change_internal</text>
<text text-anchor="start" x="772" y="-126.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 统一处理v1/v2的change_peer</text>
</g>
<!-- propose&#45;&gt;propose_conf_change -->
<g id="edge2" class="edge">
<title>propose&#45;&gt;propose_conf_change</title>
<path fill="none" stroke="#666666" d="M387.01,-170.24C398.2,-171.72 411.18,-173.2 423,-174 479.83,-177.82 678.46,-178.4 728,-175 736.36,-174.43 745.01,-173.65 753.68,-172.73"/>
<polygon fill="#666666" stroke="#666666" points="754.31,-176.19 763.86,-171.6 753.54,-169.23 754.31,-176.19"/>
</g>
<!-- RequestPolicy_ProposeConfChange -->
<g id="node5" class="node">
<title>RequestPolicy_ProposeConfChange</title>
<path fill="none" stroke="#1c2123" d="M526,-129C526,-129 716,-129 716,-129 722,-129 728,-135 728,-141 728,-141 728,-153 728,-153 728,-159 722,-165 716,-165 716,-165 526,-165 526,-165 520,-165 514,-159 514,-153 514,-153 514,-141 514,-141 514,-135 520,-129 526,-129"/>
<text text-anchor="middle" x="621" y="-143.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RequestPolicy::ProposeConfChange</text>
</g>
<!-- inspect&#45;&gt;RequestPolicy_ProposeConfChange -->
<g id="edge3" class="edge">
<title>inspect&#45;&gt;RequestPolicy_ProposeConfChange</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M478.2,-147C485.7,-147 494.36,-147 503.63,-147"/>
<polygon fill="green" stroke="green" points="503.9,-150.5 513.9,-147 503.9,-143.5 503.9,-150.5"/>
</g>
<!-- propose_conf_change_internal -->
<g id="node6" class="node">
<title>propose_conf_change_internal</title>
<path fill="none" stroke="#1c2123" d="M1162,-164C1162,-164 1003,-164 1003,-164 997,-164 991,-158 991,-152 991,-152 991,-140 991,-140 991,-134 997,-128 1003,-128 1003,-128 1162,-128 1162,-128 1168,-128 1174,-134 1174,-140 1174,-140 1174,-152 1174,-152 1174,-158 1168,-164 1162,-164"/>
<text text-anchor="middle" x="1082.5" y="-142.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">propose_conf_change_internal</text>
</g>
<!-- propose_conf_change&#45;&gt;propose_conf_change_internal -->
<g id="edge5" class="edge">
<title>propose_conf_change&#45;&gt;propose_conf_change_internal</title>
<path fill="none" stroke="#666666" d="M955.19,-152.29C963.69,-151.86 972.32,-151.43 980.88,-151.01"/>
<polygon fill="#666666" stroke="#666666" points="981.05,-154.5 990.87,-150.51 980.7,-147.51 981.05,-154.5"/>
</g>
<!-- RequestPolicy_ProposeConfChange&#45;&gt;propose_conf_change -->
<g id="edge4" class="edge">
<title>RequestPolicy_ProposeConfChange&#45;&gt;propose_conf_change</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M728.14,-151.49C736.61,-151.85 745.16,-152.21 753.62,-152.57"/>
<polygon fill="green" stroke="green" points="753.74,-156.07 763.88,-153 754.04,-149.08 753.74,-156.07"/>
</g>
<!-- propose_conf_change_internal&#45;&gt;raft_propose_conf_change -->
<g id="edge6" class="edge">
<title>propose_conf_change_internal&#45;&gt;raft_propose_conf_change</title>
<path fill="none" stroke="#666666" d="M1118.74,-127.78C1150.61,-111.3 1198.02,-86.79 1234.64,-67.85"/>
<polygon fill="#666666" stroke="#666666" points="1236.42,-70.87 1243.7,-63.16 1233.21,-64.65 1236.42,-70.87"/>
</g>
<!-- check_conf_change -->
<g id="node7" class="node">
<title>check_conf_change</title>
<path fill="none" stroke="#1c2123" d="M1339.5,-154C1339.5,-154 1239.5,-154 1239.5,-154 1233.5,-154 1227.5,-148 1227.5,-142 1227.5,-142 1227.5,-130 1227.5,-130 1227.5,-124 1233.5,-118 1239.5,-118 1239.5,-118 1339.5,-118 1339.5,-118 1345.5,-118 1351.5,-124 1351.5,-130 1351.5,-130 1351.5,-142 1351.5,-142 1351.5,-148 1345.5,-154 1339.5,-154"/>
<text text-anchor="middle" x="1289.5" y="-132.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_conf_change</text>
</g>
<!-- propose_conf_change_internal&#45;&gt;check_conf_change -->
<g id="edge7" class="edge">
<title>propose_conf_change_internal&#45;&gt;check_conf_change</title>
<path fill="none" stroke="#666666" d="M1174.01,-141.58C1188.51,-140.88 1203.34,-140.15 1217.3,-139.47"/>
<polygon fill="#666666" stroke="#666666" points="1217.49,-142.97 1227.31,-138.99 1217.15,-135.98 1217.49,-142.97"/>
</g>
<!-- next_proposal_index -->
<g id="node8" class="node">
<title>next_proposal_index</title>
<path fill="none" stroke="#1c2123" d="M1342.5,-208C1342.5,-208 1236.5,-208 1236.5,-208 1230.5,-208 1224.5,-202 1224.5,-196 1224.5,-196 1224.5,-184 1224.5,-184 1224.5,-178 1230.5,-172 1236.5,-172 1236.5,-172 1342.5,-172 1342.5,-172 1348.5,-172 1354.5,-178 1354.5,-184 1354.5,-184 1354.5,-196 1354.5,-196 1354.5,-202 1348.5,-208 1342.5,-208"/>
<text text-anchor="middle" x="1289.5" y="-186.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">next_proposal_index</text>
</g>
<!-- propose_conf_change_internal&#45;&gt;next_proposal_index -->
<g id="edge8" class="edge">
<title>propose_conf_change_internal&#45;&gt;next_proposal_index</title>
<path fill="none" stroke="#666666" d="M1167.47,-164.02C1183.07,-167.37 1199.27,-170.85 1214.54,-174.13"/>
<polygon fill="#666666" stroke="#666666" points="1213.92,-177.57 1224.43,-176.25 1215.39,-170.73 1213.92,-177.57"/>
</g>
<!-- should_wake_up -->
<g id="node9" class="node">
<title>should_wake_up</title>
<path fill="none" stroke="#1c2123" d="M1501,-154C1501,-154 1417,-154 1417,-154 1411,-154 1405,-148 1405,-142 1405,-142 1405,-130 1405,-130 1405,-124 1411,-118 1417,-118 1417,-118 1501,-118 1501,-118 1507,-118 1513,-124 1513,-130 1513,-130 1513,-142 1513,-142 1513,-148 1507,-154 1501,-154"/>
<text text-anchor="middle" x="1459" y="-132.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">should_wake_up</text>
</g>
<!-- check_conf_change&#45;&gt;should_wake_up -->
<g id="edge9" class="edge">
<title>check_conf_change&#45;&gt;should_wake_up</title>
<path fill="none" stroke="#666666" d="M1351.92,-136C1365.89,-136 1380.76,-136 1394.81,-136"/>
<polygon fill="#666666" stroke="#666666" points="1394.87,-139.5 1404.87,-136 1394.87,-132.5 1394.87,-139.5"/>
</g>
<!-- handle_msgs -->
<g id="node10" class="node">
<title>handle_msgs</title>
<path fill="none" stroke="#1c2123" d="M252.5,-184C252.5,-184 188.5,-184 188.5,-184 182.5,-184 176.5,-178 176.5,-172 176.5,-172 176.5,-160 176.5,-160 176.5,-154 182.5,-148 188.5,-148 188.5,-148 252.5,-148 252.5,-148 258.5,-148 264.5,-154 264.5,-160 264.5,-160 264.5,-172 264.5,-172 264.5,-178 258.5,-184 252.5,-184"/>
<text text-anchor="middle" x="220.5" y="-162.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_msgs</text>
</g>
<!-- handle_msgs&#45;&gt;propose -->
<g id="edge10" class="edge">
<title>handle_msgs&#45;&gt;propose</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M264.59,-166C281.55,-166 300.89,-166 317.44,-166"/>
<polygon fill="green" stroke="green" points="317.86,-169.5 327.86,-166 317.86,-162.5 317.86,-169.5"/>
</g>
<!-- collect_ready -->
<g id="node11" class="node">
<title>collect_ready</title>
<path fill="none" stroke="#1c2123" d="M253,-130C253,-130 188,-130 188,-130 182,-130 176,-124 176,-118 176,-118 176,-106 176,-106 176,-100 182,-94 188,-94 188,-94 253,-94 253,-94 259,-94 265,-100 265,-106 265,-106 265,-118 265,-118 265,-124 259,-130 253,-130"/>
<text text-anchor="middle" x="220.5" y="-108.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">collect_ready</text>
</g>
<!-- handle_normal -->
<g id="node12" class="node">
<title>handle_normal</title>
<path fill="none" stroke="#1c2123" d="M102,-157C102,-157 28,-157 28,-157 22,-157 16,-151 16,-145 16,-145 16,-133 16,-133 16,-127 22,-121 28,-121 28,-121 102,-121 102,-121 108,-121 114,-127 114,-133 114,-133 114,-145 114,-145 114,-151 108,-157 102,-157"/>
<text text-anchor="middle" x="65" y="-135.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_normal</text>
</g>
<!-- handle_normal&#45;&gt;handle_msgs -->
<g id="edge11" class="edge">
<title>handle_normal&#45;&gt;handle_msgs</title>
<path fill="none" stroke="#666666" d="M114.15,-147.47C130.68,-150.38 149.27,-153.65 166.18,-156.62"/>
<polygon fill="#666666" stroke="#666666" points="166.01,-160.14 176.46,-158.43 167.22,-153.25 166.01,-160.14"/>
</g>
<!-- handle_normal&#45;&gt;collect_ready -->
<g id="edge12" class="edge">
<title>handle_normal&#45;&gt;collect_ready</title>
<path fill="none" stroke="#666666" d="M114.15,-130.53C130.53,-127.65 148.94,-124.41 165.74,-121.46"/>
<polygon fill="#666666" stroke="#666666" points="166.71,-124.84 175.95,-119.66 165.49,-117.95 166.71,-124.84"/>
</g>
</g>
</svg>
