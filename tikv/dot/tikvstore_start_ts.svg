<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: dig Pages: 1 -->
<svg width="1464pt" height="556pt"
 viewBox="0.00 0.00 1464.00 555.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 551.5)">
<title>dig</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-551.5 1460,-551.5 1460,4 -4,4"/>
<!-- NewTiKVTxn -->
<g id="node1" class="node">
<title>NewTiKVTxn</title>
<path fill="none" stroke="#1c2123" d="M823,-291C823,-291 928,-291 928,-291 934,-291 940,-297 940,-303 940,-303 940,-355 940,-355 940,-361 934,-367 928,-367 928,-367 823,-367 823,-367 817,-367 811,-361 811,-355 811,-355 811,-303 811,-303 811,-297 817,-291 823,-291"/>
<text text-anchor="start" x="819" y="-351.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">NewTiKVTxn</text>
<polyline fill="none" stroke="#1c2123" points="811,-344 940,-344 "/>
<text text-anchor="start" x="819" y="-328.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">新生成一个KVTxn</text>
<text text-anchor="start" x="819" y="-313.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 它实现了</text>
<text text-anchor="start" x="819" y="-298.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> transaction接口</text>
</g>
<!-- KVTxn -->
<g id="node2" class="node">
<title>KVTxn</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1036,-110.5C1036,-110.5 1208,-110.5 1208,-110.5 1214,-110.5 1220,-116.5 1220,-122.5 1220,-122.5 1220,-305.5 1220,-305.5 1220,-311.5 1214,-317.5 1208,-317.5 1208,-317.5 1036,-317.5 1036,-317.5 1030,-317.5 1024,-311.5 1024,-305.5 1024,-305.5 1024,-122.5 1024,-122.5 1024,-116.5 1030,-110.5 1036,-110.5"/>
<text text-anchor="start" x="1032" y="-302.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">KVTxn</text>
<polyline fill="none" stroke="#8a8898" points="1024,-294.5 1220,-294.5 "/>
<text text-anchor="start" x="1032" y="-279.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">store kvstore </text>
<polyline fill="none" stroke="#8a8898" points="1024,-271.5 1220,-271.5 "/>
<text text-anchor="start" x="1032" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startTS uint64</text>
<polyline fill="none" stroke="#8a8898" points="1024,-248.5 1220,-248.5 "/>
<text text-anchor="start" x="1032" y="-233.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startTime time.Time </text>
<polyline fill="none" stroke="#8a8898" points="1024,-225.5 1220,-225.5 "/>
<text text-anchor="start" x="1032" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">commitTS uint64</text>
<polyline fill="none" stroke="#8a8898" points="1024,-202.5 1220,-202.5 "/>
<text text-anchor="start" x="1032" y="-187.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">valid bool</text>
<polyline fill="none" stroke="#8a8898" points="1024,-179.5 1220,-179.5 "/>
<text text-anchor="start" x="1032" y="-164.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">vars *tikv.Variables</text>
<polyline fill="none" stroke="#8a8898" points="1024,-156.5 1220,-156.5 "/>
<text text-anchor="start" x="1032" y="-141.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">committer *twoPhaseCommitter</text>
<polyline fill="none" stroke="#8a8898" points="1024,-133.5 1220,-133.5 "/>
<text text-anchor="start" x="1032" y="-118.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
</g>
<!-- NewTiKVTxn&#45;&gt;KVTxn -->
<g id="edge1" class="edge">
<title>NewTiKVTxn&#45;&gt;KVTxn</title>
<path fill="none" stroke="#666666" d="M940.1,-299.09C962.78,-288.42 989,-276.09 1014.31,-264.18"/>
<polygon fill="#666666" stroke="#666666" points="1016.02,-267.24 1023.58,-259.82 1013.04,-260.91 1016.02,-267.24"/>
</g>
<!-- twoPhaseCommitter -->
<g id="node13" class="node">
<title>twoPhaseCommitter</title>
<path fill="#a2dbfa" stroke="#8a8898" d="M1268,-14.5C1268,-14.5 1444,-14.5 1444,-14.5 1450,-14.5 1456,-20.5 1456,-26.5 1456,-26.5 1456,-163.5 1456,-163.5 1456,-169.5 1450,-175.5 1444,-175.5 1444,-175.5 1268,-175.5 1268,-175.5 1262,-175.5 1256,-169.5 1256,-163.5 1256,-163.5 1256,-26.5 1256,-26.5 1256,-20.5 1262,-14.5 1268,-14.5"/>
<text text-anchor="start" x="1264" y="-160.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">twoPhaseCommitter</text>
<polyline fill="none" stroke="#8a8898" points="1256,-152.5 1456,-152.5 "/>
<text text-anchor="start" x="1264" y="-137.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">store kvstore</text>
<polyline fill="none" stroke="#8a8898" points="1256,-129.5 1456,-129.5 "/>
<text text-anchor="start" x="1264" y="-114.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">txn *KVTxn</text>
<polyline fill="none" stroke="#8a8898" points="1256,-106.5 1456,-106.5 "/>
<text text-anchor="start" x="1264" y="-91.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">startTS uint64</text>
<polyline fill="none" stroke="#8a8898" points="1256,-83.5 1456,-83.5 "/>
<text text-anchor="start" x="1264" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">mutations *memBufferMutations</text>
<polyline fill="none" stroke="#8a8898" points="1256,-60.5 1456,-60.5 "/>
<text text-anchor="start" x="1264" y="-45.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">commitTS uint64</text>
<polyline fill="none" stroke="#8a8898" points="1256,-37.5 1456,-37.5 "/>
<text text-anchor="start" x="1264" y="-22.3" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
</g>
<!-- KVTxn&#45;&gt;twoPhaseCommitter -->
<g id="edge17" class="edge">
<title>KVTxn:committer&#45;&gt;twoPhaseCommitter</title>
<path fill="none" stroke="#666666" d="M1220,-145C1228.53,-145 1237.19,-144.11 1245.79,-142.57"/>
<polygon fill="#666666" stroke="#666666" points="1246.77,-145.94 1255.84,-140.47 1245.34,-139.09 1246.77,-145.94"/>
</g>
<!-- KVStore__BeginWithOption -->
<g id="node3" class="node">
<title>KVStore__BeginWithOption</title>
<path fill="none" stroke="#1c2123" d="M377,-125.5C377,-125.5 523,-125.5 523,-125.5 529,-125.5 535,-131.5 535,-137.5 535,-137.5 535,-272.5 535,-272.5 535,-278.5 529,-284.5 523,-284.5 523,-284.5 377,-284.5 377,-284.5 371,-284.5 365,-278.5 365,-272.5 365,-272.5 365,-137.5 365,-137.5 365,-131.5 371,-125.5 377,-125.5"/>
<text text-anchor="start" x="373" y="-269.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">KVStore</text>
<text text-anchor="start" x="373" y="-254.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> BeginWithOption</text>
<polyline fill="none" stroke="#1c2123" points="365,-246.5 535,-246.5 "/>
<text text-anchor="start" x="373" y="-231.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果option中</text>
<text text-anchor="start" x="373" y="-216.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> StartTs为nil</text>
<text text-anchor="start" x="373" y="-201.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 则发请求给PD</text>
<text text-anchor="start" x="373" y="-186.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取一个时间戳</text>
<text text-anchor="start" x="373" y="-171.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 作为StartTS</text>
<polyline fill="none" stroke="#1c2123" points="365,-163.5 535,-163.5 "/>
<text text-anchor="start" x="373" y="-148.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">最后返回KVTxn</text>
<text text-anchor="start" x="373" y="-133.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 它实现了Transcation接口</text>
</g>
<!-- KVStore__BeginWithOption&#45;&gt;NewTiKVTxn -->
<g id="edge2" class="edge">
<title>KVStore__BeginWithOption&#45;&gt;NewTiKVTxn</title>
<path fill="none" stroke="#666666" d="M535.33,-259.92C547,-266.02 559.08,-271.6 571,-276 646.46,-303.85 737.99,-317.27 800.68,-323.6"/>
<polygon fill="#666666" stroke="#666666" points="800.58,-327.11 810.87,-324.59 801.26,-320.14 800.58,-327.11"/>
</g>
<!-- KVStore__BeginWithOption&#45;&gt;KVTxn -->
<g id="edge14" class="edge">
<title>KVStore__BeginWithOption&#45;&gt;KVTxn</title>
<path fill="none" stroke="#666666" d="M535.34,-220.23C641.25,-237.22 828.4,-260.2 988,-243 996.36,-242.1 1004.96,-240.89 1013.59,-239.47"/>
<polygon fill="#666666" stroke="#666666" points="1014.44,-242.88 1023.7,-237.72 1013.25,-235.98 1014.44,-242.88"/>
</g>
<!-- KVStore__getTimestampWithRetry -->
<g id="node4" class="node">
<title>KVStore__getTimestampWithRetry</title>
<path fill="none" stroke="#1c2123" d="M583,-95C583,-95 715,-95 715,-95 721,-95 727,-101 727,-107 727,-107 727,-159 727,-159 727,-165 721,-171 715,-171 715,-171 583,-171 583,-171 577,-171 571,-165 571,-159 571,-159 571,-107 571,-107 571,-101 577,-95 583,-95"/>
<text text-anchor="start" x="579" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">KVStore</text>
<text text-anchor="start" x="579" y="-140.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> getTimestampWithRetry</text>
<polyline fill="none" stroke="#1c2123" points="571,-133 727,-133 "/>
<text text-anchor="start" x="579" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">发请求给PD</text>
<text text-anchor="start" x="579" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取时间戳</text>
</g>
<!-- KVStore__BeginWithOption&#45;&gt;KVStore__getTimestampWithRetry -->
<g id="edge3" class="edge">
<title>KVStore__BeginWithOption&#45;&gt;KVStore__getTimestampWithRetry</title>
<path fill="none" stroke="#666666" d="M535.12,-174.26C543.7,-171.12 552.44,-167.93 561.05,-164.78"/>
<polygon fill="#666666" stroke="#666666" points="562.52,-167.97 570.72,-161.25 560.12,-161.39 562.52,-167.97"/>
</g>
<!-- Transaction -->
<g id="node12" class="node">
<title>Transaction</title>
<path fill="#bcffb9" stroke="#8a8898" d="M775,-103C775,-103 976,-103 976,-103 982,-103 988,-109 988,-115 988,-115 988,-221 988,-221 988,-227 982,-233 976,-233 976,-233 775,-233 775,-233 769,-233 763,-227 763,-221 763,-221 763,-115 763,-115 763,-109 769,-103 775,-103"/>
<text text-anchor="start" x="771" y="-217.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">type Transaction interface </text>
<polyline fill="none" stroke="#8a8898" points="763,-210 988,-210 "/>
<text text-anchor="start" x="771" y="-194.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Commit(context.Context) error</text>
<polyline fill="none" stroke="#8a8898" points="763,-187 988,-187 "/>
<text text-anchor="start" x="771" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Rollback() error</text>
<polyline fill="none" stroke="#8a8898" points="763,-164 988,-164 "/>
<text text-anchor="start" x="771" y="-148.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">LockKeys(ctx context.Context,</text>
<text text-anchor="start" x="771" y="-133.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> lockCtx *LockCtx, keys ...Key) error</text>
<polyline fill="none" stroke="#8a8898" points="763,-126 988,-126 "/>
<text text-anchor="middle" x="875.5" y="-110.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
</g>
<!-- KVStore__BeginWithOption&#45;&gt;Transaction -->
<g id="edge15" class="edge">
<title>KVStore__BeginWithOption&#45;&gt;Transaction</title>
<path fill="none" stroke="#666666" d="M535.25,-197.7C589.91,-192.96 662.68,-186.63 727,-181 735.37,-180.27 744.02,-179.51 752.72,-178.74"/>
<polygon fill="#666666" stroke="#666666" points="753.3,-182.21 762.96,-177.84 752.69,-175.23 753.3,-182.21"/>
</g>
<!-- KVTxn__StartTS -->
<g id="node7" class="node">
<title>KVTxn__StartTS</title>
<path fill="#feed9b" stroke="#f7e495" d="M831,-8C831,-8 920,-8 920,-8 926,-8 932,-14 932,-20 932,-20 932,-72 932,-72 932,-78 926,-84 920,-84 920,-84 831,-84 831,-84 825,-84 819,-78 819,-72 819,-72 819,-20 819,-20 819,-14 825,-8 831,-8"/>
<text text-anchor="start" x="827" y="-68.8" font-family="Times,serif" font-size="14.00" fill="#40575d">KVTxn</text>
<text text-anchor="start" x="827" y="-53.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> startTS</text>
<polyline fill="none" stroke="#f7e495" points="819,-46 932,-46 "/>
<text text-anchor="start" x="827" y="-30.8" font-family="Times,serif" font-size="14.00" fill="#40575d">startTS先保存在</text>
<text text-anchor="start" x="827" y="-15.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> KVTxn中</text>
</g>
<!-- KVStore__getTimestampWithRetry&#45;&gt;KVTxn__StartTS -->
<g id="edge6" class="edge">
<title>KVStore__getTimestampWithRetry&#45;&gt;KVTxn__StartTS</title>
<path fill="none" stroke="#666666" d="M727.26,-103.06C753.91,-92.73 783.49,-81.27 809.11,-71.34"/>
<polygon fill="#666666" stroke="#666666" points="810.66,-74.5 818.71,-67.62 808.13,-67.97 810.66,-74.5"/>
</g>
<!-- KVStore__Begin -->
<g id="node5" class="node">
<title>KVStore__Begin</title>
<path fill="none" stroke="#1c2123" d="M429.5,-344C429.5,-344 470.5,-344 470.5,-344 476.5,-344 482.5,-350 482.5,-356 482.5,-356 482.5,-370 482.5,-370 482.5,-376 476.5,-382 470.5,-382 470.5,-382 429.5,-382 429.5,-382 423.5,-382 417.5,-376 417.5,-370 417.5,-370 417.5,-356 417.5,-356 417.5,-350 423.5,-344 429.5,-344"/>
<text text-anchor="start" x="425.5" y="-366.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">KVStore</text>
<text text-anchor="start" x="425.5" y="-351.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Begin</text>
</g>
<!-- DefaultStartTSOption -->
<g id="node6" class="node">
<title>DefaultStartTSOption</title>
<path fill="none" stroke="#1c2123" d="M593,-328.5C593,-328.5 705,-328.5 705,-328.5 711,-328.5 717,-334.5 717,-340.5 717,-340.5 717,-385.5 717,-385.5 717,-391.5 711,-397.5 705,-397.5 705,-397.5 593,-397.5 593,-397.5 587,-397.5 581,-391.5 581,-385.5 581,-385.5 581,-340.5 581,-340.5 581,-334.5 587,-328.5 593,-328.5"/>
<text text-anchor="start" x="589" y="-382.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">DefaultStartTSOption</text>
<polyline fill="none" stroke="#1c2123" points="581,-374.5 717,-374.5 "/>
<text text-anchor="start" x="589" y="-359.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnScope: global</text>
<polyline fill="none" stroke="#1c2123" points="581,-351.5 717,-351.5 "/>
<text text-anchor="start" x="589" y="-336.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StartTS: nil</text>
</g>
<!-- KVStore__Begin&#45;&gt;DefaultStartTSOption -->
<g id="edge5" class="edge">
<title>KVStore__Begin&#45;&gt;DefaultStartTSOption</title>
<path fill="none" stroke="#666666" d="M482.65,-363C506.4,-363 539.96,-363 570.64,-363"/>
<polygon fill="#666666" stroke="#666666" points="570.92,-366.5 580.92,-363 570.92,-359.5 570.92,-366.5"/>
</g>
<!-- KVTxn__StartTS&#45;&gt;KVTxn -->
<g id="edge8" class="edge">
<title>KVTxn__StartTS&#45;&gt;KVTxn</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M932.19,-65.78C950.62,-73.4 970.79,-82.96 988,-94 997.31,-99.97 1006.61,-106.6 1015.71,-113.59"/>
<polygon fill="green" stroke="green" points="1013.62,-116.41 1023.65,-119.82 1017.94,-110.9 1013.62,-116.41"/>
</g>
<!-- twoPhaseCommitter__startTS -->
<g id="node8" class="node">
<title>twoPhaseCommitter__startTS</title>
<path fill="#feed9b" stroke="#f7e495" d="M1051,-0.5C1051,-0.5 1193,-0.5 1193,-0.5 1199,-0.5 1205,-6.5 1205,-12.5 1205,-12.5 1205,-79.5 1205,-79.5 1205,-85.5 1199,-91.5 1193,-91.5 1193,-91.5 1051,-91.5 1051,-91.5 1045,-91.5 1039,-85.5 1039,-79.5 1039,-79.5 1039,-12.5 1039,-12.5 1039,-6.5 1045,-0.5 1051,-0.5"/>
<text text-anchor="start" x="1047" y="-76.3" font-family="Times,serif" font-size="14.00" fill="#40575d">twoPhaseCommitter</text>
<text text-anchor="start" x="1047" y="-61.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> startTS</text>
<polyline fill="none" stroke="#f7e495" points="1039,-53.5 1205,-53.5 "/>
<text text-anchor="start" x="1047" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#40575d">最后startTs会传给</text>
<text text-anchor="start" x="1047" y="-23.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> twoPhaseCommitter</text>
<text text-anchor="start" x="1047" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> 由它来向TiKV提交数据</text>
</g>
<!-- KVTxn__StartTS&#45;&gt;twoPhaseCommitter__startTS -->
<g id="edge7" class="edge">
<title>KVTxn__StartTS&#45;&gt;twoPhaseCommitter__startTS</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M932.29,-46C960.65,-46 995.86,-46 1028.17,-46"/>
<polygon fill="green" stroke="green" points="1028.54,-49.5 1038.54,-46 1028.54,-42.5 1028.54,-49.5"/>
</g>
<!-- twoPhaseCommitter__startTS&#45;&gt;twoPhaseCommitter -->
<g id="edge16" class="edge">
<title>twoPhaseCommitter__startTS&#45;&gt;twoPhaseCommitter</title>
<path fill="none" stroke="#666666" d="M1205.12,-63.34C1218.34,-66.14 1232.2,-69.06 1245.93,-71.96"/>
<polygon fill="#666666" stroke="#666666" points="1245.38,-75.43 1255.89,-74.07 1246.83,-68.58 1245.38,-75.43"/>
</g>
<!-- tikvStore__BeginWithOption -->
<g id="node9" class="node">
<title>tikvStore__BeginWithOption</title>
<path fill="none" stroke="#1c2123" d="M216,-342C216,-342 317,-342 317,-342 323,-342 329,-348 329,-354 329,-354 329,-406 329,-406 329,-412 323,-418 317,-418 317,-418 216,-418 216,-418 210,-418 204,-412 204,-406 204,-406 204,-354 204,-354 204,-348 210,-342 216,-342"/>
<text text-anchor="start" x="212" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">tikvStore</text>
<text text-anchor="start" x="212" y="-387.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> BeginWithOption</text>
<polyline fill="none" stroke="#1c2123" points="204,-380 329,-380 "/>
<text text-anchor="start" x="212" y="-364.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">begins a transaction</text>
<text text-anchor="start" x="212" y="-349.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> with given options</text>
</g>
<!-- tikvStore__BeginWithOption&#45;&gt;KVStore__BeginWithOption -->
<g id="edge9" class="edge">
<title>tikvStore__BeginWithOption&#45;&gt;KVStore__BeginWithOption</title>
<path fill="none" stroke="#666666" d="M307.33,-341.6C322.72,-326.76 340.99,-309.15 359.21,-291.58"/>
<polygon fill="#666666" stroke="#666666" points="361.68,-294.05 366.45,-284.59 356.82,-289.01 361.68,-294.05"/>
</g>
<!-- tikvStore__Begin -->
<g id="node10" class="node">
<title>tikvStore__Begin</title>
<path fill="none" stroke="#1c2123" d="M231.5,-437C231.5,-437 301.5,-437 301.5,-437 307.5,-437 313.5,-443 313.5,-449 313.5,-449 313.5,-501 313.5,-501 313.5,-507 307.5,-513 301.5,-513 301.5,-513 231.5,-513 231.5,-513 225.5,-513 219.5,-507 219.5,-501 219.5,-501 219.5,-449 219.5,-449 219.5,-443 225.5,-437 231.5,-437"/>
<text text-anchor="start" x="227.5" y="-497.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">tikvStore</text>
<text text-anchor="start" x="227.5" y="-482.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Begin</text>
<polyline fill="none" stroke="#1c2123" points="219.5,-475 313.5,-475 "/>
<text text-anchor="start" x="227.5" y="-459.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">begin a global</text>
<text text-anchor="start" x="227.5" y="-444.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> transaction</text>
</g>
<!-- tikvStore__Begin&#45;&gt;KVStore__Begin -->
<g id="edge10" class="edge">
<title>tikvStore__Begin&#45;&gt;KVStore__Begin</title>
<path fill="none" stroke="#666666" d="M313.77,-446.45C343.24,-428.26 381.03,-404.94 409.17,-387.58"/>
<polygon fill="#666666" stroke="#666666" points="411.27,-390.4 417.94,-382.17 407.59,-384.44 411.27,-390.4"/>
</g>
<!-- Storage -->
<g id="node11" class="node">
<title>Storage</title>
<path fill="#bcffb9" stroke="#8a8898" d="M12,-379C12,-379 156,-379 156,-379 162,-379 168,-385 168,-391 168,-391 168,-535 168,-535 168,-541 162,-547 156,-547 156,-547 12,-547 12,-547 6,-547 0,-541 0,-535 0,-535 0,-391 0,-391 0,-385 6,-379 12,-379"/>
<text text-anchor="start" x="8" y="-531.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">interface Storage</text>
<polyline fill="none" stroke="#8a8898" points="0,-524 168,-524 "/>
<text text-anchor="start" x="8" y="-508.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Begin() (Transaction, error)</text>
<polyline fill="none" stroke="#8a8898" points="0,-501 168,-501 "/>
<text text-anchor="start" x="8" y="-485.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">BeginWithOption(</text>
<text text-anchor="start" x="8" y="-470.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">option tikv.StartTSOption)</text>
<text text-anchor="start" x="8" y="-455.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> (Transaction, error)</text>
<polyline fill="none" stroke="#8a8898" points="0,-448 168,-448 "/>
<text text-anchor="start" x="8" y="-432.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">...</text>
<polyline fill="none" stroke="#8a8898" points="0,-425 168,-425 "/>
<text text-anchor="start" x="8" y="-409.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">GetOracle() oracle.Oracle</text>
<polyline fill="none" stroke="#8a8898" points="0,-402 168,-402 "/>
<text text-anchor="middle" x="84" y="-386.8" font-family="Times,serif" font-size="14.00" fill="#5d6179"> </text>
</g>
<!-- Storage&#45;&gt;tikvStore__BeginWithOption -->
<g id="edge11" class="edge">
<title>Storage&#45;&gt;tikvStore__BeginWithOption</title>
<path fill="none" stroke="#666666" d="M168.12,-424.78C176.95,-420.72 185.88,-416.61 194.55,-412.62"/>
<polygon fill="#666666" stroke="#666666" points="196.23,-415.71 203.85,-408.35 193.3,-409.35 196.23,-415.71"/>
</g>
<!-- Storage&#45;&gt;tikvStore__Begin -->
<g id="edge12" class="edge">
<title>Storage&#45;&gt;tikvStore__Begin</title>
<path fill="none" stroke="#666666" d="M168.12,-468.53C181.99,-469.45 196.09,-470.39 209.09,-471.25"/>
<polygon fill="#666666" stroke="#666666" points="209.05,-474.75 219.26,-471.93 209.51,-467.77 209.05,-474.75"/>
</g>
<!-- Transaction&#45;&gt;KVTxn -->
<g id="edge13" class="edge">
<title>Transaction&#45;&gt;KVTxn</title>
<path fill="none" stroke="#666666" d="M988.02,-188.98C996.62,-190.6 1005.29,-192.23 1013.86,-193.84"/>
<polygon fill="#666666" stroke="#666666" points="1013.39,-197.32 1023.86,-195.72 1014.68,-190.44 1013.39,-197.32"/>
</g>
<!-- StartTSOption -->
<g id="node14" class="node">
<title>StartTSOption</title>
<path fill="none" stroke="#1c2123" d="M43,-278.5C43,-278.5 125,-278.5 125,-278.5 131,-278.5 137,-284.5 137,-290.5 137,-290.5 137,-335.5 137,-335.5 137,-341.5 131,-347.5 125,-347.5 125,-347.5 43,-347.5 43,-347.5 37,-347.5 31,-341.5 31,-335.5 31,-335.5 31,-290.5 31,-290.5 31,-284.5 37,-278.5 43,-278.5"/>
<text text-anchor="start" x="39" y="-332.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StartTSOption</text>
<polyline fill="none" stroke="#1c2123" points="31,-324.5 137,-324.5 "/>
<text text-anchor="start" x="39" y="-309.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">TxnScope string</text>
<polyline fill="none" stroke="#1c2123" points="31,-301.5 137,-301.5 "/>
<text text-anchor="start" x="39" y="-286.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">StartTS *uint64</text>
</g>
<!-- StartTSOption&#45;&gt;DefaultStartTSOption -->
<g id="edge20" class="edge">
<title>StartTSOption&#45;&gt;DefaultStartTSOption</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M137.29,-312.28C221.51,-311.86 392.22,-314.02 535,-335 546.72,-336.72 558.99,-339.12 570.95,-341.8"/>
<polygon fill="green" stroke="green" points="570.37,-345.26 580.91,-344.11 571.95,-338.44 570.37,-345.26"/>
</g>
<!-- StartTSOption&#45;&gt;KVTxn__StartTS -->
<g id="edge18" class="edge">
<title>StartTSOption:StartTS&#45;&gt;KVTxn__StartTS</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M138,-290C265.12,-290 247.88,-165.42 365,-116 514.57,-52.89 708.68,-44.11 808.62,-44.33"/>
<polygon fill="green" stroke="green" points="808.85,-47.83 818.87,-44.38 808.89,-40.83 808.85,-47.83"/>
</g>
<!-- StartTSOption&#45;&gt;tikvStore__BeginWithOption -->
<g id="edge19" class="edge">
<title>StartTSOption&#45;&gt;tikvStore__BeginWithOption</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M137.21,-332.38C155.02,-338.99 175.26,-346.5 194.3,-353.57"/>
<polygon fill="green" stroke="green" points="193.25,-356.91 203.84,-357.11 195.68,-350.35 193.25,-356.91"/>
</g>
</g>
</svg>
