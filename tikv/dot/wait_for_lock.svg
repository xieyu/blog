<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: wait_pessimistic_lock Pages: 1 -->
<svg width="1230pt" height="382pt"
 viewBox="0.00 0.00 1230.00 382.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 378)">
<title>wait_pessimistic_lock</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-378 1226,-378 1226,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_Scheduler</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-230C20,-230 903,-230 903,-230 909,-230 915,-236 915,-242 915,-242 915,-354 915,-354 915,-360 909,-366 903,-366 903,-366 20,-366 20,-366 14,-366 8,-360 8,-354 8,-354 8,-242 8,-242 8,-236 14,-230 20,-230"/>
<text text-anchor="middle" x="461.5" y="-346" font-family="Times,serif" font-size="20.00">Scheduler</text>
</g>
<!-- AcquirePessimisticLock_process_write -->
<g id="node1" class="node">
<title>AcquirePessimisticLock_process_write</title>
<path fill="none" stroke="#1c2123" d="M730,-128C730,-128 523,-128 523,-128 517,-128 511,-122 511,-116 511,-116 511,-104 511,-104 511,-98 517,-92 523,-92 523,-92 730,-92 730,-92 736,-92 742,-98 742,-104 742,-104 742,-116 742,-116 742,-122 736,-128 730,-128"/>
<text text-anchor="middle" x="626.5" y="-106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">AcquirePessimisticLock_process_write</text>
</g>
<!-- acquire_pessimistic_lock -->
<g id="node2" class="node">
<title>acquire_pessimistic_lock</title>
<path fill="none" stroke="#1c2123" d="M920,-182C920,-182 790,-182 790,-182 784,-182 778,-176 778,-170 778,-170 778,-158 778,-158 778,-152 784,-146 790,-146 790,-146 920,-146 920,-146 926,-146 932,-152 932,-158 932,-158 932,-170 932,-170 932,-176 926,-182 920,-182"/>
<text text-anchor="middle" x="855" y="-160.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">acquire_pessimistic_lock</text>
</g>
<!-- AcquirePessimisticLock_process_write&#45;&gt;acquire_pessimistic_lock -->
<g id="edge1" class="edge">
<title>AcquirePessimisticLock_process_write&#45;&gt;acquire_pessimistic_lock</title>
<path fill="none" stroke="#666666" d="M703.24,-128.06C724.2,-133.05 747.1,-138.51 768.58,-143.63"/>
<polygon fill="#666666" stroke="#666666" points="767.8,-147.05 778.34,-145.96 769.42,-140.24 767.8,-147.05"/>
</g>
<!-- extract_lock_from_result -->
<g id="node3" class="node">
<title>extract_lock_from_result</title>
<path fill="none" stroke="#1c2123" d="M920,-128C920,-128 790,-128 790,-128 784,-128 778,-122 778,-116 778,-116 778,-104 778,-104 778,-98 784,-92 790,-92 790,-92 920,-92 920,-92 926,-92 932,-98 932,-104 932,-104 932,-116 932,-116 932,-122 926,-128 920,-128"/>
<text text-anchor="middle" x="855" y="-106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">extract_lock_from_result</text>
</g>
<!-- AcquirePessimisticLock_process_write&#45;&gt;extract_lock_from_result -->
<g id="edge2" class="edge">
<title>AcquirePessimisticLock_process_write&#45;&gt;extract_lock_from_result</title>
<path fill="none" stroke="#666666" d="M742.08,-110C750.74,-110 759.38,-110 767.82,-110"/>
<polygon fill="#666666" stroke="#666666" points="767.99,-113.5 777.99,-110 767.99,-106.5 767.99,-113.5"/>
</g>
<!-- lock_info -->
<g id="node4" class="node">
<title>lock_info</title>
<path fill="none" stroke="#1c2123" d="M1024,-128C1024,-128 980,-128 980,-128 974,-128 968,-122 968,-116 968,-116 968,-104 968,-104 968,-98 974,-92 980,-92 980,-92 1024,-92 1024,-92 1030,-92 1036,-98 1036,-104 1036,-104 1036,-116 1036,-116 1036,-122 1030,-128 1024,-128"/>
<text text-anchor="middle" x="1002" y="-106.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">lock_info</text>
</g>
<!-- AcquirePessimisticLock_process_write&#45;&gt;lock_info -->
<g id="edge3" class="edge">
<title>AcquirePessimisticLock_process_write&#45;&gt;lock_info</title>
<path fill="none" stroke="#666666" d="M702.52,-91.99C764.5,-79.81 854.55,-68.39 932,-83 940.72,-84.65 949.76,-87.37 958.31,-90.46"/>
<polygon fill="#666666" stroke="#666666" points="957.11,-93.76 967.7,-94.08 959.63,-87.22 957.11,-93.76"/>
</g>
<!-- wait_timeout -->
<g id="node5" class="node">
<title>wait_timeout</title>
<path fill="none" stroke="#1c2123" d="M887.5,-36C887.5,-36 822.5,-36 822.5,-36 816.5,-36 810.5,-30 810.5,-24 810.5,-24 810.5,-12 810.5,-12 810.5,-6 816.5,0 822.5,0 822.5,0 887.5,0 887.5,0 893.5,0 899.5,-6 899.5,-12 899.5,-12 899.5,-24 899.5,-24 899.5,-30 893.5,-36 887.5,-36"/>
<text text-anchor="middle" x="855" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wait_timeout</text>
</g>
<!-- AcquirePessimisticLock_process_write&#45;&gt;wait_timeout -->
<g id="edge4" class="edge">
<title>AcquirePessimisticLock_process_write&#45;&gt;wait_timeout</title>
<path fill="none" stroke="#666666" d="M671.98,-91.93C708.92,-76.93 761.56,-55.55 800.74,-39.63"/>
<polygon fill="#666666" stroke="#666666" points="802.45,-42.72 810.39,-35.71 799.81,-36.23 802.45,-42.72"/>
</g>
<!-- extract_lock_from_result&#45;&gt;lock_info -->
<g id="edge5" class="edge">
<title>extract_lock_from_result&#45;&gt;lock_info</title>
<path fill="none" stroke="#666666" d="M932.32,-110C940.96,-110 949.52,-110 957.51,-110"/>
<polygon fill="#666666" stroke="#666666" points="957.66,-113.5 967.66,-110 957.66,-106.5 957.66,-113.5"/>
</g>
<!-- LockManager_wait_for -->
<g id="node13" class="node">
<title>LockManager_wait_for</title>
<path fill="none" stroke="#1c2123" d="M1084,-129.5C1084,-129.5 1210,-129.5 1210,-129.5 1216,-129.5 1222,-135.5 1222,-141.5 1222,-141.5 1222,-178.5 1222,-178.5 1222,-184.5 1216,-190.5 1210,-190.5 1210,-190.5 1084,-190.5 1084,-190.5 1078,-190.5 1072,-184.5 1072,-178.5 1072,-178.5 1072,-141.5 1072,-141.5 1072,-135.5 1078,-129.5 1084,-129.5"/>
<text text-anchor="middle" x="1147" y="-175.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">LockManager_wait_for</text>
<polyline fill="none" stroke="#1c2123" points="1072,-167.5 1222,-167.5 "/>
<text text-anchor="start" x="1080" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">transaction with start_ts </text>
<text text-anchor="start" x="1080" y="-137.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> wait for lock release</text>
</g>
<!-- lock_info&#45;&gt;LockManager_wait_for -->
<g id="edge14" class="edge">
<title>lock_info&#45;&gt;LockManager_wait_for</title>
<path fill="none" stroke="#666666" d="M1036.17,-121.6C1044.13,-124.38 1052.99,-127.48 1062.13,-130.67"/>
<polygon fill="#666666" stroke="#666666" points="1061.13,-134.03 1071.73,-134.03 1063.44,-127.43 1061.13,-134.03"/>
</g>
<!-- Scheduler_process_by_worker -->
<g id="node6" class="node">
<title>Scheduler_process_by_worker</title>
<path fill="none" stroke="#1c2123" d="M28,-239C28,-239 126,-239 126,-239 132,-239 138,-245 138,-251 138,-251 138,-263 138,-263 138,-269 132,-275 126,-275 126,-275 28,-275 28,-275 22,-275 16,-269 16,-263 16,-263 16,-251 16,-251 16,-245 22,-239 28,-239"/>
<text text-anchor="middle" x="77" y="-253.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">process_by_worker</text>
</g>
<!-- Scheduler_process_write -->
<g id="node8" class="node">
<title>Scheduler_process_write</title>
<path fill="none" stroke="#1c2123" d="M186,-239C186,-239 254,-239 254,-239 260,-239 266,-245 266,-251 266,-251 266,-263 266,-263 266,-269 260,-275 254,-275 254,-275 186,-275 186,-275 180,-275 174,-269 174,-263 174,-263 174,-251 174,-251 174,-245 180,-239 186,-239"/>
<text text-anchor="middle" x="220" y="-253.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">process_write</text>
</g>
<!-- Scheduler_process_by_worker&#45;&gt;Scheduler_process_write -->
<g id="edge6" class="edge">
<title>Scheduler_process_by_worker&#45;&gt;Scheduler_process_write</title>
<path fill="none" stroke="#666666" d="M138.21,-257C146.72,-257 155.44,-257 163.85,-257"/>
<polygon fill="#666666" stroke="#666666" points="163.93,-260.5 173.93,-257 163.93,-253.5 163.93,-260.5"/>
</g>
<!-- Scheduler_release_lock -->
<g id="node7" class="node">
<title>Scheduler_release_lock</title>
<path fill="none" stroke="#1c2123" d="M572,-238.5C572,-238.5 681,-238.5 681,-238.5 687,-238.5 693,-244.5 693,-250.5 693,-250.5 693,-287.5 693,-287.5 693,-293.5 687,-299.5 681,-299.5 681,-299.5 572,-299.5 572,-299.5 566,-299.5 560,-293.5 560,-287.5 560,-287.5 560,-250.5 560,-250.5 560,-244.5 566,-238.5 572,-238.5"/>
<text text-anchor="middle" x="626.5" y="-284.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">release_lock</text>
<polyline fill="none" stroke="#1c2123" points="560,-276.5 693,-276.5 "/>
<text text-anchor="start" x="568" y="-261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">release all the latches</text>
<text text-anchor="start" x="568" y="-246.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> held by a command</text>
</g>
<!-- latches_release -->
<g id="node10" class="node">
<title>latches_release</title>
<path fill="none" stroke="#1c2123" d="M892,-274C892,-274 818,-274 818,-274 812,-274 806,-268 806,-262 806,-262 806,-250 806,-250 806,-244 812,-238 818,-238 818,-238 892,-238 892,-238 898,-238 904,-244 904,-250 904,-250 904,-262 904,-262 904,-268 898,-274 892,-274"/>
<text text-anchor="middle" x="855" y="-252.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">latches_release</text>
</g>
<!-- Scheduler_release_lock&#45;&gt;latches_release -->
<g id="edge7" class="edge">
<title>Scheduler_release_lock&#45;&gt;latches_release</title>
<path fill="none" stroke="#666666" d="M693.01,-265.24C725.41,-263.38 764.19,-261.15 795.57,-259.35"/>
<polygon fill="#666666" stroke="#666666" points="796.12,-262.83 805.9,-258.76 795.72,-255.84 796.12,-262.83"/>
</g>
<!-- try_to_wake_up -->
<g id="node11" class="node">
<title>try_to_wake_up</title>
<path fill="none" stroke="#1c2123" d="M895,-328C895,-328 815,-328 815,-328 809,-328 803,-322 803,-316 803,-316 803,-304 803,-304 803,-298 809,-292 815,-292 815,-292 895,-292 895,-292 901,-292 907,-298 907,-304 907,-304 907,-316 907,-316 907,-322 901,-328 895,-328"/>
<text text-anchor="middle" x="855" y="-306.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">try_to_wake_up</text>
</g>
<!-- Scheduler_release_lock&#45;&gt;try_to_wake_up -->
<g id="edge8" class="edge">
<title>Scheduler_release_lock&#45;&gt;try_to_wake_up</title>
<path fill="none" stroke="#666666" d="M693.01,-280.86C724.35,-286.53 761.67,-293.29 792.47,-298.86"/>
<polygon fill="#666666" stroke="#666666" points="792.19,-302.37 802.65,-300.71 793.44,-295.48 792.19,-302.37"/>
</g>
<!-- Scheduler_on_wait_for_lock -->
<g id="node9" class="node">
<title>Scheduler_on_wait_for_lock</title>
<path fill="none" stroke="#1c2123" d="M463,-275C463,-275 314,-275 314,-275 308,-275 302,-269 302,-263 302,-263 302,-251 302,-251 302,-245 308,-239 314,-239 314,-239 463,-239 463,-239 469,-239 475,-245 475,-251 475,-251 475,-263 475,-263 475,-269 469,-275 463,-275"/>
<text text-anchor="middle" x="388.5" y="-253.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Scheduler_on_wait_for_lock</text>
</g>
<!-- Scheduler_process_write&#45;&gt;Scheduler_on_wait_for_lock -->
<g id="edge9" class="edge">
<title>Scheduler_process_write&#45;&gt;Scheduler_on_wait_for_lock</title>
<path fill="none" stroke="#666666" d="M266.06,-257C274.17,-257 282.91,-257 291.84,-257"/>
<polygon fill="#666666" stroke="#666666" points="291.98,-260.5 301.98,-257 291.98,-253.5 291.98,-260.5"/>
</g>
<!-- Cmd_process_write -->
<g id="node12" class="node">
<title>Cmd_process_write</title>
<path fill="none" stroke="#1c2123" d="M439,-174C439,-174 338,-174 338,-174 332,-174 326,-168 326,-162 326,-162 326,-150 326,-150 326,-144 332,-138 338,-138 338,-138 439,-138 439,-138 445,-138 451,-144 451,-150 451,-150 451,-162 451,-162 451,-168 445,-174 439,-174"/>
<text text-anchor="middle" x="388.5" y="-152.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Cmd_process_write</text>
</g>
<!-- Scheduler_process_write&#45;&gt;Cmd_process_write -->
<g id="edge10" class="edge">
<title>Scheduler_process_write&#45;&gt;Cmd_process_write</title>
<path fill="none" stroke="#666666" d="M250.77,-238.94C278.15,-222.33 318.91,-197.61 348.81,-179.47"/>
<polygon fill="#666666" stroke="#666666" points="350.98,-182.25 357.71,-174.07 347.35,-176.26 350.98,-182.25"/>
</g>
<!-- Scheduler_on_wait_for_lock&#45;&gt;Scheduler_release_lock -->
<g id="edge11" class="edge">
<title>Scheduler_on_wait_for_lock&#45;&gt;Scheduler_release_lock</title>
<path fill="none" stroke="#666666" d="M475.04,-261.35C499.5,-262.59 525.99,-263.94 549.83,-265.15"/>
<polygon fill="#666666" stroke="#666666" points="549.7,-268.65 559.87,-265.66 550.06,-261.66 549.7,-268.65"/>
</g>
<!-- Scheduler_on_wait_for_lock&#45;&gt;LockManager_wait_for -->
<g id="edge12" class="edge">
<title>Scheduler_on_wait_for_lock&#45;&gt;LockManager_wait_for</title>
<path fill="none" stroke="#666666" d="M460.49,-238.93C476.99,-235.21 494.54,-231.63 511,-229 696.52,-199.39 745.41,-212.92 932,-191 974.87,-185.96 1022.41,-179.2 1061.77,-173.27"/>
<polygon fill="#666666" stroke="#666666" points="1062.49,-176.7 1071.85,-171.74 1061.44,-169.78 1062.49,-176.7"/>
</g>
<!-- Cmd_process_write&#45;&gt;AcquirePessimisticLock_process_write -->
<g id="edge13" class="edge">
<title>Cmd_process_write&#45;&gt;AcquirePessimisticLock_process_write</title>
<path fill="none" stroke="#666666" d="M451.2,-143.97C473.16,-139.69 498.53,-134.75 522.99,-129.98"/>
<polygon fill="#666666" stroke="#666666" points="523.9,-133.37 533.04,-128.02 522.56,-126.5 523.9,-133.37"/>
</g>
</g>
</svg>
