<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.1 (20210417.1919)
 -->
<!-- Title: worker_region_handle_gen Pages: 1 -->
<svg width="1209pt" height="224pt"
 viewBox="0.00 0.00 1209.00 224.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 220)">
<title>worker_region_handle_gen</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-220 1205,-220 1205,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_worker</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-8C20,-8 1181,-8 1181,-8 1187,-8 1193,-14 1193,-20 1193,-20 1193,-196 1193,-196 1193,-202 1187,-208 1181,-208 1181,-208 20,-208 20,-208 14,-208 8,-202 8,-196 8,-196 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="600.5" y="-188" font-family="Times,serif" font-size="20.00">worker/regin.rs/Runner</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_PeerStorage</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M733,-25C733,-25 871,-25 871,-25 877,-25 883,-31 883,-37 883,-37 883,-107 883,-107 883,-113 877,-119 871,-119 871,-119 733,-119 733,-119 727,-119 721,-113 721,-107 721,-107 721,-37 721,-37 721,-31 727,-25 733,-25"/>
<text text-anchor="middle" x="802" y="-99" font-family="Times,serif" font-size="20.00">peer_storage.rs</text>
</g>
<!-- Runner -->
<g id="node1" class="node">
<title>Runner</title>
<path fill="#79d8ce" stroke="#60b5ac" d="M28,-87C28,-87 184,-87 184,-87 190,-87 196,-93 196,-99 196,-99 196,-121 196,-121 196,-127 190,-133 184,-133 184,-133 28,-133 28,-133 22,-133 16,-127 16,-121 16,-121 16,-99 16,-99 16,-93 22,-87 28,-87"/>
<text text-anchor="middle" x="106" y="-117.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">Runner</text>
<polyline fill="none" stroke="#60b5ac" points="16,-110 196,-110 "/>
<text text-anchor="start" x="24" y="-94.8" font-family="Times,serif" font-size="14.00" fill="#5d6179">pool: ThreadPool&lt;TaskCell&gt;,</text>
</g>
<!-- spawn -->
<g id="node2" class="node">
<title>spawn</title>
<path fill="none" stroke="#1c2123" d="M244,-69.5C244,-69.5 399,-69.5 399,-69.5 405,-69.5 411,-75.5 411,-81.5 411,-81.5 411,-118.5 411,-118.5 411,-124.5 405,-130.5 399,-130.5 399,-130.5 244,-130.5 244,-130.5 238,-130.5 232,-124.5 232,-118.5 232,-118.5 232,-81.5 232,-81.5 232,-75.5 238,-69.5 244,-69.5"/>
<text text-anchor="middle" x="321.5" y="-115.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">spawn</text>
<polyline fill="none" stroke="#1c2123" points="232,-107.5 411,-107.5 "/>
<text text-anchor="start" x="240" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">在线程池中执行async 任务</text>
<text text-anchor="start" x="240" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> handle_gen</text>
</g>
<!-- Runner&#45;&gt;spawn -->
<g id="edge1" class="edge">
<title>Runner:pool&#45;&gt;spawn</title>
<path fill="none" stroke="#666666" d="M196.03,-105.8C204.52,-105.41 213.16,-105 221.72,-104.61"/>
<polygon fill="#666666" stroke="#666666" points="221.9,-108.1 231.73,-104.14 221.57,-101.11 221.9,-108.1"/>
</g>
<!-- handle_gen -->
<g id="node4" class="node">
<title>handle_gen</title>
<path fill="none" stroke="#1c2123" d="M514,-101C514,-101 459,-101 459,-101 453,-101 447,-95 447,-89 447,-89 447,-77 447,-77 447,-71 453,-65 459,-65 459,-65 514,-65 514,-65 520,-65 526,-71 526,-77 526,-77 526,-89 526,-89 526,-95 520,-101 514,-101"/>
<text text-anchor="middle" x="486.5" y="-79.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle_gen</text>
</g>
<!-- spawn&#45;&gt;handle_gen -->
<g id="edge4" class="edge">
<title>spawn&#45;&gt;handle_gen</title>
<path fill="none" stroke="#666666" d="M411.15,-90.75C419.98,-89.83 428.68,-88.93 436.86,-88.07"/>
<polygon fill="#666666" stroke="#666666" points="437.32,-91.54 446.9,-87.03 436.59,-84.58 437.32,-91.54"/>
</g>
<!-- run -->
<g id="node3" class="node">
<title>run</title>
<path fill="none" stroke="#1c2123" d="M121,-68C121,-68 91,-68 91,-68 85,-68 79,-62 79,-56 79,-56 79,-44 79,-44 79,-38 85,-32 91,-32 91,-32 121,-32 121,-32 127,-32 133,-38 133,-44 133,-44 133,-56 133,-56 133,-62 127,-68 121,-68"/>
<text text-anchor="middle" x="106" y="-46.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">run</text>
</g>
<!-- run&#45;&gt;spawn -->
<g id="edge2" class="edge">
<title>run&#45;&gt;spawn</title>
<path fill="none" stroke="#666666" d="M133.18,-56.13C155.48,-61.35 189,-69.2 221.54,-76.83"/>
<polygon fill="#666666" stroke="#666666" points="221.06,-80.31 231.6,-79.18 222.66,-73.49 221.06,-80.31"/>
</g>
<!-- run&#45;&gt;handle_gen -->
<g id="edge3" class="edge">
<title>run&#45;&gt;handle_gen</title>
<path fill="none" stroke="#666666" d="M133.26,-48.53C186.22,-46.08 309.45,-42.97 411,-60 419.63,-61.45 428.66,-63.63 437.33,-66.09"/>
<polygon fill="#666666" stroke="#666666" points="436.34,-69.44 446.92,-68.95 438.34,-62.74 436.34,-69.44"/>
</g>
<!-- generate_snap -->
<g id="node5" class="node">
<title>generate_snap</title>
<path fill="none" stroke="#1c2123" d="M574,-16.5C574,-16.5 681,-16.5 681,-16.5 687,-16.5 693,-22.5 693,-28.5 693,-28.5 693,-103.5 693,-103.5 693,-109.5 687,-115.5 681,-115.5 681,-115.5 574,-115.5 574,-115.5 568,-115.5 562,-109.5 562,-103.5 562,-103.5 562,-28.5 562,-28.5 562,-22.5 568,-16.5 574,-16.5"/>
<text text-anchor="middle" x="627.5" y="-100.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">generate_snap</text>
<polyline fill="none" stroke="#1c2123" points="562,-92.5 693,-92.5 "/>
<text text-anchor="start" x="570" y="-77.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">调用do_snapshot</text>
<text text-anchor="start" x="570" y="-62.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 生成snapshot</text>
<polyline fill="none" stroke="#1c2123" points="562,-54.5 693,-54.5 "/>
<text text-anchor="start" x="570" y="-39.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">然后将结果发送给</text>
<text text-anchor="start" x="570" y="-24.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> GenSnapTask的rx</text>
</g>
<!-- handle_gen&#45;&gt;generate_snap -->
<g id="edge5" class="edge">
<title>handle_gen&#45;&gt;generate_snap</title>
<path fill="none" stroke="#666666" d="M526.22,-78.26C534.27,-77.28 543.02,-76.21 551.88,-75.13"/>
<polygon fill="#666666" stroke="#666666" points="552.39,-78.59 561.89,-73.9 551.54,-71.64 552.39,-78.59"/>
</g>
<!-- WithIOType -->
<g id="node6" class="node">
<title>WithIOType</title>
<path fill="none" stroke="#1c2123" d="M658.5,-170C658.5,-170 596.5,-170 596.5,-170 590.5,-170 584.5,-164 584.5,-158 584.5,-158 584.5,-146 584.5,-146 584.5,-140 590.5,-134 596.5,-134 596.5,-134 658.5,-134 658.5,-134 664.5,-134 670.5,-140 670.5,-146 670.5,-146 670.5,-158 670.5,-158 670.5,-164 664.5,-170 658.5,-170"/>
<text text-anchor="middle" x="627.5" y="-148.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">WithIOType</text>
</g>
<!-- handle_gen&#45;&gt;WithIOType -->
<g id="edge6" class="edge">
<title>handle_gen&#45;&gt;WithIOType</title>
<path fill="none" stroke="#666666" d="M517.88,-101.19C531.22,-108.9 547.19,-117.76 562,-125 566.1,-127 570.38,-129 574.71,-130.95"/>
<polygon fill="#666666" stroke="#666666" points="573.64,-134.3 584.2,-135.13 576.46,-127.9 573.64,-134.3"/>
</g>
<!-- do_snapshot -->
<g id="node7" class="node">
<title>do_snapshot</title>
<path fill="none" stroke="#1c2123" d="M741,-34C741,-34 863,-34 863,-34 869,-34 875,-40 875,-46 875,-46 875,-68 875,-68 875,-74 869,-80 863,-80 863,-80 741,-80 741,-80 735,-80 729,-74 729,-68 729,-68 729,-46 729,-46 729,-40 735,-34 741,-34"/>
<text text-anchor="middle" x="802" y="-64.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">do_snapshot</text>
<polyline fill="none" stroke="#1c2123" points="729,-57 875,-57 "/>
<text text-anchor="middle" x="802" y="-41.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">生成Region的snapshot</text>
</g>
<!-- generate_snap&#45;&gt;do_snapshot -->
<g id="edge7" class="edge">
<title>generate_snap&#45;&gt;do_snapshot</title>
<path fill="none" stroke="#666666" d="M693.22,-62.62C701.61,-62.19 710.28,-61.73 718.9,-61.28"/>
<polygon fill="#666666" stroke="#666666" points="719.16,-64.77 728.97,-60.76 718.8,-57.78 719.16,-64.77"/>
</g>
<!-- try_send -->
<g id="node8" class="node">
<title>try_send</title>
<path fill="none" stroke="#1c2123" d="M1076,-48.5C1076,-48.5 1173,-48.5 1173,-48.5 1179,-48.5 1185,-54.5 1185,-60.5 1185,-60.5 1185,-113.5 1185,-113.5 1185,-119.5 1179,-125.5 1173,-125.5 1173,-125.5 1076,-125.5 1076,-125.5 1070,-125.5 1064,-119.5 1064,-113.5 1064,-113.5 1064,-60.5 1064,-60.5 1064,-54.5 1070,-48.5 1076,-48.5"/>
<text text-anchor="middle" x="1124.5" y="-110.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">try_send</text>
<polyline fill="none" stroke="#1c2123" points="1064,-102.5 1185,-102.5 "/>
<text text-anchor="start" x="1072" y="-87.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向tx发生成好的</text>
<text text-anchor="start" x="1072" y="-72.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> Result&lt;Snapshot&gt;</text>
</g>
<!-- generate_snap&#45;&gt;try_send -->
<g id="edge8" class="edge">
<title>generate_snap&#45;&gt;try_send</title>
<path fill="none" stroke="#666666" d="M693.12,-111.81C702.14,-116.39 711.56,-120.33 721,-123 834.44,-155.15 972.41,-129.57 1053.8,-108.2"/>
<polygon fill="#666666" stroke="#666666" points="1055.18,-111.46 1063.93,-105.49 1053.37,-104.7 1055.18,-111.46"/>
</g>
<!-- snap -->
<g id="node9" class="node">
<title>snap</title>
<path fill="none" stroke="#1c2123" d="M923,-48C923,-48 1016,-48 1016,-48 1022,-48 1028,-54 1028,-60 1028,-60 1028,-82 1028,-82 1028,-88 1022,-94 1016,-94 1016,-94 923,-94 923,-94 917,-94 911,-88 911,-82 911,-82 911,-60 911,-60 911,-54 917,-48 923,-48"/>
<text text-anchor="middle" x="969.5" y="-78.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">snap</text>
<polyline fill="none" stroke="#1c2123" points="911,-71 1028,-71 "/>
<text text-anchor="start" x="919" y="-55.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Result&lt;Snapshot&gt;</text>
</g>
<!-- do_snapshot&#45;&gt;snap -->
<g id="edge9" class="edge">
<title>do_snapshot&#45;&gt;snap</title>
<path fill="none" stroke="#666666" d="M875.11,-63.1C883.59,-63.82 892.23,-64.55 900.65,-65.26"/>
<polygon fill="#666666" stroke="#666666" points="900.54,-68.76 910.8,-66.12 901.13,-61.79 900.54,-68.76"/>
</g>
<!-- snap&#45;&gt;try_send -->
<g id="edge10" class="edge">
<title>snap&#45;&gt;try_send</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1028.34,-77.05C1036.58,-77.91 1045.13,-78.8 1053.58,-79.69"/>
<polygon fill="green" stroke="green" points="1053.48,-83.2 1063.79,-80.76 1054.21,-76.23 1053.48,-83.2"/>
</g>
</g>
</svg>
