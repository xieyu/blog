<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: write_init_raft_state Pages: 1 -->
<svg width="1671pt" height="687pt"
 viewBox="0.00 0.00 1671.00 687.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 683)">
<title>write_init_raft_state</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-683 1667,-683 1667,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_PeerStorage</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1273.5,-8C1273.5,-8 1643,-8 1643,-8 1649,-8 1655,-14 1655,-20 1655,-20 1655,-371 1655,-371 1655,-377 1649,-383 1643,-383 1643,-383 1273.5,-383 1273.5,-383 1267.5,-383 1261.5,-377 1261.5,-371 1261.5,-371 1261.5,-20 1261.5,-20 1261.5,-14 1267.5,-8 1273.5,-8"/>
<text text-anchor="middle" x="1458.25" y="-363" font-family="Times,serif" font-size="20.00">PeerStorage</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_store</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M984,-251C984,-251 1207,-251 1207,-251 1213,-251 1219,-257 1219,-263 1219,-263 1219,-371 1219,-371 1219,-377 1213,-383 1207,-383 1207,-383 984,-383 984,-383 978,-383 972,-377 972,-371 972,-371 972,-263 972,-263 972,-257 978,-251 984,-251"/>
<text text-anchor="middle" x="1095.5" y="-363" font-family="Times,serif" font-size="20.00">store</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_pd_client</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M708,-269C708,-269 845,-269 845,-269 851,-269 857,-275 857,-281 857,-281 857,-341 857,-341 857,-347 851,-353 845,-353 845,-353 708,-353 708,-353 702,-353 696,-347 696,-341 696,-341 696,-281 696,-281 696,-275 702,-269 708,-269"/>
<text text-anchor="middle" x="776.5" y="-333" font-family="Times,serif" font-size="20.00">pd_client</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_node</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-391C20,-391 1439,-391 1439,-391 1445,-391 1451,-397 1451,-403 1451,-403 1451,-659 1451,-659 1451,-665 1445,-671 1439,-671 1439,-671 20,-671 20,-671 14,-671 8,-665 8,-659 8,-659 8,-403 8,-403 8,-397 14,-391 20,-391"/>
<text text-anchor="middle" x="729.5" y="-651" font-family="Times,serif" font-size="20.00">node</text>
</g>
<!-- write_init_raft_state -->
<g id="node1" class="node">
<title>write_init_raft_state</title>
<path fill="none" stroke="#1c2123" d="M1396,-291C1396,-291 1294,-291 1294,-291 1288,-291 1282,-285 1282,-279 1282,-279 1282,-267 1282,-267 1282,-261 1288,-255 1294,-255 1294,-255 1396,-255 1396,-255 1402,-255 1408,-261 1408,-267 1408,-267 1408,-279 1408,-279 1408,-285 1402,-291 1396,-291"/>
<text text-anchor="middle" x="1345" y="-269.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_init_raft_state</text>
</g>
<!-- RaftLocalState -->
<g id="node2" class="node">
<title>RaftLocalState</title>
<path fill="none" stroke="#1c2123" d="M1600,-291C1600,-291 1526,-291 1526,-291 1520,-291 1514,-285 1514,-279 1514,-279 1514,-267 1514,-267 1514,-261 1520,-255 1526,-255 1526,-255 1600,-255 1600,-255 1606,-255 1612,-261 1612,-267 1612,-267 1612,-279 1612,-279 1612,-285 1606,-291 1600,-291"/>
<text text-anchor="middle" x="1563" y="-269.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftLocalState</text>
</g>
<!-- write_init_raft_state&#45;&gt;RaftLocalState -->
<g id="edge1" class="edge">
<title>write_init_raft_state&#45;&gt;RaftLocalState</title>
<path fill="none" stroke="#666666" d="M1408.19,-273C1438.29,-273 1474.22,-273 1503.78,-273"/>
<polygon fill="#666666" stroke="#666666" points="1503.95,-276.5 1513.95,-273 1503.95,-269.5 1503.95,-276.5"/>
</g>
<!-- RAFT_INIT_LOG_INDEX -->
<g id="node3" class="node">
<title>RAFT_INIT_LOG_INDEX</title>
<path fill="none" stroke="#1c2123" d="M1491,-125C1491,-125 1635,-125 1635,-125 1641,-125 1647,-131 1647,-137 1647,-137 1647,-159 1647,-159 1647,-165 1641,-171 1635,-171 1635,-171 1491,-171 1491,-171 1485,-171 1479,-165 1479,-159 1479,-159 1479,-137 1479,-137 1479,-131 1485,-125 1491,-125"/>
<text text-anchor="middle" x="1563" y="-155.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RAFT_INIT_LOG_INDEX</text>
<polyline fill="none" stroke="#1c2123" points="1479,-148 1647,-148 "/>
<text text-anchor="middle" x="1563" y="-132.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">5</text>
</g>
<!-- write_init_raft_state&#45;&gt;RAFT_INIT_LOG_INDEX -->
<g id="edge2" class="edge">
<title>write_init_raft_state&#45;&gt;RAFT_INIT_LOG_INDEX</title>
<path fill="none" stroke="#666666" d="M1368.99,-254.68C1394.72,-234.77 1438.16,-202.88 1479,-181 1482.51,-179.12 1486.16,-177.28 1489.87,-175.5"/>
<polygon fill="#666666" stroke="#666666" points="1491.6,-178.56 1499.21,-171.19 1488.67,-172.2 1491.6,-178.56"/>
</g>
<!-- RAFT_INIT_LOG_TERM -->
<g id="node4" class="node">
<title>RAFT_INIT_LOG_TERM</title>
<path fill="none" stroke="#1c2123" d="M1493,-190C1493,-190 1633,-190 1633,-190 1639,-190 1645,-196 1645,-202 1645,-202 1645,-224 1645,-224 1645,-230 1639,-236 1633,-236 1633,-236 1493,-236 1493,-236 1487,-236 1481,-230 1481,-224 1481,-224 1481,-202 1481,-202 1481,-196 1487,-190 1493,-190"/>
<text text-anchor="middle" x="1563" y="-220.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">RAFT_INIT_LOG_TERM</text>
<polyline fill="none" stroke="#1c2123" points="1481,-213 1645,-213 "/>
<text text-anchor="middle" x="1563" y="-197.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">5</text>
</g>
<!-- write_init_raft_state&#45;&gt;RAFT_INIT_LOG_TERM -->
<g id="edge3" class="edge">
<title>write_init_raft_state&#45;&gt;RAFT_INIT_LOG_TERM</title>
<path fill="none" stroke="#666666" d="M1408.19,-255.73C1427.86,-250.26 1450.02,-244.11 1471.26,-238.21"/>
<polygon fill="#666666" stroke="#666666" points="1472.25,-241.56 1480.94,-235.52 1470.37,-234.82 1472.25,-241.56"/>
</g>
<!-- put_raft_state -->
<g id="node5" class="node">
<title>put_raft_state</title>
<path fill="none" stroke="#1c2123" d="M1596.5,-345C1596.5,-345 1529.5,-345 1529.5,-345 1523.5,-345 1517.5,-339 1517.5,-333 1517.5,-333 1517.5,-321 1517.5,-321 1517.5,-315 1523.5,-309 1529.5,-309 1529.5,-309 1596.5,-309 1596.5,-309 1602.5,-309 1608.5,-315 1608.5,-321 1608.5,-321 1608.5,-333 1608.5,-333 1608.5,-339 1602.5,-345 1596.5,-345"/>
<text text-anchor="middle" x="1563" y="-323.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">put_raft_state</text>
</g>
<!-- write_init_raft_state&#45;&gt;put_raft_state -->
<g id="edge4" class="edge">
<title>write_init_raft_state&#45;&gt;put_raft_state</title>
<path fill="none" stroke="#666666" d="M1408.19,-288.55C1439.54,-296.38 1477.21,-305.8 1507.43,-313.36"/>
<polygon fill="#666666" stroke="#666666" points="1506.82,-316.81 1517.37,-315.84 1508.52,-310.02 1506.82,-316.81"/>
</g>
<!-- write_initial_apply_state -->
<g id="node6" class="node">
<title>write_initial_apply_state</title>
<path fill="none" stroke="#1c2123" d="M1408.5,-166C1408.5,-166 1281.5,-166 1281.5,-166 1275.5,-166 1269.5,-160 1269.5,-154 1269.5,-154 1269.5,-142 1269.5,-142 1269.5,-136 1275.5,-130 1281.5,-130 1281.5,-130 1408.5,-130 1408.5,-130 1414.5,-130 1420.5,-136 1420.5,-142 1420.5,-142 1420.5,-154 1420.5,-154 1420.5,-160 1414.5,-166 1408.5,-166"/>
<text text-anchor="middle" x="1345" y="-144.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">write_initial_apply_state</text>
</g>
<!-- write_initial_apply_state&#45;&gt;RAFT_INIT_LOG_INDEX -->
<g id="edge5" class="edge">
<title>write_initial_apply_state&#45;&gt;RAFT_INIT_LOG_INDEX</title>
<path fill="none" stroke="#666666" d="M1420.64,-148C1436.04,-148 1452.45,-148 1468.43,-148"/>
<polygon fill="#666666" stroke="#666666" points="1468.85,-151.5 1478.85,-148 1468.85,-144.5 1468.85,-151.5"/>
</g>
<!-- write_initial_apply_state&#45;&gt;RAFT_INIT_LOG_TERM -->
<g id="edge6" class="edge">
<title>write_initial_apply_state&#45;&gt;RAFT_INIT_LOG_TERM</title>
<path fill="none" stroke="#666666" d="M1405.88,-166.02C1427.5,-172.53 1452.35,-180 1475.77,-187.05"/>
<polygon fill="#666666" stroke="#666666" points="1474.78,-190.41 1485.36,-189.94 1476.8,-183.7 1474.78,-190.41"/>
</g>
<!-- RaftApplyState -->
<g id="node7" class="node">
<title>RaftApplyState</title>
<path fill="none" stroke="#1c2123" d="M1601.5,-52C1601.5,-52 1524.5,-52 1524.5,-52 1518.5,-52 1512.5,-46 1512.5,-40 1512.5,-40 1512.5,-28 1512.5,-28 1512.5,-22 1518.5,-16 1524.5,-16 1524.5,-16 1601.5,-16 1601.5,-16 1607.5,-16 1613.5,-22 1613.5,-28 1613.5,-28 1613.5,-40 1613.5,-40 1613.5,-46 1607.5,-52 1601.5,-52"/>
<text text-anchor="middle" x="1563" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">RaftApplyState</text>
</g>
<!-- write_initial_apply_state&#45;&gt;RaftApplyState -->
<g id="edge7" class="edge">
<title>write_initial_apply_state&#45;&gt;RaftApplyState</title>
<path fill="none" stroke="#666666" d="M1369.37,-129.94C1395.09,-110.76 1438.19,-80.56 1479,-61 1486.56,-57.38 1494.73,-54.06 1502.9,-51.08"/>
<polygon fill="#666666" stroke="#666666" points="1504.16,-54.35 1512.44,-47.75 1501.85,-47.74 1504.16,-54.35"/>
</g>
<!-- apply_state_key -->
<g id="node8" class="node">
<title>apply_state_key</title>
<path fill="none" stroke="#1c2123" d="M1603,-106C1603,-106 1523,-106 1523,-106 1517,-106 1511,-100 1511,-94 1511,-94 1511,-82 1511,-82 1511,-76 1517,-70 1523,-70 1523,-70 1603,-70 1603,-70 1609,-70 1615,-76 1615,-82 1615,-82 1615,-94 1615,-94 1615,-100 1609,-106 1603,-106"/>
<text text-anchor="middle" x="1563" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">apply_state_key</text>
</g>
<!-- write_initial_apply_state&#45;&gt;apply_state_key -->
<g id="edge8" class="edge">
<title>write_initial_apply_state&#45;&gt;apply_state_key</title>
<path fill="none" stroke="#666666" d="M1410.81,-130C1439.49,-122.03 1473.03,-112.71 1501.23,-104.88"/>
<polygon fill="#666666" stroke="#666666" points="1502.26,-108.23 1510.96,-102.18 1500.39,-101.48 1502.26,-108.23"/>
</g>
<!-- prepare_bootstrap_cluster -->
<g id="node9" class="node">
<title>prepare_bootstrap_cluster</title>
<path fill="none" stroke="#1c2123" d="M992,-260C992,-260 1199,-260 1199,-260 1205,-260 1211,-266 1211,-272 1211,-272 1211,-332 1211,-332 1211,-338 1205,-344 1199,-344 1199,-344 992,-344 992,-344 986,-344 980,-338 980,-332 980,-332 980,-272 980,-272 980,-266 986,-260 992,-260"/>
<text text-anchor="middle" x="1095.5" y="-328.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">prepare_bootstrap_cluster</text>
<polyline fill="none" stroke="#1c2123" points="980,-321 1211,-321 "/>
<text text-anchor="start" x="988" y="-305.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">1.将第一个region信息写到</text>
<text text-anchor="middle" x="1095.5" y="-290.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> PREPARE_BOOTSTRAP_KEY中;</text>
<polyline fill="none" stroke="#1c2123" points="980,-283 1211,-283 "/>
<text text-anchor="start" x="988" y="-267.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">2.写入init_apply_state和init_raft_state</text>
</g>
<!-- prepare_bootstrap_cluster&#45;&gt;write_init_raft_state -->
<g id="edge9" class="edge">
<title>prepare_bootstrap_cluster&#45;&gt;write_init_raft_state</title>
<path fill="none" stroke="#666666" d="M1211.19,-288.56C1231.77,-286.15 1252.69,-283.7 1271.65,-281.48"/>
<polygon fill="#666666" stroke="#666666" points="1272.14,-284.94 1281.67,-280.3 1271.33,-277.99 1272.14,-284.94"/>
</g>
<!-- prepare_bootstrap_cluster&#45;&gt;write_initial_apply_state -->
<g id="edge10" class="edge">
<title>prepare_bootstrap_cluster&#45;&gt;write_initial_apply_state</title>
<path fill="none" stroke="#666666" d="M1164.13,-259.92C1209.84,-231.47 1268.52,-194.97 1306.2,-171.52"/>
<polygon fill="#666666" stroke="#666666" points="1308.19,-174.4 1314.84,-166.15 1304.5,-168.46 1308.19,-174.4"/>
</g>
<!-- PREPARE_BOOTSTRAP_KEY -->
<g id="node10" class="node">
<title>PREPARE_BOOTSTRAP_KEY</title>
<path fill="none" stroke="#1c2123" d="M1259,-465.5C1259,-465.5 1431,-465.5 1431,-465.5 1437,-465.5 1443,-471.5 1443,-477.5 1443,-477.5 1443,-514.5 1443,-514.5 1443,-520.5 1437,-526.5 1431,-526.5 1431,-526.5 1259,-526.5 1259,-526.5 1253,-526.5 1247,-520.5 1247,-514.5 1247,-514.5 1247,-477.5 1247,-477.5 1247,-471.5 1253,-465.5 1259,-465.5"/>
<text text-anchor="middle" x="1345" y="-511.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">PREPARE_BOOTSTRAP_KEY</text>
<polyline fill="none" stroke="#1c2123" points="1247,-503.5 1443,-503.5 "/>
<text text-anchor="start" x="1255" y="-488.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">LOCAL_PREFIX: 0x01</text>
<text text-anchor="start" x="1255" y="-473.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 0x02</text>
</g>
<!-- prepare_bootstrap_cluster&#45;&gt;PREPARE_BOOTSTRAP_KEY -->
<g id="edge11" class="edge">
<title>prepare_bootstrap_cluster&#45;&gt;PREPARE_BOOTSTRAP_KEY</title>
<path fill="none" stroke="#666666" d="M1160.09,-344.15C1179.34,-357.43 1200.32,-372.44 1219,-387 1248.1,-409.67 1279.39,-436.96 1303.38,-458.56"/>
<polygon fill="#666666" stroke="#666666" points="1301.14,-461.24 1310.9,-465.35 1305.83,-456.05 1301.14,-461.24"/>
</g>
<!-- pd_client_is_cluster_bootstrapped -->
<g id="node11" class="node">
<title>pd_client_is_cluster_bootstrapped</title>
<path fill="none" stroke="#1c2123" d="M716,-278C716,-278 837,-278 837,-278 843,-278 849,-284 849,-290 849,-290 849,-302 849,-302 849,-308 843,-314 837,-314 837,-314 716,-314 716,-314 710,-314 704,-308 704,-302 704,-302 704,-290 704,-290 704,-284 710,-278 716,-278"/>
<text text-anchor="middle" x="776.5" y="-292.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">is_cluster_bootstrapped</text>
</g>
<!-- start -->
<g id="node12" class="node">
<title>start</title>
<path fill="none" stroke="#1c2123" d="M58,-535C58,-535 28,-535 28,-535 22,-535 16,-529 16,-523 16,-523 16,-511 16,-511 16,-505 22,-499 28,-499 28,-499 58,-499 58,-499 64,-499 70,-505 70,-511 70,-511 70,-523 70,-523 70,-529 64,-535 58,-535"/>
<text text-anchor="middle" x="43" y="-513.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">start</text>
</g>
<!-- check_or_prepare_bootstrap_cluster -->
<g id="node13" class="node">
<title>check_or_prepare_bootstrap_cluster</title>
<path fill="none" stroke="#1c2123" d="M307,-535C307,-535 118,-535 118,-535 112,-535 106,-529 106,-523 106,-523 106,-511 106,-511 106,-505 112,-499 118,-499 118,-499 307,-499 307,-499 313,-499 319,-505 319,-511 319,-511 319,-523 319,-523 319,-529 313,-535 307,-535"/>
<text text-anchor="middle" x="212.5" y="-513.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_or_prepare_bootstrap_cluster</text>
</g>
<!-- start&#45;&gt;check_or_prepare_bootstrap_cluster -->
<g id="edge12" class="edge">
<title>start&#45;&gt;check_or_prepare_bootstrap_cluster</title>
<path fill="none" stroke="#666666" d="M70.17,-517C77.6,-517 86.21,-517 95.43,-517"/>
<polygon fill="#666666" stroke="#666666" points="95.66,-520.5 105.66,-517 95.66,-513.5 95.66,-520.5"/>
</g>
<!-- check_or_prepare_bootstrap_cluster&#45;&gt;PREPARE_BOOTSTRAP_KEY -->
<g id="edge13" class="edge">
<title>check_or_prepare_bootstrap_cluster&#45;&gt;PREPARE_BOOTSTRAP_KEY</title>
<path fill="none" stroke="#666666" d="M319.05,-523.74C441.16,-531.59 629.78,-543.88 663,-547 677.71,-548.38 681.25,-550.11 696,-551 767.43,-555.31 785.56,-555.02 857,-551 988.2,-543.61 1138.35,-525.12 1236.83,-511.61"/>
<polygon fill="#666666" stroke="#666666" points="1237.36,-515.07 1246.79,-510.24 1236.41,-508.14 1237.36,-515.07"/>
</g>
<!-- node_prepare_bootstrap_cluster -->
<g id="node14" class="node">
<title>node_prepare_bootstrap_cluster</title>
<path fill="none" stroke="#1c2123" d="M442.5,-480C442.5,-480 575.5,-480 575.5,-480 581.5,-480 587.5,-486 587.5,-492 587.5,-492 587.5,-504 587.5,-504 587.5,-510 581.5,-516 575.5,-516 575.5,-516 442.5,-516 442.5,-516 436.5,-516 430.5,-510 430.5,-504 430.5,-504 430.5,-492 430.5,-492 430.5,-486 436.5,-480 442.5,-480"/>
<text text-anchor="middle" x="509" y="-494.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">prepare_bootstrap_cluster</text>
</g>
<!-- check_or_prepare_bootstrap_cluster&#45;&gt;node_prepare_bootstrap_cluster -->
<g id="edge14" class="edge">
<title>check_or_prepare_bootstrap_cluster&#45;&gt;node_prepare_bootstrap_cluster</title>
<path fill="none" stroke="#666666" d="M319.41,-510.17C352.44,-508.04 388.49,-505.71 420.15,-503.67"/>
<polygon fill="#666666" stroke="#666666" points="420.51,-507.15 430.26,-503.02 420.06,-500.17 420.51,-507.15"/>
</g>
<!-- check_cluster_bootstrapped -->
<g id="node15" class="node">
<title>check_cluster_bootstrapped</title>
<path fill="none" stroke="#1c2123" d="M412.5,-399.5C412.5,-399.5 605.5,-399.5 605.5,-399.5 611.5,-399.5 617.5,-405.5 617.5,-411.5 617.5,-411.5 617.5,-448.5 617.5,-448.5 617.5,-454.5 611.5,-460.5 605.5,-460.5 605.5,-460.5 412.5,-460.5 412.5,-460.5 406.5,-460.5 400.5,-454.5 400.5,-448.5 400.5,-448.5 400.5,-411.5 400.5,-411.5 400.5,-405.5 406.5,-399.5 412.5,-399.5"/>
<text text-anchor="middle" x="509" y="-445.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">check_cluster_bootstrapped</text>
<polyline fill="none" stroke="#1c2123" points="400.5,-437.5 617.5,-437.5 "/>
<text text-anchor="start" x="408.5" y="-422.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向pd server发起请求，询问cluster</text>
<text text-anchor="start" x="408.5" y="-407.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 是否已经初始化</text>
</g>
<!-- check_or_prepare_bootstrap_cluster&#45;&gt;check_cluster_bootstrapped -->
<g id="edge15" class="edge">
<title>check_or_prepare_bootstrap_cluster&#45;&gt;check_cluster_bootstrapped</title>
<path fill="none" stroke="#666666" d="M266.71,-498.97C293.15,-490.2 325.65,-479.7 355,-471 366.55,-467.58 378.62,-464.13 390.7,-460.76"/>
<polygon fill="#666666" stroke="#666666" points="391.68,-464.12 400.38,-458.08 389.81,-457.37 391.68,-464.12"/>
</g>
<!-- get_msg -->
<g id="node16" class="node">
<title>get_msg</title>
<path fill="none" stroke="#1c2123" d="M367,-556C367,-556 651,-556 651,-556 657,-556 663,-562 663,-568 663,-568 663,-620 663,-620 663,-626 657,-632 651,-632 651,-632 367,-632 367,-632 361,-632 355,-626 355,-620 355,-620 355,-568 355,-568 355,-562 361,-556 367,-556"/>
<text text-anchor="middle" x="509" y="-616.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">get_msg</text>
<polyline fill="none" stroke="#1c2123" points="355,-609 663,-609 "/>
<text text-anchor="start" x="363" y="-593.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">engine.kv.get_msg(PREPARE_BOOTSTRAP_KEY)</text>
<text text-anchor="start" x="363" y="-578.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 获取第一个reigon信息</text>
<text text-anchor="start" x="363" y="-563.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 如果有，说明已经第一个region已经创建好了</text>
</g>
<!-- check_or_prepare_bootstrap_cluster&#45;&gt;get_msg -->
<g id="edge16" class="edge">
<title>check_or_prepare_bootstrap_cluster&#45;&gt;get_msg</title>
<path fill="none" stroke="#666666" d="M282.55,-535.05C303.78,-540.61 328.08,-546.96 352.68,-553.39"/>
<polygon fill="#666666" stroke="#666666" points="351.92,-556.81 362.48,-555.95 353.69,-550.04 351.92,-556.81"/>
</g>
<!-- node_prepare_bootstrap_cluster&#45;&gt;prepare_bootstrap_cluster -->
<g id="edge20" class="edge">
<title>node_prepare_bootstrap_cluster&#45;&gt;prepare_bootstrap_cluster</title>
<path fill="none" stroke="#666666" d="M587.77,-498.35C614.02,-494.92 641.97,-486.94 663,-470 692.63,-446.13 666.69,-415.27 696,-391 752.33,-344.36 785.59,-372.81 857,-357 893.64,-348.89 933.39,-339.8 969.7,-331.38"/>
<polygon fill="#666666" stroke="#666666" points="970.89,-334.7 979.84,-329.03 969.31,-327.88 970.89,-334.7"/>
</g>
<!-- initial_region -->
<g id="node17" class="node">
<title>initial_region</title>
<path fill="none" stroke="#1c2123" d="M711,-400C711,-400 842,-400 842,-400 848,-400 854,-406 854,-412 854,-412 854,-464 854,-464 854,-470 848,-476 842,-476 842,-476 711,-476 711,-476 705,-476 699,-470 699,-464 699,-464 699,-412 699,-412 699,-406 705,-400 711,-400"/>
<text text-anchor="middle" x="776.5" y="-460.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">initial_region</text>
<polyline fill="none" stroke="#1c2123" points="699,-453 854,-453 "/>
<text text-anchor="start" x="707" y="-437.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">初始化第一个region</text>
<text text-anchor="start" x="707" y="-422.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> start key和end_key都为</text>
<text text-anchor="start" x="707" y="-407.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> EMPTY_KEY</text>
</g>
<!-- node_prepare_bootstrap_cluster&#45;&gt;initial_region -->
<g id="edge21" class="edge">
<title>node_prepare_bootstrap_cluster&#45;&gt;initial_region</title>
<path fill="none" stroke="#666666" d="M587.74,-485.27C611.95,-480.9 638.67,-475.67 663,-470 671.48,-468.02 680.27,-465.81 689.03,-463.5"/>
<polygon fill="#666666" stroke="#666666" points="690.15,-466.82 698.9,-460.85 688.33,-460.06 690.15,-466.82"/>
</g>
<!-- alloc_id -->
<g id="node19" class="node">
<title>alloc_id</title>
<path fill="none" stroke="#1c2123" d="M727.5,-495C727.5,-495 825.5,-495 825.5,-495 831.5,-495 837.5,-501 837.5,-507 837.5,-507 837.5,-529 837.5,-529 837.5,-535 831.5,-541 825.5,-541 825.5,-541 727.5,-541 727.5,-541 721.5,-541 715.5,-535 715.5,-529 715.5,-529 715.5,-507 715.5,-507 715.5,-501 721.5,-495 727.5,-495"/>
<text text-anchor="middle" x="776.5" y="-525.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">alloc_id</text>
<polyline fill="none" stroke="#1c2123" points="715.5,-518 837.5,-518 "/>
<text text-anchor="middle" x="776.5" y="-502.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">分配一个region id</text>
</g>
<!-- node_prepare_bootstrap_cluster&#45;&gt;alloc_id -->
<g id="edge22" class="edge">
<title>node_prepare_bootstrap_cluster&#45;&gt;alloc_id</title>
<path fill="none" stroke="#666666" d="M587.51,-503.84C624.72,-506.64 668.99,-509.98 705.21,-512.71"/>
<polygon fill="#666666" stroke="#666666" points="704.97,-516.2 715.2,-513.46 705.5,-509.22 704.97,-516.2"/>
</g>
<!-- check_cluster_bootstrapped&#45;&gt;pd_client_is_cluster_bootstrapped -->
<g id="edge17" class="edge">
<title>check_cluster_bootstrapped&#45;&gt;pd_client_is_cluster_bootstrapped</title>
<path fill="none" stroke="#666666" d="M570.58,-399.43C619.3,-374.83 686.66,-340.84 730.64,-318.64"/>
<polygon fill="#666666" stroke="#666666" points="732.31,-321.72 739.66,-314.09 729.15,-315.47 732.31,-321.72"/>
</g>
<!-- region -->
<g id="node18" class="node">
<title>region</title>
<path fill="none" stroke="#1c2123" d="M932,-446C932,-446 902,-446 902,-446 896,-446 890,-440 890,-434 890,-434 890,-422 890,-422 890,-416 896,-410 902,-410 902,-410 932,-410 932,-410 938,-410 944,-416 944,-422 944,-422 944,-434 944,-434 944,-440 938,-446 932,-446"/>
<text text-anchor="middle" x="917" y="-424.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">region</text>
</g>
<!-- initial_region&#45;&gt;region -->
<g id="edge18" class="edge">
<title>initial_region&#45;&gt;region</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M854.04,-432.47C863,-431.83 871.8,-431.19 879.82,-430.61"/>
<polygon fill="green" stroke="green" points="880.15,-434.1 889.87,-429.89 879.64,-427.12 880.15,-434.1"/>
</g>
<!-- region&#45;&gt;prepare_bootstrap_cluster -->
<g id="edge19" class="edge">
<title>region&#45;&gt;prepare_bootstrap_cluster</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M941.49,-409.82C950.91,-402.62 961.9,-394.33 972,-387 988.83,-374.78 1007.16,-361.86 1024.4,-349.88"/>
<polygon fill="green" stroke="green" points="1026.54,-352.65 1032.76,-344.08 1022.55,-346.9 1026.54,-352.65"/>
</g>
</g>
</svg>
