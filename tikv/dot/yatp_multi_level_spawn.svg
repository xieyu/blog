<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: multilevel_spawn Pages: 1 -->
<svg width="2241pt" height="1460pt"
 viewBox="0.00 0.00 2241.00 1460.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1456)">
<title>multilevel_spawn</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1456 2237,-1456 2237,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_crossbeam</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1045.5,-1230C1045.5,-1230 2131,-1230 2131,-1230 2137,-1230 2143,-1236 2143,-1242 2143,-1242 2143,-1432 2143,-1432 2143,-1438 2137,-1444 2131,-1444 2131,-1444 1045.5,-1444 1045.5,-1444 1039.5,-1444 1033.5,-1438 1033.5,-1432 1033.5,-1432 1033.5,-1242 1033.5,-1242 1033.5,-1236 1039.5,-1230 1045.5,-1230"/>
<text text-anchor="middle" x="1588.25" y="-1424" font-family="Times,serif" font-size="20.00">crossbeam</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Extras</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1048.5,-920C1048.5,-920 1549,-920 1549,-920 1555,-920 1561,-926 1561,-932 1561,-932 1561,-1094 1561,-1094 1561,-1100 1555,-1106 1549,-1106 1549,-1106 1048.5,-1106 1048.5,-1106 1042.5,-1106 1036.5,-1100 1036.5,-1094 1036.5,-1094 1036.5,-932 1036.5,-932 1036.5,-926 1042.5,-920 1048.5,-920"/>
<text text-anchor="middle" x="1298.75" y="-1086" font-family="Times,serif" font-size="20.00">Extras</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_LevelManager</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M820,-696C820,-696 1506.5,-696 1506.5,-696 1512.5,-696 1518.5,-702 1518.5,-708 1518.5,-708 1518.5,-900 1518.5,-900 1518.5,-906 1512.5,-912 1506.5,-912 1506.5,-912 820,-912 820,-912 814,-912 808,-906 808,-900 808,-900 808,-708 808,-708 808,-702 814,-696 820,-696"/>
<text text-anchor="middle" x="1163.25" y="-892" font-family="Times,serif" font-size="20.00">LevelManager</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_TaskInjector</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M1001,-1114C1001,-1114 1182,-1114 1182,-1114 1188,-1114 1194,-1120 1194,-1126 1194,-1126 1194,-1210 1194,-1210 1194,-1216 1188,-1222 1182,-1222 1182,-1222 1001,-1222 1001,-1222 995,-1222 989,-1216 989,-1210 989,-1210 989,-1126 989,-1126 989,-1120 995,-1114 1001,-1114"/>
<text text-anchor="middle" x="1091.5" y="-1202" font-family="Times,serif" font-size="20.00">multilevel::TaskInjector</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_QueueCore</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M833,-98C833,-98 1437,-98 1437,-98 1443,-98 1449,-104 1449,-110 1449,-110 1449,-302 1449,-302 1449,-308 1443,-314 1437,-314 1437,-314 833,-314 833,-314 827,-314 821,-308 821,-302 821,-302 821,-110 821,-110 821,-104 827,-98 833,-98"/>
<text text-anchor="middle" x="1135" y="-294" font-family="Times,serif" font-size="20.00">QueueCore</text>
</g>
<g id="clust13" class="cluster">
<title>cluster_LocalQueue</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M861.5,-322C861.5,-322 2213,-322 2213,-322 2219,-322 2225,-328 2225,-334 2225,-334 2225,-598 2225,-598 2225,-604 2219,-610 2213,-610 2213,-610 861.5,-610 861.5,-610 855.5,-610 849.5,-604 849.5,-598 849.5,-598 849.5,-334 849.5,-334 849.5,-328 855.5,-322 861.5,-322"/>
<text text-anchor="middle" x="1537.25" y="-590" font-family="Times,serif" font-size="20.00">multilevel::LocalQueue</text>
</g>
<g id="clust16" class="cluster">
<title>cluster_Remote</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M705,-291C705,-291 760,-291 760,-291 766,-291 772,-297 772,-303 772,-303 772,-363 772,-363 772,-369 766,-375 760,-375 760,-375 705,-375 705,-375 699,-375 693,-369 693,-363 693,-363 693,-303 693,-303 693,-297 699,-291 705,-291"/>
<text text-anchor="middle" x="732.5" y="-355" font-family="Times,serif" font-size="20.00">Remote</text>
</g>
<g id="clust18" class="cluster">
<title>cluster_future_Runner</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M343,-473C343,-473 776,-473 776,-473 782,-473 788,-479 788,-485 788,-485 788,-597 788,-597 788,-603 782,-609 776,-609 776,-609 343,-609 343,-609 337,-609 331,-603 331,-597 331,-597 331,-485 331,-485 331,-479 337,-473 343,-473"/>
<text text-anchor="middle" x="559.5" y="-589" font-family="Times,serif" font-size="20.00">future_Runner</text>
</g>
<g id="clust20" class="cluster">
<title>cluster_Local</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M844,-8C844,-8 1114,-8 1114,-8 1120,-8 1126,-14 1126,-20 1126,-20 1126,-78 1126,-78 1126,-84 1120,-90 1114,-90 1114,-90 844,-90 844,-90 838,-90 832,-84 832,-78 832,-78 832,-20 832,-20 832,-14 838,-8 844,-8"/>
<text text-anchor="middle" x="979" y="-70" font-family="Times,serif" font-size="20.00">Local</text>
</g>
<g id="clust23" class="cluster">
<title>cluster_MultiLevelRunner</title>
<path fill="none" stroke="slategrey" stroke-dasharray="5,2" d="M20,-485C20,-485 299,-485 299,-485 305,-485 311,-491 311,-497 311,-497 311,-581 311,-581 311,-587 305,-593 299,-593 299,-593 20,-593 20,-593 14,-593 8,-587 8,-581 8,-581 8,-497 8,-497 8,-491 14,-485 20,-485"/>
<text text-anchor="middle" x="159.5" y="-573" font-family="Times,serif" font-size="20.00">MultiLevelRunner</text>
</g>
<!-- Worker_push -->
<g id="node1" class="node">
<title>Worker_push</title>
<path fill="none" stroke="#1c2123" d="M1601,-1322C1601,-1322 1744,-1322 1744,-1322 1750,-1322 1756,-1328 1756,-1334 1756,-1334 1756,-1356 1756,-1356 1756,-1362 1750,-1368 1744,-1368 1744,-1368 1601,-1368 1601,-1368 1595,-1368 1589,-1362 1589,-1356 1589,-1356 1589,-1334 1589,-1334 1589,-1328 1595,-1322 1601,-1322"/>
<text text-anchor="middle" x="1672.5" y="-1352.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Worker::push</text>
<polyline fill="none" stroke="#1c2123" points="1589,-1345 1756,-1345 "/>
<text text-anchor="start" x="1597" y="-1329.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">向自己本地队里push task</text>
</g>
<!-- Worker -->
<g id="node2" class="node">
<title>Worker</title>
<path fill="none" stroke="#1c2123" d="M2123,-1381C2123,-1381 2089,-1381 2089,-1381 2083,-1381 2077,-1375 2077,-1369 2077,-1369 2077,-1357 2077,-1357 2077,-1351 2083,-1345 2089,-1345 2089,-1345 2123,-1345 2123,-1345 2129,-1345 2135,-1351 2135,-1357 2135,-1357 2135,-1369 2135,-1369 2135,-1375 2129,-1381 2123,-1381"/>
<text text-anchor="middle" x="2106" y="-1359.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Worker</text>
</g>
<!-- Worker_push&#45;&gt;Worker -->
<g id="edge1" class="edge">
<title>Worker_push&#45;&gt;Worker</title>
<path fill="none" stroke="#666666" d="M1739.19,-1368.04C1756.18,-1372.99 1774.59,-1377.48 1792,-1380 1890.32,-1394.22 2007.56,-1379.52 2066.76,-1369.91"/>
<polygon fill="#666666" stroke="#666666" points="2067.49,-1373.33 2076.78,-1368.24 2066.34,-1366.43 2067.49,-1373.33"/>
</g>
<!-- Injector_push -->
<g id="node3" class="node">
<title>Injector_push</title>
<path fill="none" stroke="#1c2123" d="M1327,-1238.5C1327,-1238.5 1456,-1238.5 1456,-1238.5 1462,-1238.5 1468,-1244.5 1468,-1250.5 1468,-1250.5 1468,-1287.5 1468,-1287.5 1468,-1293.5 1462,-1299.5 1456,-1299.5 1456,-1299.5 1327,-1299.5 1327,-1299.5 1321,-1299.5 1315,-1293.5 1315,-1287.5 1315,-1287.5 1315,-1250.5 1315,-1250.5 1315,-1244.5 1321,-1238.5 1327,-1238.5"/>
<text text-anchor="middle" x="1391.5" y="-1284.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Injector::push</text>
<polyline fill="none" stroke="#1c2123" points="1315,-1276.5 1468,-1276.5 "/>
<text text-anchor="start" x="1323" y="-1261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">push到task.current_level</text>
<text text-anchor="start" x="1323" y="-1246.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 对应的Injector</text>
</g>
<!-- Injector_level -->
<g id="node4" class="node">
<title>Injector_level</title>
<path fill="none" stroke="#1c2123" d="M1620.5,-1239C1620.5,-1239 1724.5,-1239 1724.5,-1239 1730.5,-1239 1736.5,-1245 1736.5,-1251 1736.5,-1251 1736.5,-1273 1736.5,-1273 1736.5,-1279 1730.5,-1285 1724.5,-1285 1724.5,-1285 1620.5,-1285 1620.5,-1285 1614.5,-1285 1608.5,-1279 1608.5,-1273 1608.5,-1273 1608.5,-1251 1608.5,-1251 1608.5,-1245 1614.5,-1239 1620.5,-1239"/>
<text text-anchor="middle" x="1672.5" y="-1269.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Injector</text>
<polyline fill="none" stroke="#1c2123" points="1608.5,-1262 1736.5,-1262 "/>
<text text-anchor="start" x="1616.5" y="-1246.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">某个level的Injector</text>
</g>
<!-- Injector_push&#45;&gt;Injector_level -->
<g id="edge2" class="edge">
<title>Injector_push&#45;&gt;Injector_level</title>
<path fill="none" stroke="#666666" d="M1468,-1267.11C1508.38,-1266.09 1557.9,-1264.85 1597.97,-1263.84"/>
<polygon fill="#666666" stroke="#666666" points="1598.3,-1267.34 1608.21,-1263.59 1598.13,-1260.34 1598.3,-1267.34"/>
</g>
<!-- steal_batch_and_pop -->
<g id="node5" class="node">
<title>steal_batch_and_pop</title>
<path fill="none" stroke="#1c2123" d="M1822,-1238.5C1822,-1238.5 1929,-1238.5 1929,-1238.5 1935,-1238.5 1941,-1244.5 1941,-1250.5 1941,-1250.5 1941,-1287.5 1941,-1287.5 1941,-1293.5 1935,-1299.5 1929,-1299.5 1929,-1299.5 1822,-1299.5 1822,-1299.5 1816,-1299.5 1810,-1293.5 1810,-1287.5 1810,-1287.5 1810,-1250.5 1810,-1250.5 1810,-1244.5 1816,-1238.5 1822,-1238.5"/>
<text text-anchor="middle" x="1875.5" y="-1284.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">steal_batch_and_pop</text>
<polyline fill="none" stroke="#1c2123" points="1810,-1276.5 1941,-1276.5 "/>
<text text-anchor="start" x="1818" y="-1261.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从expected_level中</text>
<text text-anchor="start" x="1818" y="-1246.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> steal batch task</text>
</g>
<!-- Injector_level&#45;&gt;steal_batch_and_pop -->
<g id="edge3" class="edge">
<title>Injector_level&#45;&gt;steal_batch_and_pop</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1736.55,-1264.2C1756.63,-1264.9 1779.04,-1265.68 1799.87,-1266.4"/>
<polygon fill="green" stroke="green" points="1799.83,-1269.9 1809.95,-1266.75 1800.07,-1262.91 1799.83,-1269.9"/>
</g>
<!-- steal_batch_and_pop&#45;&gt;Worker -->
<g id="edge4" class="edge">
<title>steal_batch_and_pop&#45;&gt;Worker</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1941.06,-1295.56C1981.78,-1312.31 2032.96,-1333.36 2067.2,-1347.45"/>
<polygon fill="green" stroke="green" points="2066.24,-1350.84 2076.82,-1351.41 2068.91,-1344.37 2066.24,-1350.84"/>
</g>
<!-- level_injectors -->
<g id="node30" class="node">
<title>level_injectors</title>
<path fill="#feed9b" stroke="#f7e495" d="M2007,-410.5C2007,-410.5 2205,-410.5 2205,-410.5 2211,-410.5 2217,-416.5 2217,-422.5 2217,-422.5 2217,-559.5 2217,-559.5 2217,-565.5 2211,-571.5 2205,-571.5 2205,-571.5 2007,-571.5 2007,-571.5 2001,-571.5 1995,-565.5 1995,-559.5 1995,-559.5 1995,-422.5 1995,-422.5 1995,-416.5 2001,-410.5 2007,-410.5"/>
<text text-anchor="middle" x="2106" y="-556.3" font-family="Times,serif" font-size="14.00" fill="#40575d">level_injectors</text>
<polyline fill="none" stroke="#f7e495" points="1995,-548.5 2217,-548.5 "/>
<text text-anchor="start" x="2003" y="-533.3" font-family="Times,serif" font-size="14.00" fill="#40575d">level injecto数组</text>
<polyline fill="none" stroke="#f7e495" points="1995,-525.5 2217,-525.5 "/>
<text text-anchor="start" x="2003" y="-510.3" font-family="Times,serif" font-size="14.00" fill="#40575d">Arc&lt;[Injector&lt;T&gt;; LEVEL_NUM]&gt;,</text>
<polyline fill="none" stroke="#f7e495" points="1995,-502.5 2217,-502.5 "/>
<text text-anchor="start" x="2003" y="-487.3" font-family="Times,serif" font-size="14.00" fill="#40575d">level 0 Injector</text>
<polyline fill="none" stroke="#f7e495" points="1995,-479.5 2217,-479.5 "/>
<text text-anchor="start" x="2003" y="-464.3" font-family="Times,serif" font-size="14.00" fill="#40575d">...</text>
<polyline fill="none" stroke="#f7e495" points="1995,-456.5 2217,-456.5 "/>
<text text-anchor="start" x="2003" y="-441.3" font-family="Times,serif" font-size="14.00" fill="#40575d">level k Injector</text>
<polyline fill="none" stroke="#f7e495" points="1995,-433.5 2217,-433.5 "/>
<text text-anchor="start" x="2003" y="-418.3" font-family="Times,serif" font-size="14.00" fill="#40575d">...</text>
</g>
<!-- steal_batch_and_pop&#45;&gt;level_injectors -->
<g id="edge32" class="edge">
<title>steal_batch_and_pop&#45;&gt;level_injectors:level_k</title>
<path fill="none" stroke="#666666" d="M1941.37,-1250.4C1948.24,-1246.03 1954.38,-1240.64 1959,-1234 1982.58,-1200.08 1954.78,-530.78 1988.05,-452.46"/>
<polygon fill="#666666" stroke="#666666" points="1990.74,-454.7 1995,-445 1985.62,-449.93 1990.74,-454.7"/>
</g>
<!-- Worker_other -->
<g id="node6" class="node">
<title>Worker_other</title>
<path fill="none" stroke="#1c2123" d="M1053.5,-1331.5C1053.5,-1331.5 1128.5,-1331.5 1128.5,-1331.5 1134.5,-1331.5 1140.5,-1337.5 1140.5,-1343.5 1140.5,-1343.5 1140.5,-1380.5 1140.5,-1380.5 1140.5,-1386.5 1134.5,-1392.5 1128.5,-1392.5 1128.5,-1392.5 1053.5,-1392.5 1053.5,-1392.5 1047.5,-1392.5 1041.5,-1386.5 1041.5,-1380.5 1041.5,-1380.5 1041.5,-1343.5 1041.5,-1343.5 1041.5,-1337.5 1047.5,-1331.5 1053.5,-1331.5"/>
<text text-anchor="middle" x="1091" y="-1377.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Worker</text>
<polyline fill="none" stroke="#1c2123" points="1041.5,-1369.5 1140.5,-1369.5 "/>
<text text-anchor="start" x="1049.5" y="-1354.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">其他线程的</text>
<text text-anchor="start" x="1049.5" y="-1339.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 本地task队列</text>
</g>
<!-- stealer_steal_batch_and_pop -->
<g id="node7" class="node">
<title>stealer_steal_batch_and_pop</title>
<path fill="none" stroke="#1c2123" d="M1319,-1331.5C1319,-1331.5 1464,-1331.5 1464,-1331.5 1470,-1331.5 1476,-1337.5 1476,-1343.5 1476,-1343.5 1476,-1380.5 1476,-1380.5 1476,-1386.5 1470,-1392.5 1464,-1392.5 1464,-1392.5 1319,-1392.5 1319,-1392.5 1313,-1392.5 1307,-1386.5 1307,-1380.5 1307,-1380.5 1307,-1343.5 1307,-1343.5 1307,-1337.5 1313,-1331.5 1319,-1331.5"/>
<text text-anchor="middle" x="1391.5" y="-1377.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">stealer.steal_batch_and_pop</text>
<polyline fill="none" stroke="#1c2123" points="1307,-1369.5 1476,-1369.5 "/>
<text text-anchor="start" x="1315" y="-1354.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从其他线程的本地队列</text>
<text text-anchor="start" x="1315" y="-1339.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> steal 一批task</text>
</g>
<!-- Worker_other&#45;&gt;stealer_steal_batch_and_pop -->
<g id="edge5" class="edge">
<title>Worker_other&#45;&gt;stealer_steal_batch_and_pop</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1140.62,-1362C1182.75,-1362 1244.9,-1362 1296.67,-1362"/>
<polygon fill="green" stroke="green" points="1296.88,-1365.5 1306.88,-1362 1296.88,-1358.5 1296.88,-1365.5"/>
</g>
<!-- stealer_steal_batch_and_pop&#45;&gt;Worker -->
<g id="edge6" class="edge">
<title>stealer_steal_batch_and_pop&#45;&gt;Worker</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1476.13,-1381.83C1510.84,-1389.1 1551.64,-1396.42 1589,-1400 1752.69,-1415.68 1795.82,-1420.36 1959,-1400 1996.37,-1395.34 2037.9,-1384.21 2067.08,-1375.37"/>
<polygon fill="green" stroke="green" points="2068.34,-1378.64 2076.86,-1372.35 2066.28,-1371.96 2068.34,-1378.64"/>
</g>
<!-- Worker_pop -->
<g id="node8" class="node">
<title>Worker_pop</title>
<path fill="none" stroke="#1c2123" d="M1804,-1319C1804,-1319 1947,-1319 1947,-1319 1953,-1319 1959,-1325 1959,-1331 1959,-1331 1959,-1353 1959,-1353 1959,-1359 1953,-1365 1947,-1365 1947,-1365 1804,-1365 1804,-1365 1798,-1365 1792,-1359 1792,-1353 1792,-1353 1792,-1331 1792,-1331 1792,-1325 1798,-1319 1804,-1319"/>
<text text-anchor="middle" x="1875.5" y="-1349.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Worker::pop</text>
<polyline fill="none" stroke="#1c2123" points="1792,-1342 1959,-1342 "/>
<text text-anchor="start" x="1800" y="-1326.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">从自己本地队列中取task</text>
</g>
<!-- Worker_pop&#45;&gt;Worker -->
<g id="edge7" class="edge">
<title>Worker_pop&#45;&gt;Worker</title>
<path fill="none" stroke="#666666" d="M1959.32,-1349.61C1996.06,-1352.99 2037.5,-1356.8 2066.77,-1359.49"/>
<polygon fill="#666666" stroke="#666666" points="2066.69,-1362.99 2076.97,-1360.42 2067.33,-1356.02 2066.69,-1362.99"/>
</g>
<!-- Extras -->
<g id="node9" class="node">
<title>Extras</title>
<path fill="none" stroke="#1c2123" d="M1242,-929C1242,-929 1541,-929 1541,-929 1547,-929 1553,-935 1553,-941 1553,-941 1553,-1055 1553,-1055 1553,-1061 1547,-1067 1541,-1067 1541,-1067 1242,-1067 1242,-1067 1236,-1067 1230,-1061 1230,-1055 1230,-1055 1230,-941 1230,-941 1230,-935 1236,-929 1242,-929"/>
<text text-anchor="middle" x="1391.5" y="-1051.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">Extras</text>
<polyline fill="none" stroke="#1c2123" points="1230,-1044 1553,-1044 "/>
<text text-anchor="start" x="1238" y="-1028.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) schedule_time: Option&lt;Instant&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="1230,-1021 1553,-1021 "/>
<text text-anchor="start" x="1238" y="-1005.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) task_id: u64,</text>
<polyline fill="none" stroke="#1c2123" points="1230,-998 1553,-998 "/>
<text text-anchor="start" x="1238" y="-982.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) running_time: Option&lt;Arc&lt;ElapsedTime&gt;&gt;,</text>
<polyline fill="none" stroke="#1c2123" points="1230,-975 1553,-975 "/>
<text text-anchor="start" x="1238" y="-959.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) current_level: u8,</text>
<polyline fill="none" stroke="#1c2123" points="1230,-952 1553,-952 "/>
<text text-anchor="start" x="1238" y="-936.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">pub(crate) fixed_level: Option&lt;u8&gt;,</text>
</g>
<!-- Extras&#45;&gt;Injector_level -->
<g id="edge9" class="edge">
<title>Extras:current_level&#45;&gt;Injector_level</title>
<path fill="none" stroke="#666666" d="M1554.5,-963C1615.43,-963 1550.2,-1188.02 1589,-1235 1592,-1238.63 1595.49,-1241.77 1599.31,-1244.5"/>
<polygon fill="#666666" stroke="#666666" points="1597.77,-1247.66 1608.14,-1249.82 1601.38,-1241.66 1597.77,-1247.66"/>
</g>
<!-- default_extras -->
<g id="node10" class="node">
<title>default_extras</title>
<path fill="none" stroke="#1c2123" d="M1125.5,-1016C1125.5,-1016 1056.5,-1016 1056.5,-1016 1050.5,-1016 1044.5,-1010 1044.5,-1004 1044.5,-1004 1044.5,-992 1044.5,-992 1044.5,-986 1050.5,-980 1056.5,-980 1056.5,-980 1125.5,-980 1125.5,-980 1131.5,-980 1137.5,-986 1137.5,-992 1137.5,-992 1137.5,-1004 1137.5,-1004 1137.5,-1010 1131.5,-1016 1125.5,-1016"/>
<text text-anchor="middle" x="1091" y="-994.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">default_extras</text>
</g>
<!-- default_extras&#45;&gt;Extras -->
<g id="edge8" class="edge">
<title>default_extras&#45;&gt;Extras</title>
<path fill="none" stroke="#666666" d="M1137.66,-998C1160.33,-998 1189.29,-998 1219.47,-998"/>
<polygon fill="#666666" stroke="#666666" points="1219.74,-1001.5 1229.74,-998 1219.74,-994.5 1219.74,-1001.5"/>
</g>
<!-- prepare_before_push -->
<g id="node11" class="node">
<title>prepare_before_push</title>
<path fill="none" stroke="#1c2123" d="M1009.5,-758.5C1009.5,-758.5 1172.5,-758.5 1172.5,-758.5 1178.5,-758.5 1184.5,-764.5 1184.5,-770.5 1184.5,-770.5 1184.5,-807.5 1184.5,-807.5 1184.5,-813.5 1178.5,-819.5 1172.5,-819.5 1172.5,-819.5 1009.5,-819.5 1009.5,-819.5 1003.5,-819.5 997.5,-813.5 997.5,-807.5 997.5,-807.5 997.5,-770.5 997.5,-770.5 997.5,-764.5 1003.5,-758.5 1009.5,-758.5"/>
<text text-anchor="middle" x="1091" y="-804.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">prepare_before_push</text>
<polyline fill="none" stroke="#1c2123" points="997.5,-796.5 1184.5,-796.5 "/>
<text text-anchor="start" x="1005.5" y="-781.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据task 以往的running_time</text>
<text text-anchor="start" x="1005.5" y="-766.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 决定task的current_level</text>
</g>
<!-- prepare_before_push&#45;&gt;Extras -->
<g id="edge10" class="edge">
<title>prepare_before_push&#45;&gt;Extras</title>
<path fill="none" stroke="#666666" d="M1182.98,-819.79C1186.9,-822.61 1190.61,-825.67 1194,-829 1223.86,-858.31 1201.62,-885.25 1230,-916 1231.81,-917.96 1233.68,-919.88 1235.6,-921.77"/>
<polygon fill="#666666" stroke="#666666" points="1233.53,-924.62 1243.25,-928.83 1238.28,-919.48 1233.53,-924.62"/>
</g>
<!-- extras_running_time_get_or_insert_with -->
<g id="node12" class="node">
<title>extras_running_time_get_or_insert_with</title>
<path fill="none" stroke="#1c2123" d="M1498.5,-874C1498.5,-874 1284.5,-874 1284.5,-874 1278.5,-874 1272.5,-868 1272.5,-862 1272.5,-862 1272.5,-850 1272.5,-850 1272.5,-844 1278.5,-838 1284.5,-838 1284.5,-838 1498.5,-838 1498.5,-838 1504.5,-838 1510.5,-844 1510.5,-850 1510.5,-850 1510.5,-862 1510.5,-862 1510.5,-868 1504.5,-874 1498.5,-874"/>
<text text-anchor="middle" x="1391.5" y="-852.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">extras_running_time_get_or_insert_with</text>
</g>
<!-- prepare_before_push&#45;&gt;extras_running_time_get_or_insert_with -->
<g id="edge11" class="edge">
<title>prepare_before_push&#45;&gt;extras_running_time_get_or_insert_with</title>
<path fill="none" stroke="#666666" d="M1184.78,-817.48C1199.82,-821.64 1215.29,-825.64 1230,-829 1240.87,-831.48 1252.19,-833.84 1263.58,-836.05"/>
<polygon fill="#666666" stroke="#666666" points="1263.12,-839.52 1273.6,-837.96 1264.43,-832.65 1263.12,-839.52"/>
</g>
<!-- task_elapsed_map_get_elapsed -->
<g id="node13" class="node">
<title>task_elapsed_map_get_elapsed</title>
<path fill="none" stroke="#1c2123" d="M1287.5,-704.5C1287.5,-704.5 1495.5,-704.5 1495.5,-704.5 1501.5,-704.5 1507.5,-710.5 1507.5,-716.5 1507.5,-716.5 1507.5,-753.5 1507.5,-753.5 1507.5,-759.5 1501.5,-765.5 1495.5,-765.5 1495.5,-765.5 1287.5,-765.5 1287.5,-765.5 1281.5,-765.5 1275.5,-759.5 1275.5,-753.5 1275.5,-753.5 1275.5,-716.5 1275.5,-716.5 1275.5,-710.5 1281.5,-704.5 1287.5,-704.5"/>
<text text-anchor="middle" x="1391.5" y="-750.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">task_elapsed_map.get_elapsed(task_id)</text>
<polyline fill="none" stroke="#1c2123" points="1275.5,-742.5 1507.5,-742.5 "/>
<text text-anchor="start" x="1283.5" y="-727.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">从task_elapsed_map中获取task</text>
<text text-anchor="start" x="1283.5" y="-712.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 之前运行时间。</text>
</g>
<!-- prepare_before_push&#45;&gt;task_elapsed_map_get_elapsed -->
<g id="edge12" class="edge">
<title>prepare_before_push&#45;&gt;task_elapsed_map_get_elapsed</title>
<path fill="none" stroke="#666666" d="M1184.81,-772.21C1210.34,-767.59 1238.46,-762.51 1265.48,-757.62"/>
<polygon fill="#666666" stroke="#666666" points="1266.17,-761.05 1275.38,-755.83 1264.92,-754.16 1266.17,-761.05"/>
</g>
<!-- level_time_threshold -->
<g id="node14" class="node">
<title>level_time_threshold</title>
<path fill="none" stroke="#1c2123" d="M1445,-820C1445,-820 1338,-820 1338,-820 1332,-820 1326,-814 1326,-808 1326,-808 1326,-796 1326,-796 1326,-790 1332,-784 1338,-784 1338,-784 1445,-784 1445,-784 1451,-784 1457,-790 1457,-796 1457,-796 1457,-808 1457,-808 1457,-814 1451,-820 1445,-820"/>
<text text-anchor="middle" x="1391.5" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">level_time_threshold</text>
</g>
<!-- prepare_before_push&#45;&gt;level_time_threshold -->
<g id="edge13" class="edge">
<title>prepare_before_push&#45;&gt;level_time_threshold</title>
<path fill="none" stroke="#666666" d="M1184.81,-793.04C1226.85,-794.87 1275.89,-797.01 1315.54,-798.74"/>
<polygon fill="#666666" stroke="#666666" points="1315.53,-802.24 1325.67,-799.18 1315.83,-795.24 1315.53,-802.24"/>
</g>
<!-- maybe_adjust_chance -->
<g id="node15" class="node">
<title>maybe_adjust_chance</title>
<path fill="none" stroke="#1c2123" d="M941,-740C941,-740 828,-740 828,-740 822,-740 816,-734 816,-728 816,-728 816,-716 816,-716 816,-710 822,-704 828,-704 828,-704 941,-704 941,-704 947,-704 953,-710 953,-716 953,-716 953,-728 953,-728 953,-734 947,-740 941,-740"/>
<text text-anchor="middle" x="884.5" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">maybe_adjust_chance</text>
</g>
<!-- adjusting -->
<g id="node16" class="node">
<title>adjusting</title>
<path fill="none" stroke="#1c2123" d="M1112,-874C1112,-874 1070,-874 1070,-874 1064,-874 1058,-868 1058,-862 1058,-862 1058,-850 1058,-850 1058,-844 1064,-838 1070,-838 1070,-838 1112,-838 1112,-838 1118,-838 1124,-844 1124,-850 1124,-850 1124,-862 1124,-862 1124,-868 1118,-874 1112,-874"/>
<text text-anchor="middle" x="1091" y="-852.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">adjusting</text>
</g>
<!-- maybe_adjust_chance&#45;&gt;adjusting -->
<g id="edge14" class="edge">
<title>maybe_adjust_chance&#45;&gt;adjusting</title>
<path fill="none" stroke="#666666" d="M898.02,-740.06C915.57,-764.01 949.79,-805.94 989,-829 1006.9,-839.53 1028.98,-846.04 1047.93,-850.02"/>
<polygon fill="#666666" stroke="#666666" points="1047.31,-853.47 1057.79,-851.93 1048.64,-846.59 1047.31,-853.47"/>
</g>
<!-- level0_chance -->
<g id="node17" class="node">
<title>level0_chance</title>
<path fill="none" stroke="#1c2123" d="M1126,-740C1126,-740 1056,-740 1056,-740 1050,-740 1044,-734 1044,-728 1044,-728 1044,-716 1044,-716 1044,-710 1050,-704 1056,-704 1056,-704 1126,-704 1126,-704 1132,-704 1138,-710 1138,-716 1138,-716 1138,-728 1138,-728 1138,-734 1132,-740 1126,-740"/>
<text text-anchor="middle" x="1091" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">level0_chance</text>
</g>
<!-- maybe_adjust_chance&#45;&gt;level0_chance -->
<g id="edge15" class="edge">
<title>maybe_adjust_chance&#45;&gt;level0_chance</title>
<path fill="none" stroke="#666666" d="M953.03,-722C979.2,-722 1008.83,-722 1033.81,-722"/>
<polygon fill="#666666" stroke="#666666" points="1033.85,-725.5 1043.85,-722 1033.85,-718.5 1033.85,-725.5"/>
</g>
<!-- expected_level -->
<g id="node29" class="node">
<title>expected_level</title>
<path fill="none" stroke="#1c2123" d="M1325.5,-495C1325.5,-495 1457.5,-495 1457.5,-495 1463.5,-495 1469.5,-501 1469.5,-507 1469.5,-507 1469.5,-559 1469.5,-559 1469.5,-565 1463.5,-571 1457.5,-571 1457.5,-571 1325.5,-571 1325.5,-571 1319.5,-571 1313.5,-565 1313.5,-559 1313.5,-559 1313.5,-507 1313.5,-507 1313.5,-501 1319.5,-495 1325.5,-495"/>
<text text-anchor="middle" x="1391.5" y="-555.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">expected_level</text>
<polyline fill="none" stroke="#1c2123" points="1313.5,-548 1469.5,-548 "/>
<text text-anchor="start" x="1321.5" y="-532.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">根据概率计算</text>
<text text-anchor="start" x="1321.5" y="-517.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 要从哪个global injector</text>
<text text-anchor="start" x="1321.5" y="-502.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 中获取task</text>
</g>
<!-- level0_chance&#45;&gt;expected_level -->
<g id="edge31" class="edge">
<title>level0_chance&#45;&gt;expected_level</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1120.62,-703.88C1166.54,-674.8 1257.97,-616.91 1321.62,-576.62"/>
<polygon fill="green" stroke="green" points="1323.83,-579.36 1330.4,-571.05 1320.08,-573.44 1323.83,-579.36"/>
</g>
<!-- TaskInjector_push -->
<g id="node18" class="node">
<title>TaskInjector_push</title>
<path fill="none" stroke="#1c2123" d="M1023,-1122.5C1023,-1122.5 1159,-1122.5 1159,-1122.5 1165,-1122.5 1171,-1128.5 1171,-1134.5 1171,-1134.5 1171,-1171.5 1171,-1171.5 1171,-1177.5 1165,-1183.5 1159,-1183.5 1159,-1183.5 1023,-1183.5 1023,-1183.5 1017,-1183.5 1011,-1177.5 1011,-1171.5 1011,-1171.5 1011,-1134.5 1011,-1134.5 1011,-1128.5 1017,-1122.5 1023,-1122.5"/>
<text text-anchor="middle" x="1091" y="-1168.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">push</text>
<polyline fill="none" stroke="#1c2123" points="1011,-1160.5 1171,-1160.5 "/>
<text text-anchor="start" x="1019" y="-1145.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">向task.current_level</text>
<text text-anchor="start" x="1019" y="-1130.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 对应的Injector push task</text>
</g>
<!-- TaskInjector_push&#45;&gt;Injector_push -->
<g id="edge16" class="edge">
<title>TaskInjector_push&#45;&gt;Injector_push</title>
<path fill="none" stroke="#666666" d="M1170.82,-1183.63C1212.25,-1199.73 1263.07,-1219.48 1305.4,-1235.93"/>
<polygon fill="#666666" stroke="#666666" points="1304.26,-1239.24 1314.85,-1239.6 1306.8,-1232.72 1304.26,-1239.24"/>
</g>
<!-- TaskInjector_push&#45;&gt;Extras -->
<g id="edge17" class="edge">
<title>TaskInjector_push&#45;&gt;Extras</title>
<path fill="none" stroke="#666666" d="M1167.38,-1122.42C1176.42,-1118.4 1185.47,-1114.21 1194,-1110 1217.49,-1098.4 1242.09,-1085.24 1265.62,-1072.12"/>
<polygon fill="#666666" stroke="#666666" points="1267.57,-1075.04 1274.58,-1067.1 1264.15,-1068.94 1267.57,-1075.04"/>
</g>
<!-- QueueCore_push -->
<g id="node19" class="node">
<title>QueueCore_push</title>
<path fill="none" stroke="#1c2123" d="M841,-239C841,-239 928,-239 928,-239 934,-239 940,-245 940,-251 940,-251 940,-263 940,-263 940,-269 934,-275 928,-275 928,-275 841,-275 841,-275 835,-275 829,-269 829,-263 829,-263 829,-251 829,-251 829,-245 835,-239 841,-239"/>
<text text-anchor="middle" x="884.5" y="-253.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">QueueCore::push</text>
</g>
<!-- QueueCore_push&#45;&gt;TaskInjector_push -->
<g id="edge18" class="edge">
<title>QueueCore_push&#45;&gt;TaskInjector_push</title>
<path fill="none" stroke="#666666" d="M914.52,-275.06C928.81,-285.66 944.71,-300.43 953,-318 990.58,-397.67 938.76,-1037.64 989,-1110 992.71,-1115.34 997.22,-1120.02 1002.26,-1124.13"/>
<polygon fill="#666666" stroke="#666666" points="1000.41,-1127.11 1010.58,-1130.11 1004.5,-1121.43 1000.41,-1127.11"/>
</g>
<!-- ensure_workers -->
<g id="node20" class="node">
<title>ensure_workers</title>
<path fill="none" stroke="#1c2123" d="M1005,-214.5C1005,-214.5 1177,-214.5 1177,-214.5 1183,-214.5 1189,-220.5 1189,-226.5 1189,-226.5 1189,-263.5 1189,-263.5 1189,-269.5 1183,-275.5 1177,-275.5 1177,-275.5 1005,-275.5 1005,-275.5 999,-275.5 993,-269.5 993,-263.5 993,-263.5 993,-226.5 993,-226.5 993,-220.5 999,-214.5 1005,-214.5"/>
<text text-anchor="middle" x="1091" y="-260.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">ensure_workers</text>
<polyline fill="none" stroke="#1c2123" points="993,-252.5 1189,-252.5 "/>
<text text-anchor="start" x="1001" y="-237.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Ensures there are enough</text>
<text text-anchor="start" x="1001" y="-222.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> workers to handle pending tasks</text>
</g>
<!-- QueueCore_push&#45;&gt;ensure_workers -->
<g id="edge19" class="edge">
<title>QueueCore_push&#45;&gt;ensure_workers</title>
<path fill="none" stroke="#666666" d="M940.03,-253.8C953.3,-253.02 967.95,-252.16 982.74,-251.29"/>
<polygon fill="#666666" stroke="#666666" points="983.2,-254.77 992.98,-250.69 982.79,-247.78 983.2,-254.77"/>
</g>
<!-- active_workers -->
<g id="node21" class="node">
<title>active_workers</title>
<path fill="none" stroke="#1c2123" d="M1429,-196C1429,-196 1354,-196 1354,-196 1348,-196 1342,-190 1342,-184 1342,-184 1342,-172 1342,-172 1342,-166 1348,-160 1354,-160 1354,-160 1429,-160 1429,-160 1435,-160 1441,-166 1441,-172 1441,-172 1441,-184 1441,-184 1441,-190 1435,-196 1429,-196"/>
<text text-anchor="middle" x="1391.5" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">active_workers</text>
</g>
<!-- ensure_workers&#45;&gt;active_workers -->
<g id="edge20" class="edge">
<title>ensure_workers&#45;&gt;active_workers</title>
<path fill="none" stroke="#666666" d="M1189.33,-223.15C1236.38,-212.59 1291.3,-200.27 1331.85,-191.16"/>
<polygon fill="#666666" stroke="#666666" points="1332.85,-194.53 1341.84,-188.92 1331.32,-187.7 1332.85,-194.53"/>
</g>
<!-- unpark_one -->
<g id="node22" class="node">
<title>unpark_one</title>
<path fill="none" stroke="#1c2123" d="M1419.5,-263C1419.5,-263 1363.5,-263 1363.5,-263 1357.5,-263 1351.5,-257 1351.5,-251 1351.5,-251 1351.5,-239 1351.5,-239 1351.5,-233 1357.5,-227 1363.5,-227 1363.5,-227 1419.5,-227 1419.5,-227 1425.5,-227 1431.5,-233 1431.5,-239 1431.5,-239 1431.5,-251 1431.5,-251 1431.5,-257 1425.5,-263 1419.5,-263"/>
<text text-anchor="middle" x="1391.5" y="-241.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">unpark_one</text>
</g>
<!-- ensure_workers&#45;&gt;unpark_one -->
<g id="edge21" class="edge">
<title>ensure_workers&#45;&gt;unpark_one</title>
<path fill="none" stroke="#666666" d="M1189.33,-245C1240.14,-245 1300.13,-245 1341.3,-245"/>
<polygon fill="#666666" stroke="#666666" points="1341.34,-248.5 1351.34,-245 1341.34,-241.5 1341.34,-248.5"/>
</g>
<!-- mark_sleep -->
<g id="node23" class="node">
<title>mark_sleep</title>
<path fill="none" stroke="#1c2123" d="M1119,-196C1119,-196 1063,-196 1063,-196 1057,-196 1051,-190 1051,-184 1051,-184 1051,-172 1051,-172 1051,-166 1057,-160 1063,-160 1063,-160 1119,-160 1119,-160 1125,-160 1131,-166 1131,-172 1131,-172 1131,-184 1131,-184 1131,-190 1125,-196 1119,-196"/>
<text text-anchor="middle" x="1091" y="-174.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">mark_sleep</text>
</g>
<!-- mark_sleep&#45;&gt;active_workers -->
<g id="edge22" class="edge">
<title>mark_sleep&#45;&gt;active_workers</title>
<path fill="none" stroke="#666666" d="M1131.02,-178C1182.08,-178 1272.03,-178 1331.45,-178"/>
<polygon fill="#666666" stroke="#666666" points="1331.81,-181.5 1341.81,-178 1331.81,-174.5 1331.81,-181.5"/>
</g>
<!-- mark_woken -->
<g id="node24" class="node">
<title>mark_woken</title>
<path fill="none" stroke="#1c2123" d="M1123,-142C1123,-142 1059,-142 1059,-142 1053,-142 1047,-136 1047,-130 1047,-130 1047,-118 1047,-118 1047,-112 1053,-106 1059,-106 1059,-106 1123,-106 1123,-106 1129,-106 1135,-112 1135,-118 1135,-118 1135,-130 1135,-130 1135,-136 1129,-142 1123,-142"/>
<text text-anchor="middle" x="1091" y="-120.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">mark_woken</text>
</g>
<!-- mark_woken&#45;&gt;active_workers -->
<g id="edge23" class="edge">
<title>mark_woken&#45;&gt;active_workers</title>
<path fill="none" stroke="#666666" d="M1135.09,-131.79C1186.87,-141.16 1274.01,-156.93 1331.88,-167.4"/>
<polygon fill="#666666" stroke="#666666" points="1331.51,-170.89 1341.98,-169.22 1332.76,-164 1331.51,-170.89"/>
</g>
<!-- multiLevel_LocalQueue_push -->
<g id="node25" class="node">
<title>multiLevel_LocalQueue_push</title>
<path fill="none" stroke="#1c2123" d="M869.5,-535C869.5,-535 899.5,-535 899.5,-535 905.5,-535 911.5,-541 911.5,-547 911.5,-547 911.5,-559 911.5,-559 911.5,-565 905.5,-571 899.5,-571 899.5,-571 869.5,-571 869.5,-571 863.5,-571 857.5,-565 857.5,-559 857.5,-559 857.5,-547 857.5,-547 857.5,-541 863.5,-535 869.5,-535"/>
<text text-anchor="middle" x="884.5" y="-549.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">push</text>
</g>
<!-- multiLevel_LocalQueue_push&#45;&gt;Worker_push -->
<g id="edge24" class="edge">
<title>multiLevel_LocalQueue_push&#45;&gt;Worker_push</title>
<path fill="none" stroke="#666666" d="M911.51,-562.02C968.49,-581.45 1108.94,-627.45 1230,-652 1302.61,-666.72 1510.63,-637.67 1561,-692 1606.49,-741.06 1551.52,-1222.68 1587.36,-1312.78"/>
<polygon fill="#666666" stroke="#666666" points="1584.38,-1314.62 1592.2,-1321.77 1590.55,-1311.31 1584.38,-1314.62"/>
</g>
<!-- multiLevel_LocalQueue_push&#45;&gt;prepare_before_push -->
<g id="edge25" class="edge">
<title>multiLevel_LocalQueue_push&#45;&gt;prepare_before_push</title>
<path fill="none" stroke="#666666" d="M894.28,-571.33C916.5,-617.49 974.28,-735.8 989,-749 990.3,-750.17 991.64,-751.31 993.02,-752.41"/>
<polygon fill="#666666" stroke="#666666" points="991.09,-755.34 1001.23,-758.4 995.22,-749.68 991.09,-755.34"/>
</g>
<!-- multiLevel_LocalQueue_pop -->
<g id="node26" class="node">
<title>multiLevel_LocalQueue_pop</title>
<path fill="none" stroke="#1c2123" d="M1308.5,-330.5C1308.5,-330.5 1474.5,-330.5 1474.5,-330.5 1480.5,-330.5 1486.5,-336.5 1486.5,-342.5 1486.5,-342.5 1486.5,-409.5 1486.5,-409.5 1486.5,-415.5 1480.5,-421.5 1474.5,-421.5 1474.5,-421.5 1308.5,-421.5 1308.5,-421.5 1302.5,-421.5 1296.5,-415.5 1296.5,-409.5 1296.5,-409.5 1296.5,-342.5 1296.5,-342.5 1296.5,-336.5 1302.5,-330.5 1308.5,-330.5"/>
<text text-anchor="middle" x="1391.5" y="-406.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pop</text>
<polyline fill="none" stroke="#1c2123" points="1296.5,-398.5 1486.5,-398.5 "/>
<text text-anchor="start" x="1304.5" y="-383.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">1.先从本地pop task</text>
<text text-anchor="start" x="1304.5" y="-368.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 2.如果没有，根据chance</text>
<text text-anchor="start" x="1304.5" y="-353.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 计算要从哪个level获取task</text>
<text text-anchor="start" x="1304.5" y="-338.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 3.从其他worke steal 一批task</text>
</g>
<!-- pop -->
<g id="node27" class="node">
<title>pop</title>
<path fill="none" stroke="#1c2123" d="M1106,-551C1106,-551 1076,-551 1076,-551 1070,-551 1064,-545 1064,-539 1064,-539 1064,-527 1064,-527 1064,-521 1070,-515 1076,-515 1076,-515 1106,-515 1106,-515 1112,-515 1118,-521 1118,-527 1118,-527 1118,-539 1118,-539 1118,-545 1112,-551 1106,-551"/>
<text text-anchor="middle" x="1091" y="-529.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pop</text>
</g>
<!-- pop&#45;&gt;steal_batch_and_pop -->
<g id="edge26" class="edge">
<title>pop&#45;&gt;steal_batch_and_pop</title>
<path fill="none" stroke="#666666" d="M1118.23,-543.94C1145.64,-554.94 1190.13,-571.58 1230,-581 1302.19,-598.05 1502.81,-578 1561,-624 1788.41,-803.79 1591.07,-1025.03 1792,-1234 1794.83,-1236.94 1797.95,-1239.65 1801.26,-1242.14"/>
<polygon fill="#666666" stroke="#666666" points="1799.61,-1245.24 1809.86,-1247.89 1803.5,-1239.42 1799.61,-1245.24"/>
</g>
<!-- pop&#45;&gt;stealer_steal_batch_and_pop -->
<g id="edge27" class="edge">
<title>pop&#45;&gt;stealer_steal_batch_and_pop</title>
<path fill="none" stroke="#666666" d="M1108.41,-551.41C1132.26,-579.44 1175.65,-635.55 1194,-692 1215.23,-757.31 1188.16,-1254.54 1230,-1309 1246.33,-1330.25 1271.43,-1343.09 1296.98,-1350.81"/>
<polygon fill="#666666" stroke="#666666" points="1296.2,-1354.22 1306.77,-1353.52 1298.07,-1347.48 1296.2,-1354.22"/>
</g>
<!-- pop&#45;&gt;Worker_pop -->
<g id="edge28" class="edge">
<title>pop&#45;&gt;Worker_pop</title>
<path fill="none" stroke="#666666" d="M1118.19,-543.8C1139.44,-553.09 1169.74,-567.57 1194,-584 1211.73,-596 1210.43,-607.32 1230,-616 1297.63,-646 1503.09,-605.94 1561,-652 1802.59,-844.16 1574.28,-1091.09 1789.24,-1311.73"/>
<polygon fill="#666666" stroke="#666666" points="1786.86,-1314.3 1796.4,-1318.91 1791.81,-1309.36 1786.86,-1314.3"/>
</g>
<!-- pop&#45;&gt;multiLevel_LocalQueue_pop -->
<g id="edge42" class="edge">
<title>pop&#45;&gt;multiLevel_LocalQueue_pop</title>
<path fill="none" stroke="#666666" d="M1112.17,-514.95C1137.93,-492.67 1184.63,-454.81 1230,-431 1247.82,-421.65 1267.56,-413.37 1286.92,-406.26"/>
<polygon fill="#666666" stroke="#666666" points="1288.16,-409.53 1296.39,-402.86 1285.8,-402.95 1288.16,-409.53"/>
</g>
<!-- into_pop -->
<g id="node28" class="node">
<title>into_pop</title>
<path fill="none" stroke="#1c2123" d="M1412,-476C1412,-476 1371,-476 1371,-476 1365,-476 1359,-470 1359,-464 1359,-464 1359,-452 1359,-452 1359,-446 1365,-440 1371,-440 1371,-440 1412,-440 1412,-440 1418,-440 1424,-446 1424,-452 1424,-452 1424,-464 1424,-464 1424,-470 1418,-476 1412,-476"/>
<text text-anchor="middle" x="1391.5" y="-454.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">into_pop</text>
</g>
<!-- pop&#45;&gt;into_pop -->
<g id="edge29" class="edge">
<title>pop&#45;&gt;into_pop</title>
<path fill="none" stroke="#666666" d="M1118.09,-522.75C1145.57,-512.28 1190.28,-496.16 1230,-486 1269.81,-475.81 1316.12,-468.17 1348.74,-463.47"/>
<polygon fill="#666666" stroke="#666666" points="1349.41,-466.91 1358.82,-462.04 1348.43,-459.98 1349.41,-466.91"/>
</g>
<!-- pop&#45;&gt;expected_level -->
<g id="edge30" class="edge">
<title>pop&#45;&gt;expected_level</title>
<path fill="none" stroke="#666666" d="M1118.23,-533C1159.13,-533 1239.94,-533 1302.95,-533"/>
<polygon fill="#666666" stroke="#666666" points="1303.3,-536.5 1313.3,-533 1303.3,-529.5 1303.3,-536.5"/>
</g>
<!-- expected_level&#45;&gt;Injector_level -->
<g id="edge33" class="edge">
<title>expected_level&#45;&gt;Injector_level</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M1468.56,-571.21C1503.11,-592.83 1540.72,-623.34 1561,-662 1590.61,-718.45 1550.34,-1184.32 1589,-1235 1592.04,-1238.98 1595.68,-1242.39 1599.72,-1245.3"/>
<polygon fill="green" stroke="green" points="1598.12,-1248.42 1608.49,-1250.6 1601.74,-1242.43 1598.12,-1248.42"/>
</g>
<!-- level_injectors&#45;&gt;Injector_level -->
<g id="edge34" class="edge">
<title>level_injectors&#45;&gt;Injector_level</title>
<path fill="none" stroke="#666666" d="M2089.27,-571.74C2055.51,-723.62 1961.84,-1052.91 1756,-1235 1752.83,-1237.81 1749.35,-1240.33 1745.69,-1242.58"/>
<polygon fill="#666666" stroke="#666666" points="1743.95,-1239.54 1736.82,-1247.39 1747.28,-1245.7 1743.95,-1239.54"/>
</g>
<!-- remote_spawn -->
<g id="node31" class="node">
<title>remote_spawn</title>
<path fill="none" stroke="#1c2123" d="M717,-300C717,-300 747,-300 747,-300 753,-300 759,-306 759,-312 759,-312 759,-324 759,-324 759,-330 753,-336 747,-336 747,-336 717,-336 717,-336 711,-336 705,-330 705,-324 705,-324 705,-312 705,-312 705,-306 711,-300 717,-300"/>
<text text-anchor="middle" x="732" y="-314.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">spawn</text>
</g>
<!-- remote_spawn&#45;&gt;QueueCore_push -->
<g id="edge35" class="edge">
<title>remote_spawn&#45;&gt;QueueCore_push</title>
<path fill="none" stroke="#666666" d="M759.22,-307.37C778.62,-299.51 805.73,-288.52 829.68,-278.81"/>
<polygon fill="#666666" stroke="#666666" points="831.07,-282.03 839.03,-275.03 828.44,-275.54 831.07,-282.03"/>
</g>
<!-- future_Runner_handle -->
<g id="node32" class="node">
<title>future_Runner_handle</title>
<path fill="none" stroke="#1c2123" d="M351,-501C351,-501 455,-501 455,-501 461,-501 467,-507 467,-513 467,-513 467,-535 467,-535 467,-541 461,-547 455,-547 455,-547 351,-547 351,-547 345,-547 339,-541 339,-535 339,-535 339,-513 339,-513 339,-507 345,-501 351,-501"/>
<text text-anchor="middle" x="403" y="-531.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle</text>
<polyline fill="none" stroke="#1c2123" points="339,-524 467,-524 "/>
<text text-anchor="start" x="347" y="-508.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">调用task.future.poll</text>
</g>
<!-- wake_task -->
<g id="node33" class="node">
<title>wake_task</title>
<path fill="none" stroke="#1c2123" d="M515,-482C515,-482 636,-482 636,-482 642,-482 648,-488 648,-494 648,-494 648,-554 648,-554 648,-560 642,-566 636,-566 636,-566 515,-566 515,-566 509,-566 503,-560 503,-554 503,-554 503,-494 503,-494 503,-488 509,-482 515,-482"/>
<text text-anchor="middle" x="575.5" y="-550.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_task</text>
<polyline fill="none" stroke="#1c2123" points="503,-543 648,-543 "/>
<text text-anchor="start" x="511" y="-527.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">task将自己重新</text>
<text text-anchor="start" x="511" y="-512.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 放入队列中</text>
<polyline fill="none" stroke="#1c2123" points="503,-505 648,-505 "/>
<text text-anchor="start" x="511" y="-489.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">优先放到本地队列中</text>
</g>
<!-- future_Runner_handle&#45;&gt;wake_task -->
<g id="edge36" class="edge">
<title>future_Runner_handle&#45;&gt;wake_task</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M467,-524C475.39,-524 484.09,-524 492.73,-524"/>
<polygon fill="green" stroke="green" points="492.84,-527.5 502.84,-524 492.84,-520.5 492.84,-527.5"/>
</g>
<!-- wake_task&#45;&gt;remote_spawn -->
<g id="edge37" class="edge">
<title>wake_task&#45;&gt;remote_spawn</title>
<path fill="none" stroke="#666666" d="M608.14,-481.82C639.06,-440.58 685.19,-379.08 711.23,-344.36"/>
<polygon fill="#666666" stroke="#666666" points="714.2,-346.23 717.4,-336.13 708.6,-342.03 714.2,-346.23"/>
</g>
<!-- spawn_remote -->
<g id="node34" class="node">
<title>spawn_remote</title>
<path fill="none" stroke="#1c2123" d="M768,-517C768,-517 696,-517 696,-517 690,-517 684,-511 684,-505 684,-505 684,-493 684,-493 684,-487 690,-481 696,-481 696,-481 768,-481 768,-481 774,-481 780,-487 780,-493 780,-493 780,-505 780,-505 780,-511 774,-517 768,-517"/>
<text text-anchor="middle" x="732" y="-495.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">spawn_remote</text>
</g>
<!-- wake_task&#45;&gt;spawn_remote -->
<g id="edge38" class="edge">
<title>wake_task&#45;&gt;spawn_remote</title>
<path fill="none" stroke="#666666" d="M648.32,-512.38C656.84,-511 665.44,-509.61 673.72,-508.27"/>
<polygon fill="#666666" stroke="#666666" points="674.31,-511.72 683.62,-506.67 673.19,-504.81 674.31,-511.72"/>
</g>
<!-- spawn -->
<g id="node35" class="node">
<title>spawn</title>
<path fill="none" stroke="#1c2123" d="M747,-571C747,-571 717,-571 717,-571 711,-571 705,-565 705,-559 705,-559 705,-547 705,-547 705,-541 711,-535 717,-535 717,-535 747,-535 747,-535 753,-535 759,-541 759,-547 759,-547 759,-559 759,-559 759,-565 753,-571 747,-571"/>
<text text-anchor="middle" x="732" y="-549.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">spawn</text>
</g>
<!-- wake_task&#45;&gt;spawn -->
<g id="edge39" class="edge">
<title>wake_task&#45;&gt;spawn</title>
<path fill="none" stroke="#666666" d="M648.32,-537.48C664.4,-540.5 680.79,-543.58 694.69,-546.18"/>
<polygon fill="#666666" stroke="#666666" points="694.32,-549.68 704.79,-548.08 695.61,-542.8 694.32,-549.68"/>
</g>
<!-- spawn_remote&#45;&gt;QueueCore_push -->
<g id="edge41" class="edge">
<title>spawn_remote&#45;&gt;QueueCore_push</title>
<path fill="none" stroke="#666666" d="M742.04,-480.98C753.51,-457.74 773.54,-415.92 788,-379 798.4,-352.43 791.8,-341.48 808,-318 817.83,-303.76 831.92,-291.13 845.27,-281.11"/>
<polygon fill="#666666" stroke="#666666" points="847.38,-283.9 853.45,-275.21 843.29,-278.22 847.38,-283.9"/>
</g>
<!-- spawn&#45;&gt;multiLevel_LocalQueue_push -->
<g id="edge40" class="edge">
<title>spawn&#45;&gt;multiLevel_LocalQueue_push</title>
<path fill="none" stroke="#666666" d="M759.22,-553C783.53,-553 819.93,-553 847.07,-553"/>
<polygon fill="#666666" stroke="#666666" points="847.33,-556.5 857.33,-553 847.33,-549.5 847.33,-556.5"/>
</g>
<!-- pop_or_sleep -->
<g id="node36" class="node">
<title>pop_or_sleep</title>
<path fill="none" stroke="#1c2123" d="M917,-52C917,-52 852,-52 852,-52 846,-52 840,-46 840,-40 840,-40 840,-28 840,-28 840,-22 846,-16 852,-16 852,-16 917,-16 917,-16 923,-16 929,-22 929,-28 929,-28 929,-40 929,-40 929,-46 923,-52 917,-52"/>
<text text-anchor="middle" x="884.5" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">pop_or_sleep</text>
</g>
<!-- pop_or_sleep&#45;&gt;mark_sleep -->
<g id="edge43" class="edge">
<title>pop_or_sleep&#45;&gt;mark_sleep</title>
<path fill="none" stroke="#666666" d="M908.87,-52C922.61,-63.23 939.81,-78.46 953,-94 972.39,-116.84 964.87,-133.24 989,-151 1003.91,-161.97 1022.97,-168.49 1040.51,-172.35"/>
<polygon fill="#666666" stroke="#666666" points="1040.12,-175.85 1050.61,-174.34 1041.47,-168.98 1040.12,-175.85"/>
</g>
<!-- pop_or_sleep&#45;&gt;mark_woken -->
<g id="edge44" class="edge">
<title>pop_or_sleep&#45;&gt;mark_woken</title>
<path fill="none" stroke="#666666" d="M912.68,-52.15C933.03,-65.14 961.92,-82.32 989,-94 1004.3,-100.6 1021.5,-106.3 1037.31,-110.9"/>
<polygon fill="#666666" stroke="#666666" points="1036.37,-114.28 1046.95,-113.63 1038.28,-107.54 1036.37,-114.28"/>
</g>
<!-- pop_or_sleep&#45;&gt;multiLevel_LocalQueue_pop -->
<g id="edge45" class="edge">
<title>pop_or_sleep&#45;&gt;multiLevel_LocalQueue_pop</title>
<path fill="none" stroke="#666666" d="M913.72,-52.07C927.78,-62.58 943.72,-77.09 953,-94 1001.5,-182.4 917.14,-247.27 989,-318 1066.17,-393.95 1195.45,-399.6 1286.42,-391.99"/>
<polygon fill="#666666" stroke="#666666" points="1286.84,-395.46 1296.49,-391.08 1286.21,-388.49 1286.84,-395.46"/>
</g>
<!-- park -->
<g id="node37" class="node">
<title>park</title>
<path fill="none" stroke="#1c2123" d="M1106,-52C1106,-52 1076,-52 1076,-52 1070,-52 1064,-46 1064,-40 1064,-40 1064,-28 1064,-28 1064,-22 1070,-16 1076,-16 1076,-16 1106,-16 1106,-16 1112,-16 1118,-22 1118,-28 1118,-28 1118,-40 1118,-40 1118,-46 1112,-52 1106,-52"/>
<text text-anchor="middle" x="1091" y="-30.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">park</text>
</g>
<!-- pop_or_sleep&#45;&gt;park -->
<g id="edge46" class="edge">
<title>pop_or_sleep&#45;&gt;park</title>
<path fill="none" stroke="#666666" d="M929.12,-34C966.22,-34 1018.88,-34 1053.71,-34"/>
<polygon fill="#666666" stroke="#666666" points="1053.91,-37.5 1063.91,-34 1053.91,-30.5 1053.91,-37.5"/>
</g>
<!-- handle -->
<g id="node38" class="node">
<title>handle</title>
<path fill="none" stroke="#1c2123" d="M118,-493.5C118,-493.5 291,-493.5 291,-493.5 297,-493.5 303,-499.5 303,-505.5 303,-505.5 303,-542.5 303,-542.5 303,-548.5 297,-554.5 291,-554.5 291,-554.5 118,-554.5 118,-554.5 112,-554.5 106,-548.5 106,-542.5 106,-542.5 106,-505.5 106,-505.5 106,-499.5 112,-493.5 118,-493.5"/>
<text text-anchor="middle" x="204.5" y="-539.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">handle</text>
<polyline fill="none" stroke="#1c2123" points="106,-531.5 303,-531.5 "/>
<text text-anchor="start" x="114" y="-516.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">此处会更新task的running_time</text>
<text text-anchor="middle" x="204.5" y="-501.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> running_time.inc_by(elapsed);</text>
</g>
<!-- handle&#45;&gt;maybe_adjust_chance -->
<g id="edge47" class="edge">
<title>handle&#45;&gt;maybe_adjust_chance</title>
<path fill="none" stroke="#666666" d="M240.11,-554.66C264.05,-574.26 297.5,-598.61 331,-613 491.06,-681.77 695.98,-707.62 805.76,-716.97"/>
<polygon fill="#666666" stroke="#666666" points="805.5,-720.46 815.76,-717.8 806.08,-713.49 805.5,-720.46"/>
</g>
<!-- handle&#45;&gt;TaskInjector_push -->
<g id="edge49" class="edge">
<title>handle&#45;&gt;TaskInjector_push</title>
<path fill="none" stroke="green" stroke-dasharray="5,2" d="M211.59,-554.79C235.55,-666.09 334.1,-1041 574.5,-1041 574.5,-1041 574.5,-1041 733,-1041 785.65,-1041 914.75,-1085.9 1002.38,-1118.84"/>
<polygon fill="green" stroke="green" points="1001.2,-1122.14 1011.79,-1122.4 1003.67,-1115.59 1001.2,-1122.14"/>
</g>
<!-- handle&#45;&gt;future_Runner_handle -->
<g id="edge48" class="edge">
<title>handle&#45;&gt;future_Runner_handle</title>
<path fill="none" stroke="#666666" d="M303.17,-524C311.8,-524 320.44,-524 328.81,-524"/>
<polygon fill="#666666" stroke="#666666" points="328.88,-527.5 338.88,-524 328.88,-520.5 328.88,-527.5"/>
</g>
<!-- run -->
<g id="node39" class="node">
<title>run</title>
<path fill="none" stroke="#1c2123" d="M58,-529C58,-529 28,-529 28,-529 22,-529 16,-523 16,-517 16,-517 16,-505 16,-505 16,-499 22,-493 28,-493 28,-493 58,-493 58,-493 64,-493 70,-499 70,-505 70,-505 70,-517 70,-517 70,-523 64,-529 58,-529"/>
<text text-anchor="middle" x="43" y="-507.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">run</text>
</g>
<!-- run&#45;&gt;pop -->
<g id="edge50" class="edge">
<title>run&#45;&gt;pop</title>
<path fill="none" stroke="#666666" d="M70.21,-497.46C81.03,-492.44 93.85,-487.2 106,-484 233.91,-450.31 269.72,-453 402,-453 402,-453 402,-453 733,-453 852.98,-453 990.27,-496.56 1054,-519.39"/>
<polygon fill="#666666" stroke="#666666" points="1052.99,-522.75 1063.58,-522.87 1055.38,-516.17 1052.99,-522.75"/>
</g>
<!-- run&#45;&gt;pop_or_sleep -->
<g id="edge51" class="edge">
<title>run&#45;&gt;pop_or_sleep</title>
<path fill="none" stroke="#666666" d="M50.31,-492.81C78.19,-416.1 198.07,-123 402,-123 402,-123 402,-123 576.5,-123 672.17,-123 778.22,-82.64 837.27,-56.27"/>
<polygon fill="#666666" stroke="#666666" points="839.02,-59.32 846.69,-52.01 836.14,-52.95 839.02,-59.32"/>
</g>
<!-- run&#45;&gt;handle -->
<g id="edge52" class="edge">
<title>run&#45;&gt;handle</title>
<path fill="none" stroke="#666666" d="M70.34,-513.15C77.81,-513.76 86.44,-514.46 95.64,-515.21"/>
<polygon fill="#666666" stroke="#666666" points="95.58,-518.72 105.83,-516.04 96.14,-511.74 95.58,-518.72"/>
</g>
</g>
</svg>
