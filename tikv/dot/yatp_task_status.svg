<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.0 (20210316.0004)
 -->
<!-- Title: yatp_task_status Pages: 1 -->
<svg width="1176pt" height="320pt"
 viewBox="0.00 0.00 1176.00 320.22" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 316.22)">
<title>yatp_task_status</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-316.22 1172,-316.22 1172,4 -4,4"/>
<!-- NOTIFIED -->
<g id="node1" class="node">
<title>NOTIFIED</title>
<path fill="#feed9b" stroke="#f7e495" d="M12,-205.5C12,-205.5 164,-205.5 164,-205.5 170,-205.5 176,-211.5 176,-217.5 176,-217.5 176,-269.5 176,-269.5 176,-275.5 170,-281.5 164,-281.5 164,-281.5 12,-281.5 12,-281.5 6,-281.5 0,-275.5 0,-269.5 0,-269.5 0,-217.5 0,-217.5 0,-211.5 6,-205.5 12,-205.5"/>
<text text-anchor="middle" x="88" y="-266.3" font-family="Times,serif" font-size="14.00" fill="#40575d">NOTIFIED</text>
<polyline fill="none" stroke="#f7e495" points="0,-258.5 176,-258.5 "/>
<text text-anchor="start" x="8" y="-243.3" font-family="Times,serif" font-size="14.00" fill="#40575d">When a future task is created</text>
<text text-anchor="start" x="8" y="-228.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> or waken up by a waker,</text>
<text text-anchor="start" x="8" y="-213.3" font-family="Times,serif" font-size="14.00" fill="#40575d"> it is marked as NOTIFIED</text>
</g>
<!-- POLLING -->
<g id="node2" class="node">
<title>POLLING</title>
<path fill="#feed9b" stroke="#f7e495" d="M224,-135C224,-135 384,-135 384,-135 390,-135 396,-141 396,-147 396,-147 396,-214 396,-214 396,-220 390,-226 384,-226 384,-226 224,-226 224,-226 218,-226 212,-220 212,-214 212,-214 212,-147 212,-147 212,-141 218,-135 224,-135"/>
<text text-anchor="middle" x="304" y="-210.8" font-family="Times,serif" font-size="14.00" fill="#40575d">POLLING</text>
<polyline fill="none" stroke="#f7e495" points="212,-203 396,-203 "/>
<text text-anchor="start" x="220" y="-187.8" font-family="Times,serif" font-size="14.00" fill="#40575d">NOTIFIED tasks are ready</text>
<text text-anchor="start" x="220" y="-172.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> to be polled. When the runner</text>
<text text-anchor="start" x="220" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> begins to poll the future,</text>
<text text-anchor="start" x="220" y="-142.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> it is marked as POLLING.</text>
</g>
<!-- NOTIFIED&#45;&gt;POLLING -->
<g id="edge1" class="edge">
<title>NOTIFIED&#45;&gt;POLLING</title>
<path fill="none" stroke="#666666" d="M176.04,-217.88C184.62,-215.35 193.37,-212.77 202.07,-210.21"/>
<polygon fill="#666666" stroke="#666666" points="203.25,-213.51 211.86,-207.33 201.28,-206.8 203.25,-213.51"/>
</g>
<!-- COMPLETED -->
<g id="node3" class="node">
<title>COMPLETED</title>
<path fill="#feed9b" stroke="#f7e495" d="M444,-218C444,-218 606,-218 606,-218 612,-218 618,-224 618,-230 618,-230 618,-267 618,-267 618,-273 612,-279 606,-279 606,-279 444,-279 444,-279 438,-279 432,-273 432,-267 432,-267 432,-230 432,-230 432,-224 438,-218 444,-218"/>
<text text-anchor="middle" x="525" y="-263.8" font-family="Times,serif" font-size="14.00" fill="#40575d">COMPLETED</text>
<polyline fill="none" stroke="#f7e495" points="432,-256 618,-256 "/>
<text text-anchor="start" x="440" y="-240.8" font-family="Times,serif" font-size="14.00" fill="#40575d">if the future is ready</text>
<text text-anchor="start" x="440" y="-225.8" font-family="Times,serif" font-size="14.00" fill="#40575d"> it is marked as COMPLETED</text>
</g>
<!-- POLLING&#45;&gt;COMPLETED -->
<g id="edge2" class="edge">
<title>POLLING&#45;&gt;COMPLETED</title>
<path fill="none" stroke="#666666" d="M396.29,-208.85C404.82,-211.49 413.5,-214.19 422.11,-216.86"/>
<polygon fill="#666666" stroke="#666666" points="421.21,-220.25 431.8,-219.87 423.29,-213.56 421.21,-220.25"/>
</g>
<!-- IDLE -->
<g id="node4" class="node">
<title>IDLE</title>
<path fill="#feed9b" stroke="#f7e495" d="M510,-162.5C510,-162.5 540,-162.5 540,-162.5 546,-162.5 552,-168.5 552,-174.5 552,-174.5 552,-186.5 552,-186.5 552,-192.5 546,-198.5 540,-198.5 540,-198.5 510,-198.5 510,-198.5 504,-198.5 498,-192.5 498,-186.5 498,-186.5 498,-174.5 498,-174.5 498,-168.5 504,-162.5 510,-162.5"/>
<text text-anchor="middle" x="525" y="-176.8" font-family="Times,serif" font-size="14.00" fill="#40575d">IDLE</text>
</g>
<!-- POLLING&#45;&gt;IDLE -->
<g id="edge3" class="edge">
<title>POLLING&#45;&gt;IDLE</title>
<path fill="none" stroke="#666666" d="M396.29,-180.5C428.33,-180.5 462.51,-180.5 487.44,-180.5"/>
<polygon fill="#666666" stroke="#666666" points="487.53,-184 497.53,-180.5 487.53,-177 487.53,-184"/>
</g>
<!-- check_NOTIFIED -->
<g id="node5" class="node">
<title>check_NOTIFIED</title>
<path fill="none" stroke="#1c2123" d="M666,-0.5C666,-0.5 833,-0.5 833,-0.5 839,-0.5 845,-6.5 845,-12.5 845,-12.5 845,-94.5 845,-94.5 845,-100.5 839,-106.5 833,-106.5 833,-106.5 666,-106.5 666,-106.5 660,-106.5 654,-100.5 654,-94.5 654,-94.5 654,-12.5 654,-12.5 654,-6.5 660,-0.5 666,-0.5"/>
<text text-anchor="middle" x="749.5" y="-91.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">Check NOTIFIED</text>
<polyline fill="none" stroke="#1c2123" points="654,-83.5 845,-83.5 "/>
<text text-anchor="start" x="662" y="-68.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">if not ready</text>
<text text-anchor="start" x="662" y="-53.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> it checks whether it has</text>
<text text-anchor="start" x="662" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> becomes NOTIFIED. If it is</text>
<text text-anchor="start" x="662" y="-23.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> NOTIFIED, it should be polled</text>
<text text-anchor="start" x="662" y="-8.3" font-family="Times,serif" font-size="14.00" fill="#2f3638"> again immediately.</text>
</g>
<!-- POLLING&#45;&gt;check_NOTIFIED -->
<g id="edge4" class="edge">
<title>POLLING&#45;&gt;check_NOTIFIED</title>
<path fill="none" stroke="#666666" d="M344.64,-134.93C367.62,-111.86 398.57,-85.94 432,-72.5 498.9,-45.6 580.2,-41.25 643.65,-43.42"/>
<polygon fill="#666666" stroke="#666666" points="643.55,-46.92 653.68,-43.82 643.83,-39.93 643.55,-46.92"/>
</g>
<!-- wake_impl_case2 -->
<g id="node6" class="node">
<title>wake_impl_case2</title>
<path fill="none" stroke="#1c2123" d="M453.5,-82C453.5,-82 596.5,-82 596.5,-82 602.5,-82 608.5,-88 608.5,-94 608.5,-94 608.5,-131 608.5,-131 608.5,-137 602.5,-143 596.5,-143 596.5,-143 453.5,-143 453.5,-143 447.5,-143 441.5,-137 441.5,-131 441.5,-131 441.5,-94 441.5,-94 441.5,-88 447.5,-82 453.5,-82"/>
<text text-anchor="middle" x="525" y="-127.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_impl</text>
<polyline fill="none" stroke="#1c2123" points="441.5,-120 608.5,-120 "/>
<text text-anchor="start" x="449.5" y="-104.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果task状态为POLLING</text>
<text text-anchor="start" x="449.5" y="-89.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 将状态改为NOTIFIED</text>
</g>
<!-- POLLING&#45;&gt;wake_impl_case2 -->
<g id="edge7" class="edge">
<title>POLLING&#45;&gt;wake_impl_case2</title>
<path fill="none" stroke="#666666" d="M396.29,-152.15C407.93,-148.54 419.86,-144.83 431.53,-141.21"/>
<polygon fill="#666666" stroke="#666666" points="432.74,-144.5 441.25,-138.19 430.66,-137.82 432.74,-144.5"/>
</g>
<!-- wake_impl_case1 -->
<g id="node7" class="node">
<title>wake_impl_case1</title>
<path fill="none" stroke="#1c2123" d="M677.5,-164C677.5,-164 821.5,-164 821.5,-164 827.5,-164 833.5,-170 833.5,-176 833.5,-176 833.5,-213 833.5,-213 833.5,-219 827.5,-225 821.5,-225 821.5,-225 677.5,-225 677.5,-225 671.5,-225 665.5,-219 665.5,-213 665.5,-213 665.5,-176 665.5,-176 665.5,-170 671.5,-164 677.5,-164"/>
<text text-anchor="middle" x="749.5" y="-209.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_impl</text>
<polyline fill="none" stroke="#1c2123" points="665.5,-202 833.5,-202 "/>
<text text-anchor="start" x="673.5" y="-186.8" font-family="Times,serif" font-size="14.00" fill="#2f3638">如果task状态为IDEL</text>
<text text-anchor="start" x="673.5" y="-171.8" font-family="Times,serif" font-size="14.00" fill="#2f3638"> 则将状态改为NOTIFIED</text>
</g>
<!-- IDLE&#45;&gt;wake_impl_case1 -->
<g id="edge5" class="edge">
<title>IDLE&#45;&gt;wake_impl_case1</title>
<path fill="none" stroke="#666666" d="M552.4,-182.16C577.76,-183.76 617.59,-186.26 654.76,-188.6"/>
<polygon fill="#666666" stroke="#666666" points="654.96,-192.12 665.16,-189.26 655.4,-185.13 654.96,-192.12"/>
</g>
<!-- wake_task1 -->
<g id="node8" class="node">
<title>wake_task1</title>
<path fill="none" stroke="#1c2123" d="M893,-30.5C893,-30.5 1156,-30.5 1156,-30.5 1162,-30.5 1168,-36.5 1168,-42.5 1168,-42.5 1168,-64.5 1168,-64.5 1168,-70.5 1162,-76.5 1156,-76.5 1156,-76.5 893,-76.5 893,-76.5 887,-76.5 881,-70.5 881,-64.5 881,-64.5 881,-42.5 881,-42.5 881,-36.5 887,-30.5 893,-30.5"/>
<text text-anchor="middle" x="1024.5" y="-61.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_task</text>
<polyline fill="none" stroke="#1c2123" points="881,-53.5 1168,-53.5 "/>
<text text-anchor="middle" x="1024.5" y="-38.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_task(Cow::Owned(task), need_reschedule);</text>
</g>
<!-- check_NOTIFIED&#45;&gt;wake_task1 -->
<g id="edge9" class="edge">
<title>check_NOTIFIED&#45;&gt;wake_task1</title>
<path fill="none" stroke="#666666" d="M845.22,-53.5C853.52,-53.5 862.05,-53.5 870.67,-53.5"/>
<polygon fill="#666666" stroke="#666666" points="870.81,-57 880.81,-53.5 870.81,-50 870.81,-57"/>
</g>
<!-- wake_impl_case2&#45;&gt;check_NOTIFIED -->
<g id="edge8" class="edge">
<title>wake_impl_case2&#45;&gt;check_NOTIFIED</title>
<path fill="none" stroke="#666666" d="M608.53,-90.61C620.03,-87.57 631.97,-84.4 643.81,-81.26"/>
<polygon fill="#666666" stroke="#666666" points="644.95,-84.58 653.72,-78.63 643.15,-77.81 644.95,-84.58"/>
</g>
<!-- wake_task2 -->
<g id="node9" class="node">
<title>wake_task2</title>
<path fill="none" stroke="#1c2123" d="M966,-141.5C966,-141.5 1083,-141.5 1083,-141.5 1089,-141.5 1095,-147.5 1095,-153.5 1095,-153.5 1095,-175.5 1095,-175.5 1095,-181.5 1089,-187.5 1083,-187.5 1083,-187.5 966,-187.5 966,-187.5 960,-187.5 954,-181.5 954,-175.5 954,-175.5 954,-153.5 954,-153.5 954,-147.5 960,-141.5 966,-141.5"/>
<text text-anchor="middle" x="1024.5" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_task2</text>
<polyline fill="none" stroke="#1c2123" points="954,-164.5 1095,-164.5 "/>
<text text-anchor="middle" x="1024.5" y="-149.3" font-family="Times,serif" font-size="14.00" fill="#2f3638">wake_task(task, false);</text>
</g>
<!-- wake_impl_case2&#45;&gt;wake_task2 -->
<g id="edge11" class="edge">
<title>wake_impl_case2&#45;&gt;wake_task2</title>
<path fill="none" stroke="#666666" d="M608.71,-121.15C701.79,-130.87 851.95,-146.57 943.78,-156.17"/>
<polygon fill="#666666" stroke="#666666" points="943.55,-159.66 953.86,-157.22 944.27,-152.7 943.55,-159.66"/>
</g>
<!-- wake_impl_case1&#45;&gt;NOTIFIED -->
<g id="edge6" class="edge">
<title>wake_impl_case1&#45;&gt;NOTIFIED</title>
<path fill="none" stroke="#666666" d="M717.9,-225.18C693.28,-247.56 656.53,-276.07 618,-288.5 472.75,-335.36 294.09,-302.78 186,-273.91"/>
<polygon fill="#666666" stroke="#666666" points="186.66,-270.47 176.09,-271.22 184.82,-277.22 186.66,-270.47"/>
</g>
<!-- wake_impl_case1&#45;&gt;wake_task2 -->
<g id="edge10" class="edge">
<title>wake_impl_case1&#45;&gt;wake_task2</title>
<path fill="none" stroke="#666666" d="M833.52,-185.38C868.5,-181.53 909.05,-177.08 943.68,-173.27"/>
<polygon fill="#666666" stroke="#666666" points="944.19,-176.74 953.75,-172.17 943.42,-169.78 944.19,-176.74"/>
</g>
</g>
</svg>
